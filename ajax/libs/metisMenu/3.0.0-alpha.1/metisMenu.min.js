/*!
* metismenu - v3.0.0-alpha.1
* A menu plugin
* https://github.com/onokumus/metismenu#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.MetisMenu=t()}(this,function(){"use strict";var e,t="object"==typeof Reflect?Reflect:null,u=t&&"function"==typeof t.apply?t.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function n(){n.init.call(this)}var r=n;(n.EventEmitter=n).prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function c(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function o(e,t,i,n){var r,s,o,a;if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),o=s[t]),void 0===o)o=s[t]=i,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),0<(r=c(e))&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return e}function a(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,u(this.listener,this.target,e))}.bind(n);return r.listener=i,n.wrapFn=r}function l(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):h(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function h(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return c(this)},n.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var s;if(0<t.length&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)u(a,this,t);else{var l=a.length,c=h(a,l);for(i=0;i<l;++i)u(c[i],this,t)}return!0},n.prototype.on=n.prototype.addListener=function(e,t){return o(this,e,t,!1)},n.prototype.prependListener=function(e,t){return o(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,a(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,a(this,e,t)),this},n.prototype.off=n.prototype.removeListener=function(e,t){var i,n,r,s,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,s=i.length-1;0<=s;s--)if(i[s]===t||i[s].listener===t){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},n.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;0<=n;n--)this.removeListener(e,t[n]);return this},n.prototype.listeners=function(e){return l(this,e,!0)},n.prototype.rawListeners=function(e){return l(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},n.prototype.listenerCount=f,n.prototype.eventNames=function(){return 0<this._eventsCount?e(this._events):[]};var p={activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",parentTrigger:"li",preventDefault:!0,subMenu:"ul",toggle:!0,triggerElement:"a"};return function(n){var e,t;function i(e,t){var i;return(i=n.call(this)||this).element="string"==typeof e?document.querySelector(e):e,i.cacheEl=i.element,i.config=function(r){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},t=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),t.forEach(function(e){var t,i,n;t=r,n=s[i=e],i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n})}return r}({},p,t),i.cacheConfig=i.config,i.disposed=!1,i.ulArr=[],i.listenerOb=[],i.init(),i}t=n,(e=i).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=i.prototype;return r.update=function(){this.disposed=!1,this.element=this.cacheEl,this.config=this.cacheConfig,this.init()},r.dispose=function(){var e=this.listenerOb,t=Array.isArray(e),i=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(i>=e.length)break;n=e[i++]}else{if((i=e.next()).done)break;n=i.value}var r=n;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o[1].removeEventListener(o[0],o[2])}}this.ulArr=[],this.listenerOb=[],this.config=null,this.element=null,this.disposed=!0},r.init=function(){this.ulArr=[].slice.call(this.element.querySelectorAll(this.config.subMenu));var e=this.ulArr.entries(),t=Array.isArray(e),i=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(i>=e.length)break;n=e[i++]}else{if((i=e.next()).done)break;n=i.value}var r=n,s=r[0],o=r[1],a=o.parentNode;null===a.getAttribute("id")?(a.setAttribute("id","mm-item-"+s),o.setAttribute("aria-labelledby","mm-item-"+s)):o.setAttribute("aria-labelledby",a.getAttribute("id"));var l=null!==o.getAttribute("id")?o.getAttribute("id"):"mm-item-ul-"+s;null===o.getAttribute("id")&&o.setAttribute("id",l),o.classList.add(this.config.collapseClass),a.classList.contains(this.config.activeClass)?this.show(o):this.hide(o);var c=a.querySelector(this.config.triggerElement);if("true"===c.getAttribute("aria-disabled"))return;c.setAttribute("aria-controls",l),c.setAttribute("aria-expanded","false");var u={aClick:["click",c,this.clickEvent.bind(this)]};for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];h[1].addEventListener(h[0],h[2])}this.listenerOb.push(u)}},r.clickEvent=function(e){if(!this.disposed){"A"===e.currentTarget.tagName&&e.preventDefault();var t=e.target.parentNode.querySelector(this.config.subMenu);this.toggle(t)}},r.toggle=function(e){e.parentNode.classList.contains(this.config.activeClass)?this.hide(e):this.show(e)},r.show=function(t){var i=this;if(!this.isTransitioning&&!t.classList.contains(this.config.collapseInClass)){var n=t.parentNode;this.emit("show.metisMenu",t);n.classList.add(this.config.activeClass),n.querySelector(this.config.triggerElement).setAttribute("aria-expanded","true"),t.style.height="0px",t.classList.remove(this.config.collapseClass),t.classList.remove(this.config.collapseInClass),t.classList.add(this.config.collapsingClass);var e=[].slice.call(n.parentNode.children).filter(function(e){return e!==n});if(this.config.toggle&&0<e.length){var r=e,s=Array.isArray(r),o=0;for(r=s?r:r[Symbol.iterator]();;){var a;if(s){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var l=a.querySelector(this.config.subMenu);null!==l&&this.hide(l)}}this.setTransitioning(!0),t.classList.add(this.config.collapseClass),t.classList.add(this.config.collapseInClass),t.style.height=t.scrollHeight+"px",t.addEventListener("transitionend",function e(){t.classList.remove(i.config.collapsingClass),t.style.height="",t.removeEventListener("transitionend",e),i.setTransitioning(!1)}),this.emit("shown.metisMenu",t)}},r.hide=function(t){var i=this;if(!this.isTransitioning&&t.classList.contains(this.config.collapseInClass)){var e=t.parentNode;this.emit("hide.metisMenu",t),e.classList.remove(this.config.activeClass);t.style.height=t.getBoundingClientRect().height+"px",t.style.height=t.offsetHeight+"px",t.classList.add(this.config.collapsingClass),t.classList.remove(this.config.collapseClass),t.classList.remove(this.config.collapseInClass),this.setTransitioning(!0),t.addEventListener("transitionend",function e(){t.classList.remove(i.config.collapsingClass),t.classList.add(i.config.collapseClass),t.removeEventListener("transitionend",e),i.setTransitioning(!1)}),t.style.height="0px",e.querySelector(this.config.triggerElement).setAttribute("aria-expanded","false"),this.emit("hidden.metisMenu",t)}},r.setTransitioning=function(e){this.isTransitioning=e},i}(r.EventEmitter)});
//# sourceMappingURL=metisMenu.min.js.map