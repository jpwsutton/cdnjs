{"version":3,"file":"metisMenu.js","sources":["cjs/index.js"],"sourcesContent":["/*!\n* metismenu - v3.0.0-alpha.2\n* A menu plugin\n* https://github.com/onokumus/metismenu#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nvar Default = {\n  activeClass: \"active\",\n  collapseClass: \"collapse\",\n  collapseInClass: \"in\",\n  collapsingClass: \"collapsing\",\n  parentTrigger: \"li\",\n  preventDefault: true,\n  subMenu: \"ul\",\n  toggle: true,\n  triggerElement: \"a\"\n};\n\nvar MetisMenu =\n/*#__PURE__*/\nfunction () {\n  function MetisMenu(element, options) {\n    this.element = typeof element === \"string\" ? document.querySelector(element) : element;\n    this.cacheEl = this.element;\n    this.config = _objectSpread({}, Default, options);\n    this.cacheConfig = this.config;\n    this.disposed = false;\n    this.ulArr = [];\n    this.listenerOb = [];\n    this.init();\n  }\n\n  var _proto = MetisMenu.prototype;\n\n  _proto.update = function update() {\n    this.disposed = false;\n    this.element = this.cacheEl;\n    this.config = this.cacheConfig;\n    this.init();\n  };\n\n  _proto.dispose = function dispose() {\n    for (var _iterator = this.listenerOb, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var lo = _ref;\n\n      for (var key in lo) {\n        if (lo.hasOwnProperty(key)) {\n          var el = lo[key];\n          el[1].removeEventListener(el[0], el[2]);\n        }\n      }\n    }\n\n    this.ulArr = [];\n    this.listenerOb = [];\n    this.config = null;\n    this.element = null;\n    this.disposed = true;\n  };\n\n  _proto.on = function on(event, fn) {\n    this.element.addEventListener(event, fn, false);\n    return this;\n  };\n\n  _proto.off = function off(event, fn) {\n    this.element.removeEventListener(event, fn);\n    return this;\n  };\n\n  _proto.emit = function emit(event, eventDetail, shouldBubble) {\n    if (shouldBubble === void 0) {\n      shouldBubble = false;\n    }\n\n    var evt;\n\n    if (typeof CustomEvent === \"function\") {\n      evt = new CustomEvent(event, {\n        bubbles: shouldBubble,\n        detail: eventDetail\n      });\n    } else {\n      evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(event, shouldBubble, false, eventDetail);\n    }\n\n    this.element.dispatchEvent(evt);\n    return this;\n  };\n\n  _proto.init = function init() {\n    this.ulArr = [].slice.call(this.element.querySelectorAll(this.config.subMenu));\n\n    for (var _iterator2 = this.ulArr.entries(), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var _ref3 = _ref2,\n          index = _ref3[0],\n          ul = _ref3[1];\n      var li = ul.parentNode;\n\n      if (li.getAttribute(\"id\") === null) {\n        li.setAttribute(\"id\", \"mm-item-\" + index);\n        ul.setAttribute(\"aria-labelledby\", \"mm-item-\" + index);\n      } else {\n        ul.setAttribute(\"aria-labelledby\", li.getAttribute(\"id\"));\n      }\n\n      var ulId = ul.getAttribute(\"id\") !== null ? ul.getAttribute(\"id\") : \"mm-item-ul-\" + index;\n\n      if (ul.getAttribute(\"id\") === null) {\n        ul.setAttribute(\"id\", ulId);\n      }\n\n      ul.classList.add(this.config.collapseClass);\n\n      if (li.classList.contains(this.config.activeClass)) {\n        this.show(ul);\n      } else {\n        this.hide(ul);\n      }\n\n      var a = li.querySelector(this.config.triggerElement);\n\n      if (a.getAttribute(\"aria-disabled\") === \"true\") {\n        return;\n      }\n\n      a.setAttribute(\"aria-controls\", ulId);\n      a.setAttribute(\"aria-expanded\", \"false\");\n      var listenerOb = {\n        aClick: [\"click\", a, this.clickEvent.bind(this)]\n      };\n\n      for (var key in listenerOb) {\n        if (listenerOb.hasOwnProperty(key)) {\n          var listener = listenerOb[key];\n          listener[1].addEventListener(listener[0], listener[2]);\n        }\n      }\n\n      this.listenerOb.push(listenerOb);\n    }\n  };\n\n  _proto.clickEvent = function clickEvent(ev) {\n    if (!this.disposed) {\n      if (ev.currentTarget.tagName === \"A\") {\n        ev.preventDefault();\n      }\n\n      var li = ev.target.parentNode;\n      var ul = li.querySelector(this.config.subMenu);\n      this.toggle(ul);\n    }\n  };\n\n  _proto.toggle = function toggle(ul) {\n    if (ul.parentNode.classList.contains(this.config.activeClass)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  };\n\n  _proto.show = function show(ul) {\n    var _this = this;\n\n    if (this.isTransitioning || ul.classList.contains(this.config.collapseInClass)) {\n      return;\n    }\n\n    var complete = function complete() {\n      ul.classList.remove(_this.config.collapsingClass);\n      ul.style.height = \"\";\n      ul.removeEventListener(\"transitionend\", complete);\n\n      _this.setTransitioning(false);\n\n      _this.emit(\"shown.metisMenu\", {\n        shownElement: ul\n      });\n    };\n\n    var li = ul.parentNode;\n    li.classList.add(this.config.activeClass);\n    var a = li.querySelector(this.config.triggerElement);\n    a.setAttribute(\"aria-expanded\", \"true\");\n    ul.style.height = \"0px\";\n    ul.classList.remove(this.config.collapseClass);\n    ul.classList.remove(this.config.collapseInClass);\n    ul.classList.add(this.config.collapsingClass);\n    var eleParentSiblins = [].slice.call(li.parentNode.children).filter(function (c) {\n      return c !== li;\n    });\n\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      for (var _iterator3 = eleParentSiblins, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref4;\n\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) break;\n          _ref4 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) break;\n          _ref4 = _i3.value;\n        }\n\n        var sibli = _ref4;\n        var sibUl = sibli.querySelector(this.config.subMenu);\n\n        if (sibUl !== null) {\n          this.hide(sibUl);\n        }\n      }\n    }\n\n    this.setTransitioning(true);\n    ul.classList.add(this.config.collapseClass);\n    ul.classList.add(this.config.collapseInClass);\n    ul.style.height = ul.scrollHeight + \"px\";\n    this.emit(\"show.metisMenu\", {\n      showElement: ul\n    });\n    ul.addEventListener(\"transitionend\", complete);\n  };\n\n  _proto.hide = function hide(ul) {\n    var _this2 = this;\n\n    if (this.isTransitioning || !ul.classList.contains(this.config.collapseInClass)) {\n      return;\n    }\n\n    this.emit(\"hide.metisMenu\", {\n      hideElement: ul\n    });\n    var li = ul.parentNode;\n    li.classList.remove(this.config.activeClass);\n\n    var complete = function complete() {\n      ul.classList.remove(_this2.config.collapsingClass);\n      ul.classList.add(_this2.config.collapseClass);\n      ul.removeEventListener(\"transitionend\", complete);\n\n      _this2.setTransitioning(false);\n\n      _this2.emit(\"hidden.metisMenu\", {\n        hiddenElement: ul\n      });\n    };\n\n    ul.style.height = ul.getBoundingClientRect().height + \"px\";\n    ul.style.height = ul.offsetHeight + \"px\";\n    ul.classList.add(this.config.collapsingClass);\n    ul.classList.remove(this.config.collapseClass);\n    ul.classList.remove(this.config.collapseInClass);\n    this.setTransitioning(true);\n    ul.addEventListener(\"transitionend\", complete);\n    ul.style.height = \"0px\";\n    var a = li.querySelector(this.config.triggerElement);\n    a.setAttribute(\"aria-expanded\", \"false\");\n  };\n\n  _proto.setTransitioning = function setTransitioning(isTransitioning) {\n    this.isTransitioning = isTransitioning;\n  };\n\n  return MetisMenu;\n}();\n\nmodule.exports = MetisMenu;\n"],"names":["_defineProperty","obj","key","value","defineProperty","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","Default","MetisMenu","element","options","document","querySelector","cacheEl","config","cacheConfig","disposed","ulArr","listenerOb","init","_proto","prototype","update","dispose","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref","next","done","lo","hasOwnProperty","el","removeEventListener","on","event","fn","addEventListener","off","emit","eventDetail","shouldBubble","evt","CustomEvent","createEvent","initCustomEvent","dispatchEvent","slice","call","querySelectorAll","subMenu","_iterator2","entries","_isArray2","_i2","_ref2","_ref3","index","ul","li","parentNode","getAttribute","setAttribute","ulId","classList","add","collapseClass","contains","activeClass","show","hide","a","triggerElement","clickEvent","bind","listener","push","ev","currentTarget","tagName","preventDefault","toggle","_this","isTransitioning","collapseInClass","complete","remove","collapsingClass","style","height","setTransitioning","eleParentSiblins","children","c","_iterator3","_isArray3","_i3","_ref4","sibli","sibUl","scrollHeight","_this2","getBoundingClientRect","offsetHeight","module"],"mappings":"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"}