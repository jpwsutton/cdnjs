{"version":3,"sources":["cjs/index.js"],"names":["Default","MetisMenu","element","options","document","querySelector","cacheEl","this","config","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","obj","value","defineProperty","_objectSpread","cacheConfig","disposed","ulArr","listenerOb","init","_proto","prototype","update","dispose","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref","next","done","lo","hasOwnProperty","el","removeEventListener","on","event","fn","addEventListener","off","emit","eventDetail","shouldBubble","evt","CustomEvent","createEvent","initCustomEvent","dispatchEvent","slice","call","querySelectorAll","subMenu","_iterator2","entries","_isArray2","_i2","_ref2","_ref3","index","ul","li","parentNode","getAttribute","setAttribute","ulId","classList","add","collapseClass","contains","activeClass","show","hide","a","triggerElement","clickEvent","bind","listener","push","ev","currentTarget","tagName","preventDefault","toggle","_this","isTransitioning","collapseInClass","style","height","remove","collapsingClass","eleParentSiblins","children","c","_iterator3","_isArray3","_i3","_ref4","sibUl","setTransitioning","scrollHeight","complete","_this2","getBoundingClientRect","offsetHeight"],"mappings":"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","sourcesContent":["/*!\n* metismenu - v3.0.0-alpha.2\n* A menu plugin\n* https://github.com/onokumus/metismenu#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nvar Default = {\n  activeClass: \"active\",\n  collapseClass: \"collapse\",\n  collapseInClass: \"in\",\n  collapsingClass: \"collapsing\",\n  parentTrigger: \"li\",\n  preventDefault: true,\n  subMenu: \"ul\",\n  toggle: true,\n  triggerElement: \"a\"\n};\n\nvar MetisMenu =\n/*#__PURE__*/\nfunction () {\n  function MetisMenu(element, options) {\n    this.element = typeof element === \"string\" ? document.querySelector(element) : element;\n    this.cacheEl = this.element;\n    this.config = _objectSpread({}, Default, options);\n    this.cacheConfig = this.config;\n    this.disposed = false;\n    this.ulArr = [];\n    this.listenerOb = [];\n    this.init();\n  }\n\n  var _proto = MetisMenu.prototype;\n\n  _proto.update = function update() {\n    this.disposed = false;\n    this.element = this.cacheEl;\n    this.config = this.cacheConfig;\n    this.init();\n  };\n\n  _proto.dispose = function dispose() {\n    for (var _iterator = this.listenerOb, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var lo = _ref;\n\n      for (var key in lo) {\n        if (lo.hasOwnProperty(key)) {\n          var el = lo[key];\n          el[1].removeEventListener(el[0], el[2]);\n        }\n      }\n    }\n\n    this.ulArr = [];\n    this.listenerOb = [];\n    this.config = null;\n    this.element = null;\n    this.disposed = true;\n  };\n\n  _proto.on = function on(event, fn) {\n    this.element.addEventListener(event, fn, false);\n    return this;\n  };\n\n  _proto.off = function off(event, fn) {\n    this.element.removeEventListener(event, fn);\n    return this;\n  };\n\n  _proto.emit = function emit(event, eventDetail, shouldBubble) {\n    if (shouldBubble === void 0) {\n      shouldBubble = false;\n    }\n\n    var evt;\n\n    if (typeof CustomEvent === \"function\") {\n      evt = new CustomEvent(event, {\n        bubbles: shouldBubble,\n        detail: eventDetail\n      });\n    } else {\n      evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(event, shouldBubble, false, eventDetail);\n    }\n\n    this.element.dispatchEvent(evt);\n    return this;\n  };\n\n  _proto.init = function init() {\n    this.ulArr = [].slice.call(this.element.querySelectorAll(this.config.subMenu));\n\n    for (var _iterator2 = this.ulArr.entries(), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var _ref3 = _ref2,\n          index = _ref3[0],\n          ul = _ref3[1];\n      var li = ul.parentNode;\n\n      if (li.getAttribute(\"id\") === null) {\n        li.setAttribute(\"id\", \"mm-item-\" + index);\n        ul.setAttribute(\"aria-labelledby\", \"mm-item-\" + index);\n      } else {\n        ul.setAttribute(\"aria-labelledby\", li.getAttribute(\"id\"));\n      }\n\n      var ulId = ul.getAttribute(\"id\") !== null ? ul.getAttribute(\"id\") : \"mm-item-ul-\" + index;\n\n      if (ul.getAttribute(\"id\") === null) {\n        ul.setAttribute(\"id\", ulId);\n      }\n\n      ul.classList.add(this.config.collapseClass);\n\n      if (li.classList.contains(this.config.activeClass)) {\n        this.show(ul);\n      } else {\n        this.hide(ul);\n      }\n\n      var a = li.querySelector(this.config.triggerElement);\n\n      if (a.getAttribute(\"aria-disabled\") === \"true\") {\n        return;\n      }\n\n      a.setAttribute(\"aria-controls\", ulId);\n      a.setAttribute(\"aria-expanded\", \"false\");\n      var listenerOb = {\n        aClick: [\"click\", a, this.clickEvent.bind(this)]\n      };\n\n      for (var key in listenerOb) {\n        if (listenerOb.hasOwnProperty(key)) {\n          var listener = listenerOb[key];\n          listener[1].addEventListener(listener[0], listener[2]);\n        }\n      }\n\n      this.listenerOb.push(listenerOb);\n    }\n  };\n\n  _proto.clickEvent = function clickEvent(ev) {\n    if (!this.disposed) {\n      if (ev.currentTarget.tagName === \"A\") {\n        ev.preventDefault();\n      }\n\n      var li = ev.target.parentNode;\n      var ul = li.querySelector(this.config.subMenu);\n      this.toggle(ul);\n    }\n  };\n\n  _proto.toggle = function toggle(ul) {\n    if (ul.parentNode.classList.contains(this.config.activeClass)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  };\n\n  _proto.show = function show(ul) {\n    var _this = this;\n\n    if (this.isTransitioning || ul.classList.contains(this.config.collapseInClass)) {\n      return;\n    }\n\n    var complete = function complete() {\n      ul.classList.remove(_this.config.collapsingClass);\n      ul.style.height = \"\";\n      ul.removeEventListener(\"transitionend\", complete);\n\n      _this.setTransitioning(false);\n\n      _this.emit(\"shown.metisMenu\", {\n        shownElement: ul\n      });\n    };\n\n    var li = ul.parentNode;\n    li.classList.add(this.config.activeClass);\n    var a = li.querySelector(this.config.triggerElement);\n    a.setAttribute(\"aria-expanded\", \"true\");\n    ul.style.height = \"0px\";\n    ul.classList.remove(this.config.collapseClass);\n    ul.classList.remove(this.config.collapseInClass);\n    ul.classList.add(this.config.collapsingClass);\n    var eleParentSiblins = [].slice.call(li.parentNode.children).filter(function (c) {\n      return c !== li;\n    });\n\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      for (var _iterator3 = eleParentSiblins, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref4;\n\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) break;\n          _ref4 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) break;\n          _ref4 = _i3.value;\n        }\n\n        var sibli = _ref4;\n        var sibUl = sibli.querySelector(this.config.subMenu);\n\n        if (sibUl !== null) {\n          this.hide(sibUl);\n        }\n      }\n    }\n\n    this.setTransitioning(true);\n    ul.classList.add(this.config.collapseClass);\n    ul.classList.add(this.config.collapseInClass);\n    ul.style.height = ul.scrollHeight + \"px\";\n    this.emit(\"show.metisMenu\", {\n      showElement: ul\n    });\n    ul.addEventListener(\"transitionend\", complete);\n  };\n\n  _proto.hide = function hide(ul) {\n    var _this2 = this;\n\n    if (this.isTransitioning || !ul.classList.contains(this.config.collapseInClass)) {\n      return;\n    }\n\n    this.emit(\"hide.metisMenu\", {\n      hideElement: ul\n    });\n    var li = ul.parentNode;\n    li.classList.remove(this.config.activeClass);\n\n    var complete = function complete() {\n      ul.classList.remove(_this2.config.collapsingClass);\n      ul.classList.add(_this2.config.collapseClass);\n      ul.removeEventListener(\"transitionend\", complete);\n\n      _this2.setTransitioning(false);\n\n      _this2.emit(\"hidden.metisMenu\", {\n        hiddenElement: ul\n      });\n    };\n\n    ul.style.height = ul.getBoundingClientRect().height + \"px\";\n    ul.style.height = ul.offsetHeight + \"px\";\n    ul.classList.add(this.config.collapsingClass);\n    ul.classList.remove(this.config.collapseClass);\n    ul.classList.remove(this.config.collapseInClass);\n    this.setTransitioning(true);\n    ul.addEventListener(\"transitionend\", complete);\n    ul.style.height = \"0px\";\n    var a = li.querySelector(this.config.triggerElement);\n    a.setAttribute(\"aria-expanded\", \"false\");\n  };\n\n  _proto.setTransitioning = function setTransitioning(isTransitioning) {\n    this.isTransitioning = isTransitioning;\n  };\n\n  return MetisMenu;\n}();\n\nmodule.exports = MetisMenu;\n"]}