var functionCall=Function.call;"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(c){function A(a,c,b){"string"===typeof a?a[c]=b:Object.defineProperty(a,c,{value:b,enumerable:!1,configurable:!0,writable:!0})}function D(a,c){if(a)return a.$$const[c]}function t(a,c){var d,r,e;if(null!=a)for(e=g.ancestors(a),d=0,r=e.length;d<r;d++)if(e[d].$$const&&b.call(e[d].$$const,c))return e[d].$$const[c]}function y(a,c,b){if(!b)return(a||z).$const_missing(c)}function p(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function m(a){var c=
x(a);a.$$is_module&&a.$$iclasses.push(c);return c}function x(a){var c={},b=a.prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);var d=Object.getOwnPropertyNames(b),e=d.length,h;for(h=0;h<e;h++){var k=d[h];A(c,k,b[k])}A(c,"$$iclass",!0);A(c,"$$module",a);return c}function q(a){var c=a.length,b=a[0];A(b,"$$root",!0);if(1===c)return{first:b,last:b};for(var d=1;d<c;d++){var e=a[d];Object.setPrototypeOf(b,e);b=e}return{first:a[0],last:a[c-1]}}function E(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;
if(a.hasOwnProperty("$$class"))return a.$$class}}function v(a){return"function"===typeof a&&!a.$$stub}var a=this,k;"undefined"!==typeof global&&(a=global);"undefined"!==typeof window&&(a=window);k="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in k||(k.log=function(){});"warn"in k||(k.warn=k.log);if("undefined"!==typeof this.Opal)return k.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var B,M,z,l,g=this.Opal={};g.global=
a;a.Opal=g;g.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var b=Object.hasOwnProperty;g.slice=Array.prototype.slice;var d=4;g.uid=function(){return d+=2};g.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;A(a,"$$id",g.uid());return a.$$id};g.gvars={};g.exit=function(a){g.gvars.DEBUG&&k.log("Exited with status "+a)};g.exceptions=[];g.pop_exception=function(){g.gvars["!"]=g.exceptions.pop()||B};g.inspect=function(a){return a===
c?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};g.defineProperty=A;g.truthy=function(a){return a!==B&&null!=a&&(!a.$$is_boolean||1==a)};g.falsy=function(a){return a===B||null==a||a.$$is_boolean&&0==a};g.const_get_local=function(a,c,b){var d;if(null!=a){"::"===a&&(a=z);if(!a.$$is_module&&!a.$$is_class)throw new g.TypeError(a.toString()+" is not a class/module");d=D(a,c);if(null!=d)return d;d=y(a,c,b);if(null!=d)return d}};g.const_get_qualified=function(a,c,b){var d,e,h=g.const_cache_version;
if(null!=a){"::"===a&&(a=z);if(!a.$$is_module&&!a.$$is_class)throw new g.TypeError(a.toString()+" is not a class/module");null==(e=a.$$const_cache)&&(A(a,"$$const_cache",Object.create(null)),e=a.$$const_cache);d=e[c];null==d||d[0]!==h?(null!=(d=D(a,c))||null!=(d=t(a,c)),e[c]=[h,d]):d=d[1];return null!=d?d:y(a,c,b)}};g.const_cache_version=1;g.const_get_relative=function(a,c,b){var d=a[0],e,h=g.const_cache_version,k;null==(k=a.$$const_cache)&&(A(a,"$$const_cache",Object.create(null)),k=a.$$const_cache);
e=k[c];if(null==e||e[0]!==h){var l;if(!(l=null!=(e=D(d,c)))){a:{var B;if(0!==a.length)for(e=0,l=a.length;e<l;e++)if(B=a[e].$$const[c],null!=B){a=B;break a}a=void 0}l=null!=(e=a)}l||null!=(e=t(d,c))||(a=null==d||d.$$is_module?t(z,c):void 0,null!=(e=a));k[c]=[h,e]}else e=e[1];return null!=e?e:y(d,c,b)};g.const_set=function(a,c,b){if(null==a||"::"===a)a=z;if(b.$$is_a_module){if(null==b.$$name||b.$$name===B)b.$$name=c;null==b.$$base_module&&(b.$$base_module=a)}a.$$const=a.$$const||Object.create(null);
a.$$const[c]=b;a.$$=a.$$const;g.const_cache_version++;a===z&&(g[c]=b);A(a,c,b);return b};g.constants=function(a,c){null==c&&(c=!0);var b,d=[a],e,h,k={},l;c&&(d=d.concat(g.ancestors(a)));c&&a.$$is_module&&(d=d.concat([g.Object]).concat(g.ancestors(g.Object)));e=0;for(h=d.length;e<h;e++){b=d[e];if(a!==z&&b==z)break;for(l in b.$$const)k[l]=!0}return Object.keys(k)};g.const_remove=function(a,c){g.const_cache_version++;if(null!=a.$$const[c]){var b=a.$$const[c];delete a.$$const[c];return b}if(null!=a.$$autoload&&
null!=a.$$autoload[c])return delete a.$$autoload[c],B;throw g.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};g.allocate_class=function(a,c,b){var d=b;null!=c&&c.$$bridge&&(d=function(){var a=Array.prototype.slice.call(arguments),a=new (Function.prototype.bind.apply(c,[null].concat(a)));Object.setPrototypeOf(a,d.prototype);return a});A(d,"$$name",a);A(d,"$$const",{});A(d,"$$is_class",!0);A(d,"$$is_a_module",!0);A(d,"$$super",c);A(d,"$$cvars",{});A(d,"$$own_included_modules",[]);A(d,
"$$own_prepended_modules",[]);A(d,"$$ancestors",[]);A(d,"$$ancestors_cache_version",null);A(d.prototype,"$$class",d);g.Class&&Object.setPrototypeOf(d,g.Class.prototype);null!=c&&(Object.setPrototypeOf(d.prototype,c.prototype),c!==g.Module&&c.$$meta&&g.build_class_singleton_class(d));return d};g.klass=function(a,c,b,d){var e;null==a?a=z:a.$$is_class||a.$$is_module||(a=a.$$class);null==c||c.hasOwnProperty("$$is_class")||(e=c,c=z);var h;if(h=D(a,b)){if(!h.$$is_class)throw g.TypeError.$new(b+" is not a class");
}else h=void 0;if(h){if(c&&h.$$super!==c)throw g.TypeError.$new("superclass mismatch for class "+h.$$name);return h}null==c&&(c=z);e?(g.bridge(e),h=e,g.const_set(a,b,h)):(h=g.allocate_class(b,c,d),g.const_set(a,b,h),c.$inherited&&c.$inherited(h));return h};g.allocate_module=function(a,c){A(c,"$$name",a);A(c,"$$const",{});A(c,"$$is_module",!0);A(c,"$$is_a_module",!0);A(c,"$$cvars",{});A(c,"$$iclasses",[]);A(c,"$$own_included_modules",[]);A(c,"$$own_prepended_modules",[]);A(c,"$$ancestors",[c]);A(c,
"$$ancestors_cache_version",null);Object.setPrototypeOf(c,g.Module.prototype);return c};g.module=function(a,c,b){var d;null==a?a=z:a.$$is_class||a.$$is_module||(a=a.$$class);d=a;var e=D(d,c);null==e&&d===z&&(e=t(z,c));if(e&&!e.$$is_module&&e!==z)throw g.TypeError.$new(c+" is not a module");if(d=e)return d;d=g.allocate_module(c,b);g.const_set(a,c,d);return d};g.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?g.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?
g.build_module_singletin_class(a):g.build_object_singleton_class(a)};g.build_class_singleton_class=function(a){var c;if(a.$$meta)return a.$$meta;c=a===M?l:g.get_singleton_class(a.$$super);c=g.allocate_class(null,c,function(){});A(c,"$$is_singleton",!0);A(c,"$$singleton_of",a);A(a,"$$meta",c);Object.setPrototypeOf(a,c.prototype);A(a,"$$class",g.Class);return c};g.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var c=g.allocate_class(null,g.Module,function(){});A(c,"$$is_singleton",
!0);A(c,"$$singleton_of",a);A(a,"$$meta",c);Object.setPrototypeOf(a,c.prototype);A(a,"$$class",g.Module);return c};g.build_object_singleton_class=function(a){var c=g.allocate_class(B,a.$$class,function(){});A(c,"$$is_singleton",!0);A(c,"$$singleton_of",a);delete c.prototype.$$class;A(a,"$$meta",c);Object.setPrototypeOf(a,a.$$meta.prototype);return c};g.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};g.instance_methods=function(a){var c=[],b=[];a=g.ancestors(a);for(var d=0,e=a.length;d<e;d++){var h=
a[d].prototype;h.hasOwnProperty("$$dummy")&&(h=h.$$define_methods_on);for(var k=Object.getOwnPropertyNames(h),l=0,B=k.length;l<B;l++){var z=k[l];if(g.is_method(z)){var m=z.slice(1),z=h[z];z.$$stub&&-1===c.indexOf(m)&&c.push(m);z.$$stub||-1!==b.indexOf(m)||-1!==c.indexOf(m)||b.push(m)}}}return b};g.own_instance_methods=function(a){var c=[];a=a.prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var b=Object.getOwnPropertyNames(a),d=0,e=b.length;d<e;d++){var h=b[d];g.is_method(h)&&
!a[h].$$stub&&(h=h.slice(1),c.push(h))}return c};g.methods=function(a){return g.instance_methods(g.get_singleton_class(a))};g.own_methods=function(a){return g.own_instance_methods(g.get_singleton_class(a))};g.class_variables=function(a){a=g.ancestors(a);var c,b={};for(c=a.length-1;0<=c;c--){var d=a[c],e;for(e in d.$$cvars)b[e]=d.$$cvars[e]}return b};g.class_variable_set=function(a,c,d){var k=g.ancestors(a),e;for(e=k.length-2;0<=e;e--){var h=k[e];if(b.call(h.$$cvars,c))return h.$$cvars[c]=d}return a.$$cvars[c]=
d};g.append_features=function(a,c){var b=g.ancestors(a),d=[];if(-1!==b.indexOf(c))throw g.ArgumentError.$new("cyclic include detected");for(var e=0,h=b.length;e<h;e++){var k=m(b[e]);A(k,"$$included",!0);d.push(k)}b=g.ancestors(c);d=q(d);if(-1===b.indexOf(a))b=c.prototype,e=Object.getPrototypeOf(c.prototype);else{b=c.prototype;for(e=Object.getPrototypeOf(b);null!=e&&(!p(e)||e.$$module!==a);)b=e,e=Object.getPrototypeOf(e);for(e=Object.getPrototypeOf(e);e.hasOwnProperty("$$iclass")&&!p(e);)e=Object.getPrototypeOf(e)}Object.setPrototypeOf(b,
d.first);Object.setPrototypeOf(d.last,e);d=[];for(e=Object.getPrototypeOf(c.prototype);e&&!e.hasOwnProperty("$$class");)(b=E(e))&&d.push(b),e=Object.getPrototypeOf(e);c.$$own_included_modules=d;g.const_cache_version++};g.prepend_features=function(a,c){var b=g.ancestors(a),d=[];if(-1!==b.indexOf(c))throw g.ArgumentError.$new("cyclic prepend detected");for(var e=0,h=b.length;e<h;e++){var k=m(b[e]);A(k,"$$prepended",!0);d.push(k)}b=q(d);e=c.prototype;h=Object.getPrototypeOf(e);if(e.hasOwnProperty("$$dummy"))d=
e.$$define_methods_on;else{for(var d=x(c),k=c.prototype,l=Object.getOwnPropertyNames(k),B=0;B<l.length;B++){var z=l[B];g.is_method(z)&&delete k[z]}A(e,"$$dummy",!0);A(e,"$$define_methods_on",d);Object.setPrototypeOf(e,d);Object.setPrototypeOf(d,h)}if(-1===g.ancestors(c).indexOf(a))for(h=e,e=Object.getPrototypeOf(e);null!=e&&!e.hasOwnProperty("$$root")&&e!==d&&e.hasOwnProperty("$$iclass");)e=Object.getPrototypeOf(e);else throw g.RuntimeError.$new("Prepending a module multiple times is not supported");
Object.setPrototypeOf(h,b.first);Object.setPrototypeOf(b.last,e);b=[];e=Object.getPrototypeOf(c.prototype);if(c.prototype.hasOwnProperty("$$dummy"))for(;e&&e!==c.prototype.$$define_methods_on;)(d=E(e))&&b.push(d),e=Object.getPrototypeOf(e);c.$$own_prepended_modules=b;g.const_cache_version++};g.bridge=function(a,c){if(a.hasOwnProperty("$$bridge"))throw g.ArgumentError.$new("already bridged");var b,d;null==c?(b=g.Object,d=a):d=b=c;Object.setPrototypeOf(a.prototype,b.prototype);A(a.prototype,"$$class",
d);A(a,"$$bridge",!0);A(a,"$$is_class",!0);A(a,"$$is_a_module",!0);A(a,"$$super",b);A(a,"$$const",{});A(a,"$$own_included_modules",[]);A(a,"$$own_prepended_modules",[]);A(a,"$$ancestors",[]);A(a,"$$ancestors_cache_version",null);Object.setPrototypeOf(a,g.Class.prototype)};g.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===g.const_cache_version)return a.$$ancestors;var c=[],b,d,e;b=0;d=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(e=d.length;b<e;b++)c.push(d[b]);
if(a.$$super)for(b=0,d=g.ancestors(a.$$super),e=d.length;b<e;b++)c.push(d[b]);a.$$ancestors_cache_version=g.const_cache_version;return a.$$ancestors=c};g.included_modules=function(a){var c=[],b=null;for(a=Object.getPrototypeOf(a.prototype);a&&Object.getPrototypeOf(a);a=Object.getPrototypeOf(a))(b=E(a))&&b.$$is_module&&a.$$iclass&&a.$$included&&c.push(b);return c};g.add_stubs=function(a){for(var c=g.BasicObject.prototype,b=0,d=a.length;b<d;b++){var e=a[b],h=c[e];(null==h||h.$$stub)&&g.add_stub_for(c,
e)}};g.add_stub_for=function(a,c){var b=g.stub_for(c);A(a,c,b)};g.stub_for=function(a){function c(){this.$method_missing.$$p=c.$$p;c.$$p=null;for(var b=Array(arguments.length),d=0,e=b.length;d<e;d++)b[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}c.$$stub=!0;return c};g.ac=function(a,c,b,d){var e="",e=b.$$is_a_module?e+(b.$$name+"."):e+(b.$$class.$$name+"#");throw g.ArgumentError.$new("["+(e+d)+"] wrong number of arguments("+a+" for "+c+")");};g.block_ac=function(a,
c,b){throw g.ArgumentError.$new("`block in "+b+"': wrong number of arguments ("+a+" for "+c+")");};g.find_super_dispatcher=function(a,c,b,d,e){e="$"+c;var h,k;h=a.hasOwnProperty("$$meta")?g.ancestors(a.$$meta):g.ancestors(a.$$class);for(b=h.indexOf(b.$$owner)+1;b<h.length;b++){var l=h[b].prototype;l.hasOwnProperty("$$dummy")&&(l=l.$$define_methods_on);if(l.hasOwnProperty(e)){e=l[e];e.$$stub||(k=e);break}}if(!d&&null==k&&g.Kernel.$method_missing===a.$method_missing)throw g.NoMethodError.$new("super: no superclass method `"+
c+"' for "+a,c);return k};g.find_iter_super_dispatcher=function(a,c,b,d,e){if(!b)throw g.RuntimeError.$new("super called outside of method");if(e&&b.$$define_meth)throw g.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");b.$$def&&(c=b.$$jsid);return g.find_super_dispatcher(a,c,b,d)};g.ret=function(a){g.returner.$v=a;throw g.returner;};g.brk=function(a,c){c.$v=a;throw c;};g.new_brk=function(){return Error("unexpected break")};
g.yield1=function(a,c){if("function"!==typeof a)throw g.LocalJumpError.$new("no block given");var b=a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(b||d)&&1===a.length)c=g.to_ary(c);return(1<a.length||d&&1===a.length)&&c.$$is_array?a.apply(null,c):a(c)};g.yieldX=function(a,c){if("function"!==typeof a)throw g.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);if(!c.$$is_array){for(var b=Array(c.length),d=0,e=b.length;d<
e;d++)b[d]=c[d];return a.apply(null,b)}return a.apply(null,c)};g.rescue=function(a,c){for(var b=0;b<c.length;b++){var d=c[b];if(d.$$is_array){if(d=g.rescue(a,d))return d}else if(d===g.JS.Error||d["$==="](a))return d}return null};g.is_a=function(a,c){if(null!=c&&a.$$meta===c||a.$$class===c||a.$$is_number&&c.$$is_number_class)return!0;var b,d,e=g.ancestors(a.$$is_class?g.get_singleton_class(a):a.$$meta||a.$$class);b=0;for(d=e.length;b<d;b++)if(e[b]===c)return!0;return!1};g.to_hash=function(a){if(a.$$is_hash)return a;
if(a["$respond_to?"]("to_hash",!0)){var c=a.$to_hash();if(c.$$is_hash)return c;throw g.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+c.$$class+")");}throw g.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};g.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var c=a.$to_ary();if(c===B)return[a];if(c.$$is_array)return c;throw g.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+c.$$class+
")");}return[a]};g.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var c=a.$to_a();if(c===B)return[a];if(c.$$is_array)return c;throw g.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+c.$$class+")");}return[a]};g.extract_kwargs=function(a){var c=a[a.length-1];return null!=c&&c["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),c.$to_hash()):g.hash2([],{})};g.kwrestargs=function(a,c){var b=[],d={},e=null,h=a.$$smap;
for(e in h)c[e]||(b.push(e),d[e]=h[e]);return g.hash2(b,d)};g.send=function(a,c,b,d){var e="string"===typeof c?a["$"+c]:c;return null!=e?(e.$$p=d,e.apply(a,b)):a.$method_missing.apply(a,[c].concat(b))};g.lambda=function(a){a.$$is_lambda=!0;return a};g.def=function(a,c,b){a===g.top?g.defn(g.Object,c,b):!a.$$eval&&a.$$is_a_module?g.defn(a,c,b):g.defs(a,c,b)};g.defn=function(a,c,b){b.$$owner=a;var d=a.prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);A(d,c,b);if(a.$$is_module){a.$$module_function&&
g.defs(a,c,b);for(var d=0,e=a.$$iclasses,h=e.length;d<h;d++)A(e[d],c,b)}b=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||b?b&&b.$singleton_method_added&&!b.$singleton_method_added.$$stub&&b.$singleton_method_added(c.substr(1)):a.$method_added(c.substr(1))};g.defs=function(a,c,b){a.$$is_string||a.$$is_number||g.defn(g.get_singleton_class(a),c,b)};g.rdef=function(a,c){if(!b.call(a.prototype,c))throw g.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());delete a.prototype[c];
a.$$is_singleton?a.prototype.$singleton_method_removed&&!a.prototype.$singleton_method_removed.$$stub&&a.prototype.$singleton_method_removed(c.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(c.substr(1))};g.udef=function(a,c){if(!a.prototype[c]||a.prototype[c].$$stub)throw g.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());g.add_stub_for(a.prototype,c);a.$$is_singleton?a.prototype.$singleton_method_undefined&&!a.prototype.$singleton_method_undefined.$$stub&&
a.prototype.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};g.alias=function(a,c,b){var d="$"+c,e="$"+b,h=a.prototype["$"+b],k;if(a.$$eval)return g.alias(g.get_singleton_class(a),c,b);if(!v(h)){for(var l=a.$$super;"function"!==typeof h&&l;)h=l[e],l=l.$$super;!v(h)&&a.$$is_module&&(h=g.Object.prototype[e]);if(!v(h))throw g.NameError.$new("undefined method `"+b+"' for class `"+a.$name()+"'");}h.$$alias_of&&(h=h.$$alias_of);
k=function(){var a=k.$$p,c,b,d;c=Array(arguments.length);b=0;for(d=arguments.length;b<d;b++)c[b]=arguments[b];null!=a&&(k.$$p=null);return g.send(this,h,c,a)};k.displayName=c;k.length=h.length;k.$$arity=h.$$arity;k.$$parameters=h.$$parameters;k.$$source_location=h.$$source_location;k.$$alias_of=h;k.$$alias_name=c;g.defn(a,d,k);return a};g.alias_native=function(a,c,b){c="$"+c;var d=a.prototype[b];if("function"!==typeof d||d.$$stub)throw g.NameError.$new("undefined native method `"+b+"' for class `"+
a.$name()+"'");g.defn(a,c,d);return a};g.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};g.hash_clone=function(a,c){c.$$none=a.$$none;c.$$proc=a.$$proc;for(var b=0,d=a.$$keys,e=a.$$smap,h=d.length,k,l;b<h;b++)k=d[b],k.$$is_string?l=e[k]:(l=k.value,k=k.key),g.hash_put(c,k,l)};g.hash_put=function(a,d,k){if(d.$$is_string)b.call(a.$$smap,d)||a.$$keys.push(d),a.$$smap[d]=k;else{var l,e,h;l=a.$$by_identity?g.id(d):d.$hash();if(b.call(a.$$map,l)){for(e=a.$$map[l];e;){if(d===
e.key||d["$eql?"](e.key)){h=c;e.value=k;break}h=e;e=e.next}h&&(e={key:d,key_hash:l,value:k},a.$$keys.push(e),h.next=e)}else e={key:d,key_hash:l,value:k},a.$$keys.push(e),a.$$map[l]=e}};g.hash_get=function(a,c){if(c.$$is_string){if(b.call(a.$$smap,c))return a.$$smap[c]}else{var d;d=a.$$by_identity?g.id(c):c.$hash();if(b.call(a.$$map,d))for(d=a.$$map[d];d;){if(c===d.key||c["$eql?"](d.key))return d.value;d=d.next}}};g.hash_delete=function(a,c){var d,k=a.$$keys,e=k.length,h;if(c.$$is_string){if(!b.call(a.$$smap,
c))return;for(d=0;d<e;d++)if(k[d]===c){k.splice(d,1);break}h=a.$$smap[c];delete a.$$smap[c];return h}var g=c.$hash();if(b.call(a.$$map,g))for(var l=a.$$map[g],B;l;){if(c===l.key||c["$eql?"](l.key)){h=l.value;for(d=0;d<e;d++)if(k[d]===l){k.splice(d,1);break}B&&l.next?B.next=l.next:B?delete B.next:l.next?a.$$map[g]=l.next:delete a.$$map[g];return h}B=l;l=l.next}};g.hash_rehash=function(a){for(var d=0,k=a.$$keys.length,g,e,h;d<k;d++)if(!a.$$keys[d].$$is_string&&(g=a.$$keys[d].key.$hash(),g!==a.$$keys[d].key_hash)){e=
a.$$map[a.$$keys[d].key_hash];for(h=c;e;){if(e===a.$$keys[d]){h&&e.next?h.next=e.next:h?delete h.next:e.next?a.$$map[a.$$keys[d].key_hash]=e.next:delete a.$$map[a.$$keys[d].key_hash];break}h=e;e=e.next}a.$$keys[d].key_hash=g;if(b.call(a.$$map,g)){e=a.$$map[g];for(h=c;e;){if(e===a.$$keys[d]){h=c;break}h=e;e=e.next}h&&(h.next=a.$$keys[d])}else a.$$map[g]=a.$$keys[d]}};g.hash=function(){var a=arguments.length,c,d,k,e,h;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new g.Hash;g.hash_init(c);
if(1===a&&arguments[0].$$is_array){a=arguments[0];k=a.length;for(d=0;d<k;d++){if(2!==a[d].length)throw g.ArgumentError.$new("value not of length 2: "+a[d].$inspect());e=a[d][0];h=a[d][1];g.hash_put(c,e,h)}return c}if(1===a){a=arguments[0];for(e in a)b.call(a,e)&&(h=a[e],g.hash_put(c,e,h));return c}if(0!==a%2)throw g.ArgumentError.$new("odd number of arguments for Hash");for(d=0;d<a;d+=2)e=arguments[d],h=arguments[d+1],g.hash_put(c,e,h);return c};g.hash2=function(a,c){var b=new g.Hash;b.$$smap=c;b.$$map=
Object.create(null);b.$$keys=a;return b};g.range=function(a,c,b){var d=new g.Range;d.begin=a;d.end=c;d.excl=b;return d};g.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};g.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};g.global_regexp=function(a){if(a.global)return a;
null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};g.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};g.modules={};g.loaded_features=["corelib/runtime"];g.current_dir=".";g.require_table={"corelib/runtime":!0};g.normalize=function(a){var c,
b=[];"."!==g.current_dir&&(a=g.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,e=a.length;d<e;d++)c=a[d],""!==c&&(".."===c?b.pop():b.push(c));return b.join("/")};g.loaded=function(a){var c,b,d;c=0;for(b=a.length;c<b;c++)d=g.normalize(a[c]),g.require_table[d]||(g.loaded_features.push(d),g.require_table[d]=!0)};g.load=function(a){a=g.normalize(a);g.loaded([a]);var c=g.modules[a];if(c)c(g);else{c=g.config.missing_require_severity;
a="cannot load such file -- "+a;if("error"===c){if(g.LoadError)throw g.LoadError.$new(a);throw a;}"warning"===c&&k.warn("WARNING: LoadError: "+a)}return!0};g.require=function(a){a=g.normalize(a);return g.require_table[a]?!1:g.load(a)};g.BasicObject=M=g.allocate_class("BasicObject",null,function(){});g.Object=z=g.allocate_class("Object",g.BasicObject,function(){});g.Module=a=g.allocate_class("Module",g.Object,function(){});g.Class=l=g.allocate_class("Class",g.Module,function(){});Object.setPrototypeOf(g.BasicObject,
g.Class.prototype);Object.setPrototypeOf(g.Object,g.Class.prototype);Object.setPrototypeOf(g.Module,g.Class.prototype);Object.setPrototypeOf(g.Class,g.Class.prototype);M.$$const.BasicObject=M;g.const_set(z,"BasicObject",M);g.const_set(z,"Object",z);g.const_set(z,"Module",a);g.const_set(z,"Class",l);M.$$class=l;z.$$class=l;a.$$class=l;l.$$class=l;A(z.prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});A(z.prototype,"$require",g.require);g.$$=
z.$$;g.top=new z;g.top.$to_s=g.top.$inspect=function(){return"main"};g.NilClass=g.allocate_class("NilClass",g.Object,function(){});g.const_set(z,"NilClass",g.NilClass);B=g.nil=new g.NilClass;B.$$id=4;B.call=B.apply=function(){throw g.LocalJumpError.$new("no block given");};g.breaker=Error("unexpected break (old)");g.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,
y=c.module,p=c.truthy;c.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(m,x){function q(){}var E=q=y(m,"Opal",q),v=[E].concat(x),a,k,B,M,z,l,g,b,d,f,n,S,r,e;c.defs(E,"$bridge",a=function(a,b){return c.bridge(a,b)},a.$$arity=2);c.defs(E,"$type_error",k=function(a,c,b,d){var e;null==b&&(b=D);null==d&&(d=D);return p(p(e=b)?d:e)?t(v,"TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+
"#"+b+" gives "+d.$class()+")"):t(v,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+c)},k.$$arity=-3);c.defs(E,"$coerce_to",B=function(a,c,b){if(p(c["$==="](a)))return a;p(a["$respond_to?"](b))||this.$raise(this.$type_error(a,c));return a.$__send__(b)},B.$$arity=3);c.defs(E,"$coerce_to!",M=function(a,c,b){var d=D,d=this.$coerce_to(a,c,b);p(c["$==="](d))||this.$raise(this.$type_error(a,c,b,d));return d},M.$$arity=3);c.defs(E,"$coerce_to?",z=function(a,c,b){var d=D;if(!p(a["$respond_to?"](b)))return D;
d=this.$coerce_to(a,c,b);if(p(d["$nil?"]()))return D;p(c["$==="](d))||this.$raise(this.$type_error(a,c,b,d));return d},z.$$arity=3);c.defs(E,"$try_convert",l=function(a,c,b){return p(c["$==="](a))?a:p(a["$respond_to?"](b))?a.$__send__(b):D},l.$$arity=3);c.defs(E,"$compare",g=function(a,c){var b=D,b=a["$<=>"](c);p(b===D)&&this.$raise(t(v,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return b},g.$$arity=2);c.defs(E,"$destructure",b=function(a){if(1==a.length)return a[0];
if(a.$$is_array)return a;for(var c=Array(a.length),b=0,d=c.length;b<d;b++)c[b]=a[b];return c},b.$$arity=1);c.defs(E,"$respond_to?",d=function(a,c,b){null==b&&(b=!1);return null!=a&&a.$$class?a["$respond_to?"](c,b):!1},d.$$arity=-3);c.defs(E,"$inspect_obj",f=function(a){return c.inspect(a)},f.$$arity=1);c.defs(E,"$instance_variable_name!",n=function(a){a=t(v,"Opal")["$coerce_to!"](a,t(v,"String"),"to_str");p(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(t(v,"NameError").$new("'"+a+"' is not allowed as an instance variable name",
a));return a},n.$$arity=1);c.defs(E,"$class_variable_name!",S=function(a){a=t(v,"Opal")["$coerce_to!"](a,t(v,"String"),"to_str");p(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(t(v,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},S.$$arity=1);c.defs(E,"$const_name!",r=function(a){a=t(v,"Opal")["$coerce_to!"](a,t(v,"String"),"to_str");p(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(t(v,"NameError"),"wrong constant name "+a);return a},r.$$arity=1);c.defs(E,
"$pristine",e=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=0);b=Array(b);for(var e=1;e<d;e++)b[e-1]=arguments[e];for(d=b.length-1;0<=d;d--)e=b[d],(e=a.prototype["$"+e])&&!e.$$stub&&(e.$$pristine=!0);return D},e.$$arity=-2)}(A[0],A)},Opal.modules["corelib/module"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var D=[],t=c.nil,y=c.const_get_qualified,p=c.const_get_relative,m=c.klass,x=c.send,q=c.truthy,E=c.lambda,v=c.range,a=c.hash2;c.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(k,$super,M){function z(){}k=z=m(k,$super,"Module",z);var l=[k].concat(M),g,b,d,f,n,S,r,e,h,u,pa,ha,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,D,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa;c.defs(k,"$allocate",g=function(){return c.allocate_module(t,function(){})},g.$$arity=0);c.defs(k,"$inherited",b=function(a){a.$allocate=function(){var b=c.allocate_module(t,function(){});Object.setPrototypeOf(b,a.prototype);return b}},b.$$arity=1);c.def(k,"$initialize",
d=function(){var a=d.$$p,c=a||t;a&&(d.$$p=null);return c!==t?x(this,"module_eval",[],c.$to_proc()):t},d.$$arity=0);c.def(k,"$===",f=function(a){return q(null==a)?!1:c.is_a(a,this)},f.$$arity=1);c.def(k,"$<",n=function(a){q(p(l,"Module")["$==="](a))||this.$raise(p(l,"TypeError"),"compared with non class/module");var b,d,e;if(this===a)return!1;d=0;b=c.ancestors(this);for(e=b.length;d<e;d++)if(b[d]===a)return!0;d=0;b=c.ancestors(a);for(e=b.length;d<e;d++)if(b[d]===this)return!1;return t},n.$$arity=1);
c.def(k,"$<=",S=function(a){var c;return q(c=this["$equal?"](a))?c:A(this,a)},S.$$arity=1);c.def(k,"$>",r=function(a){q(p(l,"Module")["$==="](a))||this.$raise(p(l,"TypeError"),"compared with non class/module");return A(a,this)},r.$$arity=1);c.def(k,"$>=",e=function(a){var c;return q(c=this["$equal?"](a))?c:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},e.$$arity=1);c.def(k,"$<=>",h=function(a){var c=t;if(this===a)return 0;if(!q(p(l,"Module")["$==="](a)))return t;c=A(this,a);return q(c["$nil?"]())?
t:q(c)?-1:1},h.$$arity=1);c.def(k,"$alias_method",u=function(a,b){c.alias(this,a,b);return this},u.$$arity=2);c.def(k,"$alias_native",pa=function(a,b){null==b&&(b=a);c.alias_native(this,a,b);return this},pa.$$arity=-2);c.def(k,"$ancestors",ha=function(){return c.ancestors(this)},ha.$$arity=0);c.def(k,"$append_features",da=function(a){c.append_features(this,a);return this},da.$$arity=1);c.def(k,"$attr_accessor",G=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-
0]=arguments[e];x(this,"attr_reader",c.to_a(b));return x(this,"attr_writer",c.to_a(b))},G.$$arity=-1);c.alias(k,"attr","attr_accessor");c.def(k,"$attr_reader",ka=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.prototype;for(e=b.length-1;0<=e;e--){var f=b[e],k="$"+f,f=c.ivar(f),H=function(a){return function(){return null==this[a]?t:this[a]}}(f);c.defineProperty(d,f,t);H.$$parameters=[];H.$$arity=0;c.defn(this,k,H)}return t},ka.$$arity=
-1);c.def(k,"$attr_writer",T=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.prototype;for(e=b.length-1;0<=e;e--){var f=b[e],k="$"+f+"=",f=c.ivar(f),H=function(a){return function(c){return this[a]=c}}(f);H.$$parameters=[["req"]];H.$$arity=1;c.defineProperty(d,f,t);c.defn(this,k,H)}return t},T.$$arity=-1);c.def(k,"$autoload",sa=function(a,b){null==this.$$autoload&&(this.$$autoload={});c.const_cache_version++;this.$$autoload[a]=b;return t},
sa.$$arity=2);c.def(k,"$class_variables",na=function(){return Object.keys(c.class_variables(this))},na.$$arity=0);c.def(k,"$class_variable_get",J=function(a){a=p(l,"Opal")["$class_variable_name!"](a);var b=c.class_variables(this)[a];null==b&&this.$raise(p(l,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return b},J.$$arity=1);c.def(k,"$class_variable_set",w=function(a,b){a=p(l,"Opal")["$class_variable_name!"](a);return c.class_variable_set(this,a,b)},w.$$arity=2);c.def(k,"$class_variable_defined?",
C=function(a){a=p(l,"Opal")["$class_variable_name!"](a);return c.class_variables(this).hasOwnProperty(a)},C.$$arity=1);c.def(k,"$remove_class_variable",U=function(a){a=p(l,"Opal")["$class_variable_name!"](a);if(c.hasOwnProperty.call(this.$$cvars,a)){var b=this.$$cvars[a];delete this.$$cvars[a];return b}this.$raise(p(l,"NameError"),"cannot remove "+a+" for "+this)},U.$$arity=1);c.def(k,"$constants",F=function(a){null==a&&(a=!0);return c.constants(this,a)},F.$$arity=-1);c.defs(k,"$constants",Q=function(a){if(null==
a){a=(this.$$nesting||[]).concat(c.Object);var b,d={},e,f;e=0;for(f=a.length;e<f;e++)for(b in a[e].$$const)d[b]=!0;return Object.keys(d)}return c.constants(this,a)},Q.$$arity=-1);c.defs(k,"$nesting",ba=function(){return this.$$nesting||[]},ba.$$arity=0);c.def(k,"$const_defined?",la=function(a,b){null==b&&(b=!0);a=p(l,"Opal")["$const_name!"](a);q(a["$=~"](y(p(l,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(p(l,"NameError").$new("wrong constant name "+a,a));var d,e=[this],f,k;b&&(e=e.concat(c.ancestors(this)),
this.$$is_module&&(e=e.concat([c.Object]).concat(c.ancestors(c.Object))));f=0;for(k=e.length;f<k;f++)if(d=e[f],null!=d.$$const[a])return!0;return!1},la.$$arity=-2);c.def(k,"$const_get",Z=function(a,b){var d;null==b&&(b=!0);a=p(l,"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(q(-1!=a.indexOf("::")&&"::"!=a))return x(a.$split("::"),"inject",[this],(d=function(a,c){null==a&&(a=t);null==c&&(c=t);return a.$const_get(c)},d.$$s=this,d.$$arity=2,d));q(a["$=~"](y(p(l,"Opal"),"CONST_NAME_REGEXP")))||
this.$raise(p(l,"NameError").$new("wrong constant name "+a,a));return b?p([this],a):c.const_get_local(this,a)},Z.$$arity=-2);c.def(k,"$const_missing",N=function(a){var c=t;if(this.$$autoload&&(c=this.$$autoload[a]))return this.$require(c),this.$const_get(a);c=this["$=="](p(l,"Object"))?a:""+this+"::"+a;return this.$raise(p(l,"NameError").$new("uninitialized constant "+c,a))},N.$$arity=1);c.def(k,"$const_set",V=function(a,b){var d;a=p(l,"Opal")["$const_name!"](a);q(q(d=a["$!~"](y(p(l,"Opal"),"CONST_NAME_REGEXP")))?
d:a["$start_with?"]("::"))&&this.$raise(p(l,"NameError").$new("wrong constant name "+a,a));c.const_set(this,a,b);return b},V.$$arity=2);c.def(k,"$public_constant",L=function(a){return t},L.$$arity=1);c.def(k,"$define_method",K=function(a,b){var d,e,f=this,k=K.$$p,H=k||t,h=t;k&&(K.$$p=null);q(void 0===b&&H===t)&&f.$raise(p(l,"ArgumentError"),"tried to create a Proc object without a block");H=q(d=H)?d:function(){h=b;return p(l,"Proc")["$==="](h)?b:p(l,"Method")["$==="](h)?b.$to_proc().$$unbound:p(l,
"UnboundMethod")["$==="](h)?E((e=function(a){var d=e.$$s||this,f,H=t,H=arguments.length;f=H-0;0>f&&(f=0);f=Array(f);for(var k=0;k<H;k++)f[k-0]=arguments[k];H=b.$bind(d);return x(H,"call",c.to_a(f))},e.$$s=f,e.$$arity=-1,e)):f.$raise(p(l,"TypeError"),"wrong argument type "+H.$class()+" (expected Proc/Method)")}();H.$$jsid=a;H.$$s=null;H.$$def=H;H.$$define_meth=!0;c.defn(f,"$"+a,H);return a},K.$$arity=-2);c.def(k,"$remove_method",W=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=
0;e<d;e++)b[e-0]=arguments[e];d=0;for(e=b.length;d<e;d++)c.rdef(this,"$"+b[d]);return this},W.$$arity=-1);c.def(k,"$singleton_class?",qa=function(){return!!this.$$is_singleton},qa.$$arity=0);c.def(k,"$include",ga=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(b=c.length-1;0<=b;b--)d=c[b],d.$$is_module||this.$raise(p(l,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)"),d.$append_features(this),d.$included(this);return this},
ga.$$arity=-1);c.def(k,"$included_modules",ja=function(){return c.included_modules(this)},ja.$$arity=0);c.def(k,"$include?",aa=function(a){a.$$is_module||this.$raise(p(l,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var b,d,e,f=c.ancestors(this);b=0;for(d=f.length;b<d;b++)if(e=f[b],e===a&&e!==this)return!0;return!1},aa.$$arity=1);c.def(k,"$instance_method",R=function(a){var c=this.prototype["$"+a];c&&!c.$$stub||this.$raise(p(l,"NameError").$new("undefined method `"+a+"' for class `"+
this.$name()+"'",a));return p(l,"UnboundMethod").$new(this,c.$$owner||this,c,a)},R.$$arity=1);c.def(k,"$instance_methods",D=function(a){null==a&&(a=!0);return q(a)?c.instance_methods(this):c.own_instance_methods(this)},D.$$arity=-1);c.def(k,"$included",ia=function(a){return t},ia.$$arity=1);c.def(k,"$extended",ea=function(a){return t},ea.$$arity=1);c.def(k,"$extend_object",fa=function(a){return t},fa.$$arity=1);c.def(k,"$method_added",ca=function(a){return t},ca.$$arity=-1);c.def(k,"$method_removed",
Y=function(a){return t},Y.$$arity=-1);c.def(k,"$method_undefined",va=function(a){return t},va.$$arity=-1);c.def(k,"$module_eval",ma=function(b){var d,e,f,k=ma.$$p,h=k||t,H=t,P=f=f=f=t,H=arguments.length;f=H-0;0>f&&(f=0);f=Array(f);for(var g=0;g<H;g++)f[g-0]=arguments[g];k&&(ma.$$p=null);q(q(d=h["$nil?"]())?!!c.compile:d)?(q(v(1,3,!1)["$cover?"](f.$size()))||p(l,"Kernel").$raise(p(l,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(c.to_a(f)),H=null==d[0]?t:d[0],f=null==d[1]?t:
d[1],d,f=a(["file","eval"],{file:q(d=f)?d:"(eval)",eval:!0}),f=c.hash({arity_check:!1}).$merge(f),P=p(l,"Opal").$compile(H,f),h=x(p(l,"Kernel"),"proc",[],(e=function(){return function(a){return eval(P)}(e.$$s||this)},e.$$s=this,e.$$arity=0,e))):q(f["$any?"]())&&p(l,"Kernel").$raise(p(l,"ArgumentError"),""+("wrong number of arguments ("+f.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");d=h.$$s;h.$$s=null;k=h.apply(this,
[this]);h.$$s=d;return k},ma.$$arity=-1);c.alias(k,"class_eval","module_eval");c.def(k,"$module_exec",ta=function(a){var c,b=ta.$$p,d=b||t,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];b&&(ta.$$p=null);d===t&&this.$raise(p(l,"LocalJumpError"),"no block given");b=d.$$s;d.$$s=null;c=d.apply(this,c);d.$$s=b;return c},ta.$$arity=-1);c.alias(k,"class_exec","module_exec");c.def(k,"$method_defined?",ya=function(a){a=this.prototype["$"+a];return!!a&&!a.$$stub},ya.$$arity=
1);c.def(k,"$module_function",oa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(0===b.length)this.$$module_function=!0;else for(d=0,e=b.length;d<e;d++){var f="$"+b[d];c.defs(this,f,this.prototype[f])}return this},oa.$$arity=-1);c.def(k,"$name",Ia=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],b=this;b;){if(b.$$name===t||null==b.$$name)return t;a.unshift(b.$$name);b=b.$$base_module;if(b===c.Object)break}return 0===a.length?
t:this.$$full_name=a.join("::")},Ia.$$arity=0);c.def(k,"$prepend",Ca=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];0===c.length&&this.$raise(p(l,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(b=c.length-1;0<=b;b--)d=c[b],d.$$is_module||this.$raise(p(l,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)"),d.$prepend_features(this),d.$prepended(this);return this},Ca.$$arity=-1);c.def(k,"$prepend_features",
Ha=function(a){this.$$is_module||this.$raise(p(l,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");c.prepend_features(this,a);return this},Ha.$$arity=1);c.def(k,"$prepended",za=function(a){return t},za.$$arity=1);c.def(k,"$remove_const",Fa=function(a){return c.const_remove(this,a)},Fa.$$arity=1);c.def(k,"$to_s",Ga=function(){var a;return q(a=c.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ga.$$arity=0);c.def(k,"$undef_method",
Ea=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=0;for(e=b.length;d<e;d++)c.udef(this,"$"+b[d]);return this},Ea.$$arity=-1);c.def(k,"$instance_variables",Ba=function(){var a=t,a=(c.Module.$$nesting=l,this.$constants()),b=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&b.push("@"+d);return b},Ba.$$arity=0);c.def(k,"$dup",wa=function(){var a=wa.$$p,b=t,d=b=t,e=t;a&&(wa.$$p=null);d=0;e=arguments.length;
for(b=Array(e);d<e;d++)b[d]=arguments[d];b=x(this,c.find_super_dispatcher(this,"dup",wa,!1),b,a);b.$copy_class_variables(this);b.$copy_constants(this);return b},wa.$$arity=0);c.def(k,"$copy_class_variables",Da=function(a){for(var c in a.$$cvars)this.$$cvars[c]=a.$$cvars[c]},Da.$$arity=1);return(c.def(k,"$copy_constants",Aa=function(a){var b;a=a.$$const;for(b in a)c.const_set(this,b,a[b])},Aa.$$arity=1),t)&&"copy_constants"}(D[0],null,D)},Opal.modules["corelib/class"]=function(c){var A=c.top,D=[],
t=c.nil,y=c.const_get_relative,p=c.klass,m=c.send;c.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));A.$require("corelib/module");return function(x,$super,E){function v(){}x=v=p(x,$super,"Class",v);var a=[x].concat(E),k,B,M,z,l,g,b;c.defs(x,"$new",k=function(b){var f=k.$$p,g=f||t;null==b&&(b=y(a,"Object"));f&&(k.$$p=null);if(!b.$$is_class)throw c.TypeError.$new("superclass must be a Class");f=c.allocate_class(t,b,function(){});b.$inherited(f);g!==t&&m(f,
"class_eval",[],g.$to_proc());return f},k.$$arity=-1);c.def(x,"$allocate",B=function(){var a=new this;a.$$id=c.uid();return a},B.$$arity=0);c.def(x,"$inherited",M=function(a){return t},M.$$arity=1);c.def(x,"$initialize_dup",z=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},z.$$arity=1);c.def(x,"$new",l=function(a){var b,k=l.$$p,g=k||t,r=arguments.length;b=r-0;0>b&&(b=0);b=Array(b);for(var e=0;e<r;e++)b[e-0]=arguments[e];k&&(l.$$p=null);k=this.$allocate();c.send(k,k.$initialize,
b,g);return k},l.$$arity=-1);c.def(x,"$superclass",g=function(){return this.$$super||t},g.$$arity=0);return(c.def(x,"$to_s",b=function(){b.$$p&&(b.$$p=null);var a=this.$$singleton_of;return a&&a.$$is_a_module?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+c.id(a).$to_s(16)+">>":m(this,c.find_super_dispatcher(this,"to_s",b,!1),[],null)},b.$$arity=0),t)&&"to_s"}(D[0],null,D)},Opal.modules["corelib/basic_object"]=function(c){var A=[],D=c.nil,t=c.const_get_qualified,y=c.klass,p=c.truthy,
m=c.range,x=c.hash2,q=c.send;c.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(E,$super,a){function k(){}E=k=y(E,$super,"BasicObject",k);[E].concat(a);var B,M,z,l,g,b,d,f,n,S,r,e,h,u;c.def(E,"$initialize",B=function(a){return D},B.$$arity=-1);c.def(E,"$==",M=function(a){return this===a},M.$$arity=1);c.def(E,"$eql?",z=function(a){return this["$=="](a)},z.$$arity=1);c.alias(E,"equal?","==");c.def(E,"$__id__",l=function(){if(null!=this.$$id)return this.$$id;
c.defineProperty(this,"$$id",c.uid());return this.$$id},l.$$arity=0);c.def(E,"$__send__",g=function(a,c){var b,d=g.$$p,e=d||D,f=arguments.length;b=f-1;0>b&&(b=0);b=Array(b);for(var k=1;k<f;k++)b[k-1]=arguments[k];d&&(g.$$p=null);if(d=this["$"+a])return e!==D&&(d.$$p=e),d.apply(this,b);e!==D&&(this.$method_missing.$$p=e);return this.$method_missing.apply(this,[a].concat(b))},g.$$arity=-2);c.def(E,"$!",b=function(){return!1},b.$$arity=0);c.def(E,"$!=",d=function(a){return this["$=="](a)["$!"]()},d.$$arity=
1);c.def(E,"$instance_eval",f=function(a){var b,d,e,k=f.$$p,h=k||D,g=D,l=e=e=e=D,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var r=0;r<g;r++)e[r-0]=arguments[r];k&&(f.$$p=null);p(p(b=h["$nil?"]())?!!c.compile:b)?(p(m(1,3,!1)["$cover?"](e.$size()))||t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=[].concat(c.to_a(e)),g=null==b[0]?D:b[0],e=null==b[1]?D:b[1],b,e=x(["file","eval"],{file:p(b=e)?b:"(eval)",eval:!0}),e=c.hash({arity_check:!1}).$merge(e),
l=t("::","Opal").$compile(g,e),h=q(t("::","Kernel"),"proc",[],(d=function(){return function(a){return eval(l)}(d.$$s||this)},d.$$s=this,d.$$arity=0,d))):p(e["$any?"]())&&t("::","Kernel").$raise(t("::","ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)");b=h.$$s;var n;h.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{n=h.call(this,this)}finally{this.$$eval=!1}}else n=h.call(this,this);h.$$s=b;return n},f.$$arity=-1);c.def(E,"$instance_exec",n=function(a){var c,b=n.$$p,d=b||D,e=arguments.length;
c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];b&&(n.$$p=null);p(d)||t("::","Kernel").$raise(t("::","ArgumentError"),"no block given");var b=d.$$s,k;d.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{k=d.apply(this,c)}finally{this.$$eval=!1}}else k=d.apply(this,c);d.$$s=b;return k},n.$$arity=-1);c.def(E,"$singleton_method_added",S=function(a){return D},S.$$arity=-1);c.def(E,"$singleton_method_removed",r=function(a){return D},r.$$arity=-1);c.def(E,"$singleton_method_undefined",
e=function(a){return D},e.$$arity=-1);c.def(E,"$class",h=function(){return this.$$class},h.$$arity=0);return(c.def(E,"$method_missing",u=function(a,c){var b,d=u.$$p,e=D,e=arguments.length;b=e-1;0>b&&(b=0);b=Array(b);for(var f=1;f<e;f++)b[f-1]=arguments[f];d&&(u.$$p=null);e=p(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return t("::","Kernel").$raise(t("::","NoMethodError").$new(e,a))},u.$$arity=
-2),D)&&"method_missing"}(A[0],null,A)},Opal.modules["corelib/kernel"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var D=[],t=c.nil,y=c.const_get_qualified,p=c.const_get_relative,m=c.module,x=c.truthy,q=c.gvars,E=c.hash2,v=c.send,a=c.klass;c.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(a,B){function M(){}var z=M=m(a,"Kernel",M),l=[z].concat(B),g,b,d,f,n,S,r,e,h,u,pa,ha,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,D,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa;c.def(z,"$method_missing",g=function(a,c){var b,d=g.$$p,e=arguments.length;b=e-1;0>b&&(b=0);b=Array(b);for(var f=1;f<e;f++)b[f-1]=arguments[f];d&&(g.$$p=null);return this.$raise(p(l,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,b))},g.$$arity=
-2);c.def(z,"$=~",b=function(a){return!1},b.$$arity=1);c.def(z,"$!~",d=function(a){return this["$=~"](a)["$!"]()},d.$$arity=1);c.def(z,"$===",f=function(a){var c;return x(c=this.$object_id()["$=="](a.$object_id()))?c:this["$=="](a)},f.$$arity=1);c.def(z,"$<=>",n=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==t?0:t},n.$$arity=1);c.def(z,"$method",S=function(a){var c=this["$"+a];c&&!c.$$stub||this.$raise(p(l,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",
a));return p(l,"Method").$new(this,c.$$owner||this.$class(),c,a)},S.$$arity=1);c.def(z,"$methods",r=function(a){null==a&&(a=!0);return x(a)?c.methods(this):c.own_methods(this)},r.$$arity=-1);c.alias(z,"public_methods","methods");c.def(z,"$Array",e=function(a){var c;if(a===t)return[];if(a.$$is_array)return a;c=p(l,"Opal")["$coerce_to?"](a,p(l,"Array"),"to_ary");if(c!==t)return c;c=p(l,"Opal")["$coerce_to?"](a,p(l,"Array"),"to_a");return c!==t?c:[a]},e.$$arity=1);c.def(z,"$at_exit",h=function(){var a,
c=h.$$p,b=c||t;null==q.__at_exit__&&(q.__at_exit__=t);c&&(h.$$p=null);q.__at_exit__=x(a=q.__at_exit__)?a:[];return q.__at_exit__["$<<"](b)},h.$$arity=0);c.def(z,"$caller",u=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return[]},u.$$arity=-1);c.def(z,"$class",pa=function(){return this.$$class},pa.$$arity=0);c.def(z,"$copy_instance_variables",ha=function(a){var c=Object.keys(a),b,d,e;b=0;for(d=c.length;b<d;b++)e=c[b],"$"!==e.charAt(0)&&a.hasOwnProperty(e)&&
(this[e]=a[e])},ha.$$arity=1);c.def(z,"$copy_singleton_methods",da=function(a){var b,d,e,f;if(a.hasOwnProperty("$$meta")){var k=c.get_singleton_class(a),h=c.get_singleton_class(this);e=Object.getOwnPropertyNames(k.prototype);b=0;for(f=e.length;b<f;b++)d=e[b],c.is_method(d)&&(h.prototype[d]=k.prototype[d]);h.$$const=Object.assign({},k.$$const);Object.setPrototypeOf(h.prototype,Object.getPrototypeOf(k.prototype))}b=0;e=Object.getOwnPropertyNames(a);for(f=e.length;b<f;b++)d=e[b],"$"===d.charAt(0)&&"$"!==
d.charAt(1)&&a.hasOwnProperty(d)&&(this[d]=a[d])},da.$$arity=1);c.def(z,"$clone",G=function(a){var b=t;if(null==a||!a.$$is_hash)if(null==a)E([],{});else throw c.ArgumentError.$new("expected kwargs");b=this.$class().$allocate();b.$copy_instance_variables(this);b.$copy_singleton_methods(this);b.$initialize_clone(this);return b},G.$$arity=-1);c.def(z,"$initialize_clone",ka=function(a){return this.$initialize_copy(a)},ka.$$arity=1);c.def(z,"$define_singleton_method",T=function(a,c){var b=T.$$p,d=b||t;
b&&(T.$$p=null);return v(this.$singleton_class(),"define_method",[a,c],d.$to_proc())},T.$$arity=-2);c.def(z,"$dup",sa=function(){var a=t,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},sa.$$arity=0);c.def(z,"$initialize_dup",na=function(a){return this.$initialize_copy(a)},na.$$arity=1);c.def(z,"$enum_for",J=function(a,b){var d,e=J.$$p,f=e||t;null==a&&(a="each");var k=arguments.length;d=k-1;0>d&&(d=0);d=Array(d);for(var h=1;h<k;h++)d[h-1]=arguments[h];
e&&(J.$$p=null);return v(p(l,"Enumerator"),"for",[this,a].concat(c.to_a(d)),f.$to_proc())},J.$$arity=-1);c.alias(z,"to_enum","enum_for");c.def(z,"$equal?",w=function(a){return this===a},w.$$arity=1);c.def(z,"$exit",C=function(a){var b,d=t;null==q.__at_exit__&&(q.__at_exit__=t);null==a&&(a=!0);for(q.__at_exit__=x(b=q.__at_exit__)?b:[];!x(q.__at_exit__["$empty?"]());)d=q.__at_exit__.$pop(),d.$call();a=null==a?0:a.$$is_boolean?a?0:1:a.$$is_number?a.$to_i():0;c.exit(a);return t},C.$$arity=-1);c.def(z,
"$extend",U=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=this.$singleton_class();for(d=c.length-1;0<=d;d--){var e=c[d];e.$$is_module||this.$raise(p(l,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)");e.$append_features(b);e.$extend_object(this);e.$extended(this)}return this},U.$$arity=-1);c.def(z,"$format",F=function(a,c){function b(){F&32&&n.$raise(p(l,"ArgumentError"),"flag after width");F&128&&n.$raise(p(l,"ArgumentError"),
"flag after precision")}function d(){F&32&&n.$raise(p(l,"ArgumentError"),"width given twice");F&128&&n.$raise(p(l,"ArgumentError"),"width after precision")}function e(a){a>=u.length&&n.$raise(p(l,"ArgumentError"),"too few arguments");return u[a]}function f(){switch(xa){case -1:n.$raise(p(l,"ArgumentError"),"unnumbered("+U+") mixed with numbered");case -2:n.$raise(p(l,"ArgumentError"),"unnumbered("+U+") mixed with named")}xa=U++;return e(xa-1)}function k(a){0<xa&&n.$raise(p(l,"ArgumentError"),"numbered("+
a+") after unnumbered("+xa+")");-2===xa&&n.$raise(p(l,"ArgumentError"),"numbered("+a+") after named");1>a&&n.$raise(p(l,"ArgumentError"),"invalid index - "+a+"$");xa=-1;return e(a-1)}function h(){return void 0===v?f():v}function g(c){var b;for(b="";;G++){G===M&&n.$raise(p(l,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(G)||57<a.charCodeAt(G))return G--,b=parseInt(b,10)||0,2147483647<b&&n.$raise(p(l,"ArgumentError"),""+c+" too big"),b;b+=a.charAt(G)}}function r(c){c=g(c);
"$"===a.charAt(G+1)?(G++,c=k(c)):c=f();return c.$to_int()}var n=this,u,B=t;null==q.DEBUG&&(q.DEBUG=t);var B=arguments.length,z=B-1;0>z&&(z=0);u=Array(z);for(z=1;z<B;z++)u[z-1]=arguments[z];x(u.$length()["$=="](1)?u["$[]"](0)["$respond_to?"]("to_ary"):u.$length()["$=="](1))&&(B=p(l,"Opal")["$coerce_to?"](u["$[]"](0),p(l,"Array"),"to_ary"),x(B["$nil?"]())||(u=B.$to_a()));var B="",z=0,m,G,M=a.length,L,w,C,Q,K,S,pa,ga,wa,v,U=1,xa=0,F;for(G=a.indexOf("%");-1!==G;G=a.indexOf("%",G)){w=void 0;F=0;K=Q=-1;
v=void 0;m=G;G++;switch(a.charAt(G)){case "%":z=G;case "":case "\n":case "\x00":G++;continue}a:for(;G<M;G++)switch(a.charAt(G)){case " ":b();F|=16;continue a;case "#":b();F|=1;continue a;case "+":b();F|=4;continue a;case "-":b();F|=2;continue a;case "0":b();F|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":L=g("width");if("$"===a.charAt(G+1)){if(G+2===M){w="%";G++;break a}void 0!==v&&n.$raise(p(l,"ArgumentError"),"value given twice - %"+L+"$");v=k(L);
G++}else d(),F|=32,Q=L;continue a;case "<":case "{":for(C="<"===a.charAt(G)?">":"}",L="",G++;;G++){G===M&&n.$raise(p(l,"ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(G)===C)if(0<xa&&n.$raise(p(l,"ArgumentError"),"named "+L+" after unnumbered("+xa+")"),-1===xa&&n.$raise(p(l,"ArgumentError"),"named "+L+" after numbered"),xa=-2,void 0!==u[0]&&u[0].$$is_hash||n.$raise(p(l,"ArgumentError"),"one hash required"),v=u[0].$fetch(L),">"===C)continue a;else{w=v.toString();-1!==K&&(w=w.slice(0,
K));if(F&2)for(;w.length<Q;)w+=" ";else for(;w.length<Q;)w=" "+w;break a}L+=a.charAt(G)}case "*":G++;d();F|=32;Q=r("width");0>Q&&(F|=2,Q=-Q);continue a;case ".":F&128&&n.$raise(p(l,"ArgumentError"),"precision given twice");F|=192;K=0;G++;if("*"===a.charAt(G)){G++;K=r("precision");0>K&&(F&=-65);continue a}K=g("precision");continue a;case "d":case "i":case "u":L=n.$Integer(h());if(0<=L){for(w=L.toString();w.length<K;)w="0"+w;if(F&2){if(F&4||F&16)w=(F&4?"+":" ")+w;for(;w.length<Q;)w+=" "}else if(F&8&&
-1===K){for(;w.length<Q-(F&4||F&16?1:0);)w="0"+w;if(F&4||F&16)w=(F&4?"+":" ")+w}else{if(F&4||F&16)w=(F&4?"+":" ")+w;for(;w.length<Q;)w=" "+w}}else{for(w=(-L).toString();w.length<K;)w="0"+w;if(F&2)for(w="-"+w;w.length<Q;)w+=" ";else if(F&8&&-1===K){for(;w.length<Q-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<Q;)w=" "+w}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(G)){case "b":case "B":S=2;pa="0b";ga=/^1+/;wa="1";break;case "o":S=8;pa="0";ga=/^3?7+/;wa="7";break;case "x":case "X":S=
16,pa="0x",ga=/^f+/,wa="f"}L=n.$Integer(h());if(0<=L){for(w=L.toString(S);w.length<K;)w="0"+w;if(F&2){if(F&4||F&16)w=(F&4?"+":" ")+w;for(F&1&&0!==L&&(w=pa+w);w.length<Q;)w+=" "}else if(F&8&&-1===K){for(;w.length<Q-(F&4||F&16?1:0)-(F&1&&0!==L?pa.length:0);)w="0"+w;F&1&&0!==L&&(w=pa+w);if(F&4||F&16)w=(F&4?"+":" ")+w}else{F&1&&0!==L&&(w=pa+w);if(F&4||F&16)w=(F&4?"+":" ")+w;for(;w.length<Q;)w=" "+w}}else if(F&4||F&16){for(w=(-L).toString(S);w.length<K;)w="0"+w;if(F&2)for(F&1&&(w=pa+w),w="-"+w;w.length<
Q;)w+=" ";else if(F&8&&-1===K){for(;w.length<Q-1-(F&1?2:0);)w="0"+w;F&1&&(w=pa+w);w="-"+w}else for(F&1&&(w=pa+w),w="-"+w;w.length<Q;)w=" "+w}else{for(w=(L>>>0).toString(S).replace(ga,wa);w.length<K-2;)w=wa+w;if(F&2)for(w=".."+w,F&1&&(w=pa+w);w.length<Q;)w+=" ";else if(F&8&&-1===K){for(;w.length<Q-2-(F&1?pa.length:0);)w=wa+w;w=".."+w;F&1&&(w=pa+w)}else for(w=".."+w,F&1&&(w=pa+w);w.length<Q;)w=" "+w}a.charAt(G)===a.charAt(G).toUpperCase()&&(w=w.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":L=
n.$Float(h());if(0<=L||isNaN(L)){if(Infinity===L)w="Inf";else switch(a.charAt(G)){case "f":w=L.toFixed(-1===K?6:K);break;case "e":case "E":w=L.toExponential(-1===K?6:K);break;case "g":case "G":w=L.toExponential(),C=parseInt(w.split("e")[1],10),-4>C||C>=(-1===K?6:K)||(w=L.toPrecision(-1===K?F&1?6:void 0:K))}if(F&2){if(F&4||F&16)w=(F&4?"+":" ")+w;for(;w.length<Q;)w+=" "}else if(F&8&&Infinity!==L&&!isNaN(L)){for(;w.length<Q-(F&4||F&16?1:0);)w="0"+w;if(F&4||F&16)w=(F&4?"+":" ")+w}else{if(F&4||F&16)w=
(F&4?"+":" ")+w;for(;w.length<Q;)w=" "+w}}else{if(-Infinity===L)w="Inf";else switch(a.charAt(G)){case "f":w=(-L).toFixed(-1===K?6:K);break;case "e":case "E":w=(-L).toExponential(-1===K?6:K);break;case "g":case "G":w=(-L).toExponential(),C=parseInt(w.split("e")[1],10),-4>C||C>=(-1===K?6:K)||(w=(-L).toPrecision(-1===K?F&1?6:void 0:K))}if(F&2)for(w="-"+w;w.length<Q;)w+=" ";else if(F&8&&-Infinity!==L){for(;w.length<Q-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<Q;)w=" "+w}a.charAt(G)!==a.charAt(G).toUpperCase()||
Infinity===L||-Infinity===L||isNaN(L)||(w=w.toUpperCase());w=w.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":n.$raise(p(l,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":L=h();L["$respond_to?"]("to_ary")&&(L=L.$to_ary()[0]);w=L["$respond_to?"]("to_str")?L.$to_str():String.fromCharCode(p(l,"Opal").$coerce_to(L,p(l,"Integer"),"to_int"));1!==w.length&&n.$raise(p(l,"ArgumentError"),"%c requires a character");if(F&2)for(;w.length<Q;)w+=
" ";else for(;w.length<Q;)w=" "+w;break a;case "p":w=h().$inspect();-1!==K&&(w=w.slice(0,K));if(F&2)for(;w.length<Q;)w+=" ";else for(;w.length<Q;)w=" "+w;break a;case "s":w=h().$to_s();-1!==K&&(w=w.slice(0,K));if(F&2)for(;w.length<Q;)w+=" ";else for(;w.length<Q;)w=" "+w;break a;default:n.$raise(p(l,"ArgumentError"),"malformed format string - %"+a.charAt(G))}void 0===w&&n.$raise(p(l,"ArgumentError"),"malformed format string - %");B+=a.slice(z,m)+w;z=G+1}q.DEBUG&&0<=xa&&U<u.length&&n.$raise(p(l,"ArgumentError"),
"too many arguments for format string");return B+a.slice(z)},F.$$arity=-2);c.def(z,"$hash",Q=function(){return this.$__id__()},Q.$$arity=0);c.def(z,"$initialize_copy",ba=function(a){return t},ba.$$arity=1);c.def(z,"$inspect",la=function(){return this.$to_s()},la.$$arity=0);c.def(z,"$instance_of?",Z=function(a){a.$$is_class||a.$$is_module||this.$raise(p(l,"TypeError"),"class or module required");return this.$$class===a},Z.$$arity=1);c.def(z,"$instance_variable_defined?",N=function(a){a=p(l,"Opal")["$instance_variable_name!"](a);
return c.hasOwnProperty.call(this,a.substr(1))},N.$$arity=1);c.def(z,"$instance_variable_get",V=function(a){a=p(l,"Opal")["$instance_variable_name!"](a);a=this[c.ivar(a.substr(1))];return null==a?t:a},V.$$arity=1);c.def(z,"$instance_variable_set",L=function(a,b){a=p(l,"Opal")["$instance_variable_name!"](a);return this[c.ivar(a.substr(1))]=b},L.$$arity=2);c.def(z,"$remove_instance_variable",K=function(a){a=p(l,"Opal")["$instance_variable_name!"](a);var b=c.ivar(a.substr(1));return this.hasOwnProperty(b)?
(a=this[b],delete this[b],a):this.$raise(p(l,"NameError"),"instance variable "+a+" not defined")},K.$$arity=1);c.def(z,"$instance_variables",W=function(){var a=[],c,b;for(b in this)this.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(c="$"===b.substr(-1)?b.slice(0,b.length-1):b,a.push("@"+c));return a},W.$$arity=0);c.def(z,"$Integer",qa=function(a,c){var b=this,d,e;if(!a.$$is_string)return void 0!==c&&b.$raise(p(l,"ArgumentError"),"base specified for non string value"),a===t&&b.$raise(p(l,"TypeError"),"can't convert nil into Integer"),
a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&b.$raise(p(l,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(d=a.$to_int(),d!==t)?d:p(l,"Opal")["$coerce_to!"](a,p(l,"Integer"),"to_i");if("0"===a)return 0;void 0===c?c=0:(c=p(l,"Opal").$coerce_to(c,p(l,"Integer"),"to_int"),(1===c||0>c||36<c)&&b.$raise(p(l,"ArgumentError"),"invalid radix "+c));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,e,f){switch(f){case "0b":if(0===
c||2===c)return c=2,e;case "0":case "0o":if(0===c||8===c)return c=8,e;case "0d":if(0===c||10===c)return c=10,e;case "0x":if(0===c||16===c)return c=16,e}b.$raise(p(l,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});c=0===c?10:c;e="0-"+(10>=c?c-1:"9a-"+String.fromCharCode(97+(c-11)));(new RegExp("^\\s*[+-]?["+e+"]+\\s*$")).test(d)||b.$raise(p(l,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,c);isNaN(d)&&b.$raise(p(l,"ArgumentError"),'invalid value for Integer(): "'+
a+'"');return d},qa.$$arity=-2);c.def(z,"$Float",ga=function(a){var c;a===t&&this.$raise(p(l,"TypeError"),"can't convert nil into Float");if(a.$$is_string){c=a.toString();c=c.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(c))return this.$Integer(c);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(c)||this.$raise(p(l,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(c)}return p(l,"Opal")["$coerce_to!"](a,p(l,"Float"),"to_f")},ga.$$arity=1);c.def(z,
"$Hash",ja=function(a){var c;return x(x(c=a["$nil?"]())?c:a["$=="]([]))?E([],{}):x(p(l,"Hash")["$==="](a))?a:p(l,"Opal")["$coerce_to!"](a,p(l,"Hash"),"to_hash")},ja.$$arity=1);c.def(z,"$is_a?",aa=function(a){a.$$is_class||a.$$is_module||this.$raise(p(l,"TypeError"),"class or module required");return c.is_a(this,a)},aa.$$arity=1);c.def(z,"$itself",R=function(){return this},R.$$arity=0);c.alias(z,"kind_of?","is_a?");c.def(z,"$lambda",D=function(){var a=D.$$p,b=a||t;a&&(D.$$p=null);return c.lambda(b)},
D.$$arity=0);c.def(z,"$load",ia=function(a){a=p(l,"Opal")["$coerce_to!"](a,p(l,"String"),"to_str");return c.load(a)},ia.$$arity=1);c.def(z,"$loop",ea=function(){var a,b=ea.$$p,d=b||t,e=t;b&&(ea.$$p=null);if(d===t)return v(this,"enum_for",["loop"],(a=function(){return y(p(l,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;x(!0);)try{c.yieldX(d,[])}catch(f){if(c.rescue(f,[p(l,"StopIteration")])){e=f;try{return e.$result()}finally{c.pop_exception()}}else throw f;}return this},ea.$$arity=0);c.def(z,
"$nil?",fa=function(){return!1},fa.$$arity=0);c.alias(z,"object_id","__id__");c.def(z,"$printf",ca=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];x(b["$any?"]())&&this.$print(v(this,"format",c.to_a(b)));return t},ca.$$arity=-1);c.def(z,"$proc",Y=function(){var a=Y.$$p,c=a||t;a&&(Y.$$p=null);x(c)||this.$raise(p(l,"ArgumentError"),"tried to create Proc object without a block");c.$$is_lambda=!1;return c},Y.$$arity=0);c.def(z,"$puts",va=function(a){var b;
null==q.stdout&&(q.stdout=t);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return v(q.stdout,"puts",c.to_a(b))},va.$$arity=-1);c.def(z,"$p",ma=function(a){var c,b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];v(b,"each",[],(c=function(a){null==q.stdout&&(q.stdout=t);null==a&&(a=t);return q.stdout.$puts(a.$inspect())},c.$$s=this,c.$$arity=1,c));return x(A(b.$length(),1))?b["$[]"](0):b},ma.$$arity=-1);c.def(z,"$print",
ta=function(a){var b;null==q.stdout&&(q.stdout=t);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return v(q.stdout,"print",c.to_a(b))},ta.$$arity=-1);c.def(z,"$warn",ya=function(a){var b,d;null==q.VERBOSE&&(q.VERBOSE=t);null==q.stderr&&(q.stderr=t);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return x(x(b=q.VERBOSE["$nil?"]())?b:d["$empty?"]())?t:v(q.stderr,"puts",c.to_a(d))},ya.$$arity=-1);c.def(z,"$raise",
oa=function(a,b,d){null==q["!"]&&(q["!"]=t);null==b&&(b=t);if(null==a&&q["!"]!==t)throw q["!"];null==a?a=p(l,"RuntimeError").$new():a.$$is_string?a=p(l,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(b):a["$is_a?"](p(l,"Exception"))||(a=p(l,"TypeError").$new("exception class/object expected"));q["!"]!==t&&c.exceptions.push(q["!"]);q["!"]=a;throw a;},oa.$$arity=-1);c.alias(z,"fail","raise");c.def(z,"$rand",Ia=function(a){if(void 0===a)return y(p(l,"Random"),"DEFAULT").$rand();
a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return y(p(l,"Random"),"DEFAULT").$rand(a)},Ia.$$arity=-1);c.def(z,"$respond_to?",Ca=function(a,c){null==c&&(c=!1);if(x(this["$respond_to_missing?"](a,c)))return!0;var b=this["$"+a];return"function"!==typeof b||b.$$stub?!1:!0},Ca.$$arity=-2);c.def(z,"$respond_to_missing?",Ha=function(a,c){return!1},Ha.$$arity=-2);c.def(z,"$require",za=function(a){a=p(l,"Opal")["$coerce_to!"](a,p(l,"String"),"to_str");return c.require(a)},
za.$$arity=1);c.def(z,"$require_relative",Fa=function(a){p(l,"Opal")["$try_convert!"](a,p(l,"String"),"to_str");a=p(l,"File").$expand_path(p(l,"File").$join(c.current_file,"..",a));return c.require(a)},Fa.$$arity=1);c.def(z,"$require_tree",Ga=function(a){var b=[];a=p(l,"File").$expand_path(a);a=c.normalize(a);"."===a&&(a="");for(var d in c.modules)d["$start_with?"](a)&&b.push([d,c.require(d)]);return b},Ga.$$arity=1);c.alias(z,"send","__send__");c.alias(z,"public_send","__send__");c.def(z,"$singleton_class",
Ea=function(){return c.get_singleton_class(this)},Ea.$$arity=0);c.def(z,"$sleep",Ba=function(a){null==a&&(a=t);a===t&&this.$raise(p(l,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(p(l,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(p(l,"ArgumentError"),"time interval must be positive");for(var b=c.global.performance?function(){return performance.now()}:function(){return new Date},d=b();b()-d<=1E3*a;);return a},Ba.$$arity=-1);
c.alias(z,"sprintf","format");c.def(z,"$srand",wa=function(a){null==a&&(a=p(l,"Random").$new_seed());return p(l,"Random").$srand(a)},wa.$$arity=-1);c.def(z,"$String",Da=function(a){var c;return x(c=p(l,"Opal")["$coerce_to?"](a,p(l,"String"),"to_str"))?c:p(l,"Opal")["$coerce_to!"](a,p(l,"String"),"to_s")},Da.$$arity=1);c.def(z,"$tap",Aa=function(){var a=Aa.$$p,b=a||t;a&&(Aa.$$p=null);c.yield1(b,this);return this},Aa.$$arity=0);c.def(z,"$to_proc",xa=function(){return this},xa.$$arity=0);c.def(z,"$to_s",
Ja=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ja.$$arity=0);c.def(z,"$catch",La=function(a){var b=La.$$p,d=b||t,e=t;b&&(La.$$p=null);try{return c.yieldX(d,[])}catch(f){if(c.rescue(f,[p(l,"UncaughtThrowError")])){e=f;try{return e.$sym()["$=="](a)?e.$arg():this.$raise()}finally{c.pop_exception()}}else throw f;}},La.$$arity=1);c.def(z,"$throw",Oa=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$raise(p(l,
"UncaughtThrowError"),c)},Oa.$$arity=-1);c.def(z,"$open",Ma=function(a){var b,d=Ma.$$p,e=d||t,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var k=0;k<f;k++)b[k-0]=arguments[k];d&&(Ma.$$p=null);return v(p(l,"File"),"open",c.to_a(b),e.$to_proc())},Ma.$$arity=-1);c.def(z,"$yield_self",Pa=function(){var a,b=Pa.$$p,d=b||t;b&&(Pa.$$p=null);return d===t?v(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):c.yield1(d,this)},Pa.$$arity=0)})(D[0],D);return function(c,$super,
m){function z(){}c=z=a(c,$super,"Object",z);m=[c].concat(m);return c.$include(p(m,"Kernel"))}(D[0],null,D)},Opal.modules["corelib/error"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.klass,p=c.send,m=c.truthy,x=c.module,q=c.hash2;c.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(q,$super,a){function k(){}q=k=y(q,$super,"Exception",k);var B=q.prototype,M=[q].concat(a),z,l,g,b,d,f,n,S,r;B.message=D;var e;c.defs(q,"$new",z=
function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=0<b.length?b[0]:D;f=new this(d);f.name=this.$$name;f.message=d;c.send(f,f.$initialize,b);c.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(f,e);return f},z.$$arity=-1);e=q.$new;c.defs(q,"$exception",l=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return p(this,"new",c.to_a(b))},l.$$arity=-1);c.def(q,"$initialize",
g=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.message=0<c.length?c[0]:D},g.$$arity=-1);c.def(q,"$backtrace",b=function(){if(this.backtrace)return this.backtrace;var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},b.$$arity=0);c.def(q,"$exception",d=function(a){null==a&&(a=D);if(a===D||this===a)return this;var c=this.$clone();c.message=a;return c},d.$$arity=-1);c.def(q,"$message",f=function(){return this.$to_s()},
f.$$arity=0);c.def(q,"$inspect",n=function(){var a=D,a=this.$to_s();return m(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},n.$$arity=0);c.def(q,"$set_backtrace",S=function(a){var c=!0,b,d;if(a===D)this.backtrace=D;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array)for(b=0,d=a.length;b<d;b++){if(!a[b].$$is_string){c=!1;break}}else c=!1;!1===c&&this.$raise(t(M,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},S.$$arity=
1);return(c.def(q,"$to_s",r=function(){var a,c;return m(a=m(c=this.message)?this.message.$to_s():c)?a:this.$class().$to_s()},r.$$arity=0),D)&&"to_s"})(A[0],Error,A);(function(c,$super,a){function k(){}[k=y(c,$super,"ScriptError",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"SyntaxError",k)].concat(a);return D})(A[0],t(A,"ScriptError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"LoadError",k)].concat(a);return D})(A[0],t(A,"ScriptError"),
A);(function(c,$super,a){function k(){}[k=y(c,$super,"NotImplementedError",k)].concat(a);return D})(A[0],t(A,"ScriptError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"SystemExit",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"NoMemoryError",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"SignalException",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}
[k=y(c,$super,"Interrupt",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"SecurityError",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"StandardError",k)].concat(a);return D})(A[0],t(A,"Exception"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"EncodingError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"ZeroDivisionError",k)].concat(a);
return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"NameError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"NoMethodError",k)].concat(a);return D})(A[0],t(A,"NameError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"RuntimeError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"FrozenError",k)].concat(a);return D})(A[0],t(A,"RuntimeError"),
A);(function(c,$super,a){function k(){}[k=y(c,$super,"LocalJumpError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"TypeError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"ArgumentError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"IndexError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}
[k=y(c,$super,"StopIteration",k)].concat(a);return D})(A[0],t(A,"IndexError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"KeyError",k)].concat(a);return D})(A[0],t(A,"IndexError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"RangeError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"FloatDomainError",k)].concat(a);return D})(A[0],t(A,"RangeError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"IOError",k)].concat(a);
return D})(A[0],t(A,"StandardError"),A);(function(c,$super,a){function k(){}[k=y(c,$super,"SystemCallError",k)].concat(a);return D})(A[0],t(A,"StandardError"),A);(function(q,v){function a(){}var k=[a=x(q,"Errno",a)].concat(v);(function(a,$super,k){function l(){}a=l=y(a,$super,"EINVAL",l);[a].concat(k);var g;return(c.defs(a,"$new",g=function(a){var d=g.$$p,f=D;null==a&&(a=D);d&&(g.$$p=null);f="Invalid argument";m(a)&&(a=" - "+a,f="number"===typeof f&&"number"===typeof a?f+a:f["$+"](a));return p(this,
c.find_super_dispatcher(this,"new",g,!1,l),[f],null)},g.$$arity=-1),D)&&"new"})(k[0],t(k,"SystemCallError"),k)})(A[0],A);(function(q,$super,a){function k(){}q=k=y(q,$super,"UncaughtThrowError",k);var B=q.prototype;[q].concat(a);var M;B.sym=D;q.$attr_reader("sym","arg");return(c.def(q,"$initialize",M=function(a){M.$$p&&(M.$$p=null);this.sym=a["$[]"](0);var k;k=a.$length();k="number"===typeof k?1<k:k["$>"](1);m(k)&&(this.arg=a["$[]"](1));return p(this,c.find_super_dispatcher(this,"initialize",M,!1),
["uncaught throw "+this.sym.$inspect()],null)},M.$$arity=1),D)&&"initialize"})(A[0],t(A,"ArgumentError"),A);(function(m,$super,a){function k(){}m=k=y(m,$super,"NameError",k);[m].concat(a);var B;m.$attr_reader("name");return(c.def(m,"$initialize",B=function(a,k){var l=B.$$p;null==k&&(k=D);l&&(B.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",B,!1),[a],null);return this.name=k},B.$$arity=-2),D)&&"initialize"})(A[0],null,A);(function(m,$super,a){function k(){}m=k=y(m,$super,"NoMethodError",
k);[m].concat(a);var B;m.$attr_reader("args");return(c.def(m,"$initialize",B=function(a,k,l){var g=B.$$p;null==k&&(k=D);null==l&&(l=[]);g&&(B.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",B,!1),[a,k],null);return this.args=l},B.$$arity=-2),D)&&"initialize"})(A[0],null,A);(function(c,$super,a){function k(){}c=k=y(c,$super,"StopIteration",k);[c].concat(a);return c.$attr_reader("result")})(A[0],null,A);(function(x,$super,a){function k(){}x=k=y(x,$super,"KeyError",k);var B=x.prototype,M=
[x].concat(a),z,l,g;B.receiver=B.key=D;c.def(x,"$initialize",z=function(a,d){var f,k,g=z.$$p;if(null==d||!d.$$is_hash)if(null==d)d=q([],{});else throw c.ArgumentError.$new("expected kwargs");f=d.$$smap.receiver;null==f&&(f=D);k=d.$$smap.key;null==k&&(k=D);g&&(z.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",z,!1),[a],null);this.receiver=f;return this.key=k},z.$$arity=-2);c.def(x,"$receiver",l=function(){var a;return m(a=this.receiver)?a:this.$raise(t(M,"ArgumentError"),"no receiver is available")},
l.$$arity=0);return(c.def(x,"$key",g=function(){var a;return m(a=this.key)?a:this.$raise(t(M,"ArgumentError"),"no key is available")},g.$$arity=0),D)&&"key"})(A[0],null,A);return function(c,m){function a(){}var k=[a=x(c,"JS",a)].concat(m);(function(a,$super,c){function k(){}[k=y(a,$super,"Error",k)].concat(c);return D})(k[0],null,k)}(A[0],A)},Opal.modules["corelib/constants"]=function(c){var A=[],D=c.const_get_relative;c.const_set(A[0],"RUBY_PLATFORM","opal");c.const_set(A[0],"RUBY_ENGINE","opal");
c.const_set(A[0],"RUBY_VERSION","2.5.0");c.const_set(A[0],"RUBY_ENGINE_VERSION","0.11.1.dev");c.const_set(A[0],"RUBY_RELEASE_DATE","2018-03-06");c.const_set(A[0],"RUBY_PATCHLEVEL",0);c.const_set(A[0],"RUBY_REVISION",0);c.const_set(A[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return c.const_set(A[0],"RUBY_DESCRIPTION","opal "+D(A,"RUBY_ENGINE_VERSION")+" ("+D(A,"RUBY_RELEASE_DATE")+" revision "+D(A,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(c){var A=c.top;c.add_stubs(["$require"]);
A.$require("corelib/runtime");A.$require("corelib/helpers");A.$require("corelib/module");A.$require("corelib/class");A.$require("corelib/basic_object");A.$require("corelib/kernel");A.$require("corelib/error");return A.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.klass,p=c.hash2,m=c.truthy;c.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(x,$super,A){function v(){}x=v=y(x,$super,"NilClass",v);var a=x.prototype,
k=[x].concat(A),B,M,z,l,g,b,d,f,n,S,r,e,h,u,pa,ha,da,G;a.$$meta=x;(function(a,b){var d=[a].concat(b),e;c.def(a,"$allocate",e=function(){return this.$raise(t(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);c.udef(a,"$new");return D})(c.get_singleton_class(x),k);c.def(x,"$!",B=function(){return!0},B.$$arity=0);c.def(x,"$&",M=function(a){return!1},M.$$arity=1);c.def(x,"$|",z=function(a){return!1!==a&&a!==D},z.$$arity=1);c.def(x,"$^",l=function(a){return!1!==a&&a!==D},l.$$arity=
1);c.def(x,"$==",g=function(a){return a===D},g.$$arity=1);c.def(x,"$dup",b=function(){return D},b.$$arity=0);c.def(x,"$clone",d=function(a){if(null==a||!a.$$is_hash)if(null==a)p([],{});else throw c.ArgumentError.$new("expected kwargs");return D},d.$$arity=-1);c.def(x,"$inspect",f=function(){return"nil"},f.$$arity=0);c.def(x,"$nil?",n=function(){return!0},n.$$arity=0);c.def(x,"$singleton_class",S=function(){return t(k,"NilClass")},S.$$arity=0);c.def(x,"$to_a",r=function(){return[]},r.$$arity=0);c.def(x,
"$to_h",e=function(){return c.hash()},e.$$arity=0);c.def(x,"$to_i",h=function(){return 0},h.$$arity=0);c.alias(x,"to_f","to_i");c.def(x,"$to_s",u=function(){return""},u.$$arity=0);c.def(x,"$to_c",pa=function(){return t(k,"Complex").$new(0,0)},pa.$$arity=0);c.def(x,"$rationalize",ha=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=c.$length();b="number"===typeof b?1<b:b["$>"](1);m(b)&&this.$raise(t(k,"ArgumentError"));return this.$Rational(0,
1)},ha.$$arity=-1);c.def(x,"$to_r",da=function(){return this.$Rational(0,1)},da.$$arity=0);return(c.def(x,"$instance_variables",G=function(){return[]},G.$$arity=0),D)&&"instance_variables"})(A[0],null,A);return c.const_set(A[0],"NIL",D)},Opal.modules["corelib/boolean"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.klass,p=c.hash2;c.add_stubs(["$raise","$name"]);(function(m,$super,q){function A(){}m=A=y(m,$super,"Boolean",A);var v=[m].concat(q),a,k,B,M,z,l,g,b,d,f;c.defineProperty(Boolean.prototype,
"$$is_boolean",!0);c.defineProperty(Boolean.prototype,"$$meta",m);(function(a,b){var d=[a].concat(b),e;c.def(a,"$allocate",e=function(){return this.$raise(t(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);c.udef(a,"$new");return D})(c.get_singleton_class(m),v);c.def(m,"$__id__",a=function(){return this.valueOf()?2:0},a.$$arity=0);c.alias(m,"object_id","__id__");c.def(m,"$!",k=function(){return 1!=this},k.$$arity=0);c.def(m,"$&",B=function(a){return 1==this?!1!==a&&a!==D:!1},
B.$$arity=1);c.def(m,"$|",M=function(a){return 1==this?!0:!1!==a&&a!==D},M.$$arity=1);c.def(m,"$^",z=function(a){return 1==this?!1===a||a===D:!1!==a&&a!==D},z.$$arity=1);c.def(m,"$==",l=function(a){return 1==this===a.valueOf()},l.$$arity=1);c.alias(m,"equal?","==");c.alias(m,"eql?","==");c.def(m,"$singleton_class",g=function(){return t(v,"Boolean")},g.$$arity=0);c.def(m,"$to_s",b=function(){return 1==this?"true":"false"},b.$$arity=0);c.def(m,"$dup",d=function(){return this},d.$$arity=0);return(c.def(m,
"$clone",f=function(a){if(null==a||!a.$$is_hash)if(null==a)p([],{});else throw c.ArgumentError.$new("expected kwargs");return this},f.$$arity=-1),D)&&"clone"})(A[0],Boolean,A);c.const_set(A[0],"TrueClass",t(A,"Boolean"));c.const_set(A[0],"FalseClass",t(A,"Boolean"));c.const_set(A[0],"TRUE",!0);return c.const_set(A[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(c){function A(c,m){return"number"===typeof c&&"number"===typeof m?c>m:c["$>"](m)}function D(c,m){return"number"===typeof c&&"number"===
typeof m?c<m:c["$<"](m)}var t=[],y=c.nil,p=c.const_get_relative,m=c.module,x=c.truthy;c.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(q,t){function v(){}var a=v=m(q,"Comparable",v),k=[a].concat(t),B,M,z,l,g,b,d,f;c.defs(a,"$normalize",B=function(a){return x(p(k,"Integer")["$==="](a))?a:x(A(a,0))?1:x(D(a,0))?-1:0},B.$$arity=1);c.def(a,"$==",M=function(a){var b=y;try{return x(this["$equal?"](a))?!0:this["$<=>"]==c.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,
!1):x(b=this["$<=>"](a))?0==p(k,"Comparable").$normalize(b):!1}catch(d){if(c.rescue(d,[p(k,"StandardError")]))try{return!1}finally{c.pop_exception()}else throw d;}},M.$$arity=1);c.def(a,"$>",z=function(a){var c=y;x(c=this["$<=>"](a))||this.$raise(p(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<p(k,"Comparable").$normalize(c)},z.$$arity=1);c.def(a,"$>=",l=function(a){var c=y;x(c=this["$<=>"](a))||this.$raise(p(k,"ArgumentError"),"comparison of "+this.$class()+
" with "+a.$class()+" failed");return 0<=p(k,"Comparable").$normalize(c)},l.$$arity=1);c.def(a,"$<",g=function(a){var c=y;x(c=this["$<=>"](a))||this.$raise(p(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>p(k,"Comparable").$normalize(c)},g.$$arity=1);c.def(a,"$<=",b=function(a){var c=y;x(c=this["$<=>"](a))||this.$raise(p(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=p(k,"Comparable").$normalize(c)},b.$$arity=1);
c.def(a,"$between?",d=function(a,c){return D(this,a)||A(this,c)?!1:!0},d.$$arity=2);c.def(a,"$clamp",f=function(a,c){var b=y,b=a["$<=>"](c);x(b)||this.$raise(p(k,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");x(A(p(k,"Comparable").$normalize(b),0))&&this.$raise(p(k,"ArgumentError"),"min argument must be smaller than max argument");return x(D(p(k,"Comparable").$normalize(this["$<=>"](a)),0))?a:x(A(p(k,"Comparable").$normalize(this["$<=>"](c)),0))?c:this},f.$$arity=2)}(t[0],
t)},Opal.modules["corelib/regexp"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.klass,p=c.send,m=c.truthy,x=c.gvars;c.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(c,$super,m){function a(){}[a=y(c,$super,"RegexpError",a)].concat(m);return D})(A[0],t(A,"StandardError"),A);(function(q,$super,v){function a(){}q=a=y(q,$super,"Regexp",a);var k=[q].concat(v),B,M,z,
l,g,b,d,f,n,S;c.const_set(k[0],"IGNORECASE",1);c.const_set(k[0],"EXTENDED",2);c.const_set(k[0],"MULTILINE",4);c.defineProperty(RegExp.prototype,"$$is_regexp",!0);(function(a,b){var d=[a].concat(b),f,k,g,l,n;c.def(a,"$allocate",f=function(){var a=f.$$p,b=D,d=b=D,e=D;a&&(f.$$p=null);d=0;e=arguments.length;for(b=Array(e);d<e;d++)b[d]=arguments[d];b=p(this,c.find_super_dispatcher(this,"allocate",f,!1),b,a);b.uninitialized=!0;return b},f.$$arity=0);c.def(a,"$escape",k=function(a){return c.escape_regexp(a)},
k.$$arity=1);c.def(a,"$last_match",g=function(a){null==x["~"]&&(x["~"]=D);null==a&&(a=D);return m(a["$nil?"]())?x["~"]:x["~"]["$[]"](a)},g.$$arity=-1);c.alias(a,"quote","escape");c.def(a,"$union",l=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var e=0;e<b;e++)c[e-0]=arguments[e];var f,k;if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];b=c[0].$$is_array;1<c.length&&b&&this.$raise(t(d,"TypeError"),"no implicit conversion of Array into String");b&&(c=c[0]);
f=void 0;for(var b=[],g=0;g<c.length;g++)e=c[g],e.$$is_string?b.push(this.$escape(e)):e.$$is_regexp?(k=e.$options(),void 0!=f&&f!=k&&this.$raise(t(d,"TypeError"),"All expressions must use the same options"),f=k,b.push("("+e.source+")")):b.push(this.$escape(e.$to_str()));return this.$new(b.$join("|"),f)},l.$$arity=-1);return(c.def(a,"$new",n=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=t(d,"Opal")["$coerce_to!"](a,t(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-
2)&&this.$raise(t(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var b="";t(d,"IGNORECASE")&c&&(b+="i");t(d,"MULTILINE")&c&&(b+="m");c=b}else c="i";return new RegExp(a,c)},n.$$arity=-2),D)&&"new"})(c.get_singleton_class(q),k);c.def(q,"$==",B=function(a){return a instanceof RegExp&&this.toString()===a.toString()},B.$$arity=1);c.def(q,"$===",M=function(a){return this.$match(t(k,"Opal")["$coerce_to?"](a,t(k,"String"),"to_str"))!==
D},M.$$arity=1);c.def(q,"$=~",z=function(a){var c;null==x["~"]&&(x["~"]=D);return m(c=this.$match(a))?x["~"].$begin(0):c},z.$$arity=1);c.alias(q,"eql?","==");c.def(q,"$inspect",l=function(){var a=this.toString(),c=/^\/(.*)\/([^\/]*)$/.exec(a);if(c){for(var a=c[2],c=c[1].split(""),b=c.length,d=!1,f="",k=0;k<b;k++){var g=c[k];d||"/"!=g||(f=f.concat("\\"));f=f.concat(g);d="\\"==g?d?!1:!0:!1}return"/"+f+"/"+a}return a},l.$$arity=0);c.def(q,"$match",g=function(a,b){var d=g.$$p,f=d||D;null==x["~"]&&(x["~"]=
D);d&&(g.$$p=null);this.uninitialized&&this.$raise(t(k,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===D?x["~"]=D:(d=this.exec(t(k,"Opal").$coerce_to(a,t(k,"String"),"to_str")))?(x["~"]=t(k,"MatchData").$new(this,d),f===D?x["~"]:c.yield1(f,x["~"])):x["~"]=D;b=t(k,"Opal").$coerce_to(b,t(k,"Integer"),"to_int");if(a===D)return x["~"]=D;a=t(k,"Opal").$coerce_to(a,t(k,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return x["~"]=D;for(var l=c.global_regexp(this);;){d=l.exec(a);if(null===d)return x["~"]=
D;if(d.index>=b)return x["~"]=t(k,"MatchData").$new(l,d),f===D?x["~"]:c.yield1(f,x["~"]);l.lastIndex=d.index+1}},g.$$arity=-2);c.def(q,"$match?",b=function(a,b){this.uninitialized&&this.$raise(t(k,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===D?!1:this.test(t(k,"Opal").$coerce_to(a,t(k,"String"),"to_str"));b=t(k,"Opal").$coerce_to(b,t(k,"Integer"),"to_int");if(a===D)return!1;a=t(k,"Opal").$coerce_to(a,t(k,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return!1;var d;d=c.global_regexp(this).exec(a);
return null===d||d.index<b?!1:!0},b.$$arity=-2);c.def(q,"$~",d=function(){null==x._&&(x._=D);return this["$=~"](x._)},d.$$arity=0);c.def(q,"$source",f=function(){return this.source},f.$$arity=0);c.def(q,"$options",n=function(){this.uninitialized&&this.$raise(t(k,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=t(k,"MULTILINE"));this.ignoreCase&&(a|=t(k,"IGNORECASE"));return a},n.$$arity=0);c.def(q,"$casefold?",S=function(){return this.ignoreCase},S.$$arity=0);return c.alias(q,"to_s",
"source")})(A[0],RegExp,A);return function(q,$super,v){function a(){}q=a=y(q,$super,"MatchData",a);var k=q.prototype,B=[q].concat(v),M,z,l,g,b,d,f,n,S,r,e,h;k.matches=D;q.$attr_reader("post_match","pre_match","regexp","string");c.def(q,"$initialize",M=function(a,c){x["~"]=this;this.regexp=a;this.begin=c.index;this.string=c.input;this.pre_match=c.input.slice(0,c.index);this.post_match=c.input.slice(c.index+c[0].length);this.matches=[];for(var b=0,d=c.length;b<d;b++){var e=c[b];null==e?this.matches.push(D):
this.matches.push(e)}},M.$$arity=2);c.def(q,"$[]",z=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return p(this.matches,"[]",c.to_a(b))},z.$$arity=-1);c.def(q,"$offset",l=function(a){0!==a&&this.$raise(t(B,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},l.$$arity=1);c.def(q,"$==",g=function(a){var c,b,d,e;return m(t(B,"MatchData")["$==="](a))?m(c=m(b=m(d=m(e=this.string==
a.string)?this.regexp.toString()==a.regexp.toString():e)?this.pre_match==a.pre_match:d)?this.post_match==a.post_match:b)?this.begin==a.begin:c:!1},g.$$arity=1);c.alias(q,"eql?","==");c.def(q,"$begin",b=function(a){0!==a&&this.$raise(t(B,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},b.$$arity=1);c.def(q,"$end",d=function(a){0!==a&&this.$raise(t(B,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},d.$$arity=1);c.def(q,
"$captures",f=function(){return this.matches.slice(1)},f.$$arity=0);c.def(q,"$inspect",n=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),c=1,b=this.matches.length;c<b;c++)a+=" "+c+":"+this.matches[c].$inspect();return a+">"},n.$$arity=0);c.def(q,"$length",S=function(){return this.matches.length},S.$$arity=0);c.alias(q,"size","length");c.def(q,"$to_a",r=function(){return this.matches},r.$$arity=0);c.def(q,"$to_s",e=function(){return this.matches[0]},e.$$arity=0);return(c.def(q,"$values_at",
h=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(var e,d=[],b=0;b<c.length;b++){c[b].$$is_range&&(e=c[b].$to_a(),e.unshift(b,1),Array.prototype.splice.apply(c,e));e=t(B,"Opal")["$coerce_to!"](c[b],t(B,"Integer"),"to_int");if(0>e&&(e+=this.matches.length,0>e)){d.push(D);continue}d.push(this.matches[e])}return d},h.$$arity=-1),D)&&"values_at"}(A[0],null,A)},Opal.modules["corelib/string"]=function(c){function A(a,c){return"number"===typeof a&&
"number"===typeof c?a/c:a["$/"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var t=c.top,y=[],p=c.nil,m=c.const_get_relative,x=c.klass,q=c.truthy,E=c.send,v=c.gvars;c.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
t.$require("corelib/comparable");t.$require("corelib/regexp");(function(a,$super,B){function M(){}function z(a){function c(a){var b="",d,e=a.length,f,h;for(d=0;d<e;d++)if(f=a.charAt(d),"-"===f&&0<d&&d<e-1&&!h){h=a.charCodeAt(d-1);f=a.charCodeAt(d+1);h>f&&l.$raise(m(g,"ArgumentError"),'invalid range "'+h+"-"+f+'" in string transliteration');for(h+=1;h<f+1;h++)b+=String.fromCharCode(h);h=!0;d++}else h="\\"===f,b+=f;return b}function b(a,c){if(0===a.length)return c;var d="",e,f=a.length,h;for(e=0;e<
f;e++)h=a.charAt(e),-1!==c.indexOf(h)&&(d+=h);return d}var d,e,f,h,H="",P="";d=0;for(e=a.length;d<e;d++)f=m(g,"Opal").$coerce_to(a[d],m(g,"String"),"to_str"),h="^"===f.charAt(0)&&1<f.length,f=c(h?f.slice(1):f),h?P=b(P,f):H=b(H,f);if(0<H.length&&0<P.length){f="";d=0;for(e=H.length;d<e;d++)a=H.charAt(d),-1===P.indexOf(a)&&(f+=a);H=f;P=""}return 0<H.length?"["+m(g,"Regexp").$escape(H)+"]":0<P.length?"[^"+m(g,"Regexp").$escape(P)+"]":null}var l=M=x(a,$super,"String",M),g=[l].concat(B),b,d,f,n,S,r,e,h,
u,pa,y,da,G,t,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa,H,P,ra,X,Qa,O,Ka,Na,Ra,Sa,I,Ta;l.$include(m(g,"Comparable"));c.defineProperty(String.prototype,"$$is_string",!0);c.defineProperty(String.prototype,"$$cast",function(a){var c=this.$$class;return c===String?a:new c(a)});c.def(l,"$__id__",b=function(){return this.toString()},b.$$arity=0);c.alias(l,"object_id","__id__");c.defs(l,"$try_convert",d=function(a){return m(g,
"Opal")["$coerce_to?"](a,m(g,"String"),"to_str")},d.$$arity=1);c.defs(l,"$new",f=function(a){null==a&&(a="");a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str");return new this(a)},f.$$arity=-1);c.def(l,"$initialize",n=function(a){return void 0===a?this:this.$raise(m(g,"NotImplementedError"),"Mutable strings are not supported in Opal.")},n.$$arity=-1);c.def(l,"$%",S=function(a){return q(m(g,"Array")["$==="](a))?E(this,"format",[this].concat(c.to_a(a))):this.$format(this,a)},S.$$arity=1);c.def(l,"$*",
r=function(a){a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");0>a&&this.$raise(m(g,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var c="",b=this.toString();for(268435456<=b.length*a&&this.$raise(m(g,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=b);a>>>=1;if(0===a)break;b+=b}return this.$$cast(c)},r.$$arity=1);c.def(l,"$+",e=function(a){a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str");return this+a.$to_s()},e.$$arity=1);c.def(l,
"$<=>",h=function(a){if(q(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===p?p:0<a?-1:0>a?1:0},h.$$arity=1);c.def(l,"$==",u=function(a){return a.$$is_string?this.toString()===a.toString():m(g,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},u.$$arity=1);c.alias(l,"eql?","==");c.alias(l,"===","==");c.def(l,"$=~",pa=function(a){a.$$is_string&&this.$raise(m(g,"TypeError"),"type mismatch: String given");return a["$=~"](this)},pa.$$arity=
1);c.def(l,"$[]",y=function(a,c){var b=this.length,d;if(a.$$is_range){d=a.excl;c=m(g,"Opal").$coerce_to(a.end,m(g,"Integer"),"to_int");a=m(g,"Opal").$coerce_to(a.begin,m(g,"Integer"),"to_int");if(Math.abs(a)>b)return p;0>a&&(a+=b);0>c&&(c+=b);d||(c+=1);c-=a;0>c&&(c=0);return this.$$cast(this.substr(a,c))}if(a.$$is_string)return null!=c&&this.$raise(m(g,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):p;if(a.$$is_regexp){b=this.match(a);if(null===b)return v["~"]=p;v["~"]=m(g,"MatchData").$new(a,b);
if(null==c)return this.$$cast(b[0]);c=m(g,"Opal").$coerce_to(c,m(g,"Integer"),"to_int");return 0>c&&-c<b.length?this.$$cast(b[c+b.length]):0<=c&&c<b.length?this.$$cast(b[c]):p}a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");0>a&&(a+=b);if(null==c)return a>=b||0>a?p:this.$$cast(this.substr(a,1));c=m(g,"Opal").$coerce_to(c,m(g,"Integer"),"to_int");return 0>c||a>b||0>a?p:this.$$cast(this.substr(a,c))},y.$$arity=-2);c.alias(l,"byteslice","[]");c.def(l,"$b",da=function(){return this.$force_encoding("binary")},
da.$$arity=0);c.def(l,"$capitalize",G=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},G.$$arity=0);c.def(l,"$casecmp",t=function(a){var c=this;if(!q(a["$respond_to?"]("to_str")))return p;a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str").$to_s();var b=/^[\x00-\x7F]*$/;b.test(c)&&b.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},t.$$arity=1);c.def(l,"$casecmp?",T=function(a){a=this.$casecmp(a);return a===p?p:0===a},T.$$arity=1);c.def(l,
"$center",sa=function(a,c){null==c&&(c=" ");a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");c=m(g,"Opal").$coerce_to(c,m(g,"String"),"to_str").$to_s();q(c["$empty?"]())&&this.$raise(m(g,"ArgumentError"),"zero width padding");if(q(a<=this.length))return this;var b=this.$ljust(A(D(a,this.length),2).$ceil(),c),d=this.$rjust(A(D(a,this.length),2).$floor(),c);return this.$$cast(d+b.slice(this.length))},sa.$$arity=-2);c.def(l,"$chars",na=function(){var a=na.$$p,c=a||p;a&&(na.$$p=null);return q(c)?E(this,
"each_char",[],c.$to_proc()):this.$each_char().$to_a()},na.$$arity=0);c.def(l,"$chomp",J=function(a){null==v["/"]&&(v["/"]=p);null==a&&(a=v["/"]);if(q(a===p||0===this.length))return this;a=m(g,"Opal")["$coerce_to!"](a,m(g,"String"),"to_str").$to_s();var c;"\n"===a?c=this.replace(/\r?\n?$/,""):""===a?c=this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a&&(c=this.substr(0,this.length-a.length));return null!=c?this.$$cast(c):this},J.$$arity=-1);c.def(l,"$chop",
w=function(){var a=this.length,a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},w.$$arity=0);c.def(l,"$chr",C=function(){return this.charAt(0)},C.$$arity=0);c.def(l,"$clone",U=function(){var a=p,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},U.$$arity=0);c.def(l,"$dup",F=function(){var a=p,a=this.slice();a.$initialize_dup(this);return a},F.$$arity=0);c.def(l,"$count",Q=function(a){var c,b=arguments.length;
c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];0===c.length&&this.$raise(m(g,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");b=z(c);return null===b?0:this.length-this.replace(new RegExp(b,"g"),"").length},Q.$$arity=-1);c.def(l,"$delete",ba=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];0===c.length&&this.$raise(m(g,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");b=z(c);return null===
b?this:this.$$cast(this.replace(new RegExp(b,"g"),""))},ba.$$arity=-1);c.def(l,"$delete_prefix",la=function(a){a.$$is_string||(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},la.$$arity=1);c.def(l,"$delete_suffix",Z=function(a){a.$$is_string||(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},Z.$$arity=1);c.def(l,"$downcase",
N=function(){return this.$$cast(this.toLowerCase())},N.$$arity=0);c.def(l,"$each_char",V=function(){var a,b=V.$$p,d=b||p;b&&(V.$$p=null);if(d===p)return E(this,"enum_for",["each_char"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.length;b<e;b++)c.yield1(d,this.charAt(b));return this},V.$$arity=0);c.def(l,"$each_line",L=function(a){var b=L.$$p,d=b||p;null==v["/"]&&(v["/"]=p);null==a&&(a=v["/"]);b&&(L.$$p=null);if(d===p)return this.$enum_for("each_line",a);
if(a===p)return c.yield1(d,this),this;a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str");var e,f,h;if(0===a.length){a=this.split(/(\n{2,})/);b=0;for(e=a.length;b<e;b+=2)(a[b]||a[b+1])&&c.yield1(d,this.$$cast((a[b]||"")+(a[b+1]||"")));return this}b=this.$chomp(a);e=this.length!=b.length;h=b.split(a);b=0;for(f=h.length;b<f;b++)b<f-1||e?c.yield1(d,this.$$cast(h[b]+a)):c.yield1(d,this.$$cast(h[b]));return this},L.$$arity=-1);c.def(l,"$empty?",K=function(){return 0===this.length},K.$$arity=0);c.def(l,
"$end_with?",W=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=0;for(d=c.length;b<d;b++){var e=m(g,"Opal").$coerce_to(c[b],m(g,"String"),"to_str").$to_s();if(this.length>=e.length&&this.substr(this.length-e.length,e.length)==e)return!0}return!1},W.$$arity=-1);c.alias(l,"equal?","===");c.def(l,"$gsub",qa=function(a,b){var d=this,e=qa.$$p,f=e||p;e&&(qa.$$p=null);if(void 0===b&&f===p)return d.$enum_for("gsub",a);var e="",h=p,H=0,l,P;a.$$is_regexp?
a=c.global_multiline_regexp(a):(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){l=a.exec(d);if(null===l){v["~"]=p;e+=d.slice(H);break}h=m(g,"MatchData").$new(a,l);void 0===b?P=f(l[0]):b.$$is_hash?P=b["$[]"](l[0]).$to_s():(b.$$is_string||(b=m(g,"Opal").$coerce_to(b,m(g,"String"),"to_str")),P=b.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=l.length-1;0<a;a--)if(void 0!==l[a])return c.slice(1)+
l[a];return"";case "&":return c.slice(1)+l[0];case "`":return c.slice(1)+d.slice(0,l.index);case "'":return c.slice(1)+d.slice(l.index+l[0].length);default:return c.slice(1)+(l[b]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===l.index?(e+=P+d.slice(H,l.index+1),a.lastIndex+=1):e+=d.slice(H,l.index)+P;H=a.lastIndex}v["~"]=h;return d.$$cast(e)},qa.$$arity=-2);c.def(l,"$hash",ga=function(){return this.toString()},ga.$$arity=0);c.def(l,"$hex",ja=function(){return this.$to_i(16)},ja.$$arity=0);c.def(l,"$include?",
aa=function(a){a.$$is_string||(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"));return-1!==this.indexOf(a)},aa.$$arity=1);c.def(l,"$index",R=function(a,b){var d,e;if(void 0===b)b=0;else if(b=m(g,"Opal").$coerce_to(b,m(g,"Integer"),"to_int"),0>b&&(b+=this.length,0>b))return p;if(a.$$is_regexp)for(e=c.global_multiline_regexp(a);;){d=e.exec(this);if(null===d){v["~"]=p;d=-1;break}if(d.index>=b){v["~"]=m(g,"MatchData").$new(e,d);d=d.index;break}e.lastIndex=d.index+1}else a=m(g,"Opal").$coerce_to(a,
m(g,"String"),"to_str"),d=0===a.length&&b>this.length?-1:this.indexOf(a,b);return-1===d?p:d},R.$$arity=-2);c.def(l,"$inspect",ua=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,
"\\$&")+'"'},ua.$$arity=0);c.def(l,"$intern",ia=function(){return this.toString()},ia.$$arity=0);c.def(l,"$lines",ea=function(a){var c=ea.$$p,b=c||p,d=p;null==v["/"]&&(v["/"]=p);null==a&&(a=v["/"]);c&&(ea.$$p=null);d=E(this,"each_line",[a],b.$to_proc());return q(b)?this:d.$to_a()},ea.$$arity=-1);c.def(l,"$length",fa=function(){return this.length},fa.$$arity=0);c.def(l,"$ljust",ca=function(a,c){null==c&&(c=" ");a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");c=m(g,"Opal").$coerce_to(c,m(g,"String"),
"to_str").$to_s();q(c["$empty?"]())&&this.$raise(m(g,"ArgumentError"),"zero width padding");if(q(a<=this.length))return this;var b=-1,d="";for(a-=this.length;++b<a;)d+=c;return this.$$cast(this+d.slice(0,a))},ca.$$arity=-2);c.def(l,"$lstrip",Y=function(){return this.replace(/^\s*/,"")},Y.$$arity=0);c.def(l,"$ascii_only?",va=function(){return this.match(/[ -~\n]*/)[0]===this},va.$$arity=0);c.def(l,"$match",ma=function(a,c){var b,d=ma.$$p,e=d||p;d&&(ma.$$p=null);q(q(b=m(g,"String")["$==="](a))?b:a["$respond_to?"]("to_str"))&&
(a=m(g,"Regexp").$new(a.$to_str()));q(m(g,"Regexp")["$==="](a))||this.$raise(m(g,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return E(a,"match",[this,c],e.$to_proc())},ma.$$arity=-2);c.def(l,"$match?",ta=function(a,c){var b;q(q(b=m(g,"String")["$==="](a))?b:a["$respond_to?"]("to_str"))&&(a=m(g,"Regexp").$new(a.$to_str()));q(m(g,"Regexp")["$==="](a))||this.$raise(m(g,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,c)},ta.$$arity=
-2);c.def(l,"$next",ya=function(){var a=this.length;if(0===a)return this.$$cast("");for(var c=this,b=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===b?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;c=c.slice(0,a)+String.fromCharCode(e)+c.slice(a+1);if(d&&(0===a||a===b)){switch(e){case 65:break;case 97:break;default:e+=1}c=0===a?String.fromCharCode(e)+
c:c.slice(0,a)+String.fromCharCode(e)+c.slice(a);d=!1}if(!d)break}return this.$$cast(c)},ya.$$arity=0);c.def(l,"$oct",oa=function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=16}return b+e});a=parseInt(a.replace(/_(?!_)/g,""),c);return isNaN(a)?0:
a},oa.$$arity=0);c.def(l,"$ord",Ia=function(){return this.charCodeAt(0)},Ia.$$arity=0);c.def(l,"$partition",Ca=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(m(g,"MatchData").$new(a,c),a=c[0],c=c.index)):(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},Ca.$$arity=1);c.def(l,"$reverse",Ha=function(){return this.split("").reverse().join("")},Ha.$$arity=0);c.def(l,"$rindex",
za=function(a,b){var d,e,f;if(void 0===b)b=this.length;else if(b=m(g,"Opal").$coerce_to(b,m(g,"Integer"),"to_int"),0>b&&(b+=this.length,0>b))return p;if(a.$$is_regexp){d=null;for(e=c.global_multiline_regexp(a);;){f=e.exec(this);if(null===f||f.index>b)break;d=f;e.lastIndex=d.index+1}null===d?(v["~"]=p,d=-1):(m(g,"MatchData").$new(e,d),d=d.index)}else a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"),d=this.lastIndexOf(a,b);return-1===d?p:d},za.$$arity=-2);c.def(l,"$rjust",Fa=function(a,c){null==c&&
(c=" ");a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");c=m(g,"Opal").$coerce_to(c,m(g,"String"),"to_str").$to_s();q(c["$empty?"]())&&this.$raise(m(g,"ArgumentError"),"zero width padding");if(q(a<=this.length))return this;var b=Math.floor(a-this.length),d=Array(Math.floor(b/c.length)+1).join(c);return this.$$cast(d+c.slice(0,b-d.length)+this)},Fa.$$arity=-2);c.def(l,"$rpartition",Ga=function(a){var b,d,e;if(a.$$is_regexp){b=null;for(d=c.global_multiline_regexp(a);;){e=d.exec(this);if(null===e)break;
b=e;d.lastIndex=b.index+1}null===b?b=-1:(m(g,"MatchData").$new(d,b),a=b[0],b=b.index)}else a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Ga.$$arity=1);c.def(l,"$rstrip",Ea=function(){return this.replace(/[\s\u0000]*$/,"")},Ea.$$arity=0);c.def(l,"$scan",Ba=function(a){var b=Ba.$$p,d=b||p;b&&(Ba.$$p=null);var b=[],e=p,f;a.$$is_regexp?a=c.global_multiline_regexp(a):(a=m(g,"Opal").$coerce_to(a,
m(g,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(f=a.exec(this));)e=m(g,"MatchData").$new(a,f),d===p?1==f.length?b.push(f[0]):b.push(e.$captures()):1==f.length?d(f[0]):d.call(this,e.$captures()),a.lastIndex===f.index&&(a.lastIndex+=1);v["~"]=e;return d!==p?this:b},Ba.$$arity=1);c.alias(l,"size","length");c.alias(l,"slice","[]");c.def(l,"$split",wa=function(a,b){function d(){for(P=0;P<h.length;P++)h[P]=f.$$cast(h[P])}var e,f=this;null==v[";"]&&(v[";"]=
p);if(0===f.length)return[];if(void 0===b)b=0;else if(b=m(g,"Opal")["$coerce_to!"](b,m(g,"Integer"),"to_int"),1===b)return[f];if(void 0===a||a===p)a=q(e=v[";"])?e:" ";var h=[];e=f.toString();var H=0,l,P;a.$$is_regexp?a=c.global_multiline_regexp(a):(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,e=e.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=e.split(a);if(1===h.length&&h[0]===e)return[f.$$cast(h[0])];for(;-1!==(P=h.indexOf(void 0));)h.splice(P,
1);if(0===b){for(;""===h[h.length-1];)--h.length;d();return h}l=a.exec(e);if(0>b){if(null!==l&&""===l[0]&&-1===a.source.indexOf("(?="))for(P=0,e=l.length;P<e;P++)h.push("");d();return h}if(null!==l&&""===l[0])return h.splice(b-1,h.length-1,h.slice(b-1).join("")),d(),h;if(b>=h.length)return d(),h;for(P=0;null!==l;){P++;H=a.lastIndex;if(P+1===b)break;l=a.exec(e)}h.splice(b-1,h.length-1,e.slice(H));d();return h},wa.$$arity=-1);c.def(l,"$squeeze",Da=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=
0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];if(0===c.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));b=z(c);return null===b?this:this.$$cast(this.replace(new RegExp("("+b+")\\1+","g"),"$1"))},Da.$$arity=-1);c.def(l,"$start_with?",Aa=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=0;for(d=c.length;b<d;b++){var e=m(g,"Opal").$coerce_to(c[b],m(g,"String"),"to_str").$to_s();if(0===this.indexOf(e))return!0}return!1},Aa.$$arity=
-1);c.def(l,"$strip",xa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},xa.$$arity=0);c.def(l,"$sub",Ja=function(a,c){var b=this,d=Ja.$$p,e=d||p;d&&(Ja.$$p=null);a.$$is_regexp||(a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var f=a.exec(b);null===f?(v["~"]=p,d=b.toString()):(m(g,"MatchData").$new(a,f),void 0===c?(e===p&&b.$raise(m(g,"ArgumentError"),"wrong number of arguments (1 for 2)"),d=b.slice(0,f.index)+e(f[0])+
b.slice(f.index+f[0].length)):c.$$is_hash?d=b.slice(0,f.index)+c["$[]"](f[0]).$to_s()+b.slice(f.index+f[0].length):(c=m(g,"Opal").$coerce_to(c,m(g,"String"),"to_str"),c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,d){if(0===c.length%2)return a;switch(d){case "+":for(a=f.length-1;0<a;a--)if(void 0!==f[a])return c.slice(1)+f[a];return"";case "&":return c.slice(1)+f[0];case "`":return c.slice(1)+b.slice(0,f.index);case "'":return c.slice(1)+b.slice(f.index+f[0].length);default:return c.slice(1)+(f[d]||
"")}}).replace(/\\\\/g,"\\"),d=b.slice(0,f.index)+c+b.slice(f.index+f[0].length)));return b.$$cast(d)},Ja.$$arity=-2);c.alias(l,"succ","next");c.def(l,"$sum",La=function(a){null==a&&(a=16);a=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");for(var c=0,b=this.length,d=0;d<b;d++)c+=this.charCodeAt(d);return 0>=a?c:c&Math.pow(2,a)-1},La.$$arity=-1);c.def(l,"$swapcase",Oa=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,b){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===
String?a:this.$class().$new(a)},Oa.$$arity=0);c.def(l,"$to_f",Ma=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Ma.$$arity=0);c.def(l,"$to_i",Pa=function(a){null==a&&(a=10);var c=this.toLowerCase(),b=m(g,"Opal").$coerce_to(a,m(g,"Integer"),"to_int");(1===b||0>b||36<b)&&this.$raise(m(g,"ArgumentError"),"invalid radix "+b);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;
case "0":if("x"===e.charAt(1)&&"0x"===d&&(0===b||16===b))return a}switch(d){case "0b":if(0===b||2===b)return b=2,c+e;break;case "0":case "0o":if(0===b||8===b)return b=8,c+e;break;case "0d":if(0===b||10===b)return b=10,c+e;break;case "0x":if(0===b||16===b)return b=16,c+e}return a});a=parseInt(c.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},Pa.$$arity=-1);c.def(l,"$to_proc",H=function(){var a,b=p,b=this.valueOf();return E(this,"proc",[],(a=function(d){var e=a.$$s||this,f,h;if(f=a.$$p||p)a.$$p=null;
var l=arguments.length;h=l-0;0>h&&(h=0);h=Array(h);for(var H=0;H<l;H++)h[H-0]=arguments[H];0===h.length&&e.$raise(m(g,"ArgumentError"),"no receiver given");e=h.shift();null==e&&(e=p);return c.send(e,b,h,f)},a.$$s=this,a.$$arity=-1,a))},H.$$arity=0);c.def(l,"$to_s",P=function(){return this.toString()},P.$$arity=0);c.alias(l,"to_str","to_s");c.alias(l,"to_sym","intern");c.def(l,"$tr",ra=function(a,c){a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str").$to_s();c=m(g,"Opal").$coerce_to(c,m(g,"String"),
"to_str").$to_s();if(0==a.length||a===c)return this;var b,d,e,f,h,l={};h=a.split("");var H=h.length,P=c.split(""),X=P.length,r=!1,ra=null;"^"===h[0]&&1<h.length&&(r=!0,h.shift(),ra=P[X-1],--H);var n=[];e=null;d=!1;for(b=0;b<H;b++)if(f=h[b],null==e)e=f,n.push(f);else if("-"===f)"-"===e?(n.push("-"),n.push("-")):b==H-1?n.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(m(g,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');
for(e+=1;e<d;e++)n.push(String.fromCharCode(e));n.push(f);e=d=null}else n.push(f);h=n;H=h.length;if(r)for(b=0;b<H;b++)l[h[b]]=!0;else{if(0<X){n=[];e=null;d=!1;for(b=0;b<X;b++)if(f=P[b],null==e)e=f,n.push(f);else if("-"===f)"-"===e?(n.push("-"),n.push("-")):b==X-1?n.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(m(g,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)n.push(String.fromCharCode(e));
n.push(f);e=d=null}else n.push(f);P=n;X=P.length}f=H-X;if(0<f)for(X=0<X?P[X-1]:"",b=0;b<f;b++)P.push(X);for(b=0;b<H;b++)l[h[b]]=P[b]}H="";b=0;for(h=this.length;b<h;b++)f=this.charAt(b),P=l[f],H=r?H+(null==P?ra:f):H+(null!=P?P:f);return this.$$cast(H)},ra.$$arity=2);c.def(l,"$tr_s",X=function(a,c){a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str").$to_s();c=m(g,"Opal").$coerce_to(c,m(g,"String"),"to_str").$to_s();if(0==a.length)return this;var b,d,e,f,h,H={};h=a.split("");var l=h.length,P=c.split(""),
X=P.length,r=!1,ra=null;"^"===h[0]&&1<h.length&&(r=!0,h.shift(),ra=P[X-1],--l);var n=[];e=null;d=!1;for(b=0;b<l;b++)if(f=h[b],null==e)e=f,n.push(f);else if("-"===f)"-"===e?(n.push("-"),n.push("-")):b==l-1?n.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(m(g,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)n.push(String.fromCharCode(e));n.push(f);e=d=null}else n.push(f);h=n;l=h.length;
if(r)for(b=0;b<l;b++)H[h[b]]=!0;else{if(0<X){n=[];d=!1;for(b=0;b<X;b++)if(f=P[b],null==e)e=f,n.push(f);else if("-"===f)b==X-1?n.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(m(g,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)n.push(String.fromCharCode(e));n.push(f);e=d=null}else n.push(f);P=n;X=P.length}f=l-X;if(0<f)for(X=0<X?P[X-1]:"",b=0;b<f;b++)P.push(X);for(b=0;b<l;b++)H[h[b]]=
P[b]}l="";P=null;b=0;for(h=this.length;b<h;b++)if(f=this.charAt(b),X=H[f],r)null==X?null==P&&(l+=ra,P=!0):(l+=f,P=null);else if(null!=X){if(null==P||P!==X)l+=X,P=X}else l+=f,P=null;return this.$$cast(l)},X.$$arity=2);c.def(l,"$upcase",Qa=function(){return this.$$cast(this.toUpperCase())},Qa.$$arity=0);c.def(l,"$upto",O=function(a,c){var b=O.$$p,d=b||p;null==c&&(c=!1);b&&(O.$$p=null);if(d===p)return this.$enum_for("upto",a,c);a=m(g,"Opal").$coerce_to(a,m(g,"String"),"to_str");var e,b=this.toString();
if(1===b.length&&1===a.length)for(b=b.charCodeAt(0),e=a.charCodeAt(0);b<=e&&(!c||b!==e);)d(String.fromCharCode(b)),b+=1;else if(parseInt(b,10).toString()===b&&parseInt(a,10).toString()===a)for(b=parseInt(b,10),e=parseInt(a,10);b<=e&&(!c||b!==e);)d(b.toString()),b+=1;else for(;b.length<=a.length&&b<=a&&(!c||b!==a);)d(b),b=b.$succ();return this},O.$$arity=-2);c.def(l,"$instance_variables",Ka=function(){return[]},Ka.$$arity=0);c.defs(l,"$_load",Na=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);
b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return E(this,"new",c.to_a(b))},Na.$$arity=-1);c.def(l,"$unicode_normalize",Ra=function(a){return this.toString()},Ra.$$arity=-1);c.def(l,"$unicode_normalized?",Sa=function(a){return!0},Sa.$$arity=-1);c.def(l,"$unpack",I=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},I.$$arity=1);return(c.def(l,"$unpack1",Ta=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
Ta.$$arity=1),p)&&"unpack1"})(y[0],String,y);return c.const_set(y[0],"Symbol",m(y,"String"))},Opal.modules["corelib/enumerable"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var p=[],m=c.nil,x=c.const_get_qualified,q=c.const_get_relative,
E=c.module,v=c.truthy,a=c.send,k=c.falsy,B=c.hash2,M=c.lambda;c.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));return function(z,l){function g(){}function b(a){0===
a.length&&(a=[m]);1<a.length&&(a=[a]);return a}var d=g=E(z,"Enumerable",g),f=[d].concat(l),n,S,r,e,h,u,pa,p,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za;c.def(d,"$all?",n=function(d){try{var e,k,h,g=n.$$p,l=g||m;g&&(n.$$p=null);v(void 0!==d)?a(this,"each",[],(e=function(e){var f,k=m,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var h=0;h<k;h++)f[h-0]=arguments[h];k=b(f);if(v(a(d,"public_send",["==="].concat(c.to_a(k)))))return m;c.ret(!1)},
e.$$s=this,e.$$arity=-1,e)):l!==m?a(this,"each",[],(k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(v(c.yieldX(l,c.to_a(b))))return m;c.ret(!1)},k.$$s=this,k.$$arity=-1,k)):a(this,"each",[],(h=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(v(q(f,"Opal").$destructure(b)))return m;c.ret(!1)},h.$$s=this,h.$$arity=-1,h));return!0}catch(r){if(r===c.returner)return r.$v;throw r;}},
n.$$arity=-1);c.def(d,"$any?",S=function(d){try{var e,k,h,g=S.$$p,l=g||m;g&&(S.$$p=null);v(void 0!==d)?a(this,"each",[],(e=function(e){var f,k=m,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var h=0;h<k;h++)f[h-0]=arguments[h];k=b(f);if(v(a(d,"public_send",["==="].concat(c.to_a(k)))))c.ret(!0);else return m},e.$$s=this,e.$$arity=-1,e)):l!==m?a(this,"each",[],(k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(v(c.yieldX(l,c.to_a(b))))c.ret(!0);
else return m},k.$$s=this,k.$$arity=-1,k)):a(this,"each",[],(h=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(v(q(f,"Opal").$destructure(b)))c.ret(!0);else return m},h.$$s=this,h.$$arity=-1,h));return!1}catch(r){if(r===c.returner)return r.$v;throw r;}},S.$$arity=-1);c.def(d,"$chunk",r=function(){var b,d,e=r.$$p,f=e||m;e&&(r.$$p=null);return f===m?a(this,"to_enum",["chunk"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,
b.$$arity=0,b)):a(x("::","Enumerator"),"new",[],(d=function(a){function b(){0<h.length&&a.$yield(k,h)}var e=d.$$s||this;null==a&&(a=m);var k=m,h=[];e.$each.$$p=function(a){var d=c.yield1(f,a);d===m?(b(),h=[],k=m):(k===m||k===d?h.push(a):(b(),h=[a]),k=d)};e.$each();b()},d.$$s=this,d.$$arity=1,d))},r.$$arity=0);c.def(d,"$chunk_while",e=function(){var b,d=e.$$p,k=d||m;d&&(e.$$p=null);k===m&&this.$raise(q(f,"ArgumentError"),"no block given");return a(this,"slice_when",[],(b=function(a,b){null==a&&(a=
m);null==b&&(b=m);return c.yieldX(k,[a,b])["$!"]()},b.$$s=this,b.$$arity=2,b))},e.$$arity=0);c.def(d,"$collect",h=function(){var b,d=h.$$p,e=d||m;d&&(h.$$p=null);if(e===m)return a(this,"enum_for",["collect"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var f=[];this.$each.$$p=function(){var a=c.yieldX(e,arguments);f.push(a)};this.$each();return f},h.$$arity=0);c.def(d,"$collect_concat",u=function(){var b,d,e=u.$$p,f=e||m;e&&(u.$$p=null);return f===m?a(this,"enum_for",
["collect_concat"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b)):a(this,"map",[],(d=function(a){null==a&&(a=m);return c.yield1(f,a)},d.$$s=this,d.$$arity=1,d)).$flatten(1)},u.$$arity=0);c.def(d,"$count",pa=function(b){var d,e,k,h=pa.$$p,g=h||m,l=m;h&&(pa.$$p=null);l=0;null!=b&&g!==m&&this.$warn("warning: given block not used");v(null!=b)?g=a(this,"proc",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];
return q(f,"Opal").$destructure(c)["$=="](b)},d.$$s=this,d.$$arity=-1,d)):v(g["$nil?"]())&&(g=a(this,"proc",[],(e=function(){return!0},e.$$s=this,e.$$arity=0,e)));a(this,"each",[],(k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return v(c.yieldX(g,b))?l++:m},k.$$s=this,k.$$arity=-1,k));return l},pa.$$arity=-1);c.def(d,"$cycle",p=function(b){var d,e=p.$$p,k=e||m;null==b&&(b=m);e&&(p.$$p=null);if(k===m)return a(this,"enum_for",["cycle",b],
(d=function(){var a=d.$$s||this;if(v(b["$nil?"]()))return v(a["$respond_to?"]("size"))?x(q(f,"Float"),"INFINITY"):m;b=q(f,"Opal")["$coerce_to!"](b,q(f,"Integer"),"to_int");return v(A(b,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)):0},d.$$s=this,d.$$arity=0,d));if(!v(b["$nil?"]())&&(b=q(f,"Opal")["$coerce_to!"](b,q(f,"Integer"),"to_int"),v(0>=b)))return m;var h=[],g;this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);c.yield1(k,a);h.push(a)};this.$each();
if(0===h.length)return m;if(b===m)for(;;)for(e=0,g=h.length;e<g;e++)c.yield1(k,h[e]);else for(;1<b;){e=0;for(g=h.length;e<g;e++)c.yield1(k,h[e]);b--}},p.$$arity=-1);c.def(d,"$detect",da=function(b){try{var d,e=da.$$p,k=e||m;e&&(da.$$p=null);if(k===m)return this.$enum_for("detect",b);a(this,"each",[],(d=function(a){var b,d=m,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=q(f,"Opal").$destructure(b);if(v(c.yield1(k,d)))c.ret(d);else return m},d.$$s=this,d.$$arity=
-1,d));return void 0!==b?"function"===typeof b?b():b:m}catch(h){if(h===c.returner)return h.$v;throw h;}},da.$$arity=-1);c.def(d,"$drop",G=function(a){a=q(f,"Opal").$coerce_to(a,q(f,"Integer"),"to_int");v(0>a)&&this.$raise(q(f,"ArgumentError"),"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(q(f,"Opal").$destructure(arguments));c++};this.$each();return b},G.$$arity=1);c.def(d,"$drop_while",ka=function(){var a=ka.$$p,b=a||m;a&&(ka.$$p=null);if(b===m)return this.$enum_for("drop_while");
var d=[],e=!0;this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);if(e){var h=c.yield1(b,a);k(h)&&(e=!1,d.push(a))}else d.push(a)};this.$each();return d},ka.$$arity=0);c.def(d,"$each_cons",T=function(b){var d,e=T.$$p,k=e||m;e&&(T.$$p=null);v(1!=arguments.length)&&this.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");b=q(f,"Opal").$try_convert(b,q(f,"Integer"),"to_int");v(0>=b)&&this.$raise(q(f,"ArgumentError"),"invalid size");if(k===m)return a(this,
"enum_for",["each_cons",b],(d=function(){var a,c=m,c=(d.$$s||this).$enumerator_size();return v(c["$nil?"]())?m:v(v(a=c["$=="](0))?a:"number"===typeof c&&"number"===typeof b?c<b:c["$<"](b))?0:D(t(c,b),1)},d.$$s=this,d.$$arity=0,d));var h=[];this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);h.push(a);h.length>b&&h.shift();h.length==b&&c.yield1(k,h.slice(0,b))};this.$each();return m},T.$$arity=1);c.def(d,"$each_entry",sa=function(b){var d,e,k=sa.$$p,h=k||m,g=arguments.length;e=g-0;
0>e&&(e=0);e=Array(e);for(var l=0;l<g;l++)e[l-0]=arguments[l];k&&(sa.$$p=null);if(h===m)return a(this,"to_enum",["each_entry"].concat(c.to_a(e)),(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);c.yield1(h,a)};this.$each.apply(this,e);return this},sa.$$arity=-1);c.def(d,"$each_slice",na=function(b){var d,e=na.$$p,k=e||m;e&&(na.$$p=null);b=q(f,"Opal").$coerce_to(b,q(f,"Integer"),"to_int");v(0>=b)&&this.$raise(q(f,
"ArgumentError"),"invalid slice size");if(k===m)return a(this,"enum_for",["each_slice",b],(d=function(){var a=d.$$s||this;return v(a["$respond_to?"]("size"))?(a=a.$size(),("number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)).$ceil()):m},d.$$s=this,d.$$arity=0,d));var h=[];this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);h.push(a);h.length===b&&(c.yield1(k,h),h=[])};this.$each();0<h.length&&c.yield1(k,h);return m},na.$$arity=1);c.def(d,"$each_with_index",J=function(b){var d,
e,k=J.$$p,h=k||m,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var l=0;l<g;l++)e[l-0]=arguments[l];k&&(J.$$p=null);if(h===m)return a(this,"enum_for",["each_with_index"].concat(c.to_a(e)),(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var r=0;this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);h(a,r);r++};this.$each.apply(this,e);return this},J.$$arity=-1);c.def(d,"$each_with_object",w=function(b){var c,d=w.$$p,e=d||m;d&&(w.$$p=null);if(e===m)return a(this,
"enum_for",["each_with_object",b],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);e(a,b)};this.$each();return b},w.$$arity=1);c.def(d,"$entries",C=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];var e=[];this.$each.$$p=function(){e.push(q(f,"Opal").$destructure(arguments))};this.$each.apply(this,b);return e},C.$$arity=-1);c.alias(d,"find","detect");
c.def(d,"$find_all",U=function(){var b,d=U.$$p,e=d||m;d&&(U.$$p=null);if(e===m)return a(this,"enum_for",["find_all"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var k=[];this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments),b=c.yield1(e,a);v(b)&&k.push(a)};this.$each();return k},U.$$arity=0);c.def(d,"$find_index",F=function(b){try{var d,e,k=F.$$p,h=k||m,g=m;k&&(F.$$p=null);if(v(void 0===b&&h===m))return this.$enum_for("find_index");null!=b&&h!==m&&
this.$warn("warning: given block not used");g=0;v(null!=b)?a(this,"each",[],(d=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var k=0;k<e;k++)d[k-0]=arguments[k];q(f,"Opal").$destructure(d)["$=="](b)&&c.ret(g);return g+=1},d.$$s=this,d.$$arity=-1,d)):a(this,"each",[],(e=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];v(c.yieldX(h,c.to_a(b)))&&c.ret(g);return g+=1},e.$$s=this,e.$$arity=-1,e));return m}catch(l){if(l===c.returner)return l.$v;
throw l;}},F.$$arity=-1);c.def(d,"$first",Q=function(b){try{var d,e,k=m,h=m;if(v(void 0===b))return a(this,"each",[],(d=function(a){null==a&&(a=m);c.ret(a)},d.$$s=this,d.$$arity=1,d));k=[];b=q(f,"Opal").$coerce_to(b,q(f,"Integer"),"to_int");v(0>b)&&this.$raise(q(f,"ArgumentError"),"attempt to take negative size");if(v(0==b))return[];h=0;a(this,"each",[],(e=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];k.push(q(f,"Opal").$destructure(d));if(v(b<=
++h))c.ret(k);else return m},e.$$s=this,e.$$arity=-1,e));return k}catch(g){if(g===c.returner)return g.$v;throw g;}},Q.$$arity=-1);c.alias(d,"flat_map","collect_concat");c.def(d,"$grep",ba=function(d){var e,f=ba.$$p,k=f||m,h=m;f&&(ba.$$p=null);h=[];a(this,"each",[],(e=function(e){var f,g=m,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var l=0;l<g;l++)f[l-0]=arguments[l];g=b(f);if(!v(a(d,"__send__",["==="].concat(c.to_a(g)))))return m;k!==m?(v(A(f.$length(),1))&&(f=[f]),f=c.yieldX(k,c.to_a(f))):
v(y(f.$length(),1))&&(f=f["$[]"](0));return h.$push(f)},e.$$s=this,e.$$arity=-1,e));return h},ba.$$arity=1);c.def(d,"$grep_v",la=function(d){var e,f=la.$$p,k=f||m,h=m;f&&(la.$$p=null);h=[];a(this,"each",[],(e=function(e){var f,g=m,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var l=0;l<g;l++)f[l-0]=arguments[l];g=b(f);if(v(a(d,"__send__",["==="].concat(c.to_a(g)))))return m;k!==m?(v(A(f.$length(),1))&&(f=[f]),f=c.yieldX(k,c.to_a(f))):v(y(f.$length(),1))&&(f=f["$[]"](0));return h.$push(f)},e.$$s=
this,e.$$arity=-1,e));return h},la.$$arity=1);c.def(d,"$group_by",Z=function(){var b,d,e=Z.$$p,k=e||m,h=m,g=m;e&&(Z.$$p=null);if(k===m)return a(this,"enum_for",["group_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));h=B([],{});this.$each.$$p=function(){var b=q(f,"Opal").$destructure(arguments),e=c.yield1(k,b);(v(d=h["$[]"](e))?d:(g=[e,[]],a(h,"[]=",c.to_a(g)),g[t(g.length,1)]))["$<<"](b)};this.$each();return h},Z.$$arity=0);c.def(d,"$include?",N=function(b){try{var d;
a(this,"each",[],(d=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var k=0;k<e;k++)d[k-0]=arguments[k];if(q(f,"Opal").$destructure(d)["$=="](b))c.ret(!0);else return m},d.$$s=this,d.$$arity=-1,d));return!1}catch(e){if(e===c.returner)return e.$v;throw e;}},N.$$arity=1);c.def(d,"$inject",V=function(a,b){var d=V.$$p,e=d||m;d&&(V.$$p=null);var k=a;e!==m&&void 0===b?this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);void 0!==k&&(a=c.yieldX(e,[k,a]));k=a}:(void 0===
b&&(q(f,"Symbol")["$==="](a)||this.$raise(q(f,"TypeError"),""+a.$inspect()+" is not a Symbol"),b=a,k=void 0),this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);k=void 0===k?a:k.$__send__(b,a)});this.$each();return void 0==k?m:k},V.$$arity=-1);c.def(d,"$lazy",L=function(){var b;return a(x(q(f,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(b=function(b,d){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var k=1;k<f;k++)e[k-1]=arguments[k];null==b&&(b=m);return a(b,
"yield",c.to_a(e))},b.$$s=this,b.$$arity=-2,b))},L.$$arity=0);c.def(d,"$enumerator_size",K=function(){return v(this["$respond_to?"]("size"))?this.$size():m},K.$$arity=0);c.alias(d,"map","collect");c.def(d,"$max",W=function(b){var d=this,e=W.$$p,k=e||m;e&&(W.$$p=null);if(void 0===b||b===m){var h,g;d.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);void 0===h?h=a:(g=k!==m?c.yieldX(k,[a,h]):a["$<=>"](h),g===m&&d.$raise(q(f,"ArgumentError"),"comparison failed"),0<g&&(h=a))};d.$each();return void 0===
h?m:h}b=q(f,"Opal").$coerce_to(b,q(f,"Integer"),"to_int");return a(d,"sort",[],k.$to_proc()).$reverse().$first(b)},W.$$arity=-1);c.def(d,"$max_by",qa=function(){var b,d=qa.$$p,e=d||m;d&&(qa.$$p=null);if(!v(e))return a(this,"enum_for",["max_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var k,h;this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments),b=c.yield1(e,a);void 0===k?(k=a,h=b):0<b["$<=>"](h)&&(k=a,h=b)};this.$each();return void 0===k?m:k},
qa.$$arity=0);c.alias(d,"member?","include?");c.def(d,"$min",ga=function(){var a=this,b=ga.$$p,c=b||m;b&&(ga.$$p=null);var d;a.$each.$$p=c!==m?function(){var b=q(f,"Opal").$destructure(arguments);if(void 0===d)d=b;else{var e=c(b,d);e===m&&a.$raise(q(f,"ArgumentError"),"comparison failed");0>e&&(d=b)}}:function(){var a=q(f,"Opal").$destructure(arguments);void 0===d?d=a:0>q(f,"Opal").$compare(a,d)&&(d=a)};a.$each();return void 0===d?m:d},ga.$$arity=0);c.def(d,"$min_by",ja=function(){var b,d=ja.$$p,
e=d||m;d&&(ja.$$p=null);if(!v(e))return a(this,"enum_for",["min_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var k,h;this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments),b=c.yield1(e,a);void 0===k?(k=a,h=b):0>b["$<=>"](h)&&(k=a,h=b)};this.$each();return void 0===k?m:k},ja.$$arity=0);c.def(d,"$minmax",aa=function(){var b,c,d=this,e=aa.$$p,k=e||m;e&&(aa.$$p=null);var k=v(b=k)?b:a(d,"proc",[],(c=function(a,b){null==a&&(a=m);null==b&&(b=m);return a["$<=>"](b)},
c.$$s=d,c.$$arity=2,c)),h=m,g=m,l=!0;d.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments);if(l)h=g=a,l=!1;else{var b=k.$call(h,a);b===m?d.$raise(q(f,"ArgumentError"),"comparison failed"):0<b&&(h=a);b=k.$call(g,a);b===m?d.$raise(q(f,"ArgumentError"),"comparison failed"):0>b&&(g=a)}};d.$each();return[h,g]},aa.$$arity=0);c.def(d,"$minmax_by",R=function(){R.$$p&&(R.$$p=null);return this.$raise(q(f,"NotImplementedError"))},R.$$arity=0);c.def(d,"$none?",ua=function(d){try{var e,k,h,g=ua.$$p,
l=g||m;g&&(ua.$$p=null);v(void 0!==d)?a(this,"each",[],(e=function(e){var f,k=m,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var h=0;h<k;h++)f[h-0]=arguments[h];k=b(f);if(v(a(d,"public_send",["==="].concat(c.to_a(k)))))c.ret(!1);else return m},e.$$s=this,e.$$arity=-1,e)):l!==m?a(this,"each",[],(k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(v(c.yieldX(l,c.to_a(b))))c.ret(!1);else return m},k.$$s=this,k.$$arity=-1,k)):a(this,"each",
[],(h=function(a){var b,d=m,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=q(f,"Opal").$destructure(b);if(v(d))c.ret(!1);else return m},h.$$s=this,h.$$arity=-1,h));return!0}catch(r){if(r===c.returner)return r.$v;throw r;}},ua.$$arity=-1);c.def(d,"$one?",ia=function(d){try{var e,k,h,g=ia.$$p,l=g||m,r=m;g&&(ia.$$p=null);r=0;v(void 0!==d)?a(this,"each",[],(e=function(e){var f,k=m,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var h=0;h<k;h++)f[h-0]=arguments[h];
k=b(f);if(v(a(d,"public_send",["==="].concat(c.to_a(k)))))if(r=D(r,1),v(A(r,1)))c.ret(!1);else return m;else return m},e.$$s=this,e.$$arity=-1,e)):l!==m?a(this,"each",[],(k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(!v(c.yieldX(l,c.to_a(b))))return m;r=D(r,1);if(v(A(r,1)))c.ret(!1);else return m},k.$$s=this,k.$$arity=-1,k)):a(this,"each",[],(h=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=
arguments[e];if(!v(q(f,"Opal").$destructure(b)))return m;r=D(r,1);if(v(A(r,1)))c.ret(!1);else return m},h.$$s=this,h.$$arity=-1,h));return r["$=="](1)}catch(n){if(n===c.returner)return n.$v;throw n;}},ia.$$arity=-1);c.def(d,"$partition",ea=function(){var b,d=ea.$$p,e=d||m;d&&(ea.$$p=null);if(e===m)return a(this,"enum_for",["partition"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var k=[],h=[];this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments),
b=c.yield1(e,a);v(b)?k.push(a):h.push(a)};this.$each();return[k,h]},ea.$$arity=0);c.alias(d,"reduce","inject");c.def(d,"$reject",fa=function(){var b,d=fa.$$p,e=d||m;d&&(fa.$$p=null);if(e===m)return a(this,"enum_for",["reject"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var h=[];this.$each.$$p=function(){var a=q(f,"Opal").$destructure(arguments),b=c.yield1(e,a);k(b)&&h.push(a)};this.$each();return h},fa.$$arity=0);c.def(d,"$reverse_each",ca=function(){var b,d=
ca.$$p,e=d||m;d&&(ca.$$p=null);if(e===m)return a(this,"enum_for",["reverse_each"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(d=f.length-1;0<=d;d--)c.yieldX(e,f[d]);return f},ca.$$arity=0);c.alias(d,"select","find_all");c.def(d,"$slice_before",Y=function(b){var d,e=Y.$$p,k=e||m;e&&(Y.$$p=null);v(void 0===b&&k===m)&&this.$raise(q(f,"ArgumentError"),"both pattern and block are given");v(void 0!==
b&&k!==m||1<arguments.length)&&this.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return a(q(f,"Enumerator"),"new",[],(d=function(a){var e=d.$$s||this;null==a&&(a=m);var h=[];e.$each.$$p=k!==m?void 0===b?function(){var b=q(f,"Opal").$destructure(arguments),d=c.yield1(k,b);v(d)&&0<h.length&&(a["$<<"](h),h=[]);h.push(b)}:function(){var c=q(f,"Opal").$destructure(arguments),d=k(c,b.$dup());v(d)&&0<h.length&&(a["$<<"](h),h=[]);h.push(c)}:function(){var c=q(f,
"Opal").$destructure(arguments),d=b["$==="](c);v(d)&&0<h.length&&(a["$<<"](h),h=[]);h.push(c)};e.$each();if(0<h.length)a["$<<"](h)},d.$$s=this,d.$$arity=1,d))},Y.$$arity=-1);c.def(d,"$slice_after",va=function(b){var d,e,k=va.$$p,h=k||m;k&&(va.$$p=null);v(void 0===b&&h===m)&&this.$raise(q(f,"ArgumentError"),"both pattern and block are given");v(void 0!==b&&h!==m||1<arguments.length)&&this.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");v(void 0!==b)&&(h=a(this,
"proc",[],(d=function(a){null==a&&(a=m);return b["$==="](a)},d.$$s=this,d.$$arity=1,d)));return a(q(f,"Enumerator"),"new",[],(e=function(a){var b=e.$$s||this;null==a&&(a=m);var d;b.$each.$$p=function(){var b=q(f,"Opal").$destructure(arguments),e=c.yield1(h,b);null==d&&(d=[]);v(e)?(d.push(b),a.$yield(d),d=null):d.push(b)};b.$each();null!=d&&a.$yield(d)},e.$$s=this,e.$$arity=1,e))},va.$$arity=-1);c.def(d,"$slice_when",ma=function(){var b,d=ma.$$p,e=d||m;d&&(ma.$$p=null);e===m&&this.$raise(q(f,"ArgumentError"),
"wrong number of arguments (0 for 1)");return a(q(f,"Enumerator"),"new",[],(b=function(a){var d=b.$$s||this;null==a&&(a=m);var k=m,h=m;d.$each_cons.$$p=function(){var b=q(f,"Opal").$destructure(arguments),d=b[0],b=b[1],g=c.yieldX(e,[d,b]);h=b;k===m&&(k=[]);v(g)?(k.push(d),a.$yield(k),k=[]):k.push(d)};d.$each_cons(2);k!==m&&(k.push(h),a.$yield(k))},b.$$s=this,b.$$arity=1,b))},ma.$$arity=0);c.def(d,"$sort",ta=function(){var b,c=ta.$$p,d=c||m,e=m;c&&(ta.$$p=null);e=this.$to_a();d===m&&(d=M((b=function(a,
b){null==a&&(a=m);null==b&&(b=m);return a["$<=>"](b)},b.$$s=this,b.$$arity=2,b)));return a(e,"sort",[],d.$to_proc())},ta.$$arity=0);c.def(d,"$sort_by",ya=function(){var b,d,e,k,h=ya.$$p,g=h||m,l=m;h&&(ya.$$p=null);if(g===m)return a(this,"enum_for",["sort_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));l=a(this,"map",[],(d=function(){var a=m,a=q(f,"Opal").$destructure(arguments);return[c.yield1(g,a),a]},d.$$s=this,d.$$arity=0,d));a(l,"sort!",[],(e=function(a,b){null==
a&&(a=m);null==b&&(b=m);return a[0]["$<=>"](b[0])},e.$$s=this,e.$$arity=2,e));return a(l,"map!",[],(k=function(a){null==a&&(a=m);return a[1]},k.$$s=this,k.$$arity=1,k))},ya.$$arity=0);c.def(d,"$sum",oa=function(b){var d,e=oa.$$p,k=e||m,h=m;null==b&&(b=0);e&&(oa.$$p=null);h=b;a(this,"each",[],(d=function(a){var b,d=m,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=k!==m?c.yieldX(k,c.to_a(b)):q(f,"Opal").$destructure(b);return h=D(h,d)},d.$$s=this,d.$$arity=
-1,d));return h},oa.$$arity=-1);c.def(d,"$take",Ia=function(a){return this.$first(a)},Ia.$$arity=1);c.def(d,"$take_while",Ca=function(){try{var b,d=Ca.$$p,e=d||m,k=m;d&&(Ca.$$p=null);if(!v(e))return this.$enum_for("take_while");k=[];return a(this,"each",[],(b=function(a){var b,d=m,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var h=0;h<d;h++)b[h-0]=arguments[h];d=q(f,"Opal").$destructure(b);v(c.yield1(e,d))||c.ret(k);return k.push(d)},b.$$s=this,b.$$arity=-1,b))}catch(h){if(h===c.returner)return h.$v;
throw h;}},Ca.$$arity=0);c.def(d,"$uniq",Ha=function(){var b,d=Ha.$$p,e=d||m,k=m;d&&(Ha.$$p=null);k=B([],{});a(this,"each",[],(b=function(b){var d,h=m,h=d=m,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var g=0;g<h;g++)d[g-0]=arguments[g];h=q(f,"Opal").$destructure(d);d=e!==m?c.yield1(e,h):h;if(v(k["$key?"](d)))return m;h=[d,h];a(k,"[]=",c.to_a(h));return h[t(h.length,1)]},b.$$s=this,b.$$arity=-1,b));return k.$values()},Ha.$$arity=0);c.alias(d,"to_a","entries");c.def(d,"$zip",za=function(b){var d,
e=za.$$p,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var k=0;k<f;k++)d[k-0]=arguments[k];e&&(za.$$p=null);return a(this.$to_a(),"zip",c.to_a(d))},za.$$arity=-1)}(p[0],p)},Opal.modules["corelib/enumerator"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var t=c.top,y=[],p=c.nil,m=c.const_get_relative,x=c.breaker,q=c.slice,E=c.klass,v=c.truthy,a=c.send,k=c.falsy;c.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
t.$require("corelib/enumerable");return function(B,$super,z){function l(){}B=l=E(B,$super,"Enumerator",l);var g=B.prototype,b=[B].concat(z),d,f,n,S,r,e;g.size=g.args=g.object=g.method=p;B.$include(m(b,"Enumerable"));g.$$is_enumerator=!0;c.defs(B,"$for",d=function(a,b,c){var e,f=d.$$p,k=f||p;null==b&&(b="each");var g=arguments.length;e=g-2;0>e&&(e=0);e=Array(e);for(var l=2;l<g;l++)e[l-2]=arguments[l];f&&(d.$$p=null);f=this.$allocate();f.object=a;f.size=k;f.method=b;f.args=e;return f},d.$$arity=-2);
c.def(B,"$initialize",f=function(c){var d=f.$$p,e=d||p;d&&(f.$$p=null);if(v(e))return this.object=a(m(b,"Generator"),"new",[],e.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||p,v(this.size)?this.size=m(b,"Opal").$coerce_to(this.size,m(b,"Integer"),"to_int"):p;this.object=arguments[0];this.method=arguments[1]||"each";this.args=q.call(arguments,2);return this.size=p},f.$$arity=-1);c.def(B,"$each",n=function(b){var d,e,f=n.$$p,k=f||p,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);
for(var l=0;l<g;l++)e[l-0]=arguments[l];f&&(n.$$p=null);if(v(v(d=k["$nil?"]())?e["$empty?"]():d))return this;e=A(this.args,e);return v(k["$nil?"]())?a(this.$class(),"new",[this.object,this.method].concat(c.to_a(e))):a(this.object,"__send__",[this.method].concat(c.to_a(e)),k.$to_proc())},n.$$arity=-1);c.def(B,"$size",S=function(){return v(m(b,"Proc")["$==="](this.size))?a(this.size,"call",c.to_a(this.args)):this.size},S.$$arity=0);c.def(B,"$with_index",r=function(c){var d,e=r.$$p,f=e||p;null==c&&(c=
0);e&&(r.$$p=null);c=v(c)?m(b,"Opal").$coerce_to(c,m(b,"Integer"),"to_int"):0;if(!v(f))return a(this,"enum_for",["with_index",c],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));var k=c;this.$each.$$p=function(){var a=m(b,"Opal").$destructure(arguments),a=f(a,k);k++;return a};return this.$each()},r.$$arity=-1);c.alias(B,"with_object","each_with_object");c.def(B,"$inspect",e=function(){var a=p,a="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;v(this.args["$any?"]())&&
(a=A(a,"("+this.args.$inspect()["$[]"](m(b,"Range").$new(1,-2))+")"));return A(a,">")},e.$$arity=0);(function(b,$super,d){function e(){}b=e=E(b,$super,"Generator",e);var f=b.prototype,k=[b].concat(d),g,l;f.block=p;b.$include(m(k,"Enumerable"));c.def(b,"$initialize",g=function(){var a=g.$$p,b=a||p;a&&(g.$$p=null);v(b)||this.$raise(m(k,"LocalJumpError"),"no block given");return this.block=b},g.$$arity=0);return(c.def(b,"$each",l=function(b){var d,e=l.$$p,f=e||p,h=p,h=arguments.length;d=h-0;0>d&&(d=
0);d=Array(d);for(var g=0;g<h;g++)d[g-0]=arguments[g];e&&(l.$$p=null);h=a(m(k,"Yielder"),"new",[],f.$to_proc());try{d.unshift(h),c.yieldX(this.block,d)}catch(r){if(r===x)return x.$v;throw r;}return this},l.$$arity=-1),p)&&"each"})(b[0],null,b);(function(b,$super,d){function e(){}b=e=E(b,$super,"Yielder",e);var f=b.prototype;[b].concat(d);var k,g,l;f.block=p;c.def(b,"$initialize",k=function(){var a=k.$$p,b=a||p;a&&(k.$$p=null);return this.block=b},k.$$arity=0);c.def(b,"$yield",g=function(a){var b,
d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=c.yieldX(this.block,b);if(d===x)throw x;return d},g.$$arity=-1);return(c.def(b,"$<<",l=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];a(this,"yield",c.to_a(d));return this},l.$$arity=-1),p)&&"<<"})(b[0],null,b);return function(b,$super,d){function e(){}b=e=E(b,$super,"Lazy",e);var f=b.prototype,g=[b].concat(d),l,r,n,B,z,w,C,S,F,Q,q,y,x;f.enumerator=p;(function(a,
$super,b){function c(){}[c=E(a,$super,"StopLazyError",c)].concat(b);return p})(g[0],m(g,"Exception"),g);c.def(b,"$initialize",l=function(b,d){var e,f=l.$$p,k=f||p;null==d&&(d=p);f&&(l.$$p=null);k===p&&this.$raise(m(g,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=b;return a(this,c.find_super_dispatcher(this,"initialize",l,!1),[d],(e=function(d,f){var h=e.$$s||this,l,r,n=arguments.length;l=n-1;0>l&&(l=0);l=Array(l);for(var B=1;B<n;B++)l[B-1]=arguments[B];null==d&&(d=p);
try{return a(b,"each",c.to_a(l),(r=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];b.unshift(d);c.yieldX(k,b)},r.$$s=h,r.$$arity=-1,r))}catch(w){if(c.rescue(w,[m(g,"Exception")]))try{return p}finally{c.pop_exception()}else throw w;}},e.$$s=this,e.$$arity=-2,e))},l.$$arity=-2);c.alias(b,"force","to_a");c.def(b,"$lazy",r=function(){return this},r.$$arity=0);c.def(b,"$collect",n=function(){var b,d=n.$$p,e=d||p;d&&(n.$$p=null);v(e)||this.$raise(m(g,
"ArgumentError"),"tried to call lazy map without a block");return a(m(g,"Lazy"),"new",[this,this.$enumerator_size()],(b=function(a,b){var d,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var k=1;k<f;k++)d[k-1]=arguments[k];null==a&&(a=p);f=c.yieldX(e,d);a.$yield(f)},b.$$s=this,b.$$arity=-2,b))},n.$$arity=0);c.def(b,"$collect_concat",B=function(){var b,d=B.$$p,e=d||p;d&&(B.$$p=null);v(e)||this.$raise(m(g,"ArgumentError"),"tried to call lazy map without a block");return a(m(g,"Lazy"),"new",[this,
p],(b=function(d,f){var k=b.$$s||this,h,l,r,n=arguments.length;h=n-1;0>h&&(h=0);h=Array(h);for(var B=1;B<n;B++)h[B-1]=arguments[B];null==d&&(d=p);n=c.yieldX(e,h);n["$respond_to?"]("force")&&n["$respond_to?"]("each")?a(n,"each",[],(l=function(a){null==a&&(a=p);return d.$yield(a)},l.$$s=k,l.$$arity=1,l)):m(g,"Opal").$try_convert(n,m(g,"Array"),"to_ary")===p?d.$yield(n):a(n,"each",[],(r=function(a){null==a&&(a=p);return d.$yield(a)},r.$$s=k,r.$$arity=1,r))},b.$$s=this,b.$$arity=-2,b))},B.$$arity=0);
c.def(b,"$drop",z=function(b){var d,e=p,f=e=p;b=m(g,"Opal").$coerce_to(b,m(g,"Integer"),"to_int");v(D(b,0))&&this.$raise(m(g,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=v(m(g,"Integer")["$==="](e))?v(D(b,e))?b:e:e;f=0;return a(m(g,"Lazy"),"new",[this,e],(d=function(d,e){var k,h=arguments.length;k=h-1;0>k&&(k=0);k=Array(k);for(var g=1;g<h;g++)k[g-1]=arguments[g];null==d&&(d=p);return v(D(f,b))?f=A(f,1):a(d,"yield",c.to_a(k))},d.$$s=this,d.$$arity=-2,d))},z.$$arity=
1);c.def(b,"$drop_while",w=function(){var b,d=w.$$p,e=d||p,f=p;d&&(w.$$p=null);v(e)||this.$raise(m(g,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return a(m(g,"Lazy"),"new",[this,p],(b=function(b,d){var h,g=arguments.length;h=g-1;0>h&&(h=0);h=Array(h);for(var l=1;l<g;l++)h[l-1]=arguments[l];null==b&&(b=p);if(v(f))g=c.yieldX(e,h),k(g)&&(f=!1,a(b,"yield",c.to_a(h)));else return a(b,"yield",c.to_a(h))},b.$$s=this,b.$$arity=-2,b))},w.$$arity=0);c.def(b,"$enum_for",C=function(b,
d){var e,f=C.$$p,k=f||p;null==b&&(b="each");var h=arguments.length;e=h-1;0>e&&(e=0);e=Array(e);for(var g=1;g<h;g++)e[g-1]=arguments[g];f&&(C.$$p=null);return a(this.$class(),"for",[this,b].concat(c.to_a(e)),k.$to_proc())},C.$$arity=-1);c.def(b,"$find_all",S=function(){var b,d=S.$$p,e=d||p;d&&(S.$$p=null);v(e)||this.$raise(m(g,"ArgumentError"),"tried to call lazy select without a block");return a(m(g,"Lazy"),"new",[this,p],(b=function(b,d){var f,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var h=
1;h<k;h++)f[h-1]=arguments[h];null==b&&(b=p);k=c.yieldX(e,f);v(k)&&a(b,"yield",c.to_a(f))},b.$$s=this,b.$$arity=-2,b))},S.$$arity=0);c.alias(b,"flat_map","collect_concat");c.def(b,"$grep",F=function(b){var d,e,f=F.$$p,k=f||p;f&&(F.$$p=null);return v(k)?a(m(g,"Lazy"),"new",[this,p],(d=function(a,d){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var h=1;h<f;h++)e[h-1]=arguments[h];null==a&&(a=p);f=m(g,"Opal").$destructure(e);e=b["$==="](f);v(e)&&(c.yield1(k,f),a.$yield(c.yield1(k,f)))},d.$$s=
this,d.$$arity=-2,d)):a(m(g,"Lazy"),"new",[this,p],(e=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];null==a&&(a=p);e=m(g,"Opal").$destructure(d);d=b["$==="](e);v(d)&&a.$yield(e)},e.$$s=this,e.$$arity=-2,e))},F.$$arity=1);c.alias(b,"map","collect");c.alias(b,"select","find_all");c.def(b,"$reject",Q=function(){var b,d=Q.$$p,e=d||p;d&&(Q.$$p=null);v(e)||this.$raise(m(g,"ArgumentError"),"tried to call lazy reject without a block");return a(m(g,
"Lazy"),"new",[this,p],(b=function(b,d){var f,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var g=1;g<h;g++)f[g-1]=arguments[g];null==b&&(b=p);h=c.yieldX(e,f);k(h)&&a(b,"yield",c.to_a(f))},b.$$s=this,b.$$arity=-2,b))},Q.$$arity=0);c.def(b,"$take",q=function(b){var d,e=p,f=e=p;b=m(g,"Opal").$coerce_to(b,m(g,"Integer"),"to_int");v(D(b,0))&&this.$raise(m(g,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=v(m(g,"Integer")["$==="](e))?v(D(b,e))?b:e:e;f=0;return a(m(g,
"Lazy"),"new",[this,e],(d=function(e,k){var h=d.$$s||this,l,r=arguments.length;l=r-1;0>l&&(l=0);l=Array(l);for(var n=1;n<r;n++)l[n-1]=arguments[n];null==e&&(e=p);return v(D(f,b))?(a(e,"yield",c.to_a(l)),f=A(f,1)):h.$raise(m(g,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},q.$$arity=1);c.def(b,"$take_while",y=function(){var b,d=y.$$p,e=d||p;d&&(y.$$p=null);v(e)||this.$raise(m(g,"ArgumentError"),"tried to call lazy take_while without a block");return a(m(g,"Lazy"),"new",[this,p],(b=function(d,f){var k=
b.$$s||this,h,l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var r=1;r<l;r++)h[r-1]=arguments[r];null==d&&(d=p);l=c.yieldX(e,h);v(l)?a(d,"yield",c.to_a(h)):k.$raise(m(g,"StopLazyError"))},b.$$s=this,b.$$arity=-2,b))},y.$$arity=0);c.alias(b,"to_enum","enum_for");return(c.def(b,"$inspect",x=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},x.$$arity=0),p)&&"inspect"}(b[0],B,b)}(y[0],null,y)},Opal.modules["corelib/numeric"]=function(c){function A(a,c){return"number"===typeof a&&
"number"===typeof c?a-c:a["$-"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var p=c.top,m=[],x=c.nil,q=c.const_get_qualified,E=c.const_get_relative,v=c.klass,a=c.truthy,k=c.hash2;c.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
p.$require("corelib/comparable");return function(B,$super,m){function l(){}B=l=v(B,$super,"Numeric",l);var g=[B].concat(m),b,d,f,n,S,r,e,h,u,pa,p,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua;B.$include(E(g,"Comparable"));c.def(B,"$coerce",b=function(b){return a(b["$instance_of?"](this.$class()))?[b,this]:[this.$Float(b),this.$Float(this)]},b.$$arity=1);c.def(B,"$__coerced__",d=function(b,d){var e,f,k=x;f=e=x;if(a(d["$respond_to?"]("coerce")))return f=d.$coerce(this),e=c.to_ary(f),
k=null==e[0]?x:e[0],e=null==e[1]?x:e[1],f,k.$__send__(b,e);f=b;return"+"["$==="](f)||"-"["$==="](f)||"*"["$==="](f)||"/"["$==="](f)||"%"["$==="](f)||"&"["$==="](f)||"|"["$==="](f)||"^"["$==="](f)||"**"["$==="](f)?this.$raise(E(g,"TypeError"),""+d.$class()+" can't be coerced into Numeric"):">"["$==="](f)||">="["$==="](f)||"<"["$==="](f)||"<="["$==="](f)||"<=>"["$==="](f)?this.$raise(E(g,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed"):x},d.$$arity=2);c.def(B,"$<=>",f=
function(b){return a(this["$equal?"](b))?0:x},f.$$arity=1);c.def(B,"$+@",n=function(){return this},n.$$arity=0);c.def(B,"$-@",S=function(){return A(0,this)},S.$$arity=0);c.def(B,"$%",r=function(a){return A(this,D(a,this.$div(a)))},r.$$arity=1);c.def(B,"$abs",e=function(){return t(this,0)?this["$-@"]():this},e.$$arity=0);c.def(B,"$abs2",h=function(){return D(this,this)},h.$$arity=0);c.def(B,"$angle",u=function(){return t(this,0)?q(E(g,"Math"),"PI"):0},u.$$arity=0);c.alias(B,"arg","angle");c.def(B,
"$ceil",pa=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},pa.$$arity=-1);c.def(B,"$conj",p=function(){return this},p.$$arity=0);c.alias(B,"conjugate","conj");c.def(B,"$denominator",da=function(){return this.$to_r().$denominator()},da.$$arity=0);c.def(B,"$div",G=function(a){a["$=="](0)&&this.$raise(E(g,"ZeroDivisionError"),"divided by o");return y(this,a).$floor()},G.$$arity=1);c.def(B,"$divmod",ka=function(a){return[this.$div(a),this["$%"](a)]},ka.$$arity=1);c.def(B,"$fdiv",T=function(a){return y(this.$to_f(),
a)},T.$$arity=1);c.def(B,"$floor",sa=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},sa.$$arity=-1);c.def(B,"$i",na=function(){return this.$Complex(0,this)},na.$$arity=0);c.def(B,"$imag",J=function(){return 0},J.$$arity=0);c.alias(B,"imaginary","imag");c.def(B,"$integer?",w=function(){return!1},w.$$arity=0);c.alias(B,"magnitude","abs");c.alias(B,"modulo","%");c.def(B,"$nonzero?",C=function(){return a(this["$zero?"]())?x:this},C.$$arity=0);c.def(B,"$numerator",U=function(){return this.$to_r().$numerator()},
U.$$arity=0);c.alias(B,"phase","arg");c.def(B,"$polar",F=function(){return[this.$abs(),this.$arg()]},F.$$arity=0);c.def(B,"$quo",Q=function(a){return y(E(g,"Opal")["$coerce_to!"](this,E(g,"Rational"),"to_r"),a)},Q.$$arity=1);c.def(B,"$real",ba=function(){return this},ba.$$arity=0);c.def(B,"$real?",la=function(){return!0},la.$$arity=0);c.def(B,"$rect",Z=function(){return[this,0]},Z.$$arity=0);c.alias(B,"rectangular","rect");c.def(B,"$round",N=function(a){return this.$to_f().$round(a)},N.$$arity=-1);
c.def(B,"$to_c",V=function(){return this.$Complex(this,0)},V.$$arity=0);c.def(B,"$to_int",L=function(){return this.$to_i()},L.$$arity=0);c.def(B,"$truncate",K=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},K.$$arity=-1);c.def(B,"$zero?",W=function(){return this["$=="](0)},W.$$arity=0);c.def(B,"$positive?",qa=function(){return"number"===typeof this?0<this:this["$>"](0)},qa.$$arity=0);c.def(B,"$negative?",ga=function(){return t(this,0)},ga.$$arity=0);c.def(B,"$dup",ja=function(){return this},
ja.$$arity=0);c.def(B,"$clone",aa=function(a){if(null==a||!a.$$is_hash)if(null==a)k([],{});else throw c.ArgumentError.$new("expected kwargs");return this},aa.$$arity=-1);c.def(B,"$finite?",R=function(){return!0},R.$$arity=0);return(c.def(B,"$infinite?",ua=function(){return x},ua.$$arity=0),x)&&"infinite?"}(m[0],null,m)},Opal.modules["corelib/array"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var D=c.top,t=[],y=c.nil,p=c.const_get_qualified,m=c.const_get_relative,
x=c.klass,q=c.truthy,E=c.hash2,v=c.send,a=c.gvars;c.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
D.$require("corelib/enumerable");D.$require("corelib/numeric");return function(k,$super,M){function z(){}function l(a,b){return b.$$name===c.Array?a:b.$allocate().$replace(a.$to_a())}function g(a,b){var d=a.length,e,f,k;e=b.excl;f=c.Opal.$coerce_to(b.begin,c.Integer,"to_int");k=c.Opal.$coerce_to(b.end,c.Integer,"to_int");if(0>f&&(f+=d,0>f)||f>d)return y;if(0>k&&(k+=d,0>k))return[];e||(k+=1);d=a.slice(f,k);return l(d,a.$class())}function b(a,b,d){var e=a.length;b=c.Opal.$coerce_to(b,c.Integer,"to_int");
if(0>b&&(b+=e,0>b))return y;if(void 0===d)return b>=e||0>b?y:a[b];d=c.Opal.$coerce_to(d,c.Integer,"to_int");if(0>d||b>e||0>b)return y;b=a.slice(b,b+d);return l(b,a.$class())}function d(a,b){return a===b||0===b?1:0<b&&a>b?d(a-1,b-1)+d(a-1,b):0}var f=z=x(k,$super,"Array",z),n=[f].concat(M),S,r,e,h,u,pa,t,da,G,ka,T,D,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa,H,P,ra,X,Qa,O,Ka,Na,Ra,Sa,I,Ta,Xa,jb,kb,hb,ib,Ya,Za,ab,
lb,bb,mb,nb,ob,cb,Wa,gb,fb,Va,eb,Ua,pb;f.$include(m(n,"Enumerable"));c.defineProperty(Array.prototype,"$$is_array",!0);c.defs(f,"$[]",S=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return l(b,this)},S.$$arity=-1);c.def(f,"$initialize",r=function(a,b){var c=r.$$p,d=c||y;null==a&&(a=y);null==b&&(b=y);c&&(r.$$p=null);b!==y&&d!==y&&this.$warn("warning: block supersedes default value argument");a>p(m(n,"Integer"),"MAX")&&this.$raise(m(n,"ArgumentError"),
"array size too big");2<arguments.length&&this.$raise(m(n,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&this.$raise(m(n,"ArgumentError"),"negative array size");this.splice(0,this.length);var e;if(d===y)for(c=
0;c<a;c++)this.push(b);else for(c=0,e;c<a;c++)e=d(c),this[c]=e;return this},r.$$arity=-1);c.defs(f,"$try_convert",e=function(a){return m(n,"Opal")["$coerce_to?"](a,m(n,"Array"),"to_ary")},e.$$arity=1);c.def(f,"$&",h=function(a){a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,m(n,"Array"),"to_ary").$to_a();var b=[],d=E([],{}),e,f;e=0;for(f=a.length;e<f;e++)c.hash_put(d,a[e],!0);e=0;for(f=this.length;e<f;e++)a=this[e],void 0!==c.hash_delete(d,a)&&b.push(a);return b},h.$$arity=1);c.def(f,
"$|",u=function(a){a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,m(n,"Array"),"to_ary").$to_a();var b=E([],{}),d,e;d=0;for(e=this.length;d<e;d++)c.hash_put(b,this[d],!0);d=0;for(e=a.length;d<e;d++)c.hash_put(b,a[d],!0);return b.$keys()},u.$$arity=1);c.def(f,"$*",pa=function(a){if(q(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");q(0>a)&&this.$raise(m(n,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),
d=0;d<a;d++)b=b.concat(c);return l(b,this.$class())},pa.$$arity=1);c.def(f,"$+",t=function(a){a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,m(n,"Array"),"to_ary").$to_a();return this.concat(a)},t.$$arity=1);c.def(f,"$-",da=function(a){a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,m(n,"Array"),"to_ary").$to_a();if(q(0===this.length))return[];if(q(0===a.length))return this.slice();var b=[],d=E([],{}),e,f;e=0;for(f=a.length;e<f;e++)c.hash_put(d,a[e],!0);e=0;for(f=
this.length;e<f;e++)a=this[e],void 0===c.hash_get(d,a)&&b.push(a);return b},da.$$arity=1);c.def(f,"$<<",G=function(a){this.push(a);return this},G.$$arity=1);c.def(f,"$<=>",ka=function(a){if(q(m(n,"Array")["$==="](a)))a=a.$to_a();else if(q(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return y;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var d=this[c]["$<=>"](a[c]);if(0!==d)return d}return this.length["$<=>"](a.length)},ka.$$arity=1);c.def(f,
"$==",T=function(a){function b(a,d){var e,f,k,h;if(a===d)return!0;if(!d.$$is_array)return m(n,"Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());d.constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(k=a[e],h=d[e],k.$$is_array){if(h.$$is_array&&h.length!==k.length||!c.hasOwnProperty(k.$object_id())&&!b(k,h))return!1}else if(!k["$=="](h))return!1;return!0}var c={};return b(this,a)},T.$$arity=1);c.def(f,
"$[]",D=function(a,c){return a.$$is_range?g(this,a):b(this,a,c)},D.$$arity=-2);c.def(f,"$[]=",na=function(a,b,c){var d=y,e=y,f;f=this.length;if(q(m(n,"Range")["$==="](a))){var d=q(m(n,"Array")["$==="](b))?b.$to_a():q(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b],k=a.excl;c=m(n,"Opal").$coerce_to(a.begin,m(n,"Integer"),"to_int");e=m(n,"Opal").$coerce_to(a.end,m(n,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(m(n,"RangeError"),""+a.$inspect()+" out of range"));0>e&&(e+=f);k||(e+=1);if(c>f)for(;f<
c;f++)this[f]=y;0>e?this.splice.apply(this,[c,0].concat(d)):this.splice.apply(this,[c,e-c].concat(d))}else{q(void 0===c)?e=1:(e=b,b=c,d=q(m(n,"Array")["$==="](b))?b.$to_a():q(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");e=m(n,"Opal").$coerce_to(e,m(n,"Integer"),"to_int");0>a&&(k=a,a+=f,0>a&&this.$raise(m(n,"IndexError"),"index "+k+" too small for array; minimum "+-this.length));0>e&&this.$raise(m(n,"IndexError"),"negative length ("+e+")");
if(a>f)for(;f<a;f++)this[f]=y;void 0===c?this[a]=b:this.splice.apply(this,[a,e].concat(d))}return b},na.$$arity=-3);c.def(f,"$any?",J=function(a){var b=J.$$p,d=y,e=y,f=y;b&&(J.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return 0===this.length?!1:v(this,c.find_super_dispatcher(this,"any?",J,!1),d,b)},J.$$arity=-1);c.def(f,"$assoc",w=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return y},w.$$arity=1);c.def(f,"$at",C=function(a){a=
m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?y:this[a]},C.$$arity=1);c.def(f,"$bsearch_index",U=function(){var a=U.$$p,b=a||y;a&&(U.$$p=null);if(b===y)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,e,f,k=!1,h=y;a<d;){e=a+Math.floor((d-a)/2);f=this[e];f=c.yield1(b,f);if(!0===f)h=e,k=!0;else if(!1===f||f===y)k=!1;else if(f.$$is_number){if(0===f)return e;k=0>f}else this.$raise(m(n,"TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");
k?d=e:a=e+1}return h},U.$$arity=0);c.def(f,"$bsearch",F=function(){var a=F.$$p,b=a||y,c=y;a&&(F.$$p=null);if(b===y)return this.$enum_for("bsearch");c=v(this,"bsearch_index",[],b.$to_proc());return null!=c&&c.$$is_number?this[c]:c},F.$$arity=0);c.def(f,"$cycle",Q=function(a){var b,d,e=Q.$$p,f=e||y;null==a&&(a=y);e&&(Q.$$p=null);if(f===y)return v(this,"enum_for",["cycle",a],(b=function(){var c=b.$$s||this;if(q(a["$nil?"]()))return p(m(n,"Float"),"INFINITY");a=m(n,"Opal")["$coerce_to!"](a,m(n,"Integer"),
"to_int");return q(A(a,0))?(c=c.$enumerator_size(),"number"===typeof c&&"number"===typeof a?c*a:c["$*"](a)):0},b.$$s=this,b.$$arity=0,b));if(q(q(d=this["$empty?"]())?d:a["$=="](0)))return y;if(a===y)for(;;)for(d=0,e=this.length;d<e;d++)c.yield1(f,this[d]);else{a=m(n,"Opal")["$coerce_to!"](a,m(n,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){d=0;for(e=this.length;d<e;d++)c.yield1(f,this[d]);a--}}return this},Q.$$arity=-1);c.def(f,"$clear",ba=function(){this.splice(0,this.length);return this},
ba.$$arity=0);c.def(f,"$count",la=function(a){var b,d=la.$$p,e=d||y,f=y,k=y,h=y;null==a&&(a=y);d&&(la.$$p=null);k=0;h=arguments.length;for(f=Array(h);k<h;k++)f[k]=arguments[k];return q(q(b=a)?b:e)?v(this,c.find_super_dispatcher(this,"count",la,!1),f,d):this.$size()},la.$$arity=-1);c.def(f,"$initialize_copy",Z=function(a){return this.$replace(a)},Z.$$arity=1);c.def(f,"$collect",N=function(){var a,b=N.$$p,d=b||y;b&&(N.$$p=null);if(d===y)return v(this,"enum_for",["collect"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],e=0,f=this.length;e<f;e++){var k=c.yield1(d,this[e]);b.push(k)}return b},N.$$arity=0);c.def(f,"$collect!",V=function(){var a,b=V.$$p,d=b||y;b&&(V.$$p=null);if(d===y)return v(this,"enum_for",["collect!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.length;b<e;b++){var f=c.yield1(d,this[b]);this[b]=f}return this},V.$$arity=0);c.def(f,"$combination",L=function(a){var b,e=L.$$p,f=e||y,k=y;e&&(L.$$p=null);
k=m(n,"Opal")["$coerce_to!"](a,m(n,"Integer"),"to_int");if(f===y)return v(this,"enum_for",["combination",k],(b=function(){return d((b.$$s||this).length,k)},b.$$s=this,b.$$arity=0,b));var h,g;if(0===k)c.yield1(f,[]);else if(1===k)for(e=0,a=this.length;e<a;e++)c.yield1(f,[this[e]]);else if(k===this.length)c.yield1(f,this.slice());else if(0<=k&&k<this.length){a=[];for(e=0;e<=k+1;e++)a.push(0);e=[];h=0;g=!1;for(a[0]=-1;!g;){for(e[h]=this[a[h+1]];h<k-1;)h++,g=a[h+1]=a[h]+1,e[h]=this[g];c.yield1(f,e.slice());
h++;do g=0===h,a[h]++,h--;while(a[h+1]+k===this.length+h+1)}}return this},L.$$arity=1);c.def(f,"$repeated_combination",K=function(a){function b(a,d,e,f){if(e.length==a)a=e.slice(),c.yield1(k,a);else for(;d<f.length;d++)e.push(f[d]),b(a,d,e,f),e.pop()}var e,f=K.$$p,k=f||y,h=y;f&&(K.$$p=null);h=m(n,"Opal")["$coerce_to!"](a,m(n,"Integer"),"to_int");if(k===y)return v(this,"enum_for",["repeated_combination",h],(e=function(){return d((e.$$s||this).length+h-1,h)},e.$$s=this,e.$$arity=0,e));0<=h&&b(h,0,[],
this);return this},K.$$arity=1);c.def(f,"$compact",W=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==y&&a.push(d);return a},W.$$arity=0);c.def(f,"$compact!",qa=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===y&&(this.splice(b,1),c--,b--);return this.length===a?y:this},qa.$$arity=0);c.def(f,"$concat",ga=function(a){var b,c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];d=v(d,"map",[],(b=function(a){var c=b.$$s||this;null==
a&&(a=y);a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,m(n,"Array"),"to_ary").$to_a();q(a["$equal?"](c))&&(a=a.$dup());return a},b.$$s=this,b.$$arity=1,b));v(d,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=y);for(var d=0,e=a.length;d<e;d++)b.push(a[d])},c.$$s=this,c.$$arity=1,c));return this},ga.$$arity=-1);c.def(f,"$delete",ja=function(a){var b=ja.$$p,d=b||y;b&&(ja.$$p=null);for(var b=this.length,e=0,f=b;e<f;e++)this[e]["$=="](a)&&(this.splice(e,1),f--,e--);return this.length===
b?d!==y?c.yieldX(d,[]):y:a},ja.$$arity=1);c.def(f,"$delete_at",aa=function(a){a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return y;var b=this[a];this.splice(a,1);return b},aa.$$arity=1);c.def(f,"$delete_if",R=function(){var a,b=R.$$p,c=b||y;b&&(R.$$p=null);if(c===y)return v(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)e=c(this[b]),!1!==e&&e!==y&&(this.splice(b,
1),d--,b--);return this},R.$$arity=0);c.def(f,"$dig",ua=function(a,b){var d,e=y,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];e=this["$[]"](a);if(e===y||0===d.length)return e;q(e["$respond_to?"]("dig"))||this.$raise(m(n,"TypeError"),""+e.$class()+" does not have #dig method");return v(e,"dig",c.to_a(d))},ua.$$arity=-2);c.def(f,"$drop",ia=function(a){0>a&&this.$raise(m(n,"ArgumentError"));return this.slice(a)},ia.$$arity=1);c.def(f,"$dup",ea=function(){var a=
ea.$$p,b=y,d=y,e=y;a&&(ea.$$p=null);d=0;e=arguments.length;for(b=Array(e);d<e;d++)b[d]=arguments[d];return this.$$class===c.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):v(this,c.find_super_dispatcher(this,"dup",ea,!1),b,a)},ea.$$arity=0);c.def(f,"$each",fa=function(){var a,b=fa.$$p,d=b||y;b&&(fa.$$p=null);if(d===y)return v(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,
a));for(var b=0,e=this.length;b<e;b++)c.yield1(d,this[b]);return this},fa.$$arity=0);c.def(f,"$each_index",ca=function(){var a,b=ca.$$p,d=b||y;b&&(ca.$$p=null);if(d===y)return v(this,"enum_for",["each_index"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.length;b<e;b++)c.yield1(d,b);return this},ca.$$arity=0);c.def(f,"$empty?",Y=function(){return 0===this.length},Y.$$arity=0);c.def(f,"$eql?",va=function(a){function b(a,d){var e,f,k,h;if(!d.$$is_array)return!1;
d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(k=a[e],h=d[e],k.$$is_array){if(h.$$is_array&&h.length!==k.length||!c.hasOwnProperty(k.$object_id())&&!b(k,h))return!1}else if(!k["$eql?"](h))return!1;return!0}var c={};return b(this,a)},va.$$arity=1);c.def(f,"$fetch",ma=function(a,b){var c=ma.$$p,d=c||y;c&&(ma.$$p=null);c=a;a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];d!==y&&null!=b&&this.$warn("warning: block supersedes default value argument");
if(d!==y)return d(c);if(null!=b)return b;0===this.length?this.$raise(m(n,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(m(n,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},ma.$$arity=-2);c.def(f,"$fill",ta=function(a){var b,d,e=(d=ta.$$p)||y,f=y,k=y,h=y,k=b=y,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(k=0;k<f;k++)b[k-0]=arguments[k];d&&(ta.$$p=null);q(e)?(q(2<b.length)&&this.$raise(m(n,"ArgumentError"),"wrong number of arguments ("+
b.$length()+" for 0..2)"),d=b,b=c.to_ary(d),f=null==b[0]?y:b[0],k=null==b[1]?y:b[1]):(q(0==b.length)?this.$raise(m(n,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):q(3<b.length)&&this.$raise(m(n,"ArgumentError"),"wrong number of arguments ("+b.$length()+" for 1..3)"),d=b,b=c.to_ary(d),h=null==b[0]?y:b[0],f=null==b[1]?y:b[1],k=null==b[2]?y:b[2]);d;if(q(m(n,"Range")["$==="](f))){if(q(k)&&this.$raise(m(n,"TypeError"),"length invalid with range"),b=m(n,"Opal").$coerce_to(f.$begin(),m(n,"Integer"),
"to_int"),q(0>b)&&(b+=this.length),q(0>b)&&this.$raise(m(n,"RangeError"),""+f.$inspect()+" out of range"),k=m(n,"Opal").$coerce_to(f.$end(),m(n,"Integer"),"to_int"),q(0>k)&&(k+=this.length),q(f["$exclude_end?"]())||(k+=1),q(k<=b))return this}else if(q(f))if(b=m(n,"Opal").$coerce_to(f,m(n,"Integer"),"to_int"),q(0>b)&&(b+=this.length),q(0>b)&&(b=0),q(k)){k=m(n,"Opal").$coerce_to(k,m(n,"Integer"),"to_int");if(q(0==k))return this;k+=b}else k=this.length;else b=0,k=this.length;if(q(b>this.length))for(d=
this.length;d<k;d++)this[d]=y;q(k>this.length)&&(this.length=k);if(q(e))for(;b<k;b++)h=e(b),this[b]=h;else for(;b<k;b++)this[b]=h;return this},ta.$$arity=-1);c.def(f,"$first",ya=function(a){if(null==a)return 0===this.length?y:this[0];a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&this.$raise(m(n,"ArgumentError"),"negative array size");return this.slice(0,a)},ya.$$arity=-1);c.def(f,"$flatten",oa=function(a){function b(a,d){var e=[],f,k,h,g;a=a.$to_a();f=0;for(k=a.length;f<k;f++)if(h=a[f],
m(n,"Opal")["$respond_to?"](h,"to_ary",!0))if(g=h.$to_ary(),g===y)e.push(h);else switch(g.$$is_array||c.$raise(m(n,"TypeError")),g===c&&c.$raise(m(n,"ArgumentError")),d){case void 0:e=e.concat(b(g));break;case 0:e.push(g);break;default:e.push.apply(e,b(g,d-1))}else e.push(h);return e}var c=this;void 0!==a&&(a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int"));return l(b(c,a),c.$class())},oa.$$arity=-1);c.def(f,"$flatten!",Ia=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<
c&&this[b]===a[b];b++);if(b==c)return y}this.$replace(a);return this},Ia.$$arity=-1);c.def(f,"$hash",Ca=function(){var a=void 0===c.hash_ids,b=["A"],d=this.$object_id(),e,f,k;try{a&&(c.hash_ids=Object.create(null));if(c.hash_ids[d])return"self";for(k in c.hash_ids)if(e=c.hash_ids[k],this["$eql?"](e))return"self";c.hash_ids[d]=this;for(f=0;f<this.length;f++)e=this[f],b.push(e.$hash());return b.join(",")}finally{a&&(c.hash_ids=void 0)}},Ca.$$arity=0);c.def(f,"$include?",Ha=function(a){for(var b=0,c=
this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Ha.$$arity=1);c.def(f,"$index",za=function(a){var b=za.$$p,c=b||y;b&&(za.$$p=null);var d;null!=a&&c!==y&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==y)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==y)return b}else return this.$enum_for("index");return y},za.$$arity=-1);c.def(f,"$insert",Fa=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);
c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");if(0<c.length){0>a&&(a+=this.length+1,0>a&&this.$raise(m(n,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(y);this.splice.apply(this,[a,0].concat(c))}return this},Fa.$$arity=-2);c.def(f,"$inspect",Ga=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+
a.join(", ")+"]"},Ga.$$arity=0);c.def(f,"$join",Ea=function(b){null==a[","]&&(a[","]=y);null==b&&(b=y);if(q(0===this.length))return"";q(b===y)&&(b=a[","]);var d=[],e,f,k,h;e=0;for(f=this.length;e<f;e++){k=this[e];if(m(n,"Opal")["$respond_to?"](k,"to_str")&&(h=k.$to_str(),h!==y)){d.push(h.$to_s());continue}if(m(n,"Opal")["$respond_to?"](k,"to_ary")&&(h=k.$to_ary(),h===this&&this.$raise(m(n,"ArgumentError")),h!==y)){d.push(h.$join(b));continue}if(m(n,"Opal")["$respond_to?"](k,"to_s")&&(h=k.$to_s(),
h!==y)){d.push(h);continue}this.$raise(m(n,"NoMethodError").$new(""+c.inspect(k)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return b===y?d.join(""):d.join(m(n,"Opal")["$coerce_to!"](b,m(n,"String"),"to_str").$to_s())},Ea.$$arity=-1);c.def(f,"$keep_if",Ba=function(){var a,b=Ba.$$p,c=b||y;b&&(Ba.$$p=null);if(c===y)return v(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)if(e=c(this[b]),!1===e||e===
y)this.splice(b,1),d--,b--;return this},Ba.$$arity=0);c.def(f,"$last",wa=function(a){if(null==a)return 0===this.length?y:this[this.length-1];a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>a&&this.$raise(m(n,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},wa.$$arity=-1);c.def(f,"$length",Da=function(){return this.length},Da.$$arity=0);c.alias(f,"map","collect");c.alias(f,"map!","collect!");c.def(f,"$max",Aa=function(a){var b=
Aa.$$p,c=b||y;b&&(Aa.$$p=null);return v(this.$each(),"max",[a],c.$to_proc())},Aa.$$arity=-1);c.def(f,"$min",xa=function(){var a=xa.$$p,b=a||y;a&&(xa.$$p=null);return v(this.$each(),"min",[],b.$to_proc())},xa.$$arity=0);c.def(f,"$permutation",Ja=function(a){var b,d=this,e=Ja.$$p,f=e||y,k=y,h=y;e&&(Ja.$$p=null);if(f===y)return v(d,"enum_for",["permutation",a],(b=function(){for(var c=b.$$s||this,d=c.length,c=void 0===a?c.length:a,e=0<=c?1:0;c;)e*=d,d--,c--;return e},b.$$s=d,b.$$arity=0,b));var g,l;a=
void 0===a?d.length:m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)c.yield1(f,[]);else if(1===a)for(k=0;k<d.length;k++)c.yield1(f,[d[k]]);else k=m(n,"Array").$new(a),h=m(n,"Array").$new(d.length,!1),g=function(a,b,e,f,k){d=this;for(var h=0;h<d.length;h++)if(f["$[]"](h)["$!"]())if(b[e]=h,e<a-1)f[h]=!0,g.call(d,a,b,e+1,f,k),f[h]=!1;else{l=[];for(var H=0;H<b.length;H++)l.push(d[b[H]]);c.yield1(k,l)}},f!==y?(e=d.slice(),g.call(e,a,k,0,h,f)):g.call(d,a,k,0,h,f);return d},
Ja.$$arity=-1);c.def(f,"$repeated_permutation",La=function(a){function b(a,d,e){if(d.length==a)a=d.slice(),c.yield1(f,a);else for(var k=0;k<e.length;k++)d.push(e[k]),b(a,d,e),d.pop()}var d,e=La.$$p,f=e||y,k=y;e&&(La.$$p=null);k=m(n,"Opal")["$coerce_to!"](a,m(n,"Integer"),"to_int");if(f===y)return v(this,"enum_for",["repeated_permutation",k],(d=function(){var a=d.$$s||this;return q("number"===typeof k?0<=k:k["$>="](0))?a.$size()["$**"](k):0},d.$$s=this,d.$$arity=0,d));b(k,[],this.slice());return this},
La.$$arity=1);c.def(f,"$pop",Oa=function(a){if(q(void 0===a))return q(0===this.length)?y:this.pop();a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");q(0>a)&&this.$raise(m(n,"ArgumentError"),"negative array size");return q(0===this.length)?[]:q(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Oa.$$arity=-1);c.def(f,"$product",Ma=function(a){var b,d=Ma.$$p,e=d||y,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var k=0;k<f;k++)b[k-0]=arguments[k];d&&(Ma.$$p=null);
var d=e!==y?null:[],f=b.length+1,k=Array(f),h=Array(f),g=Array(f),l,H=1;g[0]=this;for(l=1;l<f;l++)g[l]=m(n,"Opal").$coerce_to(b[l-1],m(n,"Array"),"to_ary");for(l=0;l<f;l++){b=g[l].length;if(0===b)return d||this;H*=b;2147483647<H&&this.$raise(m(n,"RangeError"),"too big to product");h[l]=b;k[l]=0}a:for(;;){b=[];for(l=0;l<f;l++)b.push(g[l][k[l]]);d?d.push(b):c.yield1(e,b);b=f-1;for(k[b]++;k[b]===h[b];){k[b]=0;if(0>--b)break a;k[b]++}}return d||this},Ma.$$arity=-1);c.def(f,"$push",Pa=function(a){var b,
c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},Pa.$$arity=-1);c.alias(f,"append","push");c.def(f,"$rassoc",H=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return y},H.$$arity=1);c.def(f,"$reject",P=function(){var a,b=P.$$p,c=b||y;b&&(P.$$p=null);if(c===y)return v(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,
a.$$arity=0,a));for(var b=[],d=0,e=this.length,f;d<e;d++)f=c(this[d]),!1!==f&&f!==y||b.push(this[d]);return b},P.$$arity=0);c.def(f,"$reject!",ra=function(){var a,b=ra.$$p,c=b||y,d=y;b&&(ra.$$p=null);if(c===y)return v(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));d=this.$length();v(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?y:this},ra.$$arity=0);c.def(f,"$replace",X=function(a){a=q(m(n,"Array")["$==="](a))?a.$to_a():m(n,"Opal").$coerce_to(a,
m(n,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},X.$$arity=1);c.def(f,"$reverse",Qa=function(){return this.slice(0).reverse()},Qa.$$arity=0);c.def(f,"$reverse!",O=function(){return this.reverse()},O.$$arity=0);c.def(f,"$reverse_each",Ka=function(){var a,b=Ka.$$p,c=b||y;b&&(Ka.$$p=null);if(c===y)return v(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));v(this.$reverse(),"each",[],c.$to_proc());return this},
Ka.$$arity=0);c.def(f,"$rindex",Na=function(a){var b=Na.$$p,c=b||y;b&&(Na.$$p=null);null!=a&&c!==y&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==y)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==y)return b}else if(null==a)return this.$enum_for("rindex");return y},Na.$$arity=-1);c.def(f,"$rotate",Ra=function(a){null==a&&(a=1);a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");
var b,c;if(1===this.length)return this.slice();if(0===this.length)return[];b=this.slice();c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},Ra.$$arity=-1);c.def(f,"$rotate!",Sa=function(a){var b=y;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)},Sa.$$arity=-1);(function(a,$super,b){function d(){}a=d=x(a,$super,"SampleRandom",d);var e=a.prototype,f=[a].concat(b),k,h;e.rng=y;c.def(a,
"$initialize",k=function(a){return this.rng=a},k.$$arity=1);return(c.def(a,"$rand",h=function(a){var b=y,b=m(f,"Opal").$coerce_to(this.rng.$rand(a),m(f,"Integer"),"to_int");q(0>b)&&this.$raise(m(f,"RangeError"),"random value must be >= 0");q(b<a)||this.$raise(m(f,"RangeError"),"random value must be less than Array size");return b},h.$$arity=1),y)&&"rand"})(n[0],null,n);c.def(f,"$sample",I=function(a,b){var c,d=y,e=y;if(q(void 0===a))return this.$at(m(n,"Kernel").$rand(this.length));q(void 0===b)?
q(d=m(n,"Opal")["$coerce_to?"](a,m(n,"Hash"),"to_hash"))?(b=d,a=y):(b=y,a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int")):(a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int"),b=m(n,"Opal").$coerce_to(b,m(n,"Hash"),"to_hash"));q(q(c=a)?0>a:c)&&this.$raise(m(n,"ArgumentError"),"count must be greater than 0");q(b)&&(e=b["$[]"]("random"));e=q(q(c=e)?e["$respond_to?"]("rand"):c)?m(n,"SampleRandom").$new(e):m(n,"Kernel");if(!q(a))return this[e.$rand(this.length)];var f,k,h,g;a>this.length&&(a=this.length);
switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:return k=e.$rand(this.length),h=e.$rand(this.length),k===h&&(h=0===k?k+1:k-1),[this[k],this[h]];default:if(3<this.length/a){d=!1;f=0;c=m(n,"Array").$new(a);k=1;for(c[0]=e.$rand(this.length);k<a;){g=e.$rand(this.length);for(h=0;h<k;){for(;g===c[h];){f++;if(100<f){d=!0;break}g=e.$rand(this.length)}if(d)break;h++}if(d)break;c[k]=g;k++}if(!d){for(k=0;k<a;)c[k]=this[c[k]],k++;return c}}c=this.slice();for(k=0;k<a;k++)d=e.$rand(this.length),
f=c[k],c[k]=c[d],c[d]=f;return a===this.length?c:c["$[]"](0,a)}},I.$$arity=-1);c.def(f,"$select",Ta=function(){var a,b=Ta.$$p,d=b||y;b&&(Ta.$$p=null);if(d===y)return v(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],e=0,f=this.length,k,h;e<f;e++)k=this[e],h=c.yield1(d,k),!1!==h&&h!==y&&b.push(k);return b},Ta.$$arity=0);c.def(f,"$select!",Xa=function(){var a,b=Xa.$$p,c=b||y;b&&(Xa.$$p=null);if(c===y)return v(this,"enum_for",["select!"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));b=this.length;v(this,"keep_if",[],c.$to_proc());return this.length===b?y:this},Xa.$$arity=0);c.def(f,"$shift",jb=function(a){if(q(void 0===a))return q(0===this.length)?y:this.shift();a=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");q(0>a)&&this.$raise(m(n,"ArgumentError"),"negative array size");return q(0===this.length)?[]:this.splice(0,a)},jb.$$arity=-1);c.alias(f,"size","length");c.def(f,"$shuffle",kb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},
kb.$$arity=-1);c.def(f,"$shuffle!",hb=function(a){var b,c=this.length,d;void 0!==a&&(a=m(n,"Opal")["$coerce_to?"](a,m(n,"Hash"),"to_hash"),a!==y&&(a=a["$[]"]("random"),a!==y&&a["$respond_to?"]("rand")&&(b=a)));for(;c;)b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(m(n,"RangeError"),"random number too small "+a),a>=c&&this.$raise(m(n,"RangeError"),"random number too big "+a)):a=this.$rand(c),d=this[--c],this[c]=this[a],this[a]=d;return this},hb.$$arity=-1);c.alias(f,"slice","[]");c.def(f,"$slice!",ib=
function(a,b){var c=y,d=y,e=y,f=y,d=y;if(q(void 0===b))if(q(m(n,"Range")["$==="](a))){d=a;c=this["$[]"](d);e=m(n,"Opal").$coerce_to(d.$begin(),m(n,"Integer"),"to_int");f=m(n,"Opal").$coerce_to(d.$end(),m(n,"Integer"),"to_int");0>e&&(e+=this.length);0>f?f+=this.length:f>=this.length&&(f=this.length-1,d.excl&&(f+=1));var k=f-e;d.excl?--f:k+=1;e<this.length&&0<=e&&f<this.length&&0<=f&&0<k&&this.splice(e,k)}else{d=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");0>d&&(d+=this.length);if(0>d||d>=this.length)return y;
c=this[d];0===d?this.shift():this.splice(d,1)}else{d=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");b=m(n,"Opal").$coerce_to(b,m(n,"Integer"),"to_int");if(0>b)return y;c=this["$[]"](d,b);0>d&&(d+=this.length);d+b>this.length&&(b=this.length-d);d<this.length&&0<=d&&this.splice(d,b)}return c},ib.$$arity=-2);c.def(f,"$sort",Ya=function(){var a=this,b=Ya.$$p,c=b||y;b&&(Ya.$$p=null);if(!q(1<a.length))return a;c===y&&(c=function(a,b){return a["$<=>"](b)});return a.slice().sort(function(b,d){var e=c(b,
d);e===y&&a.$raise(m(n,"ArgumentError"),"comparison of "+b.$inspect()+" with "+d.$inspect()+" failed");return A(e,0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})},Ya.$$arity=0);c.def(f,"$sort!",Za=function(){var a=Za.$$p,b=a||y;a&&(Za.$$p=null);for(var a=b!==y?v(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Za.$$arity=0);c.def(f,"$sort_by!",ab=function(){var a,b=ab.$$p,c=b||y;b&&(ab.$$p=null);return c===y?v(this,"enum_for",
["sort_by!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a)):this.$replace(v(this,"sort_by",[],c.$to_proc()))},ab.$$arity=0);c.def(f,"$take",lb=function(a){0>a&&this.$raise(m(n,"ArgumentError"));return this.slice(0,a)},lb.$$arity=1);c.def(f,"$take_while",bb=function(){var a=bb.$$p,b=a||y;a&&(bb.$$p=null);for(var a=[],c=0,d=this.length,e,f;c<d;c++){e=this[c];f=b(e);if(!1===f||f===y)break;a.push(e)}return a},bb.$$arity=0);c.def(f,"$to_a",mb=function(){return this},mb.$$arity=0);
c.alias(f,"to_ary","to_a");c.def(f,"$to_h",nb=function(){var a,b=this.length,d,e,f=E([],{});for(a=0;a<b;a++)d=m(n,"Opal")["$coerce_to?"](this[a],m(n,"Array"),"to_ary"),d.$$is_array||this.$raise(m(n,"TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(m(n,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),e=d[0],d=d[1],c.hash_put(f,e,d);return f},nb.$$arity=0);c.alias(f,"to_s","inspect");c.def(f,"$transpose",ob=function(){var a,
b=y,d=y;if(q(this["$empty?"]()))return[];b=[];d=y;v(this,"each",[],(a=function(e){var f=a.$$s||this,k,h;null==e&&(e=y);e=q(m(n,"Array")["$==="](e))?e.$to_a():m(n,"Opal").$coerce_to(e,m(n,"Array"),"to_ary").$to_a();d=q(k=d)?k:e.length;q(e.length["$!="](d))&&f.$raise(m(n,"IndexError"),"element size differs ("+e.length+" should be "+d+")");return v(e.length,"times",[],(h=function(a){var d,f=y;null==a&&(a=y);q(d=b["$[]"](a))||(f=[a,[]],v(b,"[]=",c.to_a(f)),d=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),
d=d[f]);return d["$<<"](e.$at(a))},h.$$s=f,h.$$arity=1,h))},a.$$s=this,a.$$arity=1,a));return b},ob.$$arity=0);c.def(f,"$uniq",cb=function(){var a=cb.$$p,b=a||y;a&&(cb.$$p=null);var a=E([],{}),d,e,f,k;if(b===y)for(d=0,e=this.length;d<e;d++)f=this[d],void 0===c.hash_get(a,f)&&c.hash_put(a,f,f);else for(d=0,e=this.length;d<e;d++)f=this[d],k=c.yield1(b,f),void 0===c.hash_get(a,k)&&c.hash_put(a,k,f);return l(a.$values(),this.$class())},cb.$$arity=0);c.def(f,"$uniq!",Wa=function(){var a=Wa.$$p,b=a||y;
a&&(Wa.$$p=null);var a=this.length,d=E([],{}),e,f,k,h;e=0;for(f=a;e<f;e++)k=this[e],h=b===y?k:c.yield1(b,k),void 0===c.hash_get(d,h)?c.hash_put(d,h,k):(this.splice(e,1),f--,e--);return this.length===a?y:this},Wa.$$arity=0);c.def(f,"$unshift",gb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);return this},gb.$$arity=-1);c.alias(f,"prepend","unshift");c.def(f,"$values_at",fb=function(a){var b,c,d=y,
e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];d=[];v(c,"each",[],(b=function(a){var c=b.$$s||this,e,f=y,k=y,f=y;null==a&&(a=y);if(q(a["$is_a?"](m(n,"Range")))){f=m(n,"Opal").$coerce_to(a.$last(),m(n,"Integer"),"to_int");k=m(n,"Opal").$coerce_to(a.$first(),m(n,"Integer"),"to_int");if(0>k)return k+=c.length,y;0>f&&(f+=c.length);a["$exclude_end?"]()&&f--;return f<k?y:v(k,"upto",[f],(e=function(a){var b=e.$$s||this;null==a&&(a=y);return d["$<<"](b.$at(a))},e.$$s=
c,e.$$arity=1,e))}f=m(n,"Opal").$coerce_to(a,m(n,"Integer"),"to_int");return d["$<<"](c.$at(f))},b.$$s=this,b.$$arity=1,b));return d},fb.$$arity=-1);c.def(f,"$zip",Va=function(a){var b,c,d=Va.$$p,e=d||y,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var k=0;k<f;k++)c[k-0]=arguments[k];d&&(Va.$$p=null);var d=[],f=this.length,h,g,l;g=0;for(l=c.length;g<l;g++)k=c[g],k.$$is_array||(k.$$is_enumerator?Infinity===k.$size()?c[g]=k.$take(f):c[g]=k.$to_a():c[g]=(q(b=m(n,"Opal")["$coerce_to?"](k,m(n,"Array"),
"to_ary"))?b:m(n,"Opal")["$coerce_to!"](k,m(n,"Enumerator"),"each")).$to_a());for(h=0;h<f;h++){b=[this[h]];g=0;for(l=c.length;g<l;g++)k=c[g][h],null==k&&(k=y),b[g+1]=k;d[h]=b}if(e!==y){for(h=0;h<f;h++)e(d[h]);return y}return d},Va.$$arity=-1);c.defs(f,"$inherited",eb=function(a){a.prototype.$to_a=function(){return this.slice(0,this.length)}},eb.$$arity=1);c.def(f,"$instance_variables",Ua=function(){var a,b=Ua.$$p,d=y,e=y,f=y;b&&(Ua.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];
return v(v(this,c.find_super_dispatcher(this,"instance_variables",Ua,!1),d,b),"reject",[],(a=function(a){var b;null==a&&(a=y);return q(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},Ua.$$arity=0);m(n,"Opal").$pristine(f.$singleton_class(),"allocate");m(n,"Opal").$pristine(f,"copy_instance_variables","initialize_dup");return(c.def(f,"$pack",pb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},
pb.$$arity=-1),y)&&"pack"}(t[0],Array,t)},Opal.modules["corelib/hash"]=function(c){function A(c,a){return"number"===typeof c&&"number"===typeof a?c>=a:c["$>="](a)}var D=c.top,t=[],y=c.nil,p=c.const_get_relative,m=c.klass,x=c.send,q=c.hash2,E=c.truthy;c.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
D.$require("corelib/enumerable");return function(v,$super,k){function B(){}v=B=m(v,$super,"Hash",B);var M=v.prototype,z=[v].concat(k),l,g,b,d,f,n,S,r,e,h,u,pa,t,da,G,ka,T,D,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja;v.$include(p(z,"Enumerable"));M.$$is_hash=!0;c.defs(v,"$[]",l=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];var e=c.length,f;if(1===e){d=p(z,"Opal")["$coerce_to?"](c["$[]"](0),
p(z,"Hash"),"to_hash");if(d!==y)return this.$allocate()["$merge!"](d);c=p(z,"Opal")["$coerce_to?"](c["$[]"](0),p(z,"Array"),"to_ary");c===y&&this.$raise(p(z,"ArgumentError"),"odd number of arguments for Hash");e=c.length;d=this.$allocate();for(f=0;f<e;f++)if(c[f].$$is_array)switch(c[f].length){case 1:d.$store(c[f][0],y);break;case 2:d.$store(c[f][0],c[f][1]);break;default:this.$raise(p(z,"ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return d}0!==e%2&&this.$raise(p(z,"ArgumentError"),
"odd number of arguments for Hash");d=this.$allocate();for(f=0;f<e;f+=2)d.$store(c[f],c[f+1]);return d},l.$$arity=-1);c.defs(v,"$allocate",g=function(){var b=new this;c.hash_init(b);b.$$none=y;b.$$proc=y;return b},g.$$arity=0);c.defs(v,"$try_convert",b=function(b){return p(z,"Opal")["$coerce_to?"](b,p(z,"Hash"),"to_hash")},b.$$arity=1);c.def(v,"$initialize",d=function(b){var c=d.$$p,e=c||y;c&&(d.$$p=null);void 0!==b&&e!==y&&this.$raise(p(z,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=
void 0===b?y:b;this.$$proc=e;return this},d.$$arity=-1);c.def(v,"$==",f=function(b){if(this===b)return!0;if(!b.$$is_hash||this.$$keys.length!==b.$$keys.length)return!1;for(var d=0,e=this.$$keys,f=e.length,k,h;d<f;d++)if(k=e[d],k.$$is_string?(h=this.$$smap[k],k=b.$$smap[k]):(h=k.value,k=c.hash_get(b,k.key)),void 0===k||!h["$eql?"](k))return!1;return!0},f.$$arity=1);c.def(v,"$>=",n=function(b){var c,d=y;b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash");if(this.$$keys.length<b.$$keys.length)return!1;
d=!0;x(b,"each",[],(c=function(b,e){var f=c.$$s||this,k=y;null==b&&(b=y);null==e&&(e=y);k=f.$fetch(b,null);if(null==k||k!==e)d=!1},c.$$s=this,c.$$arity=2,c));return d},n.$$arity=1);c.def(v,"$>",S=function(b){b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash");return this.$$keys.length<=b.$$keys.length?!1:A(this,b)},S.$$arity=1);c.def(v,"$<",r=function(b){b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash");return"number"===typeof b&&"number"===typeof this?b>this:b["$>"](this)},r.$$arity=1);c.def(v,
"$<=",e=function(b){b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash");return A(b,this)},e.$$arity=1);c.def(v,"$[]",h=function(b){var d=c.hash_get(this,b);return void 0!==d?d:this.$default(b)},h.$$arity=1);c.def(v,"$[]=",u=function(b,d){c.hash_put(this,b,d);return d},u.$$arity=2);c.def(v,"$assoc",pa=function(b){for(var c=0,d=this.$$keys,e=d.length,f;c<e;c++)if(f=d[c],f.$$is_string){if(f["$=="](b))return[f,this.$$smap[f]]}else if(f.key["$=="](b))return[f.key,f.value];return y},pa.$$arity=1);c.def(v,
"$clear",t=function(){c.hash_init(this);return this},t.$$arity=0);c.def(v,"$clone",da=function(){var b=new this.$$class;c.hash_init(b);c.hash_clone(this,b);return b},da.$$arity=0);c.def(v,"$compact",G=function(){for(var b=c.hash(),d=0,e=this.$$keys,f=e.length,k,h;d<f;d++)k=e[d],k.$$is_string?h=this.$$smap[k]:(h=k.value,k=k.key),h!==y&&c.hash_put(b,k,h);return b},G.$$arity=0);c.def(v,"$compact!",ka=function(){for(var b=!1,d=0,e=this.$$keys,f=e.length,k,h;d<f;d++)k=e[d],k.$$is_string?h=this.$$smap[k]:
(h=k.value,k=k.key),h===y&&void 0!==c.hash_delete(this,k)&&(b=!0,f--,d--);return b?this:y},ka.$$arity=0);c.def(v,"$compare_by_identity",T=function(){var b,d,e,f=this.$$keys,k;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;k=q([],{}).$compare_by_identity();b=0;for(d=f.length;b<d;b++)e=f[b],e.$$is_string||(e=e.key),c.hash_put(k,e,c.hash_get(this,e));this.$$by_identity=!0;this.$$map=k.$$map;this.$$smap=k.$$smap;return this},T.$$arity=0);c.def(v,"$compare_by_identity?",
D=function(){return!0===this.$$by_identity},D.$$arity=0);c.def(v,"$default",na=function(b){return void 0!==b&&this.$$proc!==y&&void 0!==this.$$proc?this.$$proc.$call(this,b):void 0===this.$$none?y:this.$$none},na.$$arity=-1);c.def(v,"$default=",J=function(b){this.$$proc=y;return this.$$none=b},J.$$arity=1);c.def(v,"$default_proc",w=function(){return void 0!==this.$$proc?this.$$proc:y},w.$$arity=0);c.def(v,"$default_proc=",C=function(b){var c=b;c!==y&&(c=p(z,"Opal")["$coerce_to!"](c,p(z,"Proc"),"to_proc"),
c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(p(z,"TypeError"),"default_proc takes two arguments"));this.$$none=y;this.$$proc=c;return b},C.$$arity=1);c.def(v,"$delete",U=function(b){var d=U.$$p,e=d||y;d&&(U.$$p=null);d=c.hash_delete(this,b);return void 0!==d?d:e!==y?c.yield1(e,b):y},U.$$arity=1);c.def(v,"$delete_if",F=function(){var b,d=F.$$p,e=d||y;d&&(F.$$p=null);if(!E(e))return x(this,"enum_for",["delete_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=
0,f=this.$$keys,k=f.length,h,g;d<k;d++)h=f[d],h.$$is_string?g=this.$$smap[h]:(g=h.value,h=h.key),g=e(h,g),!1!==g&&g!==y&&void 0!==c.hash_delete(this,h)&&(k--,d--);return this},F.$$arity=0);c.alias(v,"dup","clone");c.def(v,"$dig",Q=function(b,d){var e,f=y,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var k=1;k<f;k++)e[k-1]=arguments[k];f=this["$[]"](b);if(f===y||0===e.length)return f;E(f["$respond_to?"]("dig"))||this.$raise(p(z,"TypeError"),""+f.$class()+" does not have #dig method");return x(f,
"dig",c.to_a(e))},Q.$$arity=-2);c.def(v,"$each",ba=function(){var b,d=ba.$$p,e=d||y;d&&(ba.$$p=null);if(!E(e))return x(this,"enum_for",["each"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,f=this.$$keys,k=f.length,h,g;d<k;d++)h=f[d],h.$$is_string?g=this.$$smap[h]:(g=h.value,h=h.key),c.yield1(e,[h,g]);return this},ba.$$arity=0);c.def(v,"$each_key",la=function(){var b,c=la.$$p,d=c||y;c&&(la.$$p=null);if(!E(d))return x(this,"enum_for",["each_key"],(b=function(){return(b.$$s||
this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,e=this.$$keys,f=e.length,k;c<f;c++)k=e[c],d(k.$$is_string?k:k.key);return this},la.$$arity=0);c.alias(v,"each_pair","each");c.def(v,"$each_value",Z=function(){var b,c=Z.$$p,d=c||y;c&&(Z.$$p=null);if(!E(d))return x(this,"enum_for",["each_value"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,e=this.$$keys,f=e.length,k;c<f;c++)k=e[c],d(k.$$is_string?this.$$smap[k]:k.value);return this},Z.$$arity=0);c.def(v,"$empty?",
N=function(){return 0===this.$$keys.length},N.$$arity=0);c.alias(v,"eql?","==");c.def(v,"$fetch",V=function(b,d){var e=V.$$p,f=e||y;e&&(V.$$p=null);e=c.hash_get(this,b);return void 0!==e?e:f!==y?f(b):void 0!==d?d:this.$raise(p(z,"KeyError").$new("key not found: "+b.$inspect(),q(["key","receiver"],{key:b,receiver:this})))},V.$$arity=-2);c.def(v,"$fetch_values",L=function(b){var c,d,e=L.$$p,f=e||y,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var h=0;h<k;h++)d[h-0]=arguments[h];e&&(L.$$p=null);
return x(d,"map",[],(c=function(b){var d=c.$$s||this;null==b&&(b=y);return x(d,"fetch",[b],f.$to_proc())},c.$$s=this,c.$$arity=1,c))},L.$$arity=-1);c.def(v,"$flatten",K=function(b){null==b&&(b=1);b=p(z,"Opal")["$coerce_to!"](b,p(z,"Integer"),"to_int");for(var c=[],d=0,e=this.$$keys,f=e.length,k,h;d<f;d++)k=e[d],k.$$is_string?h=this.$$smap[k]:(h=k.value,k=k.key),c.push(k),h.$$is_array?1===b?c.push(h):c=c.concat(h.$flatten(b-2)):c.push(h);return c},K.$$arity=-1);c.def(v,"$has_key?",W=function(b){return void 0!==
c.hash_get(this,b)},W.$$arity=1);c.def(v,"$has_value?",qa=function(b){for(var c=0,d=this.$$keys,e=d.length,f;c<e;c++)if(f=d[c],(f.$$is_string?this.$$smap[f]:f.value)["$=="](b))return!0;return!1},qa.$$arity=1);c.def(v,"$hash",ga=function(){var b=void 0===c.hash_ids,d=this.$object_id(),e=["Hash"],f,k;try{b&&(c.hash_ids=Object.create(null));if(c[d])return"self";for(f in c.hash_ids)if(k=c.hash_ids[f],this["$eql?"](k))return"self";c.hash_ids[d]=this;for(var d=0,h=this.$$keys,g=h.length;d<g;d++)f=h[d],
f.$$is_string?e.push([f,this.$$smap[f].$hash()]):e.push([f.key_hash,f.value.$hash()]);return e.sort().join()}finally{b&&(c.hash_ids=void 0)}},ga.$$arity=0);c.alias(v,"include?","has_key?");c.def(v,"$index",ja=function(b){for(var c=0,d=this.$$keys,e=d.length,f,k;c<e;c++)if(f=d[c],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),k["$=="](b))return f;return y},ja.$$arity=1);c.def(v,"$indexes",aa=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];
for(var e=[],f=0,k=d.length,h;f<k;f++)h=d[f],h=c.hash_get(this,h),void 0===h?e.push(this.$default()):e.push(h);return e},aa.$$arity=-1);c.alias(v,"indices","indexes");var La;c.def(v,"$inspect",R=function(){var b=void 0===La,c=this.$object_id(),d=[];try{b&&(La={});if(La.hasOwnProperty(c))return"{...}";La[c]=!0;for(var c=0,e=this.$$keys,f=e.length,k,h;c<f;c++)k=e[c],k.$$is_string?h=this.$$smap[k]:(h=k.value,k=k.key),d.push(k.$inspect()+"=>"+h.$inspect());return"{"+d.join(", ")+"}"}finally{b&&(La=void 0)}},
R.$$arity=0);c.def(v,"$invert",ua=function(){for(var b=c.hash(),d=0,e=this.$$keys,f=e.length,k,h;d<f;d++)k=e[d],k.$$is_string?h=this.$$smap[k]:(h=k.value,k=k.key),c.hash_put(b,h,k);return b},ua.$$arity=0);c.def(v,"$keep_if",ia=function(){var b,d=ia.$$p,e=d||y;d&&(ia.$$p=null);if(!E(e))return x(this,"enum_for",["keep_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,f=this.$$keys,k=f.length,h,g;d<k;d++)h=f[d],h.$$is_string?g=this.$$smap[h]:(g=h.value,h=h.key),g=
e(h,g),!1!==g&&g!==y||void 0===c.hash_delete(this,h)||(k--,d--);return this},ia.$$arity=0);c.alias(v,"key","index");c.alias(v,"key?","has_key?");c.def(v,"$keys",ea=function(){for(var b=[],c=0,d=this.$$keys,e=d.length,f;c<e;c++)f=d[c],f.$$is_string?b.push(f):b.push(f.key);return b},ea.$$arity=0);c.def(v,"$length",fa=function(){return this.$$keys.length},fa.$$arity=0);c.alias(v,"member?","has_key?");c.def(v,"$merge",ca=function(b){var c=ca.$$p,d=c||y;c&&(ca.$$p=null);return x(this.$dup(),"merge!",[b],
d.$to_proc())},ca.$$arity=1);c.def(v,"$merge!",Y=function(b){var d=Y.$$p,e=d||y;d&&(Y.$$p=null);b.$$is_hash||(b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash"));var f=b.$$keys,k=f.length,h,g,l;if(e===y){for(d=0;d<k;d++)h=f[d],h.$$is_string?l=b.$$smap[h]:(l=h.value,h=h.key),c.hash_put(this,h,l);return this}for(d=0;d<k;d++)h=f[d],h.$$is_string?l=b.$$smap[h]:(l=h.value,h=h.key),g=c.hash_get(this,h),void 0===g?c.hash_put(this,h,l):c.hash_put(this,h,e(h,g,l));return this},Y.$$arity=1);c.def(v,"$rassoc",
va=function(b){for(var c=0,d=this.$$keys,e=d.length,f,k;c<e;c++)if(f=d[c],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),k["$=="](b))return[f,k];return y},va.$$arity=1);c.def(v,"$rehash",ma=function(){c.hash_rehash(this);return this},ma.$$arity=0);c.def(v,"$reject",ta=function(){var b,d=ta.$$p,e=d||y;d&&(ta.$$p=null);if(!E(e))return x(this,"enum_for",["reject"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=c.hash(),f=0,k=this.$$keys,h=k.length,g,l,r;f<h;f++)g=
k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),r=e(g,l),!1!==r&&r!==y||c.hash_put(d,g,l);return d},ta.$$arity=0);c.def(v,"$reject!",ya=function(){var b,d=ya.$$p,e=d||y;d&&(ya.$$p=null);if(!E(e))return x(this,"enum_for",["reject!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=!1,f=0,k=this.$$keys,h=k.length,g,l;f<h;f++)g=k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l=e(g,l),!1!==l&&l!==y&&void 0!==c.hash_delete(this,g)&&(d=!0,h--,f--);return d?
this:y},ya.$$arity=0);c.def(v,"$replace",oa=function(b){var d=y;b=p(z,"Opal")["$coerce_to!"](b,p(z,"Hash"),"to_hash");c.hash_init(this);for(var d=0,e=b.$$keys,f=e.length,k,h;d<f;d++)k=e[d],k.$$is_string?h=b.$$smap[k]:(h=k.value,k=k.key),c.hash_put(this,k,h);E(b.$default_proc())?(d=[b.$default_proc()],x(this,"default_proc=",c.to_a(d))):(d=[b.$default()],x(this,"default=",c.to_a(d)));b=d;d=d.length;d="number"===typeof d?d-1:d["$-"](1);b[d];return this},oa.$$arity=1);c.def(v,"$select",Ia=function(){var b,
d=Ia.$$p,e=d||y;d&&(Ia.$$p=null);if(!E(e))return x(this,"enum_for",["select"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=c.hash(),f=0,k=this.$$keys,h=k.length,g,l,r;f<h;f++)g=k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),r=e(g,l),!1!==r&&r!==y&&c.hash_put(d,g,l);return d},Ia.$$arity=0);c.def(v,"$select!",Ca=function(){var b,d=Ca.$$p,e=d||y;d&&(Ca.$$p=null);if(!E(e))return x(this,"enum_for",["select!"],(b=function(){return(b.$$s||this).$size()},b.$$s=
this,b.$$arity=0,b));for(var d=y,f=0,k=this.$$keys,h=k.length,g,l;f<h;f++)if(g=k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l=e(g,l),!1===l||l===y)void 0!==c.hash_delete(this,g)&&(h--,f--),d=this;return d},Ca.$$arity=0);c.def(v,"$shift",Ha=function(){var b=this.$$keys;return 0<b.length?(b=b[0],b=b.$$is_string?b:b.key,[b,c.hash_delete(this,b)]):this.$default(y)},Ha.$$arity=0);c.alias(v,"size","length");c.def(v,"$slice",za=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);
for(var f=0;f<e;f++)d[f-0]=arguments[f];for(var e=c.hash(),f=0,k=d.length;f<k;f++){var h=d[f],g=c.hash_get(this,h);void 0!==g&&c.hash_put(e,h,g)}return e},za.$$arity=-1);c.alias(v,"store","[]=");c.def(v,"$to_a",Fa=function(){for(var b=[],c=0,d=this.$$keys,e=d.length,f,k;c<e;c++)f=d[c],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),b.push([f,k]);return b},Fa.$$arity=0);c.def(v,"$to_h",Ga=function(){if(this.$$class===c.Hash)return this;var b=new c.Hash;c.hash_init(b);c.hash_clone(this,b);return b},
Ga.$$arity=0);c.def(v,"$to_hash",Ea=function(){return this},Ea.$$arity=0);c.def(v,"$to_proc",Ba=function(){var b;return x(this,"proc",[],(b=function(c){var d=b.$$s||this;null==c&&d.$raise(p(z,"ArgumentError"),"no key given");return d["$[]"](c)},b.$$s=this,b.$$arity=-1,b))},Ba.$$arity=0);c.alias(v,"to_s","inspect");c.def(v,"$transform_keys",wa=function(){var b,d=wa.$$p,e=d||y;d&&(wa.$$p=null);if(!E(e))return x(this,"enum_for",["transform_keys"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,
b.$$arity=0,b));for(var d=c.hash(),f=0,k=this.$$keys,h=k.length,g,l;f<h;f++)g=k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),g=c.yield1(e,g),c.hash_put(d,g,l);return d},wa.$$arity=0);c.def(v,"$transform_keys!",Da=function(){var b,d=Da.$$p,e=d||y;d&&(Da.$$p=null);if(!E(e))return x(this,"enum_for",["transform_keys!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));var d=c.slice.call(this.$$keys),f,k=d.length,h,g,l;for(f=0;f<k;f++)h=d[f],h.$$is_string?g=this.$$smap[h]:
(g=h.value,h=h.key),l=c.yield1(e,h),c.hash_delete(this,h),c.hash_put(this,l,g);return this},Da.$$arity=0);c.def(v,"$transform_values",Aa=function(){var b,d=Aa.$$p,e=d||y;d&&(Aa.$$p=null);if(!E(e))return x(this,"enum_for",["transform_values"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=c.hash(),f=0,k=this.$$keys,h=k.length,g,l;f<h;f++)g=k[f],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l=c.yield1(e,l),c.hash_put(d,g,l);return d},Aa.$$arity=0);c.def(v,"$transform_values!",
xa=function(){var b,d=xa.$$p,e=d||y;d&&(xa.$$p=null);if(!E(e))return x(this,"enum_for",["transform_values!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,f=this.$$keys,k=f.length,h,g;d<k;d++)h=f[d],h.$$is_string?g=this.$$smap[h]:(g=h.value,h=h.key),g=c.yield1(e,g),c.hash_put(this,h,g);return this},xa.$$arity=0);c.alias(v,"update","merge!");c.alias(v,"value?","has_value?");c.alias(v,"values_at","indexes");return(c.def(v,"$values",Ja=function(){for(var b=[],c=0,
d=this.$$keys,e=d.length,f;c<e;c++)f=d[c],f.$$is_string?b.push(this.$$smap[f]):b.push(f.value);return b},Ja.$$arity=0),y)&&"values"}(t[0],null,t)},Opal.modules["corelib/number"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}
function p(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var x=c.top,q=[],E=c.nil,v=c.const_get_qualified,a=c.const_get_relative,k=c.klass,B=c.truthy,M=c.send,z=c.hash2;c.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));
x.$require("corelib/numeric");(function(l,$super,b){function d(){}l=d=k(l,$super,"Number",d);var f=[l].concat(b),n,S,r,e,h,u,q,x,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa,H,P,ra,X,Qa,O,Ka,Na,Ra,Sa,I;a(f,"Opal").$bridge(Number,l);c.defineProperty(Number.prototype,"$$is_number",!0);l.$$is_number_class=!0;(function(b,d){var e=[b].concat(d),f;c.def(b,"$allocate",f=function(){return this.$raise(a(e,"TypeError"),
"allocator undefined for "+this.$name())},f.$$arity=0);c.udef(b,"$new");return E})(c.get_singleton_class(l),f);c.def(l,"$coerce",n=function(b){if(b!==E){if(b.$$is_string)return[this.$Float(b),this];if(b["$respond_to?"]("to_f"))return[a(f,"Opal")["$coerce_to!"](b,a(f,"Float"),"to_f"),this];if(b.$$is_number)return[b,this]}this.$raise(a(f,"TypeError"),"can't convert "+b.$class()+" into Float")},n.$$arity=1);c.def(l,"$__id__",S=function(){return 2*this+1},S.$$arity=0);c.alias(l,"object_id","__id__");
c.def(l,"$+",r=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},r.$$arity=1);c.def(l,"$-",e=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},e.$$arity=1);c.def(l,"$*",h=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},h.$$arity=1);c.def(l,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);c.alias(l,"fdiv","/");c.def(l,"$%",q=function(b){if(b.$$is_number){if(-Infinity==b)return b;if(0==b)this.$raise(a(f,"ZeroDivisionError"),
"divided by 0");else return 0>b||0>this?(this%b+b)%b:this%b}else return this.$__coerced__("%",b)},q.$$arity=1);c.def(l,"$&",x=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},x.$$arity=1);c.def(l,"$|",da=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},da.$$arity=1);c.def(l,"$^",G=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},G.$$arity=1);c.def(l,"$<",ka=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},ka.$$arity=1);c.def(l,"$<=",
T=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},T.$$arity=1);c.def(l,"$>",sa=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},sa.$$arity=1);c.def(l,"$>=",na=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},na.$$arity=1);c.def(l,"$<=>",J=function(b){try{return b.$$is_number?isNaN(this)||isNaN(b)?E:this>b?1:this<b?-1:0:this.$__coerced__("<=>",b)}catch(d){if(c.rescue(d,[a(f,"ArgumentError")]))try{return E}finally{c.pop_exception()}else throw d;
}},J.$$arity=1);c.def(l,"$<<",w=function(b){b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");return 0<b?this<<b:this>>-b},w.$$arity=1);c.def(l,"$>>",C=function(b){b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");return 0<b?this>>b:this<<-b},C.$$arity=1);c.def(l,"$[]",U=function(b){b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");return 0>b?0:32<=b?0>this?1:0:this>>b&1},U.$$arity=1);c.def(l,"$+@",F=function(){return+this},F.$$arity=0);c.def(l,"$-@",Q=function(){return-this},Q.$$arity=
0);c.def(l,"$~",ba=function(){return~this},ba.$$arity=0);c.def(l,"$**",la=function(b){var c,d;return B(a(f,"Integer")["$==="](b))?B(B(c=a(f,"Integer")["$==="](this)["$!"]())?c:A(b,0))?Math.pow(this,b):a(f,"Rational").$new(this,1)["$**"](b):B(D(this,0)?B(d=a(f,"Float")["$==="](b))?d:a(f,"Rational")["$==="](b):D(this,0))?a(f,"Complex").$new(this,0)["$**"](b.$to_f()):B(null!=b.$$is_number)?Math.pow(this,b):this.$__coerced__("**",b)},la.$$arity=1);c.def(l,"$===",Z=function(a){return a.$$is_number?this.valueOf()===
a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},Z.$$arity=1);c.def(l,"$==",N=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},N.$$arity=1);c.def(l,"$abs",V=function(){return Math.abs(this)},V.$$arity=0);c.def(l,"$abs2",L=function(){return Math.abs(this*this)},L.$$arity=0);c.def(l,"$allbits?",K=function(b){b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");return(this&b)==b},K.$$arity=1);c.def(l,"$anybits?",W=function(b){b=a(f,"Opal")["$coerce_to!"](b,
a(f,"Integer"),"to_int");return 0!==(this&b)},W.$$arity=1);c.def(l,"$angle",qa=function(){return B(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},qa.$$arity=0);c.alias(l,"arg","angle");c.alias(l,"phase","angle");c.def(l,"$bit_length",ga=function(){B(a(f,"Integer")["$==="](this))||this.$raise(a(f,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var b=0,c=0>this?~this:this;0!=c;)b+=1,c>>>=1;return b},ga.$$arity=
0);c.def(l,"$ceil",ja=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=Math.round(a));return a},ja.$$arity=-1);c.def(l,"$chr",aa=function(a){return String.fromCharCode(this)},aa.$$arity=-1);c.def(l,"$denominator",R=function(){var a,b=R.$$p,d=E,e=E,f=E;b&&(R.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return B(B(a=this["$nan?"]())?a:this["$infinite?"]())?1:M(this,c.find_super_dispatcher(this,"denominator",
R,!1),d,b)},R.$$arity=0);c.def(l,"$downto",ua=function(b){var c,d=ua.$$p,e=d||E;d&&(ua.$$p=null);if(e===E)return M(this,"enum_for",["downto",b],(c=function(){var d=c.$$s||this;B(a(f,"Numeric")["$==="](b))||d.$raise(a(f,"ArgumentError"),"comparison of "+d.$class()+" with "+b.$class()+" failed");return B(A(b,d))?0:t(y(d,b),1)},c.$$s=this,c.$$arity=0,c));b.$$is_number||this.$raise(a(f,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");for(d=this;d>=b;d--)e(d);return this},
ua.$$arity=1);c.alias(l,"eql?","==");c.def(l,"$equal?",ia=function(a){var b;return B(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},ia.$$arity=1);c.def(l,"$even?",ea=function(){return 0===this%2},ea.$$arity=0);c.def(l,"$floor",fa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},fa.$$arity=-1);c.def(l,"$gcd",ca=function(b){B(a(f,"Integer")["$==="](b))||this.$raise(a(f,"TypeError"),"not an integer");var c=Math.abs(this);
for(b=Math.abs(b);0<c;){var d=c,c=b%c;b=d}return b},ca.$$arity=1);c.def(l,"$gcdlcm",Y=function(a){return[this.$gcd(),this.$lcm()]},Y.$$arity=1);c.def(l,"$integer?",va=function(){return 0===this%1},va.$$arity=0);c.def(l,"$is_a?",ma=function(b){var d=ma.$$p,e=E,k=E,h=E;d&&(ma.$$p=null);k=0;h=arguments.length;for(e=Array(h);k<h;k++)e[k]=arguments[k];return B(b["$=="](a(f,"Integer"))?a(f,"Integer")["$==="](this):b["$=="](a(f,"Integer")))||B(b["$=="](a(f,"Integer"))?a(f,"Integer")["$==="](this):b["$=="](a(f,
"Integer")))||B(b["$=="](a(f,"Float"))?a(f,"Float")["$==="](this):b["$=="](a(f,"Float")))?!0:M(this,c.find_super_dispatcher(this,"is_a?",ma,!1),e,d)},ma.$$arity=1);c.alias(l,"kind_of?","is_a?");c.def(l,"$instance_of?",ta=function(b){var d=ta.$$p,e=E,k=E,h=E;d&&(ta.$$p=null);k=0;h=arguments.length;for(e=Array(h);k<h;k++)e[k]=arguments[k];return B(b["$=="](a(f,"Integer"))?a(f,"Integer")["$==="](this):b["$=="](a(f,"Integer")))||B(b["$=="](a(f,"Integer"))?a(f,"Integer")["$==="](this):b["$=="](a(f,"Integer")))||
B(b["$=="](a(f,"Float"))?a(f,"Float")["$==="](this):b["$=="](a(f,"Float")))?!0:M(this,c.find_super_dispatcher(this,"instance_of?",ta,!1),e,d)},ta.$$arity=1);c.def(l,"$lcm",ya=function(b){B(a(f,"Integer")["$==="](b))||this.$raise(a(f,"TypeError"),"not an integer");return 0==this||0==b?0:Math.abs(this*b/this.$gcd(b))},ya.$$arity=1);c.alias(l,"magnitude","abs");c.alias(l,"modulo","%");c.def(l,"$next",oa=function(){return this+1},oa.$$arity=0);c.def(l,"$nobits?",Ia=function(b){b=a(f,"Opal")["$coerce_to!"](b,
a(f,"Integer"),"to_int");return 0==(this&b)},Ia.$$arity=1);c.def(l,"$nonzero?",Ca=function(){return 0==this?E:this},Ca.$$arity=0);c.def(l,"$numerator",Ha=function(){var a,b=Ha.$$p,d=E,e=E,f=E;b&&(Ha.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return B(B(a=this["$nan?"]())?a:this["$infinite?"]())?this:M(this,c.find_super_dispatcher(this,"numerator",Ha,!1),d,b)},Ha.$$arity=0);c.def(l,"$odd?",za=function(){return 0!==this%2},za.$$arity=0);c.def(l,"$ord",Fa=function(){return this},
Fa.$$arity=0);c.def(l,"$pow",Ga=function(b,c){0==this&&this.$raise(a(f,"ZeroDivisionError"),"divided by 0");if(void 0===c)return this["$**"](b);a(f,"Integer")["$==="](b)||this.$raise(a(f,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>b&&this.$raise(a(f,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");a(f,"Integer")["$==="](c)||this.$raise(a(f,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===c&&this.$raise(a(f,"ZeroDivisionError"),"divided by 0");return this["$**"](b)["$%"](c)},Ga.$$arity=-2);c.def(l,"$pred",Ea=function(){return this-1},Ea.$$arity=0);c.def(l,"$quo",Ba=function(b){var d=Ba.$$p,e=E,k=E,h=E;d&&(Ba.$$p=null);k=0;h=arguments.length;for(e=Array(h);k<h;k++)e[k]=arguments[k];return B(a(f,"Integer")["$==="](this))?M(this,c.find_super_dispatcher(this,"quo",Ba,!1),e,d):p(this,b)},Ba.$$arity=1);c.def(l,"$rationalize",wa=function(b){var d,e,k=E;d=E;1<arguments.length&&this.$raise(a(f,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return B(a(f,"Integer")["$==="](this))?a(f,"Rational").$new(this,1):B(this["$infinite?"]())?this.$raise(a(f,"FloatDomainError"),"Infinity"):B(this["$nan?"]())?this.$raise(a(f,"FloatDomainError"),"NaN"):B(null==b)?(e=a(f,"Math").$frexp(this),d=c.to_ary(e),k=null==d[0]?E:d[0],d=null==d[1]?E:d[1],e,k=a(f,"Math").$ldexp(k,v(a(f,"Float"),"MANT_DIG")).$to_i(),d=y(d,v(a(f,"Float"),"MANT_DIG")),a(f,"Rational").$new(m(2,k),1["$<<"](y(1,
d))).$rationalize(a(f,"Rational").$new(1,1["$<<"](y(1,d))))):this.$to_r().$rationalize(b)},wa.$$arity=-1);c.def(l,"$remainder",Da=function(a){return y(this,m(a,p(this,a).$truncate()))},Da.$$arity=1);c.def(l,"$round",Aa=function(b){var d,e,k=E;if(B(a(f,"Integer")["$==="](this))){if(B(null==b))return this;B(B(d=a(f,"Float")["$==="](b))?b["$infinite?"]():d)&&this.$raise(a(f,"RangeError"),"Infinity");b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");B(D(b,v(a(f,"Integer"),"MIN")))&&this.$raise(a(f,
"RangeError"),"out of bounds");if(B(0<=b))return this;b=b["$-@"]();if(.415241*b-.125>this.$size())return 0;b=Math.pow(10,b);e=Math.floor((Math.abs(e)+b/2)/b)*b;return 0>this?-e:e}B(B(d=this["$nan?"]())?null==b:d)&&this.$raise(a(f,"FloatDomainError"),"NaN");b=a(f,"Opal")["$coerce_to!"](b||0,a(f,"Integer"),"to_int");if(B("number"===typeof b?0>=b:b["$<="](0)))B(this["$nan?"]())?this.$raise(a(f,"RangeError"),"NaN"):B(this["$infinite?"]())&&this.$raise(a(f,"FloatDomainError"),"Infinity");else{if(b["$=="](0))return Math.round(this);
if(B(B(d=this["$nan?"]())?d:this["$infinite?"]()))return this}e=a(f,"Math").$frexp(this);d=c.to_ary(e);k=null==d[1]?E:d[1];e;d=y(t(v(a(f,"Float"),"DIG"),2),B(A(k,0))?p(k,4):y(p(k,3),1));d="number"===typeof b&&"number"===typeof d?b>=d:b["$>="](d);return B(d)?this:B(D(b,(B(A(k,0))?t(p(k,3),1):p(k,4))["$-@"]()))?0:Math.round(this*Math.pow(10,b))/Math.pow(10,b)},Aa.$$arity=-1);c.def(l,"$step",xa=function(b,d,e){function k(){void 0!==P&&(w=P);void 0===w&&(w=E);B===E&&H.$raise(a(f,"TypeError"),"step must be numeric");
0===B&&H.$raise(a(f,"ArgumentError"),"step can't be 0");void 0!==X&&(B=X);if(B===E||null==B)B=1;var b=B["$<=>"](0);b===E&&H.$raise(a(f,"ArgumentError"),"0 can't be coerced into "+B.$class());if(w===E||null==w)w=0<b?v(a(f,"Float"),"INFINITY"):v(a(f,"Float"),"INFINITY")["$-@"]();a(f,"Opal").$compare(H,w)}function h(){if(0<B&&H>w||0>B&&H<w)return 0;if(Infinity===B||-Infinity===B)return 1;var b=Math.abs,c=Math.floor,b=(b(H)+b(w)+b(w-H))/b(B)*v(a(f,"Float"),"EPSILON");if(Infinity===b||-Infinity===b)return 0;
.5<b&&(b=.5);return c((w-H)/B+b)+1}function l(){k();if(0===B)return Infinity;if(0!==B%1)return h();if(0<B&&H>w||0>B&&H<w)return 0;var a=Math.ceil,b=Math.abs,c=b(H-w)+1,b=b(B);return a(c/b)}var r,H=this,n,P,X,w,B,u=xa.$$p,m=u||E,O=n=E;n=c.slice.call(arguments,0,arguments.length);e=c.extract_kwargs(n);if(null==e||!e.$$is_hash)if(null==e)e=z([],{});else throw c.ArgumentError.$new("expected kwargs");P=e.$$smap.to;X=e.$$smap.by;0<n.length&&(w=n.splice(0,1)[0]);0<n.length&&(B=n.splice(0,1)[0]);u&&(xa.$$p=
null);void 0!==w&&void 0!==P&&H.$raise(a(f,"ArgumentError"),"to is given twice");void 0!==B&&void 0!==X&&H.$raise(a(f,"ArgumentError"),"step is given twice");if(m===E)return n=[],O=z([],{}),void 0!==w&&n.push(w),void 0!==B&&n.push(B),void 0!==P&&c.hash_put(O,"to",P),void 0!==X&&c.hash_put(O,"by",X),O["$any?"]()&&n.push(O),M(H,"enum_for",["step"].concat(c.to_a(n)),(r=function(){return l()},r.$$s=H,r.$$arity=0,r));k();if(0===B)for(;;)m(H);if(0!==H%1||0!==w%1||0!==B%1){if(r=h(),0<r)if(Infinity===B||
-Infinity===B)m(H);else if(u=0,0<B)for(;u<r;)n=u*B+H,w<n&&(n=w),m(n),u+=1;else for(;u<r;)n=u*B+H,w>n&&(n=w),m(n),u+=1}else if(r=H,0<B)for(;r<=w;)m(r),r+=B;else for(;r>=w;)m(r),r+=B;return H},xa.$$arity=-1);c.alias(l,"succ","next");c.def(l,"$times",Ja=function(){var a,b=Ja.$$p,c=b||E;b&&(Ja.$$p=null);if(!B(c))return M(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=this,a.$$arity=0,a));for(b=0;b<this;b++)c(b);return this},Ja.$$arity=0);c.def(l,"$to_f",La=function(){return this},La.$$arity=
0);c.def(l,"$to_i",Oa=function(){return parseInt(this,10)},Oa.$$arity=0);c.alias(l,"to_int","to_i");c.def(l,"$to_r",Ma=function(){var b,d,e=E;b=E;if(B(a(f,"Integer")["$==="](this)))return a(f,"Rational").$new(this,1);d=a(f,"Math").$frexp(this);b=c.to_ary(d);e=null==b[0]?E:b[0];b=null==b[1]?E:b[1];d;e=a(f,"Math").$ldexp(e,v(a(f,"Float"),"MANT_DIG")).$to_i();b=y(b,v(a(f,"Float"),"MANT_DIG"));return m(e,v(a(f,"Float"),"RADIX")["$**"](b)).$to_r()},Ma.$$arity=0);c.def(l,"$to_s",Pa=function(b){var c;null==
b&&(b=10);b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");B(B(c=D(b,2))?c:A(b,36))&&this.$raise(a(f,"ArgumentError"),"invalid radix "+b);return this.toString(b)},Pa.$$arity=-1);c.def(l,"$truncate",H=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},H.$$arity=-1);c.alias(l,"inspect","to_s");c.def(l,"$digits",P=function(b){null==b&&(b=10);D(this,0)&&this.$raise(v(a(f,"Math"),"DomainError"),"out of domain");
b=a(f,"Opal")["$coerce_to!"](b,a(f,"Integer"),"to_int");B(D(b,2))&&this.$raise(a(f,"ArgumentError"),"invalid radix "+b);for(var c=this,d=[];0!==c;)d.push(c%b),c=parseInt(c/b,10);return d},P.$$arity=-1);c.def(l,"$divmod",ra=function(b){var d,e=ra.$$p,k=E,h=E,l=E;e&&(ra.$$p=null);h=0;l=arguments.length;for(k=Array(l);h<l;h++)k[h]=arguments[h];return B(B(d=this["$nan?"]())?d:b["$nan?"]())?this.$raise(a(f,"FloatDomainError"),"NaN"):B(this["$infinite?"]())?this.$raise(a(f,"FloatDomainError"),"Infinity"):
M(this,c.find_super_dispatcher(this,"divmod",ra,!1),k,e)},ra.$$arity=1);c.def(l,"$upto",X=function(b){var c,d=X.$$p,e=d||E;d&&(X.$$p=null);if(e===E)return M(this,"enum_for",["upto",b],(c=function(){var d=c.$$s||this;B(a(f,"Numeric")["$==="](b))||d.$raise(a(f,"ArgumentError"),"comparison of "+d.$class()+" with "+b.$class()+" failed");return B(D(b,d))?0:t(y(b,d),1)},c.$$s=this,c.$$arity=0,c));b.$$is_number||this.$raise(a(f,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");
for(d=this;d<=b;d++)e(d);return this},X.$$arity=1);c.def(l,"$zero?",Qa=function(){return 0==this},Qa.$$arity=0);c.def(l,"$size",O=function(){return 4},O.$$arity=0);c.def(l,"$nan?",Ka=function(){return isNaN(this)},Ka.$$arity=0);c.def(l,"$finite?",Na=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Na.$$arity=0);c.def(l,"$infinite?",Ra=function(){return Infinity==this?1:-Infinity==this?-1:E},Ra.$$arity=0);c.def(l,"$positive?",Sa=function(){return 0!=this&&(Infinity==this||0<1/this)},
Sa.$$arity=0);return(c.def(l,"$negative?",I=function(){return-Infinity==this||0>1/this},I.$$arity=0),E)&&"negative?"})(q[0],a(q,"Numeric"),q);c.const_set(q[0],"Fixnum",a(q,"Number"));(function(l,$super,b){function d(){}l=d=k(l,$super,"Integer",d);b=[l].concat(b);l.$$is_number_class=!0;(function(b,d){var k=[b].concat(d),l,e,h;c.def(b,"$allocate",l=function(){return this.$raise(a(k,"TypeError"),"allocator undefined for "+this.$name())},l.$$arity=0);c.udef(b,"$new");c.def(b,"$===",e=function(a){return a.$$is_number?
0===a%1:!1},e.$$arity=1);return(c.def(b,"$sqrt",h=function(b){b=a(k,"Opal")["$coerce_to!"](b,a(k,"Integer"),"to_int");0>b&&this.$raise(v(a(k,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(b),10)},h.$$arity=1),E)&&"sqrt"})(c.get_singleton_class(l),b);c.const_set(b[0],"MAX",Math.pow(2,30)-1);return c.const_set(b[0],"MIN",-Math.pow(2,30))})(q[0],a(q,"Numeric"),q);return function(l,$super,b){function d(){}l=d=k(l,$super,"Float",d);b=[l].concat(b);l.$$is_number_class=
!0;(function(b,d){var k=[b].concat(d),l,e;c.def(b,"$allocate",l=function(){return this.$raise(a(k,"TypeError"),"allocator undefined for "+this.$name())},l.$$arity=0);c.udef(b,"$new");return(c.def(b,"$===",e=function(a){return!!a.$$is_number},e.$$arity=1),E)&&"==="})(c.get_singleton_class(l),b);c.const_set(b[0],"INFINITY",Infinity);c.const_set(b[0],"MAX",Number.MAX_VALUE);c.const_set(b[0],"MIN",Number.MIN_VALUE);c.const_set(b[0],"NAN",NaN);c.const_set(b[0],"DIG",15);c.const_set(b[0],"MANT_DIG",53);
c.const_set(b[0],"RADIX",2);return c.const_set(b[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(q[0],a(q,"Numeric"),q)},Opal.modules["corelib/range"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var p=c.top,m=[],x=
c.nil,q=c.const_get_qualified,E=c.const_get_relative,v=c.klass,a=c.truthy,k=c.send;c.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));p.$require("corelib/enumerable");return function(B,$super,m){function l(){}B=l=v(B,$super,"Range",l);var g=B.prototype,
b=[B].concat(m),d,f,n,S,r,e,h,u,p,ha,da,G,ka,T,sa,na,J,w;g.begin=g.end=g.excl=x;B.$include(E(b,"Enumerable"));g.$$is_range=!0;B.$attr_reader("begin","end");c.def(B,"$initialize",d=function(c,d,e){null==e&&(e=!1);a(this.begin)&&this.$raise(E(b,"NameError"),"'initialize' called twice");a(c["$<=>"](d))||this.$raise(E(b,"ArgumentError"),"bad value for range");this.begin=c;this.end=d;return this.excl=e},d.$$arity=-3);c.def(B,"$==",f=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&
this.end==a.end:!1},f.$$arity=1);c.def(B,"$===",n=function(a){return this["$include?"](a)},n.$$arity=1);c.def(B,"$cover?",S=function(b){var c,d=x,d=x,d=this.begin["$<=>"](b);if(!a(a(c=d)?A(d,0):c))return!1;d=b["$<=>"](this.end);return a(this.excl)?a(c=d)?D(d,0):c:a(c=d)?A(d,0):c},S.$$arity=1);c.def(B,"$each",r=function(){var d,e=r.$$p,f=e||x,h=x,g=x;e&&(r.$$p=null);if(f===x)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(E(b,
"TypeError"),"can't iterate from Float");d=this.begin;for(e=this.end+(a(this.excl)?0:1);d<e;d++)f(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return k(this.begin,"upto",[this.end,this.excl],f.$to_proc()),this;h=this.begin;g=this.end;for(a(h["$respond_to?"]("succ"))||this.$raise(E(b,"TypeError"),"can't iterate from "+h.$class());a(D(h["$<=>"](g),0));)c.yield1(f,h),h=h.$succ();a(a(d=this.excl["$!"]())?h["$=="](g):d)&&c.yield1(f,h);return this},r.$$arity=0);c.def(B,"$eql?",e=function(c){var d,
e;return a(E(b,"Range")["$==="](c))?a(d=a(e=this.excl["$==="](c["$exclude_end?"]()))?this.begin["$eql?"](c.$begin()):e)?this.end["$eql?"](c.$end()):d:!1},e.$$arity=1);c.def(B,"$exclude_end?",h=function(){return this.excl},h.$$arity=0);c.def(B,"$first",u=function(b){var d=u.$$p,e=x,f=x,h=x;d&&(u.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return a(null==b)?this.begin:k(this,c.find_super_dispatcher(this,"first",u,!1),e,d)},u.$$arity=-1);c.alias(B,"include?","cover?");c.def(B,
"$last",p=function(b){return a(null==b)?this.end:this.$to_a().$last(b)},p.$$arity=-1);c.def(B,"$max",ha=function(){var b,d=ha.$$p,e=d||x,f=x,h=x,g=x;d&&(ha.$$p=null);h=0;g=arguments.length;for(f=Array(g);h<g;h++)f[h]=arguments[h];return e!==x?k(this,c.find_super_dispatcher(this,"max",ha,!1),f,d):a(t(this.begin,this.end))?x:a(a(b=this.excl)?this.begin["$=="](this.end):b)?x:this.excl?this.end-1:this.end},ha.$$arity=0);c.alias(B,"member?","cover?");c.def(B,"$min",da=function(){var b,d=da.$$p,e=d||x,
f=x,h=x,g=x;d&&(da.$$p=null);h=0;g=arguments.length;for(f=Array(g);h<g;h++)f[h]=arguments[h];return e!==x?k(this,c.find_super_dispatcher(this,"min",da,!1),f,d):a(t(this.begin,this.end))?x:a(a(b=this.excl)?this.begin["$=="](this.end):b)?x:this.begin},da.$$arity=0);c.def(B,"$size",G=function(){var c,d=x,e=x,f=x,d=this.begin,e=this.end;a(this.excl)&&(e="number"===typeof e?e-1:e["$-"](1));if(!a(a(c=E(b,"Numeric")["$==="](d))?E(b,"Numeric")["$==="](e):c))return x;if(a(D(e,d)))return 0;f=q(E(b,"Float"),
"INFINITY");return a([d.$abs(),e.$abs()]["$include?"](f))?f:(Math.abs(e-d)+1).$to_i()},G.$$arity=0);c.def(B,"$step",ka=function(d){function e(){d.$$is_number||(d=E(b,"Opal")["$coerce_to!"](d,E(b,"Integer"),"to_int"));0>d?r.$raise(E(b,"ArgumentError"),"step can't be negative"):0===d&&r.$raise(E(b,"ArgumentError"),"step can't be 0")}function f(){if(!r.begin["$respond_to?"]("succ")||r.begin.$$is_string&&r.end.$$is_string)return x;if(0===d%1){var a=r.$size();return("number"===typeof a&&"number"===typeof d?
a/d:a["$/"](d)).$ceil()}var a=r.begin,c=r.end,e=Math.abs,k=Math.floor,e=(e(a)+e(c)+e(c-a))/e(d)*q(E(b,"Float"),"EPSILON");.5<e&&(e=.5);r.excl?(k=k((c-a)/d-e),k*d+a<c&&k++):k=k((c-a)/d+e)+1;return k}var h,g,l,r=this,n=ka.$$p,w=n||x,B=x;null==d&&(d=1);n&&(ka.$$p=null);if(w===x)return k(r,"enum_for",["step",d],(h=function(){e();return f()},h.$$s=r,h.$$arity=0,h));e();a(r.begin.$$is_number&&r.end.$$is_number)?(B=0,function(){var b=c.new_brk();try{return k(r,"loop",[],(g=function(){var e=g.$$s||this,f=
x;null==e.begin&&(e.begin=x);null==e.excl&&(e.excl=x);null==e.end&&(e.end=x);f=y(e.begin,"number"===typeof B&&"number"===typeof d?B*d:B["$*"](d));a(e.excl)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),a(e)&&c.brk(x,b)):a(t(f,e.end))&&c.brk(x,b);c.yield1(w,f);return B=y(B,1)},g.$$s=r,g.$$brk=b,g.$$arity=0,g))}catch(e){if(e===b)return e.$v;throw e;}}()):(r.begin.$$is_string&&r.end.$$is_string&&0!==d%1&&r.$raise(E(b,"TypeError"),"no implicit conversion to float from string"),
k(r,"each_with_index",[],(l=function(a,b){null==a&&(a=x);null==b&&(b=x);return b["$%"](d)["$=="](0)?c.yield1(w,a):x},l.$$s=r,l.$$arity=2,l)));return r},ka.$$arity=-1);c.def(B,"$bsearch",T=function(){var c=T.$$p,d=c||x;c&&(T.$$p=null);if(d===x)return this.$enum_for("bsearch");a(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(E(b,"TypeError"),"can't do binary search for "+this.begin.$class());return k(this.$to_a(),"bsearch",[],d.$to_proc())},T.$$arity=0);c.def(B,"$to_s",sa=function(){return""+
this.begin+(a(this.excl)?"...":"..")+this.end},sa.$$arity=0);c.def(B,"$inspect",na=function(){return""+this.begin.$inspect()+(a(this.excl)?"...":"..")+this.end.$inspect()},na.$$arity=0);c.def(B,"$marshal_load",J=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},J.$$arity=1);return(c.def(B,"$hash",w=function(){return[this.begin,this.end,this.excl].$hash()},w.$$arity=0),x)&&"hash"}(m[0],null,m)},Opal.modules["corelib/proc"]=function(c){var A=[],D=c.nil,
t=c.const_get_relative,y=c.slice,p=c.klass,m=c.truthy;c.add_stubs(["$raise","$coerce_to!"]);return function(x,$super,A){function v(){}x=v=p(x,$super,"Proc",v);var a=[x].concat(A),k,B,M,z,l,g,b,d,f,n;c.defineProperty(Function.prototype,"$$is_proc",!0);c.defineProperty(Function.prototype,"$$is_lambda",!1);c.defs(x,"$new",k=function(){var b=k.$$p,c=b||D;b&&(k.$$p=null);m(c)||this.$raise(t(a,"ArgumentError"),"tried to create a Proc object without a block");return c},k.$$arity=0);c.def(x,"$call",B=function(a){var b,
d=B.$$p,f=d||D,k=arguments.length;b=k-0;0>b&&(b=0);b=Array(b);for(var g=0;g<k;g++)b[g-0]=arguments[g];d&&(B.$$p=null);f!==D&&(this.$$p=f);var l;if(d=this.$$brk)try{l=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b)}catch(n){if(n===d)return d.$v;throw n;}else l=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b);return l},B.$$arity=-1);c.alias(x,"[]","call");c.alias(x,"===","call");c.alias(x,"yield","call");c.def(x,"$to_proc",M=function(){return this},M.$$arity=0);c.def(x,"$lambda?",z=function(){return!!this.$$is_lambda},
z.$$arity=0);c.def(x,"$arity",l=function(){return this.$$is_curried?-1:this.$$arity},l.$$arity=0);c.def(x,"$source_location",g=function(){return D},g.$$arity=0);c.def(x,"$binding",b=function(){this.$$is_curried&&this.$raise(t(a,"ArgumentError"),"Can't create Binding");return D},b.$$arity=0);c.def(x,"$parameters",d=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b,c;b=0;for(c=this.$$parameters.length;b<c;b++){var d=this.$$parameters[b];
"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},d.$$arity=0);c.def(x,"$curry",f=function(b){function c(){var f=y.call(arguments),k=f.length;k>b&&d.$$is_lambda&&!d.$$is_curried&&d.$raise(t(a,"ArgumentError"),"wrong number of arguments ("+k+" for "+b+")");if(k>=b)return d.$call.apply(d,f);k=function(){return c.apply(null,f.concat(y.call(arguments)))};k.$$is_lambda=d.$$is_lambda;k.$$is_curried=!0;return k}var d=this;void 0===b?b=d.length:(b=t(a,"Opal")["$coerce_to!"](b,t(a,"Integer"),"to_int"),
d.$$is_lambda&&b!==d.length&&d.$raise(t(a,"ArgumentError"),"wrong number of arguments ("+b+" for "+d.length+")"));c.$$is_lambda=d.$$is_lambda;c.$$is_curried=!0;return c},f.$$arity=-1);c.def(x,"$dup",n=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},n.$$arity=0);return c.alias(x,"clone","dup")}(A[0],Function,A)},Opal.modules["corelib/method"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,
y=c.klass,p=c.truthy;c.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(m,$super,q){function A(){}m=A=y(m,$super,"Method",A);var v=m.prototype,a=[m].concat(q),k,B,M,z,l,g,b,d,f;v.method=v.receiver=v.owner=v.name=D;m.$attr_reader("owner","receiver","name");c.def(m,"$initialize",k=function(a,b,c,d){this.receiver=a;this.owner=b;this.name=d;return this.method=c},k.$$arity=4);c.def(m,"$arity",B=function(){return this.method.$arity()},B.$$arity=0);c.def(m,
"$parameters",M=function(){return this.method.$$parameters},M.$$arity=0);c.def(m,"$source_location",z=function(){var a;return p(a=this.method.$$source_location)?a:["(eval)",0]},z.$$arity=0);c.def(m,"$comments",l=function(){var a;return p(a=this.method.$$comments)?a:[]},l.$$arity=0);c.def(m,"$call",g=function(a){var b,c=g.$$p,d=c||D,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var k=0;k<f;k++)b[k-0]=arguments[k];c&&(g.$$p=null);this.method.$$p=d;return this.method.apply(this.receiver,b)},g.$$arity=
-1);c.alias(m,"[]","call");c.def(m,"$unbind",b=function(){return t(a,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},b.$$arity=0);c.def(m,"$to_proc",d=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},d.$$arity=0);return(c.def(m,"$inspect",f=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},f.$$arity=0),D)&&"inspect"})(A[0],
null,A);return function(m,$super,q){function A(){}m=A=y(m,$super,"UnboundMethod",A);var v=m.prototype,a=[m].concat(q),k,B,M,z,l,g,b;v.method=v.owner=v.name=v.source=D;m.$attr_reader("source","owner","name");c.def(m,"$initialize",k=function(a,b,c,k){this.source=a;this.owner=b;this.method=c;return this.name=k},k.$$arity=4);c.def(m,"$arity",B=function(){return this.method.$arity()},B.$$arity=0);c.def(m,"$parameters",M=function(){return this.method.$$parameters},M.$$arity=0);c.def(m,"$source_location",
z=function(){var a;return p(a=this.method.$$source_location)?a:["(eval)",0]},z.$$arity=0);c.def(m,"$comments",l=function(){var a;return p(a=this.method.$$comments)?a:[]},l.$$arity=0);c.def(m,"$bind",g=function(b){if(this.owner.$$is_module||c.is_a(b,this.owner))return t(a,"Method").$new(b,this.owner,this.method,this.name);this.$raise(t(a,"TypeError"),"can't bind singleton method to a different class (expected "+b+".kind_of?("+this.owner+" to be true)")},g.$$arity=1);return(c.def(m,"$inspect",b=function(){return"#<"+
this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},b.$$arity=0),D)&&"inspect"}(A[0],null,A)},Opal.modules["corelib/variables"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.gvars,p=c.hash2;c.add_stubs(["$new"]);y["&"]=y["~"]=y["`"]=y["'"]=D;y.LOADED_FEATURES=y['"']=c.loaded_features;y.LOAD_PATH=y[":"]=[];y["/"]="\n";y[","]=D;c.const_set(A[0],"ARGV",[]);c.const_set(A[0],"ARGF",t(A,"Object").$new());c.const_set(A[0],"ENV",
p([],{}));y.VERBOSE=!1;y.DEBUG=!1;return y.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.module;c.add_stubs(["$==","$new"]);return function(p,m){function x(){}var q=[x=y(p,"Opal",x)].concat(m);c.const_set(q[0],"REGEXP_START",t(q,"RUBY_ENGINE")["$=="]("opal")?"^":D);c.const_set(q[0],"REGEXP_END",t(q,"RUBY_ENGINE")["$=="]("opal")?"$":D);c.const_set(q[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
c.const_set(q[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(q[0],"INLINE_IDENTIFIER_REGEXP",t(q,"Regexp").$new("[^"+t(q,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t(q,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));c.const_set(q[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(q[0],"CONST_NAME_REGEXP",t(q,"Regexp").$new(""+
t(q,"REGEXP_START")+"(::)?[A-Z][^"+t(q,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t(q,"REGEXP_END")))}(A[0],A)},Opal.modules["opal/mini"]=function(c){var A=c.top;c.add_stubs(["$require"]);A.$require("opal/base");A.$require("corelib/nil");A.$require("corelib/boolean");A.$require("corelib/string");A.$require("corelib/comparable");A.$require("corelib/enumerable");A.$require("corelib/enumerator");A.$require("corelib/array");A.$require("corelib/hash");A.$require("corelib/number");A.$require("corelib/range");A.$require("corelib/proc");
A.$require("corelib/method");A.$require("corelib/regexp");A.$require("corelib/variables");return A.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var D,t,y,p,m,x=c.top,q=[],E=c.nil,v=c.const_get_qualified,a=c.const_get_relative,k=c.klass,B=c.truthy,M=c.send,z=c.hash2;c.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
x.$require("corelib/string");(function(l,$super,b){function d(){}l=d=k(l,$super,"Encoding",d);var f=l.prototype,n=[l].concat(b),m,r,e,h,u,v,q,y,G,p;f.ascii=f.dummy=f.name=E;c.defineProperty(l,"$$register",{});c.defs(l,"$register",m=function(b,c){var d,e,f=m.$$p,k=f||E,h=E,l=E,r=E;null==c&&(c=z([],{}));f&&(m.$$p=null);h=A([b],B(d=c["$[]"]("aliases"))?d:[]);l=M(a(n,"Class"),"new",[this],k.$to_proc()).$new(b,h,B(d=c["$[]"]("ascii"))?d:!1,B(d=c["$[]"]("dummy"))?d:!1);r=this.$$register;return M(h,"each",
[],(e=function(a){var b=e.$$s||this;null==a&&(a=E);b.$const_set(a.$sub("-","_"),l);return r["$$"+a]=l},e.$$s=this,e.$$arity=1,e))},m.$$arity=-2);c.defs(l,"$find",r=function(b){var c,d=E,d=E;if(b["$=="]("default_external"))return this.$default_external();d=this.$$register;d=B(c=d["$$"+b])?c:d["$$"+b.$upcase()];B(d)||this.$raise(a(n,"ArgumentError"),"unknown encoding name - "+b);return d},r.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(c.get_singleton_class(l),
n);l.$attr_reader("name","names");c.def(l,"$initialize",e=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},e.$$arity=4);c.def(l,"$ascii_compatible?",h=function(){return this.ascii},h.$$arity=0);c.def(l,"$dummy?",u=function(){return this.dummy},u.$$arity=0);c.def(l,"$to_s",v=function(){return this.name},v.$$arity=0);c.def(l,"$inspect",q=function(){return"#<Encoding:"+this.name+(B(this.dummy)?" (dummy)":E)+">"},q.$$arity=0);c.def(l,"$each_byte",y=function(b){return this.$raise(a(n,
"NotImplementedError"))},y.$$arity=-1);c.def(l,"$getbyte",G=function(b){return this.$raise(a(n,"NotImplementedError"))},G.$$arity=-1);c.def(l,"$bytesize",p=function(b){return this.$raise(a(n,"NotImplementedError"))},p.$$arity=-1);(function(a,$super,b){function c(){}[c=k(a,$super,"EncodingError",c)].concat(b);return E})(n[0],a(n,"StandardError"),n);return function(a,$super,b){function c(){}[c=k(a,$super,"CompatibilityError",c)].concat(b);return E}(n[0],a(n,"EncodingError"),n)})(q[0],null,q);M(a(q,
"Encoding"),"register",["UTF-8",z(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(D=function(){var a=D.$$s||this,k,b;c.def(a,"$each_byte",k=function(a){var b=k.$$p,l=b||E;b&&(k.$$p=null);for(var b=0,B=a.length;b<B;b++){var r=a.charCodeAt(b);if(127>=r)c.yield1(l,r);else for(var r=encodeURIComponent(a.charAt(b)).substr(1).split("%"),e=0,h=r.length;e<h;e++)c.yield1(l,parseInt(r[e],16))}},k.$$arity=1);return(c.def(a,"$bytesize",b=function(a){return a.$bytes().$length()},b.$$arity=1),E)&&"bytesize"},
D.$$s=x,D.$$arity=0,D));M(a(q,"Encoding"),"register",["UTF-16LE"],(t=function(){var a=t.$$s||this,k,b;c.def(a,"$each_byte",k=function(a){var b=k.$$p,l=b||E;b&&(k.$$p=null);for(var b=0,B=a.length;b<B;b++){var r=a.charCodeAt(b);c.yield1(l,r&255);c.yield1(l,r>>8)}},k.$$arity=1);return(c.def(a,"$bytesize",b=function(a){return a.$bytes().$length()},b.$$arity=1),E)&&"bytesize"},t.$$s=x,t.$$arity=0,t));M(a(q,"Encoding"),"register",["UTF-16BE"],(y=function(){var a=y.$$s||this,k,b;c.def(a,"$each_byte",k=function(a){var b=
k.$$p,l=b||E;b&&(k.$$p=null);for(var b=0,B=a.length;b<B;b++){var r=a.charCodeAt(b);c.yield1(l,r>>8);c.yield1(l,r&255)}},k.$$arity=1);return(c.def(a,"$bytesize",b=function(a){return a.$bytes().$length()},b.$$arity=1),E)&&"bytesize"},y.$$s=x,y.$$arity=0,y));M(a(q,"Encoding"),"register",["UTF-32LE"],(p=function(){var a=p.$$s||this,k,b;c.def(a,"$each_byte",k=function(a){var b=k.$$p,l=b||E;b&&(k.$$p=null);for(var b=0,B=a.length;b<B;b++){var r=a.charCodeAt(b);c.yield1(l,r&255);c.yield1(l,r>>8)}},k.$$arity=
1);return(c.def(a,"$bytesize",b=function(a){return a.$bytes().$length()},b.$$arity=1),E)&&"bytesize"},p.$$s=x,p.$$arity=0,p));M(a(q,"Encoding"),"register",["ASCII-8BIT",z(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(m=function(){var a=m.$$s||this,k,b;c.def(a,"$each_byte",k=function(a){var b=k.$$p,l=b||E;b&&(k.$$p=null);for(var b=0,B=a.length;b<B;b++){var r=a.charCodeAt(b);c.yield1(l,r&255);c.yield1(l,r>>8)}},k.$$arity=1);return(c.def(a,"$bytesize",b=function(a){return a.$bytes().$length()},
b.$$arity=1),E)&&"bytesize"},m.$$s=x,m.$$arity=0,m));return function(l,$super,b){function d(){}l=d=k(l,$super,"String",d);var f=l.prototype,n=[l].concat(b),B,r,e,h,m,z,q;f.encoding=E;l.$attr_reader("encoding");c.defineProperty(String.prototype,"encoding",v(a(n,"Encoding"),"UTF_16LE"));c.def(l,"$bytes",B=function(){return this.$each_byte().$to_a()},B.$$arity=0);c.def(l,"$bytesize",r=function(){return this.encoding.$bytesize(this)},r.$$arity=0);c.def(l,"$each_byte",e=function(){var a=e.$$p,b=a||E;a&&
(e.$$p=null);if(b===E)return this.$enum_for("each_byte");M(this.encoding,"each_byte",[this],b.$to_proc());return this},e.$$arity=0);c.def(l,"$encode",h=function(a){return this.$dup().$force_encoding(a)},h.$$arity=1);c.def(l,"$force_encoding",m=function(b){if(b===this.encoding)return this;b=a(n,"Opal")["$coerce_to!"](b,a(n,"String"),"to_s");b=a(n,"Encoding").$find(b);if(b===this.encoding)return this;this.encoding=b;return this},m.$$arity=1);c.def(l,"$getbyte",z=function(a){return this.encoding.$getbyte(this,
a)},z.$$arity=1);return(c.def(l,"$valid_encoding?",q=function(){return!0},q.$$arity=0),E)&&"valid_encoding?"}(q[0],null,q)},Opal.modules["corelib/math"]=function(c){var A=[],D=c.const_get_qualified,t=c.const_get_relative,y=c.module,p=c.truthy;c.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(m,x){function q(){}var A=q=y(m,"Math",q),v=[A].concat(x),a,k,B,M,z,l,g,b,d,f,n,S,r,e,h,u,pa,ha,da,G,ka,
T,sa,na,J,w,C,U,F;c.const_set(v[0],"E",Math.E);c.const_set(v[0],"PI",Math.PI);c.const_set(v[0],"DomainError",t(v,"Class").$new(t(v,"StandardError")));c.defs(A,"$checked",a=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];if(isNaN(c[0])||2==c.length&&isNaN(c[1]))return NaN;d=Math[a].apply(null,c);isNaN(d)&&this.$raise(t(v,"DomainError"),'Numerical argument is out of domain - "'+a+'"');return d},a.$$arity=-2);c.defs(A,"$float!",k=function(a){try{return this.$Float(a)}catch(b){if(c.rescue(b,
[t(v,"ArgumentError")]))try{return this.$raise(t(v,"Opal").$type_error(a,t(v,"Float")))}finally{c.pop_exception()}else throw b;}},k.$$arity=1);c.defs(A,"$integer!",B=function(a){try{return this.$Integer(a)}catch(b){if(c.rescue(b,[t(v,"ArgumentError")]))try{return this.$raise(t(v,"Opal").$type_error(a,t(v,"Integer")))}finally{c.pop_exception()}else throw b;}},B.$$arity=1);A.$module_function();c.def(A,"$acos",M=function(a){return t(v,"Math").$checked("acos",t(v,"Math")["$float!"](a))},M.$$arity=1);
p("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});c.def(A,"$acosh",z=function(a){return t(v,"Math").$checked("acosh",t(v,"Math")["$float!"](a))},z.$$arity=1);c.def(A,"$asin",l=function(a){return t(v,"Math").$checked("asin",t(v,"Math")["$float!"](a))},l.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});c.def(A,"$asinh",g=function(a){return t(v,"Math").$checked("asinh",t(v,"Math")["$float!"](a))},
g.$$arity=1);c.def(A,"$atan",b=function(a){return t(v,"Math").$checked("atan",t(v,"Math")["$float!"](a))},b.$$arity=1);c.def(A,"$atan2",d=function(a,b){return t(v,"Math").$checked("atan2",t(v,"Math")["$float!"](a),t(v,"Math")["$float!"](b))},d.$$arity=2);p("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});c.def(A,"$atanh",f=function(a){return t(v,"Math").$checked("atanh",t(v,"Math")["$float!"](a))},f.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=
function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});c.def(A,"$cbrt",n=function(a){return t(v,"Math").$checked("cbrt",t(v,"Math")["$float!"](a))},n.$$arity=1);c.def(A,"$cos",S=function(a){return t(v,"Math").$checked("cos",t(v,"Math")["$float!"](a))},S.$$arity=1);p("undefined"!==typeof Math.cosh)||
(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});c.def(A,"$cosh",r=function(a){return t(v,"Math").$checked("cosh",t(v,"Math")["$float!"](a))},r.$$arity=1);p("undefined"!==typeof Math.erf)||c.defineProperty(Math,"erf",function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});c.def(A,"$erf",e=function(a){return t(v,"Math").$checked("erf",t(v,"Math")["$float!"](a))},e.$$arity=
1);p("undefined"!==typeof Math.erfc)||c.defineProperty(Math,"erfc",function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});c.def(A,"$erfc",h=function(a){return t(v,"Math").$checked("erfc",t(v,"Math")["$float!"](a))},h.$$arity=1);c.def(A,"$exp",u=function(a){return t(v,"Math").$checked("exp",t(v,"Math")["$float!"](a))},u.$$arity=1);c.def(A,
"$frexp",pa=function(a){a=t(v,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},pa.$$arity=1);c.def(A,"$gamma",ha=function(a){a=t(v,"Math")["$float!"](a);var b,c,d,e;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,
-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(t(v,"DomainError"),'Numerical argument is out of domain - "gamma"');if(t(v,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;c=a-2;for(--a;1<c;)a*=c,c--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*t(v,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return c=a*a,b=c*
a,d=b*a,e=d*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*c)-139/(51840*b)-571/(2488320*d)+163879/(209018880*e)+5246819/(75246796800*e*a));--a;c=d[0];for(b=1;b<d.length;++b)c+=d[b]/(a+b);b=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(b,a+.5)*Math.exp(-b)*c},ha.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});c.def(A,"$hypot",da=function(a,b){return t(v,"Math").$checked("hypot",t(v,"Math")["$float!"](a),t(v,"Math")["$float!"](b))},
da.$$arity=2);c.def(A,"$ldexp",G=function(a,b){a=t(v,"Math")["$float!"](a);b=t(v,"Math")["$integer!"](b);isNaN(b)&&this.$raise(t(v,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},G.$$arity=2);c.def(A,"$lgamma",ka=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(t(v,"Math").$gamma(a))),0>t(v,"Math").$gamma(a)?-1:1]},ka.$$arity=1);c.def(A,"$log",T=function(a,b){p(t(v,"String")["$==="](a))&&this.$raise(t(v,"Opal").$type_error(a,t(v,"Float")));if(p(null==b))return t(v,
"Math").$checked("log",t(v,"Math")["$float!"](a));p(t(v,"String")["$==="](b))&&this.$raise(t(v,"Opal").$type_error(b,t(v,"Float")));var c=t(v,"Math").$checked("log",t(v,"Math")["$float!"](a)),d=t(v,"Math").$checked("log",t(v,"Math")["$float!"](b));return"number"===typeof c&&"number"===typeof d?c/d:c["$/"](d)},T.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});c.def(A,"$log10",sa=function(a){p(t(v,"String")["$==="](a))&&this.$raise(t(v,"Opal").$type_error(a,
t(v,"Float")));return t(v,"Math").$checked("log10",t(v,"Math")["$float!"](a))},sa.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});c.def(A,"$log2",na=function(a){p(t(v,"String")["$==="](a))&&this.$raise(t(v,"Opal").$type_error(a,t(v,"Float")));return t(v,"Math").$checked("log2",t(v,"Math")["$float!"](a))},na.$$arity=1);c.def(A,"$sin",J=function(a){return t(v,"Math").$checked("sin",t(v,"Math")["$float!"](a))},J.$$arity=1);p("undefined"!==typeof Math.sinh)||
(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});c.def(A,"$sinh",w=function(a){return t(v,"Math").$checked("sinh",t(v,"Math")["$float!"](a))},w.$$arity=1);c.def(A,"$sqrt",C=function(a){return t(v,"Math").$checked("sqrt",t(v,"Math")["$float!"](a))},C.$$arity=1);c.def(A,"$tan",U=function(a){a=t(v,"Math")["$float!"](a);return p(a["$infinite?"]())?D(t(v,"Float"),"NAN"):t(v,"Math").$checked("tan",t(v,"Math")["$float!"](a))},U.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==
a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});c.def(A,"$tanh",F=function(a){return t(v,"Math").$checked("tanh",t(v,"Math")["$float!"](a))},F.$$arity=1)}(A[0],A)},Opal.modules["corelib/complex"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===
typeof a&&"number"===typeof c?a/c:a["$/"](c)}var p=c.top,m=[],x=c.nil,q=c.const_get_qualified,E=c.const_get_relative,v=c.klass,a=c.truthy,k=c.module;c.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));p.$require("corelib/numeric");
(function(k,$super,m){function l(){}k=l=v(k,$super,"Complex",l);var g=k.prototype,b=[k].concat(m),d,f,n,S,r,e,h,u,p,ha,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa;g.real=g.imag=x;c.defs(k,"$rect",d=function(c,d){var e,f,k;null==d&&(d=0);a(a(e=a(f=a(k=E(b,"Numeric")["$==="](c))?c["$real?"]():k)?E(b,"Numeric")["$==="](d):f)?d["$real?"]():e)||this.$raise(E(b,"TypeError"),"not a real");return this.$new(c,d)},d.$$arity=-2);(function(a,b){[a].concat(b);return c.alias(a,"rectangular","rect")})(c.get_singleton_class(k),
b);c.defs(k,"$polar",f=function(c,d){var e,f,k;null==d&&(d=0);a(a(e=a(f=a(k=E(b,"Numeric")["$==="](c))?c["$real?"]():k)?E(b,"Numeric")["$==="](d):f)?d["$real?"]():e)||this.$raise(E(b,"TypeError"),"not a real");return this.$new(A(c,E(b,"Math").$cos(d)),A(c,E(b,"Math").$sin(d)))},f.$$arity=-2);k.$attr_reader("real","imag");c.def(k,"$initialize",n=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},n.$$arity=-2);c.def(k,"$coerce",S=function(c){var d;return a(E(b,"Complex")["$==="](c))?[c,this]:
a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?[E(b,"Complex").$new(c,0),this]:this.$raise(E(b,"TypeError"),""+c.$class()+" can't be coerced into Complex")},S.$$arity=1);c.def(k,"$==",r=function(c){var d;return a(E(b,"Complex")["$==="](c))?this.real["$=="](c.$real())?this.imag["$=="](c.$imag()):this.real["$=="](c.$real()):a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?this.real["$=="](c)?this.imag["$=="](0):this.real["$=="](c):c["$=="](this)},r.$$arity=1);c.def(k,"$-@",e=function(){return this.$Complex(this.real["$-@"](),
this.imag["$-@"]())},e.$$arity=0);c.def(k,"$+",h=function(c){var d;return a(E(b,"Complex")["$==="](c))?this.$Complex(D(this.real,c.$real()),D(this.imag,c.$imag())):a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(D(this.real,c),this.imag):this.$__coerced__("+",c)},h.$$arity=1);c.def(k,"$-",u=function(c){var d;return a(E(b,"Complex")["$==="](c))?this.$Complex(t(this.real,c.$real()),t(this.imag,c.$imag())):a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(t(this.real,c),
this.imag):this.$__coerced__("-",c)},u.$$arity=1);c.def(k,"$*",p=function(c){var d;return a(E(b,"Complex")["$==="](c))?this.$Complex(t(A(this.real,c.$real()),A(this.imag,c.$imag())),D(A(this.real,c.$imag()),A(this.imag,c.$real()))):a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(A(this.real,c),A(this.imag,c)):this.$__coerced__("*",c)},p.$$arity=1);c.def(k,"$/",ha=function(c){var d,e,f,k;return a(E(b,"Complex")["$==="](c))?a(a(d=a(e=a(f=a(k=E(b,"Number")["$==="](this.real))?this.real["$nan?"]():
k)?f:a(k=E(b,"Number")["$==="](this.imag))?this.imag["$nan?"]():k)?e:a(f=E(b,"Number")["$==="](c.$real()))?c.$real()["$nan?"]():f)?d:a(e=E(b,"Number")["$==="](c.$imag()))?c.$imag()["$nan?"]():e)?E(b,"Complex").$new(q(E(b,"Float"),"NAN"),q(E(b,"Float"),"NAN")):y(A(this,c.$conj()),c.$abs2()):a(a(d=E(b,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(this.real.$quo(c),this.imag.$quo(c)):this.$__coerced__("/",c)},ha.$$arity=1);c.def(k,"$**",da=function(d){var e,f,k=x,h=x,g=x,l=x;f=l=g=h=k=k=f=x;
if(d["$=="](0))return E(b,"Complex").$new(1,0);if(a(E(b,"Complex")["$==="](d)))return f=this.$polar(),e=c.to_ary(f),k=null==e[0]?x:e[0],h=null==e[1]?x:e[1],f,g=d.$real(),l=d.$imag(),f=E(b,"Math").$exp(t(A(g,E(b,"Math").$log(k)),A(l,h))),k=D(A(h,g),A(l,E(b,"Math").$log(k))),E(b,"Complex").$polar(f,k);if(a(E(b,"Integer")["$==="](d))){if(a("number"===typeof d?0<d:d["$>"](0))){h=k=this;for(g=t(d,1);a(g["$!="](0));){d=g.$divmod(2);f=c.to_ary(d);l=null==f[0]?x:f[0];f=null==f[1]?x:f[1];for(d;f["$=="](0);)k=
this.$Complex(t(A(k.$real(),k.$real()),A(k.$imag(),k.$imag())),A(A(2,k.$real()),k.$imag())),g=l,e=g.$divmod(2),d=c.to_ary(e),l=null==d[0]?x:d[0],f=null==d[1]?x:d[1],e;h=A(h,k);g=t(g,1)}return h}return y(E(b,"Rational").$new(1,1),this)["$**"](d["$-@"]())}return a(a(e=E(b,"Float")["$==="](d))?e:E(b,"Rational")["$==="](d))?(f=this.$polar(),e=c.to_ary(f),k=null==e[0]?x:e[0],h=null==e[1]?x:e[1],f,E(b,"Complex").$polar(k["$**"](d),A(h,d))):this.$__coerced__("**",d)},da.$$arity=1);c.def(k,"$abs",G=function(){return E(b,
"Math").$hypot(this.real,this.imag)},G.$$arity=0);c.def(k,"$abs2",ka=function(){return D(A(this.real,this.real),A(this.imag,this.imag))},ka.$$arity=0);c.def(k,"$angle",T=function(){return E(b,"Math").$atan2(this.imag,this.real)},T.$$arity=0);c.alias(k,"arg","angle");c.def(k,"$conj",sa=function(){return this.$Complex(this.real,this.imag["$-@"]())},sa.$$arity=0);c.alias(k,"conjugate","conj");c.def(k,"$denominator",na=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},na.$$arity=
0);c.alias(k,"divide","/");c.def(k,"$eql?",J=function(c){var d,e;return a(d=a(e=E(b,"Complex")["$==="](c))?this.real.$class()["$=="](this.imag.$class()):e)?this["$=="](c):d},J.$$arity=1);c.def(k,"$fdiv",w=function(c){a(E(b,"Numeric")["$==="](c))||this.$raise(E(b,"TypeError"),""+c.$class()+" can't be coerced into Complex");return y(this,c)},w.$$arity=1);c.def(k,"$finite?",C=function(){var b;return a(b=this.real["$finite?"]())?this.imag["$finite?"]():b},C.$$arity=0);c.def(k,"$hash",U=function(){return"Complex:"+
this.real+":"+this.imag},U.$$arity=0);c.alias(k,"imaginary","imag");c.def(k,"$infinite?",F=function(){var b;return a(b=this.real["$infinite?"]())?b:this.imag["$infinite?"]()},F.$$arity=0);c.def(k,"$inspect",Q=function(){return"("+this+")"},Q.$$arity=0);c.alias(k,"magnitude","abs");c.udef(k,"$negative?");c.def(k,"$numerator",ba=function(){var a=x,a=this.$denominator();return this.$Complex(A(this.real.$numerator(),y(a,this.real.$denominator())),A(this.imag.$numerator(),y(a,this.imag.$denominator())))},
ba.$$arity=0);c.alias(k,"phase","arg");c.def(k,"$polar",la=function(){return[this.$abs(),this.$arg()]},la.$$arity=0);c.udef(k,"$positive?");c.alias(k,"quo","/");c.def(k,"$rationalize",Z=function(c){1<arguments.length&&this.$raise(E(b,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");a(this.imag["$!="](0))&&this.$raise(E(b,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(c)},Z.$$arity=-1);c.def(k,"$real?",N=function(){return!1},N.$$arity=
0);c.def(k,"$rect",V=function(){return[this.real,this.imag]},V.$$arity=0);c.alias(k,"rectangular","rect");c.def(k,"$to_f",L=function(){this.imag["$=="](0)||this.$raise(E(b,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},L.$$arity=0);c.def(k,"$to_i",K=function(){this.imag["$=="](0)||this.$raise(E(b,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},K.$$arity=0);c.def(k,"$to_r",W=function(){this.imag["$=="](0)||this.$raise(E(b,"RangeError"),"can't convert "+
this+" into Rational");return this.real.$to_r()},W.$$arity=0);c.def(k,"$to_s",qa=function(){var c,d,e,f=x,f=this.real.$inspect(),f=D(f,a(a(c=a(d=a(e=E(b,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?d:this.imag["$positive?"]())?c:this.imag["$zero?"]())?"+":"-"),f=D(f,this.imag.$abs().$inspect());a(a(c=E(b,"Number")["$==="](this.imag))?a(d=this.imag["$nan?"]())?d:this.imag["$infinite?"]():c)&&(f=D(f,"*"));return D(f,"i")},qa.$$arity=0);return c.const_set(b[0],"I",k.$new(0,1))})(m[0],E(m,"Numeric"),
m);(function(m,M){function z(){}var l=z=k(m,"Kernel",z),g=[l].concat(M),b;c.def(l,"$Complex",b=function(b,c){null==c&&(c=x);return a(c)?E(g,"Complex").$new(b,c):E(g,"Complex").$new(b,0)},b.$$arity=-2)})(m[0],m);return function(a,$super,k){function l(){}a=l=v(a,$super,"String",l);[a].concat(k);var g;return(c.def(a,"$to_c",g=function(){function a(){var b=k.match(g)[0];k=k.slice(b.length);return b.replace(/_/g,"")}function c(){if(g.test(k)){var d=parseFloat(a());if("/"===k[0]){k=k.slice(1);if(g.test(k)){var e=
parseFloat(a());return f.$Rational(d,e)}k="/"+k}return d}return null}var f=this,k=f,g=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;k.match(g);var l,e;l=c();return l?(e=c())?f.$Complex(l,e):"i"===k[0]?f.$Complex(0,l):f.$Complex(l,0):"i"===k[0]?f.$Complex(0,1):"-"===k[0]&&"i"===k[1]?f.$Complex(0,-1):"+"===k[0]&&"i"===k[1]?f.$Complex(0,1):f.$Complex(0,0)},g.$$arity=0),x)&&"to_c"}(m[0],null,m)},Opal.modules["corelib/rational"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}
function D(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var m=c.top,x=[],q=c.nil,E=c.const_get_qualified,v=c.const_get_relative,a=c.klass,k=c.truthy,B=c.module;c.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));
m.$require("corelib/numeric");(function(m,$super,l){function g(){}m=g=a(m,$super,"Rational",g);var b=m.prototype,d=[m].concat(l),f,n,B,r,e,h,u,pa,x,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V;b.num=b.den=q;c.defs(m,"$reduce",f=function(a,b){var c=q;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(v(d,"ZeroDivisionError"),"divided by 0");else if(k(A(b,0)))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);c=a.$gcd(b);return this.$new(D(a,c),D(b,c))},f.$$arity=2);c.defs(m,"$convert",
n=function(a,b){var c,e;k(k(c=a["$nil?"]())?c:b["$nil?"]())&&this.$raise(v(d,"TypeError"),"cannot convert nil into Rational");if(k(k(c=v(d,"Integer")["$==="](a))?v(d,"Integer")["$==="](b):c))return this.$reduce(a,b);k(k(c=k(e=v(d,"Float")["$==="](a))?e:v(d,"String")["$==="](a))?c:v(d,"Complex")["$==="](a))&&(a=a.$to_r());k(k(c=k(e=v(d,"Float")["$==="](b))?e:v(d,"String")["$==="](b))?c:v(d,"Complex")["$==="](b))&&(b=b.$to_r());return k(k(c=b["$equal?"](1))?v(d,"Integer")["$==="](a)["$!"]():c)?v(d,
"Opal")["$coerce_to!"](a,v(d,"Rational"),"to_r"):k(k(c=v(d,"Numeric")["$==="](a))?v(d,"Numeric")["$==="](b):c)?D(a,b):this.$reduce(a,b)},n.$$arity=2);c.def(m,"$initialize",B=function(a,b){this.num=a;return this.den=b},B.$$arity=2);c.def(m,"$numerator",r=function(){return this.num},r.$$arity=0);c.def(m,"$denominator",e=function(){return this.den},e.$$arity=0);c.def(m,"$coerce",h=function(a){var b=q,b=a;return v(d,"Rational")["$==="](b)?[a,this]:v(d,"Integer")["$==="](b)?[a.$to_r(),this]:v(d,"Float")["$==="](b)?
[a,this.$to_f()]:q},h.$$arity=1);c.def(m,"$==",u=function(a){var b=q,b=a;return v(d,"Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):v(d,"Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):v(d,"Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)},u.$$arity=1);c.def(m,"$<=>",pa=function(a){var b=q,b=a;return v(d,"Rational")["$==="](b)?t(y(this.num,a.$denominator()),y(this.den,a.$numerator()))["$<=>"](0):
v(d,"Integer")["$==="](b)?t(this.num,y(this.den,a))["$<=>"](0):v(d,"Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},pa.$$arity=1);c.def(m,"$+",x=function(a){var b=q,c=b=q;b=a;v(d,"Rational")["$==="](b)?(b=p(y(this.num,a.$denominator()),y(this.den,a.$numerator())),c=y(this.den,a.$denominator()),a=this.$Rational(b,c)):a=v(d,"Integer")["$==="](b)?this.$Rational(p(this.num,y(a,this.den)),this.den):v(d,"Float")["$==="](b)?p(this.$to_f(),a):this.$__coerced__("+",a);return a},x.$$arity=
1);c.def(m,"$-",da=function(a){var b=q,c=b=q;b=a;v(d,"Rational")["$==="](b)?(b=t(y(this.num,a.$denominator()),y(this.den,a.$numerator())),c=y(this.den,a.$denominator()),a=this.$Rational(b,c)):a=v(d,"Integer")["$==="](b)?this.$Rational(t(this.num,y(a,this.den)),this.den):v(d,"Float")["$==="](b)?t(this.$to_f(),a):this.$__coerced__("-",a);return a},da.$$arity=1);c.def(m,"$*",G=function(a){var b=q,c=b=q;b=a;v(d,"Rational")["$==="](b)?(b=y(this.num,a.$numerator()),c=y(this.den,a.$denominator()),a=this.$Rational(b,
c)):a=v(d,"Integer")["$==="](b)?this.$Rational(y(this.num,a),this.den):v(d,"Float")["$==="](b)?y(this.$to_f(),a):this.$__coerced__("*",a);return a},G.$$arity=1);c.def(m,"$/",ka=function(a){var b=q,c=b=q;b=a;v(d,"Rational")["$==="](b)?(b=y(this.num,a.$denominator()),c=y(this.den,a.$numerator()),a=this.$Rational(b,c)):a=v(d,"Integer")["$==="](b)?a["$=="](0)?D(this.$to_f(),0):this.$Rational(this.num,y(this.den,a)):v(d,"Float")["$==="](b)?D(this.$to_f(),a):this.$__coerced__("/",a);return a},ka.$$arity=
1);c.def(m,"$**",T=function(a){var b=q,b=a;return v(d,"Integer")["$==="](b)?k(this["$=="](0)?A(a,0):this["$=="](0))?E(v(d,"Float"),"INFINITY"):k("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):k(A(a,0))?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):v(d,"Float")["$==="](b)?this.$to_f()["$**"](a):v(d,"Rational")["$==="](b)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?k(A(a,0))?this.$Rational(this.den["$**"](a.$numerator().$abs()),
this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):k(this["$=="](0)?A(a,0):this["$=="](0))?this.$raise(v(d,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)},T.$$arity=1);c.def(m,"$abs",sa=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},sa.$$arity=0);c.def(m,"$ceil",na=function(a){null==a&&(a=0);return a["$=="](0)?D(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",
a)},na.$$arity=-1);c.alias(m,"divide","/");c.def(m,"$floor",J=function(a){null==a&&(a=0);return a["$=="](0)?D(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},J.$$arity=-1);c.def(m,"$hash",w=function(){return"Rational:"+this.num+":"+this.den},w.$$arity=0);c.def(m,"$inspect",C=function(){return"("+this+")"},C.$$arity=0);c.alias(m,"quo","/");c.def(m,"$rationalize",U=function(a){1<arguments.length&&this.$raise(v(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+
" for 0..1)");if(null==a)return this;for(var b=a.$abs(),c=t(this,b),b=p(this,b),e=0,f=1,k=1,h=0,g,l,r;;){g=c.$ceil();if("number"===typeof g&&"number"===typeof b?g<=b:g["$<="](b))break;r=g-1;g=r*f+e;l=r*h+k;e=D(1,t(b,r));b=D(1,t(c,r));c=e;e=f;k=h;f=g;h=l}return this.$Rational(g*f+e,g*h+k)},U.$$arity=-1);c.def(m,"$round",F=function(a){var b=q,c=q,b=q;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=p(y(this.num.$abs(),
2),this.den);c=y(this.den,2);b=D(b,c).$truncate();return k(A(this.num,0))?b["$-@"]():b},F.$$arity=-1);c.def(m,"$to_f",Q=function(){return D(this.num,this.den)},Q.$$arity=0);c.def(m,"$to_i",ba=function(){return this.$truncate()},ba.$$arity=0);c.def(m,"$to_r",la=function(){return this},la.$$arity=0);c.def(m,"$to_s",Z=function(){return""+this.num+"/"+this.den},Z.$$arity=0);c.def(m,"$truncate",N=function(a){null==a&&(a=0);return a["$=="](0)?k(A(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",
a)},N.$$arity=-1);return(c.def(m,"$with_precision",V=function(a,b){var c=q,e=q;k(v(d,"Integer")["$==="](b))||this.$raise(v(d,"TypeError"),"not an Integer");c=10["$**"](b);e=y(this,c);return k(A(b,1))?D(e.$send(a),c).$to_i():this.$Rational(e.$send(a),c)},V.$$arity=2),q)&&"with_precision"})(x[0],v(x,"Numeric"),x);(function(a,k){function l(){}var g=l=B(a,"Kernel",l),b=[g].concat(k),d;c.def(g,"$Rational",d=function(a,c){null==c&&(c=1);return v(b,"Rational").$convert(a,c)},d.$$arity=-2)})(x[0],x);return function(k,
$super,l){function g(){}k=g=a(k,$super,"String",g);[k].concat(l);var b;return(c.def(k,"$to_r",b=function(){function a(){var d=b.match(c)[0];b=b.slice(d.length);return d.replace(/_/g,"")}var b=this.trimLeft(),c=/^[+-]?[\d_]+(\.[\d_]+)?/;b.match(c);var k,g;return c.test(b)?(k=parseFloat(a()),"/"===b[0]&&(b=b.slice(1),c.test(b))?(g=parseFloat(a()),this.$Rational(k,g)):this.$Rational(k,1)):this.$Rational(0,1)},b.$$arity=0),q)&&"to_r"}(x[0],null,x)},Opal.modules["corelib/time"]=function(c){function A(a,
c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var p=c.top,m=[],x=c.nil,q=c.const_get_relative,E=c.slice,v=c.klass,a=c.truthy,k=c.range;c.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
p.$require("corelib/comparable");return function(m,$super,z){function l(){}function g(a,c,e,f,k,h){a=a.$$is_string?parseInt(a,10):q(d,"Opal")["$coerce_to!"](a,q(d,"Integer"),"to_int");if(c===x)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;case "nov":c=
11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=q(d,"Opal")["$coerce_to!"](c,q(d,"Integer"),"to_int");(1>c||12<c)&&b.$raise(q(d,"ArgumentError"),"month out of range: "+c);--c;e=e===x?1:e.$$is_string?parseInt(e,10):q(d,"Opal")["$coerce_to!"](e,q(d,"Integer"),"to_int");(1>e||31<e)&&b.$raise(q(d,"ArgumentError"),"day out of range: "+e);f=f===x?0:f.$$is_string?parseInt(f,10):q(d,"Opal")["$coerce_to!"](f,q(d,"Integer"),"to_int");(0>f||24<f)&&b.$raise(q(d,"ArgumentError"),"hour out of range: "+
f);k=k===x?0:k.$$is_string?parseInt(k,10):q(d,"Opal")["$coerce_to!"](k,q(d,"Integer"),"to_int");(0>k||59<k)&&b.$raise(q(d,"ArgumentError"),"min out of range: "+k);h===x?h=0:h.$$is_number||(h=h.$$is_string?parseInt(h,10):q(d,"Opal")["$coerce_to!"](h,q(d,"Integer"),"to_int"));(0>h||60<h)&&b.$raise(q(d,"ArgumentError"),"sec out of range: "+h);return[a,c,e,f,k,h]}var b=l=v(m,$super,"Time",l),d=[b].concat(z),f,n,S,r,e,h,u,p,ha,da,G,ka,T,sa,na,J,w,C,U,F,Q,ba,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,
Y,va,ma;b.$include(q(d,"Comparable"));var ta="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ya="Sun Mon Tue Wed Thu Fri Sat".split(" "),oa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ia="January February March April May June July August September October November December".split(" ");c.defs(b,"$at",f=function(a,b){var c;if(q(d,"Time")["$==="](a))return void 0!==b&&this.$raise(q(d,"TypeError"),"can't convert Time into an exact number"),c=new Date(a.getTime()),
c.is_utc=a.is_utc,c;a.$$is_number||(a=q(d,"Opal")["$coerce_to!"](a,q(d,"Integer"),"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=q(d,"Opal")["$coerce_to!"](b,q(d,"Integer"),"to_int"));return new Date(1E3*a+b/1E3)},f.$$arity=-2);c.defs(b,"$new",n=function(a,b,c,e,f,k,h){null==b&&(b=x);null==c&&(c=x);null==e&&(e=x);null==f&&(f=x);null==k&&(k=x);null==h&&(h=x);if(void 0===a)return new Date;h!==x&&this.$raise(q(d,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
k=g(a,b,c,e,f,k);a=k[0];b=k[1];c=k[2];e=k[3];f=k[4];k=k[5];b=new Date(a,b,c,e,f,0,1E3*k);100>a&&b.setFullYear(a);return b},n.$$arity=-1);c.defs(b,"$local",S=function(a,b,c,d,e,f,k,h,l,r){null==b&&(b=x);null==c&&(c=x);null==d&&(d=x);null==e&&(e=x);null==f&&(f=x);null==k&&(k=x);null==h&&(h=x);null==l&&(l=x);null==r&&(r=x);var n;10===arguments.length&&(n=E.call(arguments),a=n[5],b=n[4],c=n[3],d=n[2],e=n[1],f=n[0]);n=g(a,b,c,d,e,f);a=n[0];b=n[1];c=n[2];d=n[3];e=n[4];f=n[5];n=new Date(a,b,c,d,e,0,1E3*
f);100>a&&n.setFullYear(a);return n},S.$$arity=-2);c.defs(b,"$gm",r=function(a,b,c,d,e,f,k,h,l,r){null==b&&(b=x);null==c&&(c=x);null==d&&(d=x);null==e&&(e=x);null==f&&(f=x);null==k&&(k=x);null==h&&(h=x);null==l&&(l=x);null==r&&(r=x);var n;10===arguments.length&&(n=E.call(arguments),a=n[5],b=n[4],c=n[3],d=n[2],e=n[1],f=n[0]);n=g(a,b,c,d,e,f);a=n[0];b=n[1];c=n[2];d=n[3];e=n[4];f=n[5];n=new Date(Date.UTC(a,b,c,d,e,0,1E3*f));100>a&&n.setUTCFullYear(a);n.is_utc=!0;return n},r.$$arity=-2);(function(a,b){[a].concat(b);
c.alias(a,"mktime","local");return c.alias(a,"utc","gm")})(c.get_singleton_class(b),d);c.defs(b,"$now",e=function(){return this.$new()},e.$$arity=0);c.def(b,"$+",h=function(b){a(q(d,"Time")["$==="](b))&&this.$raise(q(d,"TypeError"),"time + time?");b.$$is_number||(b=q(d,"Opal")["$coerce_to!"](b,q(d,"Integer"),"to_int"));b=new Date(this.getTime()+1E3*b);b.is_utc=this.is_utc;return b},h.$$arity=1);c.def(b,"$-",u=function(b){if(a(q(d,"Time")["$==="](b)))return(this.getTime()-b.getTime())/1E3;b.$$is_number||
(b=q(d,"Opal")["$coerce_to!"](b,q(d,"Integer"),"to_int"));b=new Date(this.getTime()-1E3*b);b.is_utc=this.is_utc;return b},u.$$arity=1);c.def(b,"$<=>",p=function(b){var c=x;if(a(q(d,"Time")["$==="](b)))return this.$to_f()["$<=>"](b.$to_f());c=b["$<=>"](this);return a(c["$nil?"]())?x:a("number"===typeof c?0<c:c["$>"](0))?-1:a("number"===typeof c?0>c:c["$<"](0))?1:0},p.$$arity=1);c.def(b,"$==",ha=function(b){var c;return a(c=q(d,"Time")["$==="](b))?this.$to_f()===b.$to_f():c},ha.$$arity=1);c.def(b,"$asctime",
da=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},da.$$arity=0);c.alias(b,"ctime","asctime");c.def(b,"$day",G=function(){return this.is_utc?this.getUTCDate():this.getDate()},G.$$arity=0);c.def(b,"$yday",ka=function(){var a=x,b=x,c=x,a=q(d,"Time").$new(this.$year()).$to_i(),b=q(d,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),c=86400;return A(D(t(b,a),c).$round(),1)},ka.$$arity=0);c.def(b,"$isdst",T=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),
6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},T.$$arity=0);c.alias(b,"dst?","isdst");c.def(b,"$dup",sa=function(){var a=x,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},sa.$$arity=0);c.def(b,"$eql?",na=function(b){var c;return a(c=b["$is_a?"](q(d,"Time")))?this["$<=>"](b)["$zero?"]():c},na.$$arity=1);c.def(b,"$friday?",J=function(){return 5==this.$wday()},J.$$arity=0);c.def(b,"$hash",w=function(){return"Time:"+
this.getTime()},w.$$arity=0);c.def(b,"$hour",C=function(){return this.is_utc?this.getUTCHours():this.getHours()},C.$$arity=0);c.def(b,"$inspect",U=function(){return a(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},U.$$arity=0);c.alias(b,"mday","day");c.def(b,"$min",F=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},F.$$arity=0);c.def(b,"$mon",Q=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},Q.$$arity=0);c.def(b,
"$monday?",ba=function(){return 1==this.$wday()},ba.$$arity=0);c.alias(b,"month","mon");c.def(b,"$saturday?",la=function(){return 6==this.$wday()},la.$$arity=0);c.def(b,"$sec",Z=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},Z.$$arity=0);c.def(b,"$succ",N=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},N.$$arity=0);c.def(b,"$usec",V=function(){return 1E3*this.getMilliseconds()},V.$$arity=0);c.def(b,"$zone",L=function(){var a=this.toString(),b;b=
-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b},L.$$arity=0);c.def(b,"$getgm",K=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},K.$$arity=0);c.alias(b,"getutc","getgm");c.def(b,"$gmtime",W=function(){this.is_utc=!0;return this},W.$$arity=0);c.alias(b,"utc","gmtime");c.def(b,"$gmt?",qa=function(){return!0===this.is_utc},qa.$$arity=0);c.def(b,"$gmt_offset",ga=function(){return 60*-this.getTimezoneOffset()},
ga.$$arity=0);c.def(b,"$strftime",ja=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,e,f){e="";var h=-1!==c.indexOf("0"),g=-1===c.indexOf("-"),l=-1!==c.indexOf("_"),r=-1!==c.indexOf("^"),n=-1!==c.indexOf("#"),m=(c.match(":")||[]).length;d=parseInt(d,10);h&&l&&(c.indexOf("0")<c.indexOf("_")?h=!1:l=!1);switch(f){case "Y":e+=b.$year();break;case "C":h=!l;e+=Math.round(b.$year()/100);break;case "y":h=!l;e+=b.$year()%100;break;case "m":h=!l;e+=b.$mon();break;
case "B":e+=Ia[b.$mon()-1];break;case "b":case "h":l=!h;e+=oa[b.$mon()-1];break;case "d":h=!l;e+=b.$day();break;case "e":l=!h;e+=b.$day();break;case "j":e+=b.$yday();break;case "H":h=!l;e+=b.$hour();break;case "k":l=!h;e+=b.$hour();break;case "I":h=!l;e+=b.$hour()%12||12;break;case "l":l=!h;e+=b.$hour()%12||12;break;case "P":e+=12<=b.$hour()?"pm":"am";break;case "p":e+=12<=b.$hour()?"PM":"AM";break;case "M":h=!l;e+=b.$min();break;case "S":h=!l;e+=b.$sec();break;case "L":h=!l;d=isNaN(d)?3:d;e+=b.getMilliseconds();
break;case "N":d=isNaN(d)?9:d;e+=b.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=b.getTimezoneOffset();c=Math.floor(Math.abs(a)/60);f=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>c?"0":"");e+=c;0<m&&(e+=":");e+=10>f?"0":"";e+=f;1<m&&(e+=":00");break;case "Z":e+=b.$zone();break;case "A":e+=ta[b.$wday()];break;case "a":e+=ya[b.$wday()];break;case "u":e+=b.$wday()+1;break;case "w":e+=b.$wday();break;case "V":e+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=
b.$cweek_cyear()["$[]"](1);break;case "g":e+=b.$cweek_cyear()["$[]"](1)["$[]"](k(-2,-1,!1));break;case "s":e+=b.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=b.$strftime("%m/%d/%y");break;case "F":e+=b.$strftime("%Y-%m-%d");break;case "v":e+=b.$strftime("%e-%^b-%4Y");break;case "r":e+=b.$strftime("%I:%M:%S %p");break;case "R":e+=b.$strftime("%H:%M");break;case "T":case "X":e+=b.$strftime("%H:%M:%S");
break;default:return a}r&&(e=e.toUpperCase());n&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));g&&(h||l)&&(e=e.$rjust(isNaN(d)?2:d,l?" ":"0"));return e})},ja.$$arity=1);c.def(b,"$sunday?",aa=function(){return 0==this.$wday()},aa.$$arity=0);c.def(b,"$thursday?",R=function(){return 4==this.$wday()},R.$$arity=0);c.def(b,"$to_a",ua=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),
this.$isdst(),this.$zone()]},ua.$$arity=0);c.def(b,"$to_f",ia=function(){return this.getTime()/1E3},ia.$$arity=0);c.def(b,"$to_i",ea=function(){return parseInt(this.getTime()/1E3,10)},ea.$$arity=0);c.alias(b,"to_s","inspect");c.def(b,"$tuesday?",fa=function(){return 2==this.$wday()},fa.$$arity=0);c.alias(b,"tv_sec","to_i");c.alias(b,"tv_usec","usec");c.alias(b,"utc?","gmt?");c.alias(b,"gmtoff","gmt_offset");c.alias(b,"utc_offset","gmt_offset");c.def(b,"$wday",ca=function(){return this.is_utc?this.getUTCDay():
this.getDay()},ca.$$arity=0);c.def(b,"$wednesday?",Y=function(){return 3==this.$wday()},Y.$$arity=0);c.def(b,"$year",va=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},va.$$arity=0);return(c.def(b,"$cweek_cyear",ma=function(){var b,c=x,e=x,f=e=e=c=x,f=x,c=q(d,"Time").$new(this.$year(),1,1),e=c.$wday(),c=this.$year();a(a(b=y(e,4))?e["$!="](0):b)?e=t(e,1):(e=t(t(e,7),1),e["$=="](-8)&&(e=-1));e=D(A(this.$yday(),e),7).$ceil();if(a(y(e,0)))return q(d,"Time").$new(t(this.$year(),
1),12,31).$cweek_cyear();e["$=="](53)&&(f=q(d,"Time").$new(this.$year(),12,31),f=f.$wday(),a(a(b=y(f,3))?f["$!="](0):b)&&(e=1,c=A(c,1)));return[e,c]},ma.$$arity=0),x)&&"cweek_cyear"}(m[0],Date,m)},Opal.modules["corelib/struct"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function y(a,c){return"number"===
typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var m=c.top,x=[],q=c.nil,E=c.const_get_relative,v=c.klass,a=c.truthy,k=c.send,B=c.hash2;c.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
m.$require("corelib/enumerable");return function(m,$super,l){function g(){}m=g=v(m,$super,"Struct",g);var b=[m].concat(l),d,f,n,S,r,e,h,u,x,ha,da,G,ka,T,sa,na,J,w,C;m.$include(E(b,"Enumerable"));c.defs(m,"$new",d=function(e,f,h){var g,l,r,n,m,w=d.$$p,u=w||q;r=q;r=c.slice.call(arguments,1,arguments.length);h=c.extract_kwargs(r);if(null==h||!h.$$is_hash)if(null==h)h=B([],{});else throw c.ArgumentError.$new("expected kwargs");n=h.$$smap.keyword_init;null==n&&(n=!1);m=0<r.length?r.splice(0,r.length-0):
[];w&&(d.$$p=null);if(a(e))try{e=E(b,"Opal")["$const_name!"](e)}catch(G){if(c.rescue(G,[E(b,"TypeError"),E(b,"NameError")]))try{m.$unshift(e),e=q}finally{c.pop_exception()}else throw G;}k(m,"map",[],(g=function(a){null==a&&(a=q);return E(b,"Opal")["$coerce_to!"](a,E(b,"String"),"to_str")},g.$$s=this,g.$$arity=1,g));r=k(E(b,"Class"),"new",[this],(l=function(){var a=l.$$s||this,d;k(m,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=q);return b.$define_struct_attribute(a)},d.$$s=a,d.$$arity=1,
d));return function(a,b){[a].concat(b);var d;c.def(a,"$new",d=function(a){var b,d=q,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.$allocate();d.$$data={};k(d,"initialize",c.to_a(b));return d},d.$$arity=-1);return a.$alias_method("[]","new")}(c.get_singleton_class(a),b)},l.$$s=this,l.$$arity=0,l));a(u)&&k(r,"module_eval",[],u.$to_proc());r.$$keyword_init=n;a(e)&&E(b,"Struct").$const_set(e,r);return r},d.$$arity=-2);c.defs(m,"$define_struct_attribute",
f=function(a){var c,d;this["$=="](E(b,"Struct"))&&this.$raise(E(b,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);k(this,"define_method",[a],(c=function(){return(c.$$s||this).$$data[a]},c.$$s=this,c.$$arity=0,c));return k(this,"define_method",[""+a+"="],(d=function(b){var c=d.$$s||this;null==b&&(b=q);return c.$$data[a]=b},d.$$s=this,d.$$arity=1,d))},f.$$arity=1);c.defs(m,"$members",n=function(){var c;null==this.members&&(this.members=q);this["$=="](E(b,
"Struct"))&&this.$raise(E(b,"ArgumentError"),"the Struct class has no members");return this.members=a(c=this.members)?c:[]},n.$$arity=0);c.defs(m,"$inherited",S=function(a){var b,c=q;null==this.members&&(this.members=q);c=this.members;return k(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=c},b.$$s=this,b.$$arity=0,b))},S.$$arity=1);c.def(m,"$initialize",r=function(d){var e,f,h,g,l=q,r=q,r=arguments.length,n=r-0;0>n&&(n=0);g=Array(n);for(n=0;n<r;n++)g[n-0]=arguments[n];if(a(this.$class().$$keyword_init))return l=
a(e=g.$last())?e:B([],{}),a(a(e=A(g.$length(),1))?e:1===g.length&&!l.$$is_hash)&&this.$raise(E(b,"ArgumentError"),"wrong number of arguments (given "+g.$length()+", expected 0)"),r=D(l.$keys(),this.$class().$members()),a(r["$any?"]())&&this.$raise(E(b,"ArgumentError"),"unknown keywords: "+r.$join(", ")),k(this.$class().$members(),"each",[],(f=function(a){var b=f.$$s||this,d=q;null==a&&(a=q);d=[a,l["$[]"](a)];k(b,"[]=",c.to_a(d));return d[D(d.length,1)]},f.$$s=this,f.$$arity=1,f));a(A(g.$length(),
this.$class().$members().$length()))&&this.$raise(E(b,"ArgumentError"),"struct size differs");return k(this.$class().$members(),"each_with_index",[],(h=function(a,b){var d=h.$$s||this,e=q;null==a&&(a=q);null==b&&(b=q);e=[a,g["$[]"](b)];k(d,"[]=",c.to_a(e));return e[D(e.length,1)]},h.$$s=this,h.$$arity=2,h))},r.$$arity=-1);c.def(m,"$members",e=function(){return this.$class().$members()},e.$$arity=0);c.def(m,"$hash",h=function(){return E(b,"Hash").$new(this.$$data).$hash()},h.$$arity=0);c.def(m,"$[]",
u=function(c){a(E(b,"Integer")["$==="](c))?(a(t(c,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(b,"IndexError"),"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),a(y(c,this.$class().$members().$size()))&&this.$raise(E(b,"IndexError"),"offset "+c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c)):a(E(b,"String")["$==="](c))?this.$$data.hasOwnProperty(c)||this.$raise(E(b,"NameError").$new("no member '"+
c+"' in struct",c)):this.$raise(E(b,"TypeError"),"no implicit conversion of "+c.$class()+" into Integer");c=E(b,"Opal")["$coerce_to!"](c,E(b,"String"),"to_str");return this.$$data[c]},u.$$arity=1);c.def(m,"$[]=",x=function(c,d){a(E(b,"Integer")["$==="](c))?(a(t(c,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(b,"IndexError"),"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),a(y(c,this.$class().$members().$size()))&&this.$raise(E(b,"IndexError"),"offset "+
c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c)):a(E(b,"String")["$==="](c))?a(this.$class().$members()["$include?"](c.$to_sym()))||this.$raise(E(b,"NameError").$new("no member '"+c+"' in struct",c)):this.$raise(E(b,"TypeError"),"no implicit conversion of "+c.$class()+" into Integer");c=E(b,"Opal")["$coerce_to!"](c,E(b,"String"),"to_str");return this.$$data[c]=d},x.$$arity=2);c.def(m,"$==",ha=function(c){function d(a,c){var k,h,g;e[a.$__id__()]=
!0;f[c.$__id__()]=!0;for(k in a.$$data)if(h=a.$$data[k],g=c.$$data[k],E(b,"Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&f.hasOwnProperty(g.$__id__())||d(h,g)))return!1}else if(!h["$=="](g))return!1;return!0}if(!a(c["$instance_of?"](this.$class())))return!1;var e={},f={};return d(this,c)},ha.$$arity=1);c.def(m,"$eql?",da=function(c){function d(a,c){var k,h,g;e[a.$__id__()]=!0;f[c.$__id__()]=!0;for(k in a.$$data)if(h=a.$$data[k],g=c.$$data[k],E(b,"Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&
f.hasOwnProperty(g.$__id__())||d(h,g)))return!1}else if(!h["$eql?"](g))return!1;return!0}if(!a(c["$instance_of?"](this.$class())))return!1;var e={},f={};return d(this,c)},da.$$arity=1);c.def(m,"$each",G=function(){var a,b,d=G.$$p,e=d||q;d&&(G.$$p=null);if(e===q)return k(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));k(this.$class().$members(),"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=q);return c.yield1(e,d["$[]"](a))},b.$$s=this,b.$$arity=
1,b));return this},G.$$arity=0);c.def(m,"$each_pair",ka=function(){var a,b,d=ka.$$p,e=d||q;d&&(ka.$$p=null);if(e===q)return k(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));k(this.$class().$members(),"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=q);return c.yield1(e,[a,d["$[]"](a)])},b.$$s=this,b.$$arity=1,b));return this},ka.$$arity=0);c.def(m,"$length",T=function(){return this.$class().$members().$length()},T.$$arity=0);c.alias(m,"size",
"length");c.def(m,"$to_a",sa=function(){var a;return k(this.$class().$members(),"map",[],(a=function(b){var c=a.$$s||this;null==b&&(b=q);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},sa.$$arity=0);c.alias(m,"values","to_a");c.def(m,"$inspect",na=function(){var c,d,e=q,e="#<struct ";a(a(c=E(b,"Struct")["$==="](this))?this.$class().$name():c)&&(e=p(e,""+this.$class()+" "));e=p(e,k(this.$each_pair(),"map",[],(d=function(a,b){null==a&&(a=q);null==b&&(b=q);return""+a+"="+b.$inspect()},d.$$s=this,d.$$arity=
2,d)).$join(", "));return e=p(e,">")},na.$$arity=0);c.alias(m,"to_s","inspect");c.def(m,"$to_h",J=function(){var a;return k(this.$class().$members(),"each_with_object",[B([],{})],(a=function(b,d){var e=a.$$s||this,f=q;null==b&&(b=q);null==d&&(d=q);f=[b,e["$[]"](b)];k(d,"[]=",c.to_a(f));return f[D(f.length,1)]},a.$$s=this,a.$$arity=2,a))},J.$$arity=0);c.def(m,"$values_at",w=function(a){var c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];d=k(d,"map",[],(c=
function(a){null==a&&(a=q);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];e=0;for(f=d.length;e<f;e++)d[e].$$is_number||this.$raise(E(b,"TypeError"),"no implicit conversion of "+d[e].$class()+" into Integer"),c.push(this["$[]"](d[e]));return c},w.$$arity=-1);return(c.def(m,"$dig",C=function(d,e){var f,h=q,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var g=1;g<h;g++)f[g-1]=arguments[g];h=a(d.$$is_string&&this.$$data.hasOwnProperty(d))?this.$$data[d]||q:q;if(h===q||
0===f.length)return h;a(h["$respond_to?"]("dig"))||this.$raise(E(b,"TypeError"),""+h.$class()+" does not have #dig method");return k(h,"dig",c.to_a(f))},C.$$arity=-2),q)&&"dig"}(x[0],null,x)},Opal.modules["corelib/io"]=function(c){function A(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var D=[],t=c.nil,y=c.const_get_qualified,p=c.const_get_relative,m=c.klass,x=c.module,q=c.send,E=c.gvars,v=c.truthy,a=t;c.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));
(function(a,$super,k){function l(){}a=l=m(a,$super,"IO",l);var g=a.prototype;k=[a].concat(k);var b,d,f,n;g.tty=g.closed=t;c.const_set(k[0],"SEEK_SET",0);c.const_set(k[0],"SEEK_CUR",1);c.const_set(k[0],"SEEK_END",2);c.def(a,"$tty?",b=function(){return this.tty},b.$$arity=0);c.def(a,"$closed?",d=function(){return this.closed},d.$$arity=0);a.$attr_accessor("write_proc");c.def(a,"$write",f=function(a){this.write_proc(a);return a.$size()},f.$$arity=1);a.$attr_accessor("sync","tty");c.def(a,"$flush",n=
function(){return t},n.$$arity=0);(function(a,b){function d(){}var f=d=x(a,"Writable",d);[f].concat(b);var k,g,l;c.def(f,"$<<",k=function(a){this.$write(a);return this},k.$$arity=1);c.def(f,"$print",g=function(a){var b,c;null==E[","]&&(E[","]=t);var d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];this.$write(q(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=t);return c.$String(a)},b.$$s=this,b.$$arity=1,b)).$join(E[","]));return t},g.$$arity=-1);c.def(f,
"$puts",l=function(a){var b,c,d=t;null==E["/"]&&(E["/"]=t);d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=E["/"];v(c["$empty?"]())?this.$write(E["/"]):this.$write(q(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=t);return c.$String(a).$chomp()},b.$$s=this,b.$$arity=1,b)).$concat([t]).$join(d));return t},l.$$arity=-1)})(k[0],k);return function(a,b){function d(){}var f=d=x(a,"Readable",d),k=[f].concat(b),g,l,n,m;c.def(f,"$readbyte",g=function(){return this.$getbyte()},
g.$$arity=0);c.def(f,"$readchar",l=function(){return this.$getc()},l.$$arity=0);c.def(f,"$readline",n=function(a){null==E["/"]&&(E["/"]=t);return this.$raise(p(k,"NotImplementedError"))},n.$$arity=-1);c.def(f,"$readpartial",m=function(a,b){return this.$raise(p(k,"NotImplementedError"))},m.$$arity=-2)}(k[0],k)})(D[0],null,D);c.const_set(D[0],"STDERR",E.stderr=p(D,"IO").$new());c.const_set(D[0],"STDIN",E.stdin=p(D,"IO").$new());c.const_set(D[0],"STDOUT",E.stdout=p(D,"IO").$new());var k=c.global.console,
a=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(a){k.log(a)}];q(p(D,"STDOUT"),"write_proc=",c.to_a(a));a[A(a.length,1)];a=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){k.warn(a)}];q(p(D,"STDERR"),"write_proc=",c.to_a(a));a[A(a.length,1)];p(D,"STDOUT").$extend(y(p(D,"IO"),"Writable"));return p(D,"STDERR").$extend(y(p(D,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(c){var A,
D,t=c.top,y=[],p=c.nil,m=c.const_get_relative;c.add_stubs(["$include"]);c.defs(t,"$to_s",A=function(){return"main"},A.$$arity=0);return(c.defs(t,"$include",D=function(c){return m(y,"Object").$include(c)},D.$$arity=1),p)&&"include"},Opal.modules["corelib/dir"]=function(c){var A=[],D=c.nil,t=c.const_get_relative,y=c.klass,p=c.truthy;c.add_stubs(["$[]"]);return function(m,$super,q){function A(){}m=A=y(m,$super,"Dir",A);q=[m].concat(q);return function(m,a){var k=[m].concat(a),B,M,z;c.def(m,"$chdir",B=
function(a){var k=B.$$p,b=k||D,d=D;k&&(B.$$p=null);var f;a:{try{d=c.current_dir;c.current_dir=a;f=c.yieldX(b,[]);break a}finally{c.current_dir=d}f=void 0}return f},B.$$arity=1);c.def(m,"$pwd",M=function(){return c.current_dir||"."},M.$$arity=0);c.alias(m,"getwd","pwd");return(c.def(m,"$home",z=function(){var a;return p(a=t(k,"ENV")["$[]"]("HOME"))?a:"."},z.$$arity=0),D)&&"home"}(c.get_singleton_class(m),q)}(A[0],null,A)},Opal.modules["corelib/file"]=function(c){function A(c,a){return"number"===typeof c&&
"number"===typeof a?c+a:c["$+"](a)}function D(c,a){return"number"===typeof c&&"number"===typeof a?c-a:c["$-"](a)}var t=[],y=c.nil,p=c.const_get_relative,m=c.klass,x=c.truthy,q=c.range,E=c.send;c.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(v,$super,k){function B(){}v=B=m(v,$super,"File",B);k=[v].concat(k);
var M=y;c.const_set(k[0],"Separator",c.const_set(k[0],"SEPARATOR","/"));c.const_set(k[0],"ALT_SEPARATOR",y);c.const_set(k[0],"PATH_SEPARATOR",":");c.const_set(k[0],"FNM_SYSCASE",0);M=/^[a-zA-Z]:(?:\\|\/)/;return function(k,l){function g(b){x(b["$respond_to?"]("to_path"))&&(b=b.$to_path());return b=p(d,"Opal")["$coerce_to!"](b,p(d,"String"),"to_str")}function b(){return p(d,"ALT_SEPARATOR")===y?c.escape_regexp(p(d,"SEPARATOR")):c.escape_regexp(A(p(d,"SEPARATOR"),p(d,"ALT_SEPARATOR")))}var d=[k].concat(l),
f,n,m,r,e,h,u,B;c.def(k,"$expand_path",f=function(c,e){var f,k=y,h=y,g=y,l=y,r=y,k=r=h=l=r=l=y;null==e&&(e=y);k=p(d,"SEPARATOR");h=b();g=[];x("~"===c[0]||e&&"~"===e[0])&&(l=p(d,"Dir").$home(),x(l)||this.$raise(p(d,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),x(l["$start_with?"](k))||this.$raise(p(d,"ArgumentError"),"non-absolute home"),l=A(l,k),r=new RegExp("^\\~(?:"+k+"|$)"),c=c.$sub(r,l),x(e)&&(e=e.$sub(r,l)));e=x(f=e)?f:p(d,"Dir").$pwd();l=c.substr(0,k.length)===k||M.test(c);
r=e.substr(0,k.length)===k||M.test(e);x(l)?(l=c.$split(new RegExp("["+h+"]")),h=M.test(c)?"":c.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"),r=!0):(l=A(e.$split(new RegExp("["+h+"]")),c.$split(new RegExp("["+h+"]"))),h=M.test(e)?"":e.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"));for(var n=0,m=l.length;n<m;n++)f=l[n],f===y||""===f&&(0===g.length||r)||"."===f&&(0===g.length||r)||(".."===f?g.pop():g.push(f));r||"."===l[0]||g.$unshift(".");k=g.$join(k);x(r)&&(k=A(h,k));return k},f.$$arity=-2);c.alias(k,"realpath",
"expand_path");c.def(k,"$dirname",n=function(c){var d=y,d=b();c=g(c);var e=c.match(new RegExp("^["+d+"]"));c=c.replace(new RegExp("["+d+"]+$"),"");c=c.replace(new RegExp("[^"+d+"]+$"),"");c=c.replace(new RegExp("["+d+"]+$"),"");return""===c?e?"/":".":c},n.$$arity=1);c.def(k,"$basename",m=function(e,f){var k=y;null==f&&(f=y);k=b();e=g(e);if(0==e.length)return e;f=f!==y?p(d,"Opal")["$coerce_to!"](f,p(d,"String"),"to_str"):null;e=e.replace(new RegExp("(.)["+k+"]*$"),"$1");e=e.replace(new RegExp("^(?:.*["+
k+"])?([^"+k+"]+)$"),"$1");".*"===f?e=e.replace(/\.[^\.]+$/,""):null!==f&&(f=c.escape_regexp(f),e=e.replace(new RegExp(""+f+"$"),""));return e},m.$$arity=-2);c.def(k,"$extname",r=function(b){var d,e=y,f=y;b=g(b);e=this.$basename(b);if(x(e["$empty?"]()))return"";f=e["$[]"](q(1,-1,!1)).$rindex(".");return x(x(d=f["$nil?"]())?d:A(f,1)["$=="](D(e.$length(),1)))?"":e["$[]"](c.Range.$new(A(f,1),-1,!1))},r.$$arity=1);c.def(k,"$exist?",e=function(b){return null!=c.modules[b]},e.$$arity=1);c.alias(k,"exists?",
"exist?");c.def(k,"$directory?",h=function(b){var e,f=y,f=y,f=[],k;for(k in c.modules)f.push(k);b=b.$gsub(new RegExp("(^."+p(d,"SEPARATOR")+"+|"+p(d,"SEPARATOR")+"+$)"));return f=E(f,"find",[],(e=function(c){null==c&&(c=y);return c["$=~"](new RegExp("^"+b))},e.$$s=this,e.$$arity=1,e))},h.$$arity=1);c.def(k,"$join",u=function(b){var c,e,f,k=y,h=arguments.length,g=h-0;0>g&&(g=0);f=Array(g);for(g=0;g<h;g++)f[g-0]=arguments[g];if(x(f["$empty?"]()))return"";k="";f=E(f.$flatten().$each_with_index(),"map",
[],(c=function(b,c){null==b&&(b=y);null==c&&(c=y);return x(c["$=="](0)?b["$empty?"]():c["$=="](0))?p(d,"SEPARATOR"):x(f.$length()["$=="](A(c,1))?b["$empty?"]():f.$length()["$=="](A(c,1)))?p(d,"SEPARATOR"):b},c.$$s=this,c.$$arity=2,c));f=E(f,"reject",[],"empty?".$to_proc());E(f,"each_with_index",[],(e=function(b,c){var e,h=y;null==b&&(b=y);null==c&&(c=y);h=f["$[]"](A(c,1));if(x(h["$nil?"]()))return k=""+k+b;x(x(e=b["$end_with?"](p(d,"SEPARATOR")))?h["$start_with?"](p(d,"SEPARATOR")):e)&&(b=b.$sub(new RegExp(""+
p(d,"SEPARATOR")+"+$"),""));return k=x(x(e=b["$end_with?"](p(d,"SEPARATOR")))?e:h["$start_with?"](p(d,"SEPARATOR")))?""+k+b:""+k+b+p(d,"SEPARATOR")},e.$$s=this,e.$$arity=2,e));return k},u.$$arity=-1);return(c.def(k,"$split",B=function(b){return b.$split(p(d,"SEPARATOR"))},B.$$arity=1),y)&&"split"}(c.get_singleton_class(v),k)}(t[0],p(t,"IO"),t)},Opal.modules["corelib/process"]=function(c){var A=[],D=c.nil,t=c.const_get_qualified,y=c.const_get_relative,p=c.klass,m=c.truthy;c.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));
(function(x,$super,A){function v(){}x=v=p(x,$super,"Process",v);var a=[x].concat(A),k,B,M,z;A=D;x.__clocks__=[];c.defs(x,"$__register_clock__",k=function(a,b){null==this.__clocks__&&(this.__clocks__=D);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},k.$$arity=2);x.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});A=!1;if(c.global.performance)A=function(){return performance.now()};else if(c.global.process&&process.hrtime){var l=process.hrtime();A=function(){var a=
process.hrtime(l);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}m(A)&&x.$__register_clock__("CLOCK_MONOTONIC",A);c.defs(x,"$pid",B=function(){return 0},B.$$arity=0);c.defs(x,"$times",M=function(){var c=D,c=y(a,"Time").$now().$to_f();return t(y(a,"Benchmark"),"Tms").$new(c,c,c,c,c)},M.$$arity=0);return(c.defs(x,"$clock_gettime",z=function(c,b){var d,f=D;null==this.__clocks__&&(this.__clocks__=D);null==b&&(b="float_second");m(d=f=this.__clocks__["$[]"](c))?d:this.$raise(t(y(a,"Errno"),"EINVAL"),"clock_gettime("+
c+") "+this.__clocks__["$[]"](c));d=f();switch(b){case "float_second":return d/1E3;case "float_millisecond":return d/1;case "float_microsecond":return 1E3*d;case "second":return d/1E3|0;case "millisecond":return d/1|0;case "microsecond":return 1E3*d|0;case "nanosecond":return 1E6*d|0;default:this.$raise(y(a,"ArgumentError"),"unexpected unit: "+b)}},z.$$arity=-2),D)&&"clock_gettime"})(A[0],null,A);(function(m,$super,y){function v(){}m=v=p(m,$super,"Signal",v);[m].concat(y);var a;return(c.defs(m,"$trap",
a=function(a){return D},a.$$arity=-1),D)&&"trap"})(A[0],null,A);return function(m,$super,y){function v(){}m=v=p(m,$super,"GC",v);[m].concat(y);var a;return(c.defs(m,"$start",a=function(){return D},a.$$arity=0),D)&&"start"}(A[0],null,A)},Opal.modules["corelib/random/seedrandom"]=function(c){var A=[],D=c.klass;return function(c,$super,p){function m(){}[m=D(c,$super,"Random",m)].concat(p);!function(c,m){function p(e,g,l){var A=[];g=1==g?{entropy:!0}:g||{};e=B(k(g.entropy?[e,z(c)]:null==e?M():e,3),A);
var t=new v(A),A=function(){for(var a=t.g(d),c=n,e=0;a<S;)a=(a+e)*b,c*=b,e=t.g(1);for(;a>=r;)a/=2,c/=2,e>>>=1;return(a+e)/c};return A.int32=function(){return 0|t.g(4)},A.quick=function(){return t.g(4)/4294967296},A["double"]=A,B(z(t.S),c),(g.pass||l||function(b,c,d,e){return e&&(e.S&&a(e,t),b.state=function(){return a(t,{})}),d?(m[f]=b,c):b})(A,e,"global"in g?g.global:this==m,g.state)}function v(a){var c,d=a.length,f=this,k=0,g=f.i=f.j=0,l=f.S=[];for(d||(a=[d++]);k<b;)l[k]=k++;for(k=0;k<b;k++)l[k]=
l[g=e&g+a[k%d]+(c=l[k])],l[g]=c;(f.g=function(a){for(var c,d=0,k=f.i,h=f.j,g=f.S;a--;)c=g[k=e&k+1],d=d*b+g[e&(g[k]=g[h=e&h+c])+(g[h]=c)];return f.i=k,f.j=h,d})(b)}function a(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)if(a.hasOwnProperty(c))try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\x00"}function B(a,b){for(var c,d=a+"",f=0;f<d.length;)b[e&f]=e&(c^=19*b[e&f])+d.charCodeAt(f++);return z(b)}function M(){try{if(l)return z(l.randomBytes(b));
var a=new Uint8Array(b);return(g.crypto||g.msCrypto).getRandomValues(a),z(a)}catch(d){return a=g.navigator,[+new Date,g,a&&a.plugins,g.screen,z(c)]}}function z(a){return String.fromCharCode.apply(0,a)}var l,g=this,b=256,d=6,f="random",n=m.pow(b,d),S=m.pow(2,52),r=2*S,e=b-1;if(m["seed"+f]=p,B(m.random(),c),"object"==typeof module&&module.exports){module.exports=p;try{l=require("crypto")}catch(h){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return p})}([],Math)}(A[0],
null,A)},Opal.modules["corelib/random"]=function(c){var A=c.top,D=[],t=c.nil,y=c.const_get_relative,p=c.klass,m=c.truthy,x=c.send;c.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" "));A.$require("corelib/random/seedrandom.js");return function(q,$super,v){function a(){}q=a=p(q,$super,"Random",a);var k=[q].concat(v),B,M,z,l,g,b,d,f,n;q.$attr_reader("seed","state");c.def(q,"$initialize",B=function(a){null==a&&(a=y(k,
"Random").$new_seed());this.state=a=y(k,"Opal")["$coerce_to!"](a,y(k,"Integer"),"to_int");return this.$reseed(a)},B.$$arity=-1);c.def(q,"$reseed",M=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},M.$$arity=1);var S=new Math.seedrandom("opal",{entropy:!0});c.defs(q,"$new_seed",z=function(){return Math.abs(S.int32())},z.$$arity=0);c.defs(q,"$rand",l=function(a){return y(k,"DEFAULT").$rand(a)},l.$$arity=-1);c.defs(q,"$srand",g=function(a){var b=t;null==a&&(a=y(k,"Random").$new_seed());
a=y(k,"Opal")["$coerce_to!"](a,y(k,"Integer"),"to_int");b=y(k,"DEFAULT").$seed();y(k,"DEFAULT").$reseed(a);return b},g.$$arity=-1);c.defs(q,"$urandom",b=function(a){var b;a=y(k,"Opal")["$coerce_to!"](a,y(k,"Integer"),"to_int");m("number"===typeof a?0>a:a["$<"](0))&&this.$raise(y(k,"ArgumentError"),"negative string size (or size too big)");return x(y(k,"Array"),"new",[a],(b=function(){return(b.$$s||this).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},b.$$arity=1);c.const_set(k[0],
"DEFAULT",q.$new(q.$new_seed()));c.def(q,"$==",d=function(a){return m(y(k,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},d.$$arity=1);c.def(q,"$bytes",f=function(a){var b;a=y(k,"Opal")["$coerce_to!"](a,y(k,"Integer"),"to_int");return x(y(k,"Array"),"new",[a],(b=function(){return(b.$$s||this).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},f.$$arity=1);return(c.def(q,"$rand",n=function(a){function b(){d.state++;
return d.$rng.quick()}function c(){var b=a.begin,e=a.end;if(b===t||e===t)return t;var f=e-b;if(0>f)return t;if(0===f)return b;0!==e%1||0!==b%1||a.excl||f++;return d.$rand(f)+b}var d=this;if(null==a)return b();if(a.$$is_range)return c();if(a.$$is_number)return 0>=a&&d.$raise(y(k,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(b()*a):b()*a;a=y(k,"Opal")["$coerce_to!"](a,y(k,"Integer"),"to_int");0>=a&&d.$raise(y(k,"ArgumentError"),"invalid argument - "+a);return Math.floor(b()*a)},n.$$arity=
-1),t)&&"rand"}(D[0],null,D)},Opal.modules["corelib/unsupported"]=function(c){function A(a){switch(c.config.unsupported_features_severity){case "error":x(p,"Kernel").$raise(x(p,"NotImplementedError"),a);break;case "warning":v[a]||(v[a]=!0,y.$warn(a))}}var D,t,y=c.top,p=[],m=c.nil,x=c.const_get_relative,q=c.klass,E=c.module;c.add_stubs(["$raise","$warn","$%"]);var v={};(function(a,$super,B){function M(){}a=M=q(a,$super,"String",M);var z=[a].concat(B),l,g,b,d,f,n,v,r,e,h,u,y,p,A,G,t,T,D,na,J,w,C,U;
c.def(a,"$<<",l=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},l.$$arity=-1);c.def(a,"$capitalize!",g=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},g.$$arity=-1);c.def(a,"$chomp!",b=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},
b.$$arity=-1);c.def(a,"$chop!",d=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},d.$$arity=-1);c.def(a,"$downcase!",f=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},f.$$arity=-1);c.def(a,"$gsub!",n=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},
n.$$arity=-1);c.def(a,"$lstrip!",v=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},v.$$arity=-1);c.def(a,"$next!",r=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},r.$$arity=-1);c.def(a,"$reverse!",e=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
e.$$arity=-1);c.def(a,"$slice!",h=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},h.$$arity=-1);c.def(a,"$squeeze!",u=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},u.$$arity=-1);c.def(a,"$strip!",y=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
y.$$arity=-1);c.def(a,"$sub!",p=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},p.$$arity=-1);c.def(a,"$succ!",A=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},A.$$arity=-1);c.def(a,"$swapcase!",G=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},
G.$$arity=-1);c.def(a,"$tr!",t=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},t.$$arity=-1);c.def(a,"$tr_s!",T=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},T.$$arity=-1);c.def(a,"$upcase!",D=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},
D.$$arity=-1);c.def(a,"$prepend",na=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},na.$$arity=-1);c.def(a,"$[]=",J=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},J.$$arity=-1);c.def(a,"$clear",w=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},
w.$$arity=-1);c.def(a,"$encode!",C=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},C.$$arity=-1);return(c.def(a,"$unicode_normalize!",U=function(a){return this.$raise(x(z,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},U.$$arity=-1),m)&&"unicode_normalize!"})(p[0],null,p);(function(a,k){function m(){}var M=m=E(a,
"Kernel",m);[M].concat(k);var z,l;c.def(M,"$freeze",z=function(){A("Object freezing is not supported by Opal");return this},z.$$arity=0);c.def(M,"$frozen?",l=function(){A("Object freezing is not supported by Opal");return!1},l.$$arity=0)})(p[0],p);(function(a,k){function m(){}var M=m=E(a,"Kernel",m);[M].concat(k);var z,l,g;c.def(M,"$taint",z=function(){A("Object tainting is not supported by Opal");return this},z.$$arity=0);c.def(M,"$untaint",l=function(){A("Object tainting is not supported by Opal");
return this},l.$$arity=0);c.def(M,"$tainted?",g=function(){A("Object tainting is not supported by Opal");return!1},g.$$arity=0)})(p[0],p);(function(a,$super,B){function M(){}a=M=q(a,$super,"Module",M);[a].concat(B);var z,l,g,b;c.def(a,"$public",z=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var g=0;g<c;g++)b[g-0]=arguments[g];0===b.length&&(this.$$module_function=!1);return m},z.$$arity=-1);c.alias(a,"private","public");c.alias(a,"protected","public");c.alias(a,"nesting","public");
c.def(a,"$private_class_method",l=function(a){return this},l.$$arity=-1);c.alias(a,"public_class_method","private_class_method");c.def(a,"$private_method_defined?",g=function(a){return!1},g.$$arity=1);c.def(a,"$private_constant",b=function(a){return m},b.$$arity=-1);c.alias(a,"protected_method_defined?","private_method_defined?");c.alias(a,"public_instance_methods","instance_methods");c.alias(a,"public_instance_method","instance_method");return c.alias(a,"public_method_defined?","method_defined?")})(p[0],
null,p);(function(a,k){function m(){}var M=m=E(a,"Kernel",m);[M].concat(k);var z;c.def(M,"$private_methods",z=function(a){return[]},z.$$arity=-1);c.alias(M,"private_instance_methods","private_methods")})(p[0],p);(function(a,k){function m(){}var M=m=E(a,"Kernel",m),z=[M].concat(k),l;c.def(M,"$eval",l=function(a){return this.$raise(x(z,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+x(z,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},
l.$$arity=-1)})(p[0],p);c.defs(y,"$public",D=function(a){return m},D.$$arity=-1);return(c.defs(y,"$private",t=function(a){return m},t.$$arity=-1),m)&&"private"},function(c){var A=c.top;c.add_stubs(["$require"]);A.$require("opal/base");A.$require("opal/mini");A.$require("corelib/string/encoding");A.$require("corelib/math");A.$require("corelib/complex");A.$require("corelib/rational");A.$require("corelib/time");A.$require("corelib/struct");A.$require("corelib/io");A.$require("corelib/main");A.$require("corelib/dir");
A.$require("corelib/file");A.$require("corelib/process");A.$require("corelib/random");return A.$require("corelib/unsupported")}(Opal));Function.call=functionCall;
(function(c,A){"object"===typeof module&&module.exports?module.exports=A:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(c){return A(c.config())}):c.Asciidoctor=A})(this,function(c){function A(a,c,m){a=Opal.const_get_qualified(v,a);var M=Opal.klass(Opal.Object,a,c,function(){}),z,l,g=!1,b;for(b in m)m.hasOwnProperty(b)&&function(a){var b=m[a];"postConstruct"===a?z=b:"initialize"===a?l=b:("handles?"===a&&(g=!0),Opal.def(M,"$"+a,function(){return b.apply(this,arguments)}))}(b);
var d;d="function"===typeof l?function(){l.apply(this,arguments);"function"===typeof z&&z.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",d));"function"===typeof z&&z.bind(this)()};Opal.def(M,"$initialize",d);Opal.def(M,"super",function(a){"function"===typeof a?Opal.send(this,Opal.find_super_dispatcher(this,a.name,a)):Opal.send(this,Opal.find_super_dispatcher(this,"initialize",d))});g||Opal.def(M,"$handles?",function(){return!0});return M}Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=
function(a){var c=[],m=a.klass;return function(c,$super,k){function g(){}c=g=m(c,$super,"Dir",g);k=[c].concat(k);return function(b,c){[b].concat(c);var f;a.def(b,"$pwd",f=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},f.$$arity=0);return a.alias(b,"getwd","pwd")}(a.get_singleton_class(c),k)}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var c=[],m=a.nil,M=a.klass;return function(c,$super,k){function b(){}c=b=M(c,$super,"File",
b);[c].concat(k);var d;return(a.defs(c,"$read",d=function(a){var b=Java.type("java.nio.file.Paths"),c=[];Java.type("java.nio.file.Files").readAllLines(b.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){c.push(a)});return c.join("\n")},d.$$arity=1),m)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=a.nil,M=a.send,z=a.gvars,l=m;null==z.stdout&&(z.stdout=
m);null==z.stderr&&(z.stderr=m);a.add_stubs(["$write_proc=","$-"]);l=[function(a){print(a)}];M(z.stdout,"write_proc=",a.to_a(l));l[c(l.length,1)];l=[function(a){print(a)}];M(z.stderr,"write_proc=",a.to_a(l));return l[c(l.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=a.nil,M=a.send,z=a.gvars,l=m;null==z.stdout&&(z.stdout=m);null==z.stderr&&(z.stderr=m);a.add_stubs(["$write_proc=","$-"]);
l=[function(a){console.log(a)}];M(z.stdout,"write_proc=",a.to_a(l));l[c(l.length,1)];l=[function(a){console.error(a)}];M(z.stderr,"write_proc=",a.to_a(l));return l[c(l.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var c=[],m=a.nil,M=a.klass;return function(c,$super,k){function b(){}c=b=M(c,$super,"File",b);[c].concat(k);var d;return(a.defs(c,"$read",d=function(a){return require("fs").read(a)},d.$$arity=1),m)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=
function(a){var c=[],m=a.nil,M=a.klass;return function(c,$super,k){function b(){}c=b=M(c,$super,"File",b);[c].concat(k);var d;return(a.defs(c,"$read",d=function(a){return read(a)},d.$$arity=1),m)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var c=[],m=a.nil,M=a.const_get_relative,z=a.klass;a.add_stubs(["$new"]);return function(c,$super,b){function d(){}c=d=z(c,$super,"File",d);var f=[c].concat(b),k;return(a.defs(c,"$read",k=function(a){var b="",c=-1;try{var d=
new XMLHttpRequest;d.open("GET",a,!1);d.addEventListener("load",function(){c=this.status;if(0===c||200===c)b=this.responseText});d.overrideMimeType("text/plain");d.send()}catch(k){throw M(f,"IOError").$new("Error reading file or directory: "+a+"; reason: "+k.message);}if(404===c||0===c&&!b)throw M(f,"IOError").$new("No such file or directory: "+a);return b},k.$$arity=1),m)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var k,m=a.top,M=[],z=a.nil,l=a.const_get_relative,
g=a.truthy;a.add_stubs(["$==","$require"]);var b="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,d="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),f="object"===typeof window,n="object"===typeof Java&&Java.type,v="object"===typeof java,r="object"===typeof window&&"object"===typeof window.phantom,e="function"===typeof importScripts,h="object"===typeof JSRuntime,u,q,y,p;"object"===typeof c&&"object"===
typeof c.runtime&&(p=c.runtime,u=p.platform,q=p.engine,y=p.framework,p=p.ioModule);"undefined"===typeof u&&(b?(u=u||"node",q=q||"v8",d&&(y=y||"electron")):n?(u=u||"java",q=q||"nashorn"):v?(u=u||"java",q=q||"rhino"):h?(u=u||"standalone",y=y||"spidermonkey"):f&&(u=u||"browser",r&&(y=y||"phantomjs")),e&&(y=y||"webworker"));if("undefined"===typeof u)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===
typeof y&&(y="");"undefined"===typeof q&&(q="");if("undefined"!==typeof p){if("spidermonkey"!==p&&"phantomjs"!==p&&"node"!==p&&"java_nio"!==p&&"xmlhttprequest"!==p)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===y)p="spidermonkey";else if("phantomjs"===y)p="phantomjs";else if("node"===u)p="node";else if("nashorn"===q)p="java_nio";else if("browser"===u||"undefined"!==typeof XmlHTTPRequest)p="xmlhttprequest";
else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(M[0],"JAVASCRIPT_IO_MODULE",p);a.const_set(M[0],"JAVASCRIPT_PLATFORM",u);a.const_set(M[0],"JAVASCRIPT_ENGINE",q);a.const_set(M[0],"JAVASCRIPT_FRAMEWORK",y);g(g(k=l(M,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?k:l(M,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(m.$require("asciidoctor/js/opal_ext/nashorn/dir"),m.$require("asciidoctor/js/opal_ext/nashorn/file"),
m.$require("asciidoctor/js/opal_ext/nashorn/io"));l(M,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&m.$require("asciidoctor/js/opal_ext/electron/io");l(M,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");l(M,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&m.$require("asciidoctor/js/opal_ext/phantomjs/file");l(M,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&m.$require("asciidoctor/js/opal_ext/spidermonkey/file");return l(M,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?m.$require("asciidoctor/js/opal_ext/browser/file"):
z};Opal.modules.set=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function M(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var z=[],l=a.nil,g=a.const_get_relative,b=a.klass,d=a.hash2,f=a.truthy,n=a.send,q=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(r,$super,h){function u(){}r=u=b(r,$super,"Set",u);var z=r.prototype,q=[r].concat(h),v,G,p,y,S,A,x,w,C,t,F,Q,ba,la,Z,N,V,L,K,W,D,ga,E,aa,R,ua,ia,ea;z.hash=l;r.$include(g(q,"Enumerable"));a.defs(r,"$[]",v=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$new(b)},v.$$arity=-1);a.def(r,"$initialize",G=function(b){var c,k=G.$$p,h=k||l;null==b&&(b=l);k&&(G.$$p=null);this.hash=d([],{});if(f(b["$nil?"]()))return l;f(g(q,"Enumerable")["$==="](b))||
this.$raise(g(q,"ArgumentError"),"value must be enumerable");return f(h)?n(b,"each",[],(c=function(b){var d=c.$$s||this;null==b&&(b=l);return d.$add(a.yield1(h,b))},c.$$s=this,c.$$arity=1,c)):this.$merge(b)},G.$$arity=-1);a.def(r,"$dup",p=function(){var a=l,a=this.$class().$new();return a.$merge(this)},p.$$arity=0);a.def(r,"$-",y=function(a){f(a["$respond_to?"]("each"))||this.$raise(g(q,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},y.$$arity=1);a.alias(r,"difference",
"-");a.def(r,"$inspect",S=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},S.$$arity=0);a.def(r,"$==",A=function(a){var b,c;return f(this["$equal?"](a))?!0:f(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):f(f(b=a["$is_a?"](g(q,"Set")))?this.$size()["$=="](a.$size()):b)?n(a,"all?",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=l);null==a&&(a=l);return b.hash["$include?"](a)},c.$$s=this,c.$$arity=1,c)):!1},A.$$arity=1);a.def(r,"$add",x=function(b){var d=
l,d=[b,!0];n(this.hash,"[]=",a.to_a(d));d[c(d.length,1)];return this},x.$$arity=1);a.alias(r,"<<","add");a.def(r,"$classify",w=function(){var b,d,f=w.$$p,h=f||l,m=l;f&&(w.$$p=null);if(h===l)return this.$enum_for("classify");m=n(g(q,"Hash"),"new",[],(b=function(d,f){var h=b.$$s||this,g=l;null==d&&(d=l);null==f&&(f=l);g=[f,h.$class().$new()];n(d,"[]=",a.to_a(g));return g[c(g.length,1)]},b.$$s=this,b.$$arity=2,b));n(this,"each",[],(d=function(b){null==b&&(b=l);return m["$[]"](a.yield1(h,b)).$add(b)},
d.$$s=this,d.$$arity=1,d));return m},w.$$arity=0);a.def(r,"$collect!",C=function(){var b,c=C.$$p,d=c||l,f=l;c&&(C.$$p=null);if(d===l)return this.$enum_for("collect!");f=this.$class().$new();n(this,"each",[],(b=function(b){null==b&&(b=l);return f["$<<"](a.yield1(d,b))},b.$$s=this,b.$$arity=1,b));return this.$replace(f)},C.$$arity=0);a.alias(r,"map!","collect!");a.def(r,"$delete",t=function(a){this.hash.$delete(a);return this},t.$$arity=1);a.def(r,"$delete?",F=function(a){return f(this["$include?"](a))?
(this.$delete(a),this):l},F.$$arity=1);a.def(r,"$delete_if",Q=function(){var b,c,d=Q.$$p,f=d||l;d&&(Q.$$p=null);if(f===l)return this.$enum_for("delete_if");n(n(this,"select",[],(b=function(b){null==b&&(b=l);return a.yield1(f,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=l);null==a&&(a=l);return b.hash.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},Q.$$arity=0);a.def(r,"$add?",ba=function(a){return f(this["$include?"](a))?l:this.$add(a)},ba.$$arity=
1);a.def(r,"$each",la=function(){var a=la.$$p,b=a||l;a&&(la.$$p=null);if(b===l)return this.$enum_for("each");n(this.hash,"each_key",[],b.$to_proc());return this},la.$$arity=0);a.def(r,"$empty?",Z=function(){return this.hash["$empty?"]()},Z.$$arity=0);a.def(r,"$eql?",N=function(a){var b;return this.hash["$eql?"](n(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=l);return a.hash},b.$$s=this,b.$$arity=0,b)))},N.$$arity=1);a.def(r,"$clear",V=function(){this.hash.$clear();return this},
V.$$arity=0);a.def(r,"$include?",L=function(a){return this.hash["$include?"](a)},L.$$arity=1);a.alias(r,"member?","include?");a.def(r,"$merge",K=function(a){var b;n(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=l);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},K.$$arity=1);a.def(r,"$replace",W=function(a){this.$clear();this.$merge(a);return this},W.$$arity=1);a.def(r,"$size",D=function(){return this.hash.$size()},D.$$arity=0);a.alias(r,"length","size");a.def(r,"$subtract",ga=
function(a){var b;n(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=l);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},ga.$$arity=1);a.def(r,"$|",E=function(a){f(a["$respond_to?"]("each"))||this.$raise(g(q,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},E.$$arity=1);a.def(r,"$superset?",aa=function(a){var b,c;f(b=a["$is_a?"](g(q,"Set")))?b:this.$raise(g(q,"ArgumentError"),"value must be a set");return f(m(this.$size(),a.$size()))?!1:n(a,"all?",[],(c=
function(a){var b=c.$$s||this;null==a&&(a=l);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},aa.$$arity=1);a.alias(r,">=","superset?");a.def(r,"$proper_superset?",R=function(a){var b,c;f(b=a["$is_a?"](g(q,"Set")))?b:this.$raise(g(q,"ArgumentError"),"value must be a set");return f(M(this.$size(),a.$size()))?!1:n(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=l);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},R.$$arity=1);a.alias(r,">","proper_superset?");a.def(r,"$subset?",ua=
function(a){var b,c;f(b=a["$is_a?"](g(q,"Set")))?b:this.$raise(g(q,"ArgumentError"),"value must be a set");return f(m(a.$size(),this.$size()))?!1:n(this,"all?",[],(c=function(b){null==b&&(b=l);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},ua.$$arity=1);a.alias(r,"<=","subset?");a.def(r,"$proper_subset?",ia=function(a){var b,c;f(b=a["$is_a?"](g(q,"Set")))?b:this.$raise(g(q,"ArgumentError"),"value must be a set");return f(M(a.$size(),this.$size()))?!1:n(this,"all?",[],(c=function(b){null==b&&
(b=l);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},ia.$$arity=1);a.alias(r,"<","proper_subset?");a.alias(r,"+","|");a.alias(r,"union","|");return(a.def(r,"$to_a",ea=function(){return this.hash.$keys()},ea.$$arity=0),l)&&"to_a"})(z[0],null,z);return function(b,c){function d(){}var f=d=q(b,"Enumerable",d),k=[f].concat(c),m;a.def(f,"$to_set",m=function(b,c){var d,e=m.$$p,f=e||l;null==b&&(b=g(k,"Set"));var h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var r=1;r<h;r++)d[r-1]=arguments[r];
e&&(m.$$p=null);return n(b,"new",[this].concat(a.to_a(d)),f.$to_proc())},m.$$arity=-1)}(z[0],z)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var c=[],m=a.nil,q=a.const_get_relative,z=a.module,l=a.send,g=a.klass,b=a.truthy,d=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,c){function d(){}var k=d=z(b,"Kernel",d),e=[k].concat(c),h;a.def(k,"$open",h=function(b,c){var d,f=h.$$p,k=f||m,g=m,g=arguments.length;
d=g-1;0>d&&(d=0);d=Array(d);for(var n=1;n<g;n++)d[n-1]=arguments[n];f&&(h.$$p=null);g=l(q(e,"File"),"new",[b].concat(a.to_a(d)));return k!==m?a.yield1(k,g):g},h.$$arity=-2)})(c[0],c);(function(c,$super,k){function l(){}c=l=g(c,$super,"File",l);var e=c.prototype,h=[c].concat(k),u,z,v,p;e.eof=e.path=m;c.$attr_reader("eof");c.$attr_reader("lineno");c.$attr_reader("path");a.def(c,"$initialize",u=function(a,b){var c=m;null==b&&(b="r");this.path=a;this.contents=m;this.eof=!1;this.lineno=0;b=b.$delete("b");
c=/:(.*)/;return this.flags=b=b.$gsub(c,"")},u.$$arity=-2);a.def(c,"$read",z=function(){var a=m;if(b(this.eof))return"";a=q(h,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},z.$$arity=0);a.def(c,"$each_line",v=function(c){var e=v.$$p,f=e||m,k=m;null==d["/"]&&(d["/"]=m);null==c&&(c=d["/"]);e&&(v.$$p=null);if(b(this.eof))return f!==m?this:[].$to_enum();if(f!==m){k=q(h,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var e=k.$chomp(),k=k.length!=e.length,e=e.split(c),g=0,l=
e.length;g<l;g++)this.lineno+=1,g<l-1||k?a.yield1(f,e[g]+c):a.yield1(f,e[g]);this.eof=!0;return this}return this.$read().$each_line()},v.$$arity=-1);a.def(c,"$readlines",p=function(){return q(h,"File").$readlines(this.path)},p.$$arity=0);return function(b,c){var e=[b].concat(c),f,k,h,g;a.def(b,"$readlines",f=function(a,b){var c=m;null==d["/"]&&(d["/"]=m);null==b&&(b=d["/"]);c=q(e,"File").$read(a);return c.$split(b)},f.$$arity=-2);a.def(b,"$file?",k=function(a){return!0},k.$$arity=1);a.def(b,"$readable?",
h=function(a){return!0},h.$$arity=1);return(a.def(b,"$read",g=function(a){return""},g.$$arity=1),m)&&"read"}(a.get_singleton_class(c),h)})(c[0],null,c);return function(b,$super,c){function d(){}b=d=g(b,$super,"IO",d);var e=[b].concat(c),k;return(a.defs(b,"$read",k=function(a){return q(e,"File").$read(a)},k.$$arity=1),m)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var c=[],m=a.nil,q=a.klass,z=a.send;a.add_stubs(["$[]=","$-"]);return function(c,$super,b){function d(){}
c=d=q(c,$super,"MatchData",d);var f=c.prototype;[c].concat(b);var k;f.matches=m;return(a.def(c,"$[]=",k=function(b,c){var d=m,d=[b,c];z(this.matches,"[]=",a.to_a(d));var f=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1);return f[d]},k.$$arity=2),m)&&"[]="}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var c=[],m=a.module;return function(c,k){function l(){}var g=l=m(c,"Kernel",l);[g].concat(k);var b;a.def(g,"$freeze",b=function(){return this},b.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=
function(a){var c=[],m=a.nil,q=a.const_get_qualified,z=a.module,l=a.klass;return function(a,b){function c(){}var f=[c=z(a,"ThreadSafe",c)].concat(b);(function(a,$super,b){function c(){}[c=l(a,$super,"Cache",c)].concat(b);return m})(f[0],q("::","Hash"),f)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var c=[],m=a.nil,q=a.klass,z=a.truthy,l=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));
return function(c,$super,d){function f(){}c=f=q(c,$super,"String",f);[c].concat(d);var k,v;z(c["$method_defined?"]("limit_bytesize"))||a.def(c,"$limit_bytesize",k=function(a){var c=m,c=this.$bytes().$length(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!z(c))return this.$to_s();c=this.$byteslice(0,a);return c.$to_s()},k.$$arity=1);z(c["$method_defined?"]("limit"))||a.alias(c,"limit","limit_bytesize");a.alias(c,"_original_unpack","unpack");return(a.def(c,"$unpack",v=function(a){var c;
return a["$=="]("C3")?l(this["$[]"](0,3).$bytes().$select(),"with_index",[],(c=function(a,c){null==c&&(c=m);return c["$even?"]()},c.$$s=this,c.$$arity=2,c)):this.$_original_unpack(a)},v.$$arity=1),m)&&"unpack"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var c=[],m=a.const_get_relative,q=a.module;a.add_stubs(["$extend"]);return function(c,k){function g(){}var b=g=q(c,"URI",g),d=[b].concat(k),f,n;a.defs(b,"$parse",f=function(a){return a.$extend(m(d,"URI"))},f.$$arity=1);a.def(b,
"$path",n=function(){return this},n.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext/file");c.$require("asciidoctor/js/opal_ext/match_data");c.$require("asciidoctor/js/opal_ext/kernel");c.$require("asciidoctor/js/opal_ext/thread_safe");c.$require("asciidoctor/js/opal_ext/string");c.$require("asciidoctor/js/opal_ext/uri");c.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=[],q=a.nil,z=a.const_get_relative,l=a.module,g=a.send,b=a.gvars,d=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(f,m){function B(){}var r=B=l(f,"Asciidoctor",B),e=[r].concat(m),h;a.const_set(e[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(r,"$unpack_hex_range",h=function(a){var c;return g(a,"gsub",[z(e,"HEX_RANGE_RX")],(c=function(){var a,c;return"\\u"+((a=b["~"])===q?q:a["$[]"](1))+(d(a=
(c=b["~"])===q?q:c["$[]"](2))?"-\\u"+((c=b["~"])===q?q:c["$[]"](2)):a)},c.$$s=this,c.$$arity=0,c))},h.$$arity=1);a.const_set(e[0],"P_L",c("A-Za-z",r.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(e[0],"P_Nl",r.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(e[0],"P_Nd",c("0-9",r.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(e[0],
"P_Pc",r.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(e[0],"CC_ALPHA",""+z(e,"P_L")+z(e,"P_Nl"));a.const_set(e[0],"CG_ALPHA","["+z(e,"CC_ALPHA")+"]");a.const_set(e[0],"CC_ALNUM",""+z(e,"CC_ALPHA")+z(e,"P_Nd"));a.const_set(e[0],"CG_ALNUM","["+z(e,"CC_ALNUM")+"]");a.const_set(e[0],"CC_WORD",""+z(e,"CC_ALNUM")+z(e,"P_Pc"));a.const_set(e[0],"CG_WORD","["+z(e,"CC_WORD")+"]");a.const_set(e[0],"CG_BLANK","[ \\t]");a.const_set(e[0],"CC_EOL","(?=\\n|$)");a.const_set(e[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(e[0],"CC_ALL","[\\s\\S]")}(m[0],m)};Opal.modules.strscan=function(a){var c=[],m=a.nil,q=a.klass,z=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(c,$super,b){function d(){}c=d=q(c,$super,"StringScanner",d);var f=c.prototype;[c].concat(b);var k,v,r,e,h,u,p,y,A,G,x,t,D,na,J,w,C,U,F,Q,ba,la,Z,N,V;f.pos=f.string=f.working=f.matched=f.prev_pos=f.match=m;c.$attr_reader("pos");c.$attr_reader("matched");
a.def(c,"$initialize",k=function(a){this.string=a;this.pos=0;this.matched=m;this.working=a;return this.match=[]},k.$$arity=1);c.$attr_reader("string");a.def(c,"$beginning_of_line?",v=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},v.$$arity=0);a.alias(c,"bol?","beginning_of_line?");a.def(c,"$scan",r=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),
this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):m},r.$$arity=1);a.def(c,"$scan_until",e=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,d;;)if(d=a.exec(c),b+=1,c=c.substr(1),null==d){if(0===c.length)return this.matched=m}else return this.matched=this.string.substr(this.pos,b-this.pos-1+d[0].length),this.prev_pos=b-1,this.pos=b,this.working=c.substr(d[0].length),this.matched},e.$$arity=1);a.def(c,"$[]",h=
function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?m:b[a]},h.$$arity=1);a.def(c,"$check",u=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:this.matched=a[0]},u.$$arity=1);a.def(c,"$check_until",p=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==m&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=c;return a},p.$$arity=1);a.def(c,"$peek",y=function(a){return this.working.substring(0,
a)},y.$$arity=1);a.def(c,"$eos?",A=function(){return 0===this.working.length},A.$$arity=0);a.def(c,"$exist?",G=function(a){a=a.exec(this.working);return null==a?m:0==a.index?0:a.index+1},G.$$arity=1);a.def(c,"$skip",x=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=m;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b},x.$$arity=1);a.def(c,"$skip_until",t=function(a){a=this.$scan_until(a);if(a===
m)return m;this.matched=a.substr(-1);return a.length},t.$$arity=1);a.def(c,"$get_byte",D=function(){var a=m;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=m;return a},D.$$arity=0);a.alias(c,"getch","get_byte");a.def(c,"$match?",na=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return m;this.prev_pos=this.pos;return a[0].length},na.$$arity=1);a.def(c,"$pos=",J=function(a){0>
a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},J.$$arity=1);a.def(c,"$matched_size",w=function(){return this.matched===m?m:this.matched.length},w.$$arity=0);a.def(c,"$post_match",C=function(){return this.matched===m?m:this.string.substr(this.pos)},C.$$arity=0);a.def(c,"$pre_match",U=function(){return this.matched===m?m:this.string.substr(0,this.prev_pos)},U.$$arity=0);a.def(c,"$reset",F=function(){this.working=this.string;this.matched=m;return this.pos=0},F.$$arity=
0);a.def(c,"$rest",Q=function(){return this.working},Q.$$arity=0);a.def(c,"$rest?",ba=function(){return 0!==this.working.length},ba.$$arity=0);a.def(c,"$rest_size",la=function(){return this.$rest().$size()},la.$$arity=0);a.def(c,"$terminate",Z=function(){var b=m;this.match=m;b=[this.string.$length()];z(this,"pos=",a.to_a(b));var c=b,b=b.length,b="number"===typeof b?b-1:b["$-"](1);return c[b]},Z.$$arity=0);a.def(c,"$unscan",N=function(){this.pos=this.prev_pos;this.match=this.prev_pos=m;return this},
N.$$arity=0);c.$private();return(a.def(c,"$anchor",V=function(a){var b=a.toString().match(/\/([^\/]+)$/),b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},V.$$arity=1),m)&&"anchor"}(c[0],null,c)};Opal.modules["asciidoctor/js"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext");c.$require("asciidoctor/js/rx");return c.$require("strscan")};Opal.modules.logger=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var m=
[],q=a.nil,z=a.const_get_qualified,l=a.const_get_relative,g=a.klass,b=a.module,d=a.send,f=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));return function(m,$super,r){function e(){}m=e=g(m,$super,"Logger",e);var h=m.prototype,u=[m].concat(r),B,v,p,G,y,A,x,t,J,w,C,U,F,Q,ba;h.level=
h.progname=h.pipe=h.formatter=q;(function(c,d){function e(){}var f=[e=b(c,"Severity",e)].concat(d);a.const_set(f[0],"DEBUG",0);a.const_set(f[0],"INFO",1);a.const_set(f[0],"WARN",2);a.const_set(f[0],"ERROR",3);a.const_set(f[0],"FATAL",4);a.const_set(f[0],"UNKNOWN",5)})(u[0],u);m.$include(l(u,"Severity"));a.const_set(u[0],"SEVERITY_LABELS",d(l(u,"Severity").$constants(),"map",[],(B=function(a){null==a&&(a=q);return[l(u,"Severity").$const_get(a),a.$to_s()]},B.$$s=m,B.$$arity=1,B)).$to_h());(function(b,
$super,c){function d(){}b=d=g(b,$super,"Formatter",d);var e=[b].concat(c),k,h;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",k=function(a,b,c,d){return this.$format(l(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(l(e,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(d))},k.$$arity=4);return(a.def(b,"$message_as_string",h=function(a){var b,c=q;return function(){c=a;if(z("::","String")["$==="](c))return a;if(z("::",
"Exception")["$==="](c)){var d=""+a.$message()+" ("+a.$class()+")\n",e=(f(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof d&&"number"===typeof e?d+e:d["$+"](e)}return a.$inspect()}()},h.$$arity=1),q)&&"message_as_string"})(u[0],null,u);m.$attr_reader("level");m.$attr_accessor("progname");m.$attr_accessor("formatter");a.def(m,"$initialize",v=function(a){this.pipe=a;this.level=l(u,"DEBUG");return this.formatter=l(u,"Formatter").$new()},v.$$arity=1);a.def(m,"$level=",p=function(a){var b=
q;return f(z("::","Integer")["$==="](a))?this.level=a:f(b=l(u,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(l(u,"ArgumentError"),"invalid log level: "+a)},p.$$arity=1);a.def(m,"$info",G=function(a){var b=G.$$p,c=b||q;null==a&&(a=q);b&&(G.$$p=null);return d(this,"add",[l(u,"INFO"),q,a],c.$to_proc())},G.$$arity=-1);a.def(m,"$debug",y=function(a){var b=y.$$p,c=b||q;null==a&&(a=q);b&&(y.$$p=null);return d(this,"add",[l(u,"DEBUG"),q,a],c.$to_proc())},y.$$arity=-1);a.def(m,"$warn",
A=function(a){var b=A.$$p,c=b||q;null==a&&(a=q);b&&(A.$$p=null);return d(this,"add",[l(u,"WARN"),q,a],c.$to_proc())},A.$$arity=-1);a.def(m,"$error",x=function(a){var b=x.$$p,c=b||q;null==a&&(a=q);b&&(x.$$p=null);return d(this,"add",[l(u,"ERROR"),q,a],c.$to_proc())},x.$$arity=-1);a.def(m,"$fatal",t=function(a){var b=t.$$p,c=b||q;null==a&&(a=q);b&&(t.$$p=null);return d(this,"add",[l(u,"FATAL"),q,a],c.$to_proc())},t.$$arity=-1);a.def(m,"$unknown",J=function(a){var b=J.$$p,c=b||q;null==a&&(a=q);b&&(J.$$p=
null);return d(this,"add",[l(u,"UNKNOWN"),q,a],c.$to_proc())},J.$$arity=-1);a.def(m,"$info?",w=function(){return c(this.level,l(u,"INFO"))},w.$$arity=0);a.def(m,"$debug?",C=function(){return c(this.level,l(u,"DEBUG"))},C.$$arity=0);a.def(m,"$warn?",U=function(){return c(this.level,l(u,"WARN"))},U.$$arity=0);a.def(m,"$error?",F=function(){return c(this.level,l(u,"ERROR"))},F.$$arity=0);a.def(m,"$fatal?",Q=function(){return c(this.level,l(u,"FATAL"))},Q.$$arity=0);return(a.def(m,"$add",ba=function(b,
c,d){var e,k=ba.$$p,h=k||q;null==c&&(c=q);null==d&&(d=q);k&&(ba.$$p=null);var k=b=f(e=b)?e:l(u,"UNKNOWN"),g=this.level,k="number"===typeof k&&"number"===typeof g?k<g:k["$<"](g);if(f(k))return!0;d=f(e=d)?e:this.progname;f(c)||(h!==q?c=a.yieldX(h,[]):(c=d,d=this.progname));this.pipe.$write(this.formatter.$call(f(e=l(u,"SEVERITY_LABELS")["$[]"](b))?e:"ANY",z("::","Time").$now(),d,c));return!0},ba.$$arity=-2),q)&&"add"}(m[0],null,m)};Opal.modules["asciidoctor/logging"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var q=a.top,z=[],l=a.nil,g=a.const_get_qualified,b=a.const_get_relative,d=a.module,f=a.klass,n=a.send,v=a.truthy,r=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $map $constants $const_get $to_sym $<< $clear $empty? $max $attr_accessor $memoize_logger $private $alias_method $== $define_method $extend $logger $merge".split(" "));
q.$require("logger");return function(h,u){function z(){}var q=[z=d(h,"Asciidoctor",z)].concat(u);(function(e,$super,h){function u(){}e=u=f(e,$super,"Logger",u);var z=e.prototype,q=[e].concat(h),p,w;z.max_severity=l;e.$attr_reader("max_severity");a.def(e,"$initialize",p=function(d){var e,f=p.$$p,h=l,g=e=h=l,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(g=0;g<h;g++)e[g-0]=arguments[g];f&&(p.$$p=null);e=0;g=arguments.length;for(h=Array(g);e<g;e++)h[e]=arguments[e];n(this,a.find_super_dispatcher(this,
"initialize",p,!1),h,f);h=["asciidoctor"];n(this,"progname=",a.to_a(h));h[c(h.length,1)];h=[b(q,"BasicFormatter").$new()];n(this,"formatter=",a.to_a(h));h[c(h.length,1)];h=[b(q,"WARN")];n(this,"level=",a.to_a(h));return h[c(h.length,1)]},p.$$arity=-1);a.def(e,"$add",w=function(c,d,e){var f,k=w.$$p,h=l,g=l,r=l;null==d&&(d=l);null==e&&(e=l);k&&(w.$$p=null);g=0;r=arguments.length;for(h=Array(r);g<r;g++)h[g]=arguments[g];v(m(c=v(f=c)?f:b(q,"UNKNOWN"),this.max_severity=v(f=this.max_severity)?f:c))&&(this.max_severity=
c);return n(this,a.find_super_dispatcher(this,"add",w,!1),h,k)},w.$$arity=-2);(function(c,$super,d){function e(){}c=e=f(c,$super,"BasicFormatter",e);var k=[c].concat(d),h;a.const_set(k[0],"SEVERITY_LABELS",r(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(c,"$call",h=function(a,c,d,e){var f;return""+d+": "+(v(f=b(k,"SEVERITY_LABELS")["$[]"](a))?f:a)+": "+(v(g("::","String")["$==="](e))?e:e.$inspect())+"\n"},h.$$arity=4),l)&&"call"})(q[0],b(q,"Formatter"),q);return function(b,c){function e(){}
var f=e=d(b,"AutoFormattingMessage",e);[f].concat(c);var k;a.def(f,"$inspect",k=function(){var a=l;return v(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},k.$$arity=0)}(q[0],q)})(q[0],g("::","Logger"),q);(function(d,$super,e){function h(){}d=h=f(d,$super,"MemoryLogger",h);var m=d.prototype,u=[d].concat(e),z,w,B,q,p,y;m.messages=l;a.const_set(u[0],"SEVERITY_LABELS",g("::","Hash")["$[]"](n(b(u,"Severity").$constants(),"map",[],(z=function(a){null==a&&(a=l);return[b(u,
"Severity").$const_get(a),a.$to_sym()]},z.$$s=d,z.$$arity=1,z))));d.$attr_reader("messages");a.def(d,"$initialize",w=function(){var d=l,d=[b(u,"WARN")];n(this,"level=",a.to_a(d));d[c(d.length,1)];return this.messages=[]},w.$$arity=0);a.def(d,"$add",B=function(c,d,e){var f=B.$$p,k=f||l;null==d&&(d=l);null==e&&(e=l);f&&(B.$$p=null);v(d)||(d=k!==l?a.yieldX(k,[]):e);this.messages["$<<"](r(["severity","message"],{severity:b(u,"SEVERITY_LABELS")["$[]"](v(c)?c:b(u,"UNKNOWN")),message:d}));return!0},B.$$arity=
-2);a.def(d,"$clear",q=function(){return this.messages.$clear()},q.$$arity=0);a.def(d,"$empty?",p=function(){return this.messages["$empty?"]()},p.$$arity=0);return(a.def(d,"$max_severity",y=function(){var a;return v(this["$empty?"]())?l:n(this.messages,"map",[],(a=function(a){null==a&&(a=l);return b(u,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},y.$$arity=0),l)&&"max_severity"})(q[0],g("::","Logger"),q);(function(c,$super,d){function e(){}c=e=f(c,$super,"NullLogger",
e);var k=c.prototype,h=[c].concat(d),g,r;k.max_severity=l;c.$attr_reader("max_severity");a.def(c,"$initialize",g=function(){return l},g.$$arity=0);return(a.def(c,"$add",r=function(a,c,d){var e;v(m(a=v(e=a)?e:b(h,"UNKNOWN"),this.max_severity=v(e=this.max_severity)?e:a))&&(this.max_severity=a);return!0},r.$$arity=-2),l)&&"add"})(q[0],g("::","Logger"),q);(function(c,f){function k(){}var h=k=d(c,"LoggerManager",k),g=[h].concat(f);h.logger_class=b(g,"Logger");(function(c,d){var f=[c].concat(d),k,h,g;c.$attr_accessor("logger_class");
a.def(c,"$logger",k=function(a){var b;null==this.logger&&(this.logger=l);null==this.logger_class&&(this.logger_class=l);null==e.stderr&&(e.stderr=l);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=v(b=this.logger)?b:this.logger_class.$new(a)},k.$$arity=-1);a.def(c,"$logger=",h=function(a){null==this.logger_class&&(this.logger_class=l);null==e.stderr&&(e.stderr=l);return this.logger=v(a)?a:this.logger_class.$new(e.stderr)},h.$$arity=1);c.$private();return(a.def(c,"$memoize_logger",
g=function(){return function(a,c){var d=[a].concat(c),e;a.$alias_method("logger","logger");return b(d,"RUBY_ENGINE")["$=="]("opal")?n(a,"define_method",["logger"],(e=function(){var a=e.$$s||this;null==a.logger&&(a.logger=l);return a.logger},e.$$s=a,e.$$arity=0,e)):l}(a.get_singleton_class(this),f)},g.$$arity=0),l)&&"memoize_logger"})(a.get_singleton_class(h),g)})(q[0],q);(function(c,e){function f(){}var k=f=d(c,"Logging",f),h=[k].concat(e),l,m,n;a.defs(k,"$included",l=function(a){return a.$extend(b(h,
"Logging"))},l.$$arity=1);k.$private();a.def(k,"$logger",m=function(){return b(h,"LoggerManager").$logger()},m.$$arity=0);a.def(k,"$message_with_context",n=function(a,c){null==c&&(c=r([],{}));return r(["text"],{text:a}).$merge(c).$extend(g(b(h,"Logger"),"AutoFormattingMessage"))},n.$$arity=-2)})(q[0],q)}(z[0],z)};Opal.modules["asciidoctor/timings"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=[],q=a.nil,z=a.const_get_qualified,l=a.const_get_relative,
g=a.module,b=a.klass,d=a.hash2,f=a.send,n=a.truthy,v=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $const_defined? $respond_to? $clock_gettime".split(" "));return function(m,e){function h(){}var u=[h=g(m,"Asciidoctor",h)].concat(e);(function(e,$super,h){function g(){}e=g=b(e,$super,"Timings",g);var m=e.prototype,r=[e].concat(h),u,B,p,w,y,A,F,x,t,D,Z,N,V,L,K;m.timers=m.log=q;a.def(e,"$initialize",u=function(){this.log=d([],
{});return this.timers=d([],{})},u.$$arity=0);a.def(e,"$start",B=function(b){var d=q,d=[b,this.$now()];f(this.timers,"[]=",a.to_a(d));return d[c(d.length,1)]},B.$$arity=1);a.def(e,"$record",p=function(b){var d=q,d=[b,c(this.$now(),this.timers.$delete(b))];f(this.log,"[]=",a.to_a(d));return d[c(d.length,1)]},p.$$arity=1);a.def(e,"$time",w=function(a){var b,c,d=q,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=f(c,"reduce",[0],(b=function(a,c){var d=b.$$s||this,
e;null==d.log&&(d.log=q);null==a&&(a=q);null==c&&(c=q);d=n(e=d.log["$[]"](c))?e:0;return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)},b.$$s=this,b.$$arity=2,b));return n("number"===typeof d?0<d:d["$>"](0))?d:q},w.$$arity=-1);a.def(e,"$read",y=function(){return this.$time("read")},y.$$arity=0);a.def(e,"$parse",A=function(){return this.$time("parse")},A.$$arity=0);a.def(e,"$read_parse",F=function(){return this.$time("read","parse")},F.$$arity=0);a.def(e,"$convert",x=function(){return this.$time("convert")},
x.$$arity=0);a.def(e,"$read_parse_convert",t=function(){return this.$time("read","parse","convert")},t.$$arity=0);a.def(e,"$write",D=function(){return this.$time("write")},D.$$arity=0);a.def(e,"$total",Z=function(){return this.$time("read","parse","convert","write")},Z.$$arity=0);a.def(e,"$print_report",N=function(a,b){null==v.stdout&&(v.stdout=q);null==a&&(a=v.stdout);null==b&&(b=q);n(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));
a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},N.$$arity=-1);return n(n(V=z("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?z("::","Process")["$respond_to?"]("clock_gettime"):V)?(a.const_set(r[0],"CLOCK_ID",z(z("::","Process"),"CLOCK_MONOTONIC")),(a.def(e,"$now",L=function(){return z("::","Process").$clock_gettime(l(r,"CLOCK_ID"))},L.$$arity=0),q)&&
"now"):(a.def(e,"$now",K=function(){return z("::","Time").$now()},K.$$arity=0),q)&&"now"})(u[0],null,u)}(m[0],m)};Opal.modules["asciidoctor/version"]=function(a){var c=[],m=a.module;return function(c,k){function l(){}var g=[l=m(c,"Asciidoctor",l)].concat(k);a.const_set(g[0],"VERSION","1.5.7.1")}(c[0],c)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var c=[],m=a.nil,q=a.klass,z=a.truthy;a.add_stubs(["$method_defined?"]);(function(c,$super,b){function d(){}c=d=q(c,$super,"NilClass",
d);[c].concat(b);return z(c["$method_defined?"]("nil_or_empty?"))?m:a.alias(c,"nil_or_empty?","nil?")})(c[0],null,c);(function(c,$super,b){function d(){}c=d=q(c,$super,"String",d);[c].concat(b);return z(c["$method_defined?"]("nil_or_empty?"))?m:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);(function(c,$super,b){function d(){}c=d=q(c,$super,"Array",d);[c].concat(b);return z(c["$method_defined?"]("nil_or_empty?"))?m:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);(function(c,$super,b){function d(){}
c=d=q(c,$super,"Hash",d);[c].concat(b);return z(c["$method_defined?"]("nil_or_empty?"))?m:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);return function(c,$super,b){function d(){}c=d=q(c,$super,"Numeric",d);[c].concat(b);return z(c["$method_defined?"]("nil_or_empty?"))?m:a.alias(c,"nil_or_empty?","nil?")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var c=[],m=a.nil,q=a.klass,z=a.truthy;a.add_stubs(["$method_defined?"]);return function(c,$super,b){function d(){}
c=d=q(c,$super,"Regexp",d);[c].concat(b);return z(c["$method_defined?"]("match?"))?m:a.alias(c,"match?","===")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var c=[],m=a.nil,q=a.const_get_qualified,z=a.klass,l=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(c,$super,d){function f(){}c=f=z(c,$super,"String",f);[c].concat(d);var k;return l(c["$method_defined?"]("limit_bytesize"))?
m:(a.def(c,"$limit_bytesize",k=function(a){var c=m,c=this.$bytesize(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!l(c))return this;for(;!l((c=this.$byteslice(0,a)).$force_encoding(q(q("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a="number"===typeof a?a-1:a["$-"](1);return c},k.$$arity=1),m)&&"limit_bytesize"}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/1.8.7/io/binread"]=function(a){var c,m=[],q=a.nil,z=a.const_get_relative,l=a.truthy,g=a.send;a.add_stubs(["$respond_to?",
"$open","$==","$seek","$read"]);return l(z(m,"IO")["$respond_to?"]("binread"))?q:(a.defs(z(m,"IO"),"$binread",c=function(a,c,f){var k;null==c&&(c=q);null==f&&(f=0);return g(z(m,"File"),"open",[a,"rb"],(k=function(a){null==a&&(a=q);f["$=="](0)||a.$seek(f);return l(c)?a.$read(c):a.$read()},k.$$s=this,k.$$arity=1,k))},c.$$arity=-2),q)&&"binread"};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var c,m=[],q=a.nil,z=a.const_get_relative,l=a.truthy,g=a.send;a.add_stubs(["$respond_to?","$open",
"$write"]);return l(z(m,"IO")["$respond_to?"]("write"))?q:(a.defs(z(m,"IO"),"$write",c=function(a,c,f,k){var l;null==f&&(f=0);null==k&&(k=q);return g(z(m,"File"),"open",[a,"w"],(l=function(a){null==a&&(a=q);return a.$write(c)},l.$$s=this,l.$$arity=1,l))},c.$$arity=-3),q)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var c=a.top,m=[],q=a.nil,z=a.const_get_relative,l=a.truthy;a.add_stubs(["$require","$==","$!="]);c.$require("asciidoctor/core_ext/nil_or_empty");c.$require("asciidoctor/core_ext/regexp/is_match");
if(l(z(m,"RUBY_MIN_VERSION_1_9")))return c.$require("asciidoctor/core_ext/string/limit_bytesize"),z(m,"RUBY_ENGINE")["$=="]("opal")?(c.$require("asciidoctor/core_ext/1.8.7/io/binread"),c.$require("asciidoctor/core_ext/1.8.7/io/write")):q;l(z(m,"RUBY_ENGINE")["$!="]("opal"));return q};Opal.modules["asciidoctor/helpers"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=[],q=a.nil,z=a.const_get_qualified,l=a.const_get_relative,g=a.module,b=a.truthy,d=a.send,
f=a.range,n=a.gvars,v=a.hash2;a.add_stubs("$require $include? $include $== $=== $raise $warn $logger $chomp $message $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $mkdir_p $mkdir $divmod $*".split(" "));return function(m,e){function h(){}var u=[h=g(m,"Asciidoctor",h)].concat(e);(function(e,
h){function m(){}var r=m=g(e,"Helpers",m),u=[r].concat(h),B,p,y,A,w,C,x,F,t,D,E;a.defs(r,"$require_library",B=function(c,d,e){var f=q,k=q;null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(c)}catch(h){if(a.rescue(h,[z("::","LoadError")])){f=h;try{return b(this["$include?"](l(u,"Logging")))||this.$include(l(u,"Logging")),b(d)?(d["$=="](!0)&&(d=c),k=e,"abort"["$==="](k)?this.$raise(z("::","LoadError"),"asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](k)&&
this.$logger().$warn("optional gem '"+d+"' is not installed. Functionality disabled.")):(k=e,"abort"["$==="](k)?this.$raise(z("::","LoadError"),"asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](k)&&this.$logger().$warn(""+f.$message().$chomp(".")+". Functionality disabled.")),q}finally{a.pop_exception()}}else throw h;}},B.$$arity=-2);a.defs(r,"$normalize_lines",p=function(a){return b(z("::","String")["$==="](a))?this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)},
p.$$arity=1);a.defs(r,"$normalize_lines_array",y=function(e){var h,g,m,r,n=q,w=q,B=q,G=q,n=q;if(b(e["$empty?"]()))return e;n=(w=e["$[]"](0)).$unpack("C3");if(b(l(u,"COERCE_ENCODING"))){B=z(z("::","Encoding"),"UTF_8");if((G=n.$slice(0,2))["$=="](l(u,"BOM_BYTES_UTF_16LE")))return d(e.$join().$force_encoding(z(z("::","Encoding"),"UTF_16LE"))["$[]"](f(1,-1,!1)).$encode(B).$each_line(),"map",[],(h=function(a){null==a&&(a=q);return a.$rstrip()},h.$$s=this,h.$$arity=1,h));if(G["$=="](l(u,"BOM_BYTES_UTF_16BE")))return n=
[0,w.$force_encoding(z(z("::","Encoding"),"UTF_16BE"))["$[]"](f(1,-1,!1))],d(e,"[]=",a.to_a(n)),n[c(n.length,1)],d(e,"map",[],(g=function(a){null==a&&(a=q);return""+a.$force_encoding(z(z("::","Encoding"),"UTF_16BE")).$encode(B).$rstrip()},g.$$s=this,g.$$arity=1,g));n["$=="](l(u,"BOM_BYTES_UTF_8"))&&(n=[0,w.$force_encoding(B)["$[]"](f(1,-1,!1))],d(e,"[]=",a.to_a(n)),n[c(n.length,1)]);return d(e,"map",[],(m=function(a){null==a&&(a=q);return a.$encoding()["$=="](B)?a.$rstrip():a.$force_encoding(B).$rstrip()},
m.$$s=this,m.$$arity=1,m))}n["$=="](l(u,"BOM_BYTES_UTF_8"))&&(n=[0,w["$[]"](f(3,-1,!1))],d(e,"[]=",a.to_a(n)),n[c(n.length,1)]);return d(e,"map",[],(r=function(a){null==a&&(a=q);return a.$rstrip()},r.$$s=this,r.$$arity=1,r))},y.$$arity=1);a.defs(r,"$normalize_lines_from_string",A=function(a){var c,e=q,k=q,h=q;if(b(a["$nil_or_empty?"]()))return[];e=a.$unpack("C3");b(l(u,"COERCE_ENCODING"))?(k=z(z("::","Encoding"),"UTF_8"),(h=e.$slice(0,2))["$=="](l(u,"BOM_BYTES_UTF_16LE"))?a=a.$force_encoding(z(z("::",
"Encoding"),"UTF_16LE"))["$[]"](f(1,-1,!1)).$encode(k):h["$=="](l(u,"BOM_BYTES_UTF_16BE"))?a=a.$force_encoding(z(z("::","Encoding"),"UTF_16BE"))["$[]"](f(1,-1,!1)).$encode(k):e["$=="](l(u,"BOM_BYTES_UTF_8"))?a=a.$encoding()["$=="](k)?a["$[]"](f(1,-1,!1)):a.$force_encoding(k)["$[]"](f(1,-1,!1)):a.$encoding()["$=="](k)||(a=a.$force_encoding(k))):e["$=="](l(u,"BOM_BYTES_UTF_8"))&&(a=a["$[]"](f(3,-1,!1)));return d(a.$each_line(),"map",[],(c=function(a){null==a&&(a=q);return a.$rstrip()},c.$$s=this,c.$$arity=
1,c))},A.$$arity=1);a.defs(r,"$uriish?",w=function(a){var c;return b(c=a["$include?"](":"))?l(u,"UriSniffRx")["$match?"](a):c},w.$$arity=1);a.defs(r,"$uri_prefix",C=function(a){var c;return b(b(c=a["$include?"](":"))?l(u,"UriSniffRx")["$=~"](a):c)?(c=n["~"])===q?q:c["$[]"](0):q},C.$$arity=1);a.const_set(u[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(r,"$uri_encode",x=function(a){var b;return d(a,"gsub",[l(u,"REGEXP_ENCODE_URI_CHARS")],(b=function(){var a=b.$$s||this,c,e;return d(((c=
n["~"])===q?q:c["$[]"](0)).$each_byte(),"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=q);return b.$sprintf("%%%02X",a)},e.$$s=a,e.$$arity=1,e)).$join()},b.$$s=this,b.$$arity=0,b))},x.$$arity=1);a.defs(r,"$rootname",F=function(a){var c;return a.$slice(0,b(c=a.$rindex("."))?c:a.$length())},F.$$arity=1);a.defs(r,"$basename",t=function(a,c){null==c&&(c=q);return b(c)?z("::","File").$basename(a,c["$=="](!0)?z("::","File").$extname(a):c):z("::","File").$basename(a)},t.$$arity=-2);a.defs(r,"$mkdir_p",
D=function(c){var d=q;if(b(z("::","File")["$directory?"](c)))return q;(d=z("::","File").$dirname(c))["$=="](".")||this.$mkdir_p(d);try{return z("::","Dir").$mkdir(c)}catch(e){if(a.rescue(e,[z("::","SystemCallError")]))try{return b(z("::","File")["$directory?"](c))?q:this.$raise()}finally{a.pop_exception()}else throw e;}},D.$$arity=1);a.const_set(u[0],"ROMAN_NUMERALS",v("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));a.defs(r,
"$int_to_roman",E=function(b){var c;return d(l(u,"ROMAN_NUMERALS"),"map",[],(c=function(c,d){var e,f,k=q;null==c&&(c=q);null==d&&(d=q);f=b.$divmod(d);e=a.to_ary(f);k=null==e[0]?q:e[0];b=null==e[1]?q:e[1];f;return"number"===typeof c&&"number"===typeof k?c*k:c["$*"](k)},c.$$s=this,c.$$arity=2,c)).$join()},E.$$arity=1)})(u[0],u)}(m[0],m)};Opal.modules["asciidoctor/substitutors"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function z(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,n=a.slice,v=a.module,r=a.hash2,e=a.hash,h=a.truthy,u=a.send,p=a.gvars,y=a.range;a.add_stubs("$freeze $+ $keys $chr $attr_reader $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $split $apply_subs $compat_mode $gsub $== $length $> $* $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $extract_inner_passthrough $to_sym $attributes $basebackend? $=~ $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $tr_s $delete $reject $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $nil_or_empty? $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $parse $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $parse_into $extname $catalog $fetch $outfilesuffix $natural_xrefs $key $attr? $escape $attr $read_next_id $callouts $< $<< $parse_quoted_text_attributes $shorthand_property_syntax $concat $each_char $& $resolve_subs $nil? $require_library $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(g,G){function A(){}var x=[A=v(g,"Asciidoctor",A)].concat(G);(function(g,G){function A(){}var w=A=v(g,"Substitutors",A),C=[w].concat(G),x,F,t,T,D,E,N,V,L,K,W,da,ga,ja,aa,R,ka,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,Ia,Ca,Ha,za,Fa,Ga,Ea;a.const_set(C[0],"SpecialCharsRx",/[<&>]/);a.const_set(C[0],"SpecialCharsTr",r([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(C[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(C[0],"BASIC_SUBS",["specialcharacters"]).$freeze();
a.const_set(C[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();a.const_set(C[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(C[0],"NONE_SUBS",[]).$freeze();a.const_set(C[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(C[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(C[0],"VERBATIM_SUBS",["specialcharacters",
"callouts"]).$freeze();a.const_set(C[0],"SUB_GROUPS",r(["none","normal","verbatim","specialchars"],{none:f(C,"NONE_SUBS"),normal:f(C,"NORMAL_SUBS"),verbatim:f(C,"VERBATIM_SUBS"),specialchars:f(C,"BASIC_SUBS")}));a.const_set(C[0],"SUB_HINTS",r("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(C[0],"SUB_OPTIONS",r(["block","inline"],{block:c(c(f(C,"SUB_GROUPS").$keys(),f(C,"NORMAL_SUBS")),["callouts"]),
inline:c(f(C,"SUB_GROUPS").$keys(),f(C,"NORMAL_SUBS"))}));a.const_set(C[0],"SUB_HIGHLIGHT",["coderay","pygments"]);h(d("::","RUBY_MIN_VERSION_1_9"))?(a.const_set(C[0],"CAN","\u0018"),a.const_set(C[0],"DEL","\u007f"),a.const_set(C[0],"PASS_START","\u0096"),a.const_set(C[0],"PASS_END","\u0097")):(a.const_set(C[0],"CAN",(24).$chr()),a.const_set(C[0],"DEL",(127).$chr()),a.const_set(C[0],"PASS_START",(150).$chr()),a.const_set(C[0],"PASS_END",(151).$chr()));a.const_set(C[0],"PassSlotRx",new RegExp(""+f(C,
"PASS_START")+"(\\d+)"+f(C,"PASS_END")));a.const_set(C[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+f(C,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+f(C,"PASS_END")+"</span>"));a.const_set(C[0],"RS","\\");a.const_set(C[0],"R_SB","]");a.const_set(C[0],"ESC_R_SB","\\]");a.const_set(C[0],"PLUS","+");a.const_set(C[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(C[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);w.$attr_reader("passthroughs");a.def(w,
"$apply_subs",x=function(a,c){var e,k,g=b,l=b;null==this.passthroughs&&(this.passthroughs=b);null==c&&(c=f(C,"NORMAL_SUBS"));if(h(h(e=a["$empty?"]())?e:c["$!"]()))return a;h(g=d("::","Array")["$==="](a))&&(a=h(a["$[]"](1))?a.$join(f(C,"LF")):a["$[]"](0));h(l=c["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),h(this.passthroughs["$empty?"]())&&(l=!1));u(c,"each",[],(k=function(d){var e=k.$$s||this,g=b;null==d&&(d=b);g=d;return"specialcharacters"["$==="](g)?a=e.$sub_specialchars(a):"quotes"["$==="](g)?
a=e.$sub_quotes(a):"attributes"["$==="](g)?h(a["$include?"](f(C,"ATTR_REF_HEAD")))?a=e.$sub_attributes(a):b:"replacements"["$==="](g)?a=e.$sub_replacements(a):"macros"["$==="](g)?a=e.$sub_macros(a):"highlight"["$==="](g)?a=e.$highlight_source(a,c["$include?"]("callouts")):"callouts"["$==="](g)?h(c["$include?"]("highlight"))?b:a=e.$sub_callouts(a):"post_replacements"["$==="](g)?a=e.$sub_post_replacements(a):e.$logger().$warn("unknown substitution type "+d)},k.$$s=this,k.$$arity=1,k));h(l)&&(a=this.$restore_passthroughs(a));
return h(g)?a.$split(f(C,"LF"),-1):a},x.$$arity=-2);a.def(w,"$apply_normal_subs",F=function(a){return this.$apply_subs(a)},F.$$arity=1);a.def(w,"$apply_title_subs",t=function(a){return this.$apply_subs(a,f(C,"TITLE_SUBS"))},t.$$arity=1);a.def(w,"$apply_reftext_subs",T=function(a){return this.$apply_subs(a,f(C,"REFTEXT_SUBS"))},T.$$arity=1);a.def(w,"$apply_header_subs",D=function(a){return this.$apply_subs(a,f(C,"HEADER_SUBS"))},D.$$arity=1);a.def(w,"$extract_passthroughs",E=function(c){var d,e,k,
g,l,n=b,w=b,G=b,v=b;null==this.document&&(this.document=b);n=this.document.$compat_mode();h(h(d=h(e=c["$include?"]("++"))?e:c["$include?"]("$$"))?d:c["$include?"]("ss:"))&&(c=u(c,"gsub",[f(C,"InlinePassMacroRx")],(k=function(){var c=k.$$s||this,d,e=b,g=b,l=b,w=b,Ka=b,G=b,v=b,w=l=e=b;null==c.passthroughs&&(c.passthroughs=b);null==p["~"]&&(p["~"]=b);e=p["~"];g=b;if(h(l=e["$[]"](4))){if(h(h(d=n)?l["$=="]("++"):d))return h(e["$[]"](2))?""+e["$[]"](1)+"["+e["$[]"](2)+"]"+e["$[]"](3)+"++"+c.$extract_passthroughs(e["$[]"](5))+
"++":""+e["$[]"](1)+e["$[]"](3)+"++"+c.$extract_passthroughs(e["$[]"](5))+"++";w=e["$[]"](2);Ka=e["$[]"](3).$length();G=e["$[]"](5);v=!1;if(h(w)){if(h(m(Ka,0)))return""+e["$[]"](1)+"["+w+"]"+q(f(C,"RS"),z(Ka,1))+l+e["$[]"](5)+l;e["$[]"](1)["$=="](f(C,"RS"))?(g="["+w+"]",w=b):(h(l["$=="]("++")?w["$end_with?"]("x-"):l["$=="]("++"))&&(v=!0,w=w["$[]"](y(0,-2,!0))),w=c.$parse_attributes(w))}else if(h(m(Ka,0)))return""+q(f(C,"RS"),z(Ka,1))+l+e["$[]"](5)+l;e=l["$=="]("+++")?[]:f(C,"BASIC_SUBS");l=c.passthroughs.$size();
w=h(w)?h(v)?[l,r(["text","subs","type","attributes"],{text:G,subs:f(C,"NORMAL_SUBS"),type:"monospaced",attributes:w})]:[l,r(["text","subs","type","attributes"],{text:G,subs:e,type:"unquoted",attributes:w})]:[l,r(["text","subs"],{text:G,subs:e})]}else{if(e["$[]"](6)["$=="](f(C,"RS")))return e["$[]"](0)["$[]"](y(1,-1,!1));w=[l=c.passthroughs.$size(),r(["text","subs"],{text:c.$unescape_brackets(e["$[]"](8)),subs:h(e["$[]"](7))?c.$resolve_pass_subs(e["$[]"](7)):b})]}u(c.passthroughs,"[]=",a.to_a(w));
w[z(w.length,1)];return""+g+f(C,"PASS_START")+l+f(C,"PASS_END")},k.$$s=this,k.$$arity=0,k)));e=f(C,"InlinePassRx")["$[]"](n);d=a.to_ary(e);w=null==d[0]?b:d[0];G=null==d[1]?b:d[1];v=null==d[2]?b:d[2];e;h(h(d=c["$include?"](w))?d:h(e=G)?c["$include?"](G):e)&&(c=u(c,"gsub",[v],(g=function(){var c=g.$$s||this,d,e=b,k=b,l=b,m=b,w=b,q=b,B=b,w=l=e=b;null==c.passthroughs&&(c.passthroughs=b);null==p["~"]&&(p["~"]=b);e=p["~"];k=e["$[]"](1);l=e["$[]"](2);h(e["$[]"](3)["$start_with?"](f(C,"RS")))&&(m=f(C,"RS"));
w=e["$[]"](4);q=e["$[]"](5);h(n)?B=!0:h(B=h(d=l)?l["$end_with?"]("x-"):d)&&(l=l["$[]"](y(0,-2,!0)));if(h(l)){if(h(w["$=="]("`")?B["$!"]():w["$=="]("`")))return c.$extract_inner_passthrough(q,""+k+"["+l+"]"+m,l);if(h(m))return""+k+"["+l+"]"+e["$[]"](3)["$[]"](y(1,-1,!1));k["$=="](f(C,"RS"))?(k="["+l+"]",l=b):l=c.$parse_attributes(l)}else{if(h(w["$=="]("`")?B["$!"]():w["$=="]("`")))return c.$extract_inner_passthrough(q,""+k+m);if(h(m))return""+k+e["$[]"](3)["$[]"](y(1,-1,!1))}e=c.passthroughs.$size();
h(n)?l=[e,r(["text","subs","attributes","type"],{text:q,subs:f(C,"BASIC_SUBS"),attributes:l,type:"monospaced"})]:h(l)?h(B)?(w=w["$=="]("`")?f(C,"BASIC_SUBS"):f(C,"NORMAL_SUBS"),l=[e,r(["text","subs","attributes","type"],{text:q,subs:w,attributes:l,type:"monospaced"})]):l=[e,r(["text","subs","attributes","type"],{text:q,subs:f(C,"BASIC_SUBS"),attributes:l,type:"unquoted"})]:l=[e,r(["text","subs"],{text:q,subs:f(C,"BASIC_SUBS")})];u(c.passthroughs,"[]=",a.to_a(l));l[z(l.length,1)];return""+k+f(C,"PASS_START")+
e+f(C,"PASS_END")},g.$$s=this,g.$$arity=0,g)));h(h(d=c["$include?"](":"))?h(e=c["$include?"]("stem:"))?e:c["$include?"]("math:"):d)&&(c=u(c,"gsub",[f(C,"InlineStemMacroRx")],(l=function(){var c=l.$$s||this,d=b,e=b,k=b,g=b,d=e=b;null==c.document&&(c.document=b);null==c.passthroughs&&(c.passthroughs=b);null==p["~"]&&(p["~"]=b);d=p["~"];if(h(d["$[]"](0)["$start_with?"](f(C,"RS"))))return d["$[]"](0)["$[]"](y(1,-1,!1));(e=d["$[]"](1).$to_sym())["$=="]("stem")&&(e=f(C,"STEM_TYPE_ALIASES")["$[]"](c.document.$attributes()["$[]"]("stem")).$to_sym());
k=c.$unescape_brackets(d["$[]"](3));g=h(d["$[]"](2))?c.$resolve_pass_subs(d["$[]"](2)):h(c.document["$basebackend?"]("html"))?f(C,"BASIC_SUBS"):b;e=[d=c.passthroughs.$size(),r(["text","subs","type"],{text:k,subs:g,type:e})];u(c.passthroughs,"[]=",a.to_a(e));e[z(e.length,1)];return""+f(C,"PASS_START")+d+f(C,"PASS_END")},l.$$s=this,l.$$arity=0,l)));return c},E.$$arity=1);a.def(w,"$extract_inner_passthrough",N=function(c,d,e){var k,g,l=b,m=b;null==this.passthroughs&&(this.passthroughs=b);null==e&&(e=
b);if(h(h(k=h(g=c["$end_with?"]("+"))?c["$start_with?"]("+","\\+"):g)?f(C,"SinglePlusInlinePassRx")["$=~"](c):k)){if(h((k=p["~"])===b?b:k["$[]"](1)))return""+d+"`+"+((k=p["~"])===b?b:k["$[]"](2))+"+`";l=[m=this.passthroughs.$size(),h(e)?r(["text","subs","attributes","type"],{text:(k=p["~"])===b?b:k["$[]"](2),subs:f(C,"BASIC_SUBS"),attributes:e,type:"unquoted"}):r(["text","subs"],{text:(k=p["~"])===b?b:k["$[]"](2),subs:f(C,"BASIC_SUBS")})];u(this.passthroughs,"[]=",a.to_a(l));l[z(l.length,1)];return""+
d+"`"+f(C,"PASS_START")+m+f(C,"PASS_END")+"`"}return""+d+"`"+c+"`"},N.$$arity=-3);a.def(w,"$restore_passthroughs",V=function(a,c){var d,e,k,g=this;null==g.passthroughs&&(g.passthroughs=b);null==c&&(c=!0);return function(){try{return h(h(d=c)?h(e=g.passthroughs["$empty?"]())?e:a["$include?"](f(C,"PASS_START"))["$!"]():d)?a:u(a,"gsub",[f(C,"PassSlotRx")],(k=function(){var a=k.$$s||this,c,d=b,e=b,g=b;null==a.passthroughs&&(a.passthroughs=b);d=a.passthroughs["$[]"](((c=p["~"])===b?b:c["$[]"](1)).$to_i());
e=a.$apply_subs(d["$[]"]("text"),d["$[]"]("subs"));h(g=d["$[]"]("type"))&&(e=f(C,"Inline").$new(a,"quoted",e,r(["type","attributes"],{type:g,attributes:d["$[]"]("attributes")})).$convert());return h(e["$include?"](f(C,"PASS_START")))?a.$restore_passthroughs(e,!1):e},k.$$s=g,k.$$arity=0,k))}finally{h(c)&&g.passthroughs.$clear()}}()},V.$$arity=-2);f(C,"RUBY_ENGINE")["$=="]("opal")?(a.def(w,"$sub_quotes",L=function(a){var c,d=b;null==this.document&&(this.document=b);h(f(C,"QuotedTextSniffRx")["$[]"](d=
this.document.$compat_mode())["$match?"](a))&&u(f(C,"QUOTE_SUBS")["$[]"](d),"each",[],(c=function(d,e,f){var k=c.$$s||this,h;null==d&&(d=b);null==e&&(e=b);null==f&&(f=b);return a=u(a,"gsub",[f],(h=function(){var a=h.$$s||this;null==p["~"]&&(p["~"]=b);return a.$convert_quoted_text(p["~"],d,e)},h.$$s=k,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return a},L.$$arity=1),a.def(w,"$sub_replacements",K=function(a){var c;h(f(C,"ReplaceableTextRx")["$match?"](a))&&u(f(C,"REPLACEMENTS"),"each",[],(c=function(d,
e,f){var k=c.$$s||this,h;null==d&&(d=b);null==e&&(e=b);null==f&&(f=b);return a=u(a,"gsub",[d],(h=function(){var a=h.$$s||this;null==p["~"]&&(p["~"]=b);return a.$do_replacement(p["~"],e,f)},h.$$s=k,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return a},K.$$arity=1)):b;h(d("::","RUBY_MIN_VERSION_1_9"))?a.def(w,"$sub_specialchars",W=function(a){var b,c;return h(h(b=h(c=a["$include?"]("<"))?c:a["$include?"]("&"))?b:a["$include?"](">"))?a.$gsub(f(C,"SpecialCharsRx"),f(C,"SpecialCharsTr")):a},W.$$arity=
1):a.def(w,"$sub_specialchars",da=function(a){var c,d,e;return h(h(c=h(d=a["$include?"]("<"))?d:a["$include?"]("&"))?c:a["$include?"](">"))?u(a,"gsub",[f(C,"SpecialCharsRx")],(e=function(){var a;return f(C,"SpecialCharsTr")["$[]"]((a=p["~"])===b?b:a["$[]"](0))},e.$$s=this,e.$$arity=0,e)):a},da.$$arity=1);a.alias(w,"sub_specialcharacters","sub_specialchars");a.def(w,"$do_replacement",ga=function(a,c,d){var e=b,e=b;h((e=a["$[]"](0))["$include?"](f(C,"RS")))?a=e.$sub(f(C,"RS"),""):(e=d,a="none"["$==="](e)?
c:"bounding"["$==="](e)?""+a["$[]"](1)+c+a["$[]"](2):""+a["$[]"](1)+c);return a},ga.$$arity=3);a.def(w,"$sub_attributes",ja=function(c,d){var e,k,g,l,m=b,n=b,w=b,z=b,H=b,P=b,ra=b,ra=b;null==this.document&&(this.document=b);null==d&&(d=r([],{}));m=this.document.$attributes();n=w=z=H=P=b;ra=u(c,"gsub",[f(C,"AttributeReferenceRx")],(e=function(){var c=e.$$s||this,k,g,l,r=b,ra=b,q=b,B=b;null==c.document&&(c.document=b);return h(h(k=((g=p["~"])===b?b:g["$[]"](1))["$=="](f(C,"RS")))?k:((g=p["~"])===b?b:
g["$[]"](4))["$=="](f(C,"RS")))?"{"+((k=p["~"])===b?b:k["$[]"](2))+"}":h((k=p["~"])===b?b:k["$[]"](3))?function(){r=(ra=((k=p["~"])===b?b:k["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](r)?(g=f(C,"Parser").$store_attribute(ra["$[]"](0),h(l=ra["$[]"](1))?l:"",c.document),k=a.to_ary(g),q=null==k[1]?b:k[1],g,h(h(k=q)?k:(H=h(g=H)?g:h(l=m["$[]"]("attribute-undefined"))?l:f(C,"Compliance").$attribute_undefined())["$!="]("drop-line"))?n=z=f(C,"DEL"):n=w=f(C,"CAN")):"counter2"["$==="](r)?(u(c.document,
"counter",a.to_a(ra)),n=z=f(C,"DEL")):u(c.document,"counter",a.to_a(ra))}():h(m["$key?"](B=((k=p["~"])===b?b:k["$[]"](2)).$downcase()))?m["$[]"](B):h(q=f(C,"INTRINSIC_ATTRIBUTES")["$[]"](B))?q:function(){r=P=h(k=P)?k:h(g=h(l=d["$[]"]("attribute_missing"))?l:m["$[]"]("attribute-missing"))?g:f(C,"Compliance").$attribute_missing();if("drop"["$==="](r))return n=z=f(C,"DEL");if("drop-line"["$==="](r))return c.$logger().$warn("dropping line containing reference to missing attribute: "+B),n=w=f(C,"CAN");
"warn"["$==="](r)&&c.$logger().$warn("skipping reference to missing attribute: "+B);return(k=p["~"])===b?b:k["$[]"](0)}()},e.$$s=this,e.$$arity=0,e));return h(n)?h(z)?(ra=ra.$tr_s(f(C,"DEL"),f(C,"DEL")).$split(f(C,"LF"),-1),h(w)?u(ra,"reject",[],(k=function(a){var c,d,e;null==a&&(a=b);return h(c=h(d=h(e=a["$=="](f(C,"DEL")))?e:a["$=="](f(C,"CAN")))?d:a["$start_with?"](f(C,"CAN")))?c:a["$include?"](f(C,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(f(C,"LF")).$delete(f(C,"DEL")):u(ra,"reject",[],(g=function(a){null==
a&&(a=b);return a["$=="](f(C,"DEL"))},g.$$s=this,g.$$arity=1,g)).$join(f(C,"LF")).$delete(f(C,"DEL"))):h(ra["$include?"](f(C,"LF")))?u(ra.$split(f(C,"LF"),-1),"reject",[],(l=function(a){var c,d;null==a&&(a=b);return h(c=h(d=a["$=="](f(C,"CAN")))?d:a["$start_with?"](f(C,"CAN")))?c:a["$include?"](f(C,"CAN"))},l.$$s=this,l.$$arity=1,l)).$join(f(C,"LF")):"":ra},ja.$$arity=-2);a.def(w,"$sub_macros",aa=function(c){try{var e,k,g,l,w,q,G,v,A,H,P,ra,X=b,Qa=b,O=b,Ka=b,Na=b,Ra=b,x=b,I=b,F=b,t=b;null==this.document&&
(this.document=b);X=r([],{});Qa=(O=["square_bracket",c["$include?"]("[")],u(X,"[]=",a.to_a(O)),O[z(O.length,1)]);Ka=c["$include?"](":");Na=(O=["macroish",h(e=Qa)?Ka:e],u(X,"[]=",a.to_a(O)),O[z(O.length,1)]);Ra=h(e=Na)?c["$include?"](":["):e;x=(I=this.document).$attributes();F=c;h(x["$key?"]("experimental"))&&(h(h(e=Ra)?h(k=F["$include?"]("kbd:"))?k:F["$include?"]("btn:"):e)&&(F=u(F,"gsub",[f(C,"InlineKbdBtnMacroRx")],(g=function(){var c=g.$$s||this,d,e,k,l=b,n=b,H=b;return h((d=p["~"])===b?b:d["$[]"](1))?
((d=p["~"])===b?b:d["$[]"](0)).$slice(1,((d=p["~"])===b?b:d["$[]"](0)).$length()):((d=p["~"])===b?b:d["$[]"](2))["$=="]("kbd")?(h((l=((d=p["~"])===b?b:d["$[]"](3)).$strip())["$include?"](f(C,"R_SB")))&&(l=l.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))),h(h(d=m(l.$length(),1))?n=h(n=l.$index(",",1))?[n,l.$index("+",1)].$compact().$min():l.$index("+",1):d)?(H=l.$slice(n,1),h(l["$end_with?"](H))?(l=u(l.$chop().$split(H,-1),"map",[],(e=function(a){null==a&&(a=b);return a.$strip()},e.$$s=c,e.$$arity=1,e)),O=[-1,
""+l["$[]"](-1)+H],u(l,"[]=",a.to_a(O)),O[z(O.length,1)]):l=u(l.$split(H),"map",[],(k=function(a){null==a&&(a=b);return a.$strip()},k.$$s=c,k.$$arity=1,k))):l=[l],f(C,"Inline").$new(c,"kbd",b,r(["attributes"],{attributes:r(["keys"],{keys:l})})).$convert()):f(C,"Inline").$new(c,"button",c.$unescape_bracketed_text((d=p["~"])===b?b:d["$[]"](3))).$convert()},g.$$s=this,g.$$arity=0,g))),h(h(e=Na)?F["$include?"]("menu:"):e)&&(F=u(F,"gsub",[f(C,"InlineMenuMacroRx")],(l=function(){var a=l.$$s||this,c,d,e=
b,k=e=c=b,g=k=c=b;null==p["~"]&&(p["~"]=b);e=p["~"];if(h((c=e["$[]"](0))["$start_with?"](f(C,"RS"))))return c["$[]"](y(1,-1,!1));c=[e["$[]"](1),e["$[]"](2)];e=c[0];k=c[1];c;h(k)?(h(k["$include?"](f(C,"R_SB")))&&(k=k.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))),h(c=h(k["$include?"]("&gt;"))?"&gt;":h(k["$include?"](","))?",":b)?(k=u(k.$split(c),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},d.$$s=a,d.$$arity=1,d)),g=k.$pop()):(c=[[],k.$rstrip()],k=c[0],g=c[1],c)):(c=[[],b],k=c[0],g=c[1],c);return f(C,
"Inline").$new(a,"menu",b,r(["attributes"],{attributes:r(["menu","submenus","menuitem"],{menu:e,submenus:k,menuitem:g})})).$convert()},l.$$s=this,l.$$arity=0,l))),h(h(e=F["$include?"]('"'))?F["$include?"]("&gt;"):e)&&(F=u(F,"gsub",[f(C,"InlineMenuRx")],(w=function(){var c=w.$$s||this,d,e,k=b,g=k=k=e=b;e=b;null==p["~"]&&(p["~"]=b);k=p["~"];if(h((e=k["$[]"](0))["$start_with?"](f(C,"RS"))))return e["$[]"](y(1,-1,!1));k=k["$[]"](1);e=u(k.$split("&gt;"),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},
d.$$s=c,d.$$arity=1,d));d=a.to_ary(e);k=null==d[0]?b:d[0];g=n.call(d,1);e;e=g.$pop();return f(C,"Inline").$new(c,"menu",b,r(["attributes"],{attributes:r(["menu","submenus","menuitem"],{menu:k,submenus:g,menuitem:e})})).$convert()},w.$$s=this,w.$$arity=0,w))));h(h(e=t=I.$extensions())?t["$inline_macros?"]():e)&&u(t.$inline_macros(),"each",[],(q=function(c){var d=q.$$s||this,e;null==c&&(c=b);return F=u(F,"gsub",[c.$instance().$regexp()],(e=function(){var d=e.$$s||this,k,g=b,l=g=b,m=b,H=b,g=b;null==
p["~"]&&(p["~"]=b);g=p["~"];if(h(g["$[]"](0)["$start_with?"](f(C,"RS"))))return g["$[]"](0)["$[]"](y(1,-1,!1));var n;a:{try{n=g.$names();break a}catch(w){if(a.rescue(w,[f(C,"StandardError")]))try{n=[];break a}finally{a.pop_exception()}else throw w;}n=void 0}if(h(n["$empty?"]()))k=[g["$[]"](1),g["$[]"](2),c.$config()];else{var P;a:{try{P=g["$[]"]("target");break a}catch(w){if(a.rescue(w,[f(C,"StandardError")]))try{P=b;break a}finally{a.pop_exception()}else throw w;}P=void 0}n=P;a:{try{k=g["$[]"]("content");
break a}catch(w){if(a.rescue(w,[f(C,"StandardError")]))try{k=b;break a}finally{a.pop_exception()}else throw w;}k=void 0}k=[n,k,c.$config()]}g=k[0];l=k[1];m=k[2];k;H=h(H=m["$[]"]("default_attrs"))?H.$dup():r([],{});h(l["$nil_or_empty?"]())?h(h(k=l)?m["$[]"]("content_model")["$!="]("attributes"):k)&&(O=["text",l],u(H,"[]=",a.to_a(O)),O[z(O.length,1)]):(l=d.$unescape_bracketed_text(l),m["$[]"]("content_model")["$=="]("attributes")?d.$parse_attributes(l,h(k=m["$[]"]("pos_attrs"))?k:[],r(["sub_result",
"into"],{sub_result:!1,into:H})):(O=["text",l],u(H,"[]=",a.to_a(O)),O[z(O.length,1)]));g=c.$process_method()["$[]"](d,h(k=g)?k:l,H);return h(f(C,"Inline")["$==="](g))?g.$convert():g},e.$$s=d,e.$$arity=0,e))},q.$$s=this,q.$$arity=1,q));h(h(e=Na)?h(k=F["$include?"]("image:"))?k:F["$include?"]("icon:"):e)&&(F=u(F,"gsub",[f(C,"InlineImageMacroRx")],(G=function(){var c=G.$$s||this,d,e=b,k=b,g=k=b,l=b,e=b;null==p["~"]&&(p["~"]=b);e=p["~"];if(h((k=(d=p["~"])===b?b:d["$[]"](0))["$start_with?"](f(C,"RS"))))return k["$[]"](y(1,
-1,!1));d=h(k["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];k=d[0];g=d[1];d;h((l=e["$[]"](1))["$include?"](f(C,"ATTR_REF_HEAD")))&&(l=c.$sub_attributes(l));k["$=="]("icon")||I.$register("images",l);e=c.$parse_attributes(e["$[]"](2),g,r(["unescape_input"],{unescape_input:!0}));h(d=e["$[]"]("alt"))?d:(O=["alt",(O=["default-alt",f(C,"Helpers").$basename(l,!0).$tr("_-"," ")],u(e,"[]=",a.to_a(O)),O[z(O.length,1)])],u(e,"[]=",a.to_a(O)),O[z(O.length,1)]);return f(C,"Inline").$new(c,
"image",b,r(["type","target","attributes"],{type:k,target:l,attributes:e})).$convert()},G.$$s=this,G.$$arity=0,G)));h(h(e=h(k=F["$include?"]("(("))?F["$include?"]("))"):k)?e:h(k=Ra)?F["$include?"]("dexterm"):k)&&(F=u(F,"gsub",[f(C,"InlineIndextermMacroRx")],(v=function(){var a=v.$$s||this,c,d=b,e=b,k=b,g=b,l=b,m=b,H=b,n=b;return function(){d=(c=p["~"])===b?b:c["$[]"](1);if("indexterm"["$==="](d)){e=(c=p["~"])===b?b:c["$[]"](2);if(h((k=(c=p["~"])===b?b:c["$[]"](0))["$start_with?"](f(C,"RS"))))return k.$slice(1,
k.$length());g=a.$split_simple_csv(a.$normalize_string(e,!0));I.$register("indexterms",g);return f(C,"Inline").$new(a,"indexterm",b,r(["attributes"],{attributes:r(["terms"],{terms:g})})).$convert()}if("indexterm2"["$==="](d)){e=(c=p["~"])===b?b:c["$[]"](2);if(h((k=(c=p["~"])===b?b:c["$[]"](0))["$start_with?"](f(C,"RS"))))return k.$slice(1,k.$length());l=a.$normalize_string(e,!0);I.$register("indexterms",[l]);return f(C,"Inline").$new(a,"indexterm",l,r(["type"],{type:"visible"})).$convert()}e=(c=p["~"])===
b?b:c["$[]"](3);if(h((k=(c=p["~"])===b?b:c["$[]"](0))["$start_with?"](f(C,"RS"))))if(h(h(c=e["$start_with?"]("("))?e["$end_with?"](")"):c))e=e.$slice(1,z(e.$length(),2)),c=[!0,"(",")"],m=c[0],H=c[1],n=c[2],c;else return k.$slice(1,k.$length());else m=!0,h(e["$start_with?"]("("))?(h(e["$end_with?"](")"))?(c=[e.$slice(1,z(e.$length(),2)),!1],e=c[0],m=c[1]):(c=[e.$slice(1,e.$length()),"(",""],e=c[0],H=c[1],n=c[2]),c):h(e["$end_with?"](")"))&&(c=[e.$slice(0,z(e.$length(),1)),"",")"],e=c[0],H=c[1],n=c[2],
c);h(m)?(l=a.$normalize_string(e),I.$register("indexterms",[l]),F=f(C,"Inline").$new(a,"indexterm",l,r(["type"],{type:"visible"})).$convert()):(g=a.$split_simple_csv(a.$normalize_string(e)),I.$register("indexterms",g),F=f(C,"Inline").$new(a,"indexterm",b,r(["attributes"],{attributes:r(["terms"],{terms:g})})).$convert());return h(H)?""+H+F+n:F}()},v.$$s=this,v.$$arity=0,v)));h(h(e=Ka)?F["$include?"]("://"):e)&&(F=u(F,"gsub",[f(C,"InlineLinkRx")],(A=function(){var c=A.$$s||this,d,e,k=b,g=b,l=b,m=b,
H=b,n=b,g=k=g=b;null==p["~"]&&(p["~"]=b);k=p["~"];if(h(k["$[]"](2)["$start_with?"](f(C,"RS"))))return""+k["$[]"](1)+k["$[]"](2)["$[]"](y(1,-1,!1))+k["$[]"](3);d=[k["$[]"](1),k["$[]"](2),h(e=g=k["$[]"](3))?e:"",""];l=d[0];m=d[1];H=d[2];n=d[3];d;if(l["$=="]("link:"))if(h(g))l="";else return k["$[]"](0);h(h(d=g)?d:f(C,"UriTerminatorRx")["$!~"](m))||(g=(d=p["~"])===b?b:d["$[]"](0),")"["$==="](g)?(m=m.$chop(),n=")"):";"["$==="](g)?h(h(d=l["$start_with?"]("&lt;"))?m["$end_with?"]("&gt;"):d)?(l=l["$[]"](y(4,
-1,!1)),m=m["$[]"](y(0,-4,!0))):h((m=m.$chop())["$end_with?"](")"))?(m=m.$chop(),n=");"):n=";":":"["$==="](g)&&(h((m=m.$chop())["$end_with?"](")"))?(m=m.$chop(),n="):"):n=":"),h(m["$end_with?"]("://"))&&a.ret(k["$[]"](0)));d=[b,r(["type"],{type:"link"})];k=d[0];g=d[1];d;h(H["$empty?"]())||(h(H["$include?"](f(C,"R_SB")))&&(H=H.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))),h(h(d=I.$compat_mode()["$!"]())?H["$include?"]("="):d)&&(H=h(d=(k=f(C,"AttributeList").$new(H,c).$parse())["$[]"](1))?d:"",h(k["$key?"]("id"))&&
(O=["id",k.$delete("id")],u(g,"[]=",a.to_a(O)),O[z(O.length,1)])),h(H["$end_with?"]("^"))&&(H=H.$chop(),h(k)?h(d=k["$[]"]("window"))?d:(O=["window","_blank"],u(k,"[]=",a.to_a(O)),O[z(O.length,1)]):k=r(["window"],{window:"_blank"})));h(H["$empty?"]())&&(H=h(x["$key?"]("hide-uri-scheme"))?m.$sub(f(C,"UriSniffRx"),""):m,h(k)?(O=["role",h(k["$key?"]("role"))?"bare "+k["$[]"]("role"):"bare"],u(k,"[]=",a.to_a(O)),O[z(O.length,1)]):k=r(["role"],{role:"bare"}));I.$register("links",(O=["target",m],u(g,"[]=",
a.to_a(O)),O[z(O.length,1)]));h(k)&&(O=["attributes",k],u(g,"[]=",a.to_a(O)),O[z(O.length,1)]);return""+l+f(C,"Inline").$new(c,"anchor",H,g).$convert()+n},A.$$s=this,A.$$arity=0,A)));h(h(e=Na)?h(k=F["$include?"]("link:"))?k:F["$include?"]("mailto:"):e)&&(F=u(F,"gsub",[f(C,"InlineLinkMacroRx")],(H=function(){var c=H.$$s||this,d,e=b,k=b,g=b,l=b,m=b,n=b;null==p["~"]&&(p["~"]=b);e=p["~"];if(h(e["$[]"](0)["$start_with?"](f(C,"RS"))))return e["$[]"](0)["$[]"](y(1,-1,!1));k=h(g=e["$[]"](1))?"mailto:"+e["$[]"](2):
e["$[]"](2);d=[b,r(["type"],{type:"link"})];l=d[0];m=d[1];d;h((n=e["$[]"](3))["$empty?"]())||(h(n["$include?"](f(C,"R_SB")))&&(n=n.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))),h(g)?h(h(d=I.$compat_mode()["$!"]())?n["$include?"](","):d)&&(n=h(d=(l=f(C,"AttributeList").$new(n,c).$parse())["$[]"](1))?d:"",h(l["$key?"]("id"))&&(O=["id",l.$delete("id")],u(m,"[]=",a.to_a(O)),O[z(O.length,1)]),h(l["$key?"](2))&&(k=h(l["$key?"](3))?""+k+"?subject="+f(C,"Helpers").$uri_encode(l["$[]"](2))+"&amp;body="+f(C,"Helpers").$uri_encode(l["$[]"](3)):
""+k+"?subject="+f(C,"Helpers").$uri_encode(l["$[]"](2)))):h(h(d=I.$compat_mode()["$!"]())?n["$include?"]("="):d)&&(n=h(d=(l=f(C,"AttributeList").$new(n,c).$parse())["$[]"](1))?d:"",h(l["$key?"]("id"))&&(O=["id",l.$delete("id")],u(m,"[]=",a.to_a(O)),O[z(O.length,1)])),h(n["$end_with?"]("^"))&&(n=n.$chop(),h(l)?h(d=l["$[]"]("window"))?d:(O=["window","_blank"],u(l,"[]=",a.to_a(O)),O[z(O.length,1)]):l=r(["window"],{window:"_blank"})));h(n["$empty?"]())&&(h(g)?n=e["$[]"](2):(n=h(x["$key?"]("hide-uri-scheme"))?
k.$sub(f(C,"UriSniffRx"),""):k,h(l)?(O=["role",h(l["$key?"]("role"))?"bare "+l["$[]"]("role"):"bare"],u(l,"[]=",a.to_a(O)),O[z(O.length,1)]):l=r(["role"],{role:"bare"})));I.$register("links",(O=["target",k],u(m,"[]=",a.to_a(O)),O[z(O.length,1)]));h(l)&&(O=["attributes",l],u(m,"[]=",a.to_a(O)),O[z(O.length,1)]);return f(C,"Inline").$new(c,"anchor",n,m).$convert()},H.$$s=this,H.$$arity=0,H)));h(F["$include?"]("@"))&&(F=u(F,"gsub",[f(C,"InlineEmailRx")],(P=function(){var a=P.$$s||this,c,d,e=b,k=b;c=
b;c=[(d=p["~"])===b?b:d["$[]"](0),(d=p["~"])===b?b:d["$[]"](1)];e=c[0];k=c[1];c;if(h(k))return k["$=="](f(C,"RS"))?e["$[]"](y(1,-1,!1)):e;c="mailto:"+e;I.$register("links",c);return f(C,"Inline").$new(a,"anchor",e,r(["type","target"],{type:"link",target:c})).$convert()},P.$$s=this,P.$$arity=0,P)));h(h(e=Na)?F["$include?"]("tnote"):e)&&(F=u(F,"gsub",[f(C,"InlineFootnoteMacroRx")],(ra=function(){var c=ra.$$s||this,e,k,g,l=b,m=b,n=b,H=l=k=b,n=b;null==p["~"]&&(p["~"]=b);l=p["~"];if(h(l["$[]"](0)["$start_with?"](f(C,
"RS"))))return l["$[]"](0)["$[]"](y(1,-1,!1));h(l["$[]"](1))?(k=(h(e=l["$[]"](3))?e:"").$split(",",2),e=a.to_ary(k),m=null==e[0]?b:e[0],n=null==e[1]?b:e[1],k):(e=[l["$[]"](2),l["$[]"](3)],m=e[0],n=e[1],e);if(h(m))h(n)?(n=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(n,!0))),!1),k=I.$counter("footnote-number"),I.$register("footnotes",d(f(C,"Document"),"Footnote").$new(k,m,n)),e=["ref",b],l=e[0],H=e[1]):(h(n=u(I.$footnotes(),"find",[],(g=function(a){null==a&&
(a=b);return a.$id()["$=="](m)},g.$$s=c,g.$$arity=1,g)))?e=[n.$index(),n.$text()]:(c.$logger().$warn("invalid footnote reference: "+m),e=[b,m]),k=e[0],n=e[1],e,e=["xref",m,b],l=e[0],H=e[1],m=e[2]),e;else if(h(n))n=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(n,!0))),!1),k=I.$counter("footnote-number"),I.$register("footnotes",d(f(C,"Document"),"Footnote").$new(k,m,n)),l=H=b;else return l["$[]"](0);return f(C,"Inline").$new(c,"footnote",n,r(["attributes","id",
"target","type"],{attributes:r(["index"],{index:k}),id:m,target:H,type:l})).$convert()},ra.$$s=this,ra.$$arity=0,ra)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(F,X),X)}catch(K){if(K===a.returner)return K.$v;throw K;}},aa.$$arity=1);a.def(w,"$sub_inline_anchors",R=function(a,c){var d,e,k,g,l;null==this.context&&(this.context=b);null==this.parent&&(this.parent=b);null==c&&(c=b);h((d=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&
(a=u(a,"sub",[f(C,"InlineBiblioAnchorRx")],(e=function(){var a=e.$$s||this,c,d;return f(C,"Inline").$new(a,"anchor","["+(h(c=(d=p["~"])===b?b:d["$[]"](2))?c:(d=p["~"])===b?b:d["$[]"](1))+"]",r(["type","id","target"],{type:"bibref",id:(c=p["~"])===b?b:c["$[]"](1),target:(c=p["~"])===b?b:c["$[]"](1)})).$convert()},e.$$s=this,e.$$arity=0,e)));h(h(d=h(k=h(g=c["$!"]())?g:c["$[]"]("square_bracket"))?a["$include?"]("[["):k)?d:h(k=h(g=c["$!"]())?g:c["$[]"]("macroish"))?a["$include?"]("or:"):k)&&(a=u(a,"gsub",
[f(C,"InlineAnchorRx")],(l=function(){var a=l.$$s||this,c,d,e=b,k=b;if(h((c=p["~"])===b?b:c["$[]"](1)))return((c=p["~"])===b?b:c["$[]"](0)).$slice(1,((c=p["~"])===b?b:c["$[]"](0)).$length());h(e=(c=p["~"])===b?b:c["$[]"](2))?k=(c=p["~"])===b?b:c["$[]"](3):(e=(c=p["~"])===b?b:c["$[]"](4),h(h(c=k=(d=p["~"])===b?b:d["$[]"](5))?k["$include?"](f(C,"R_SB")):c)&&(k=k.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))));return f(C,"Inline").$new(a,"anchor",k,r(["type","id","target"],{type:"ref",id:e,target:e})).$convert()},
l.$$s=this,l.$$arity=0,l)));return a},R.$$arity=-2);a.def(w,"$sub_inline_xrefs",ka=function(e,g){var l,n,w;null==g&&(g=b);h(h(l=h(n=h(g)?g["$[]"]("macroish"):e["$include?"]("["))?e["$include?"]("xref:"):n)?l:h(n=e["$include?"]("&"))?e["$include?"]("lt;&"):n)&&(e=u(e,"gsub",[f(C,"InlineXrefMacroRx")],(w=function(){var e=w.$$s||this,g,l,n=b,u=b,H=b,P=b,ra=n=b,X=b,q=b,O=b,G=O=b,v=b,F=b;null==e.document&&(e.document=b);null==p["~"]&&(p["~"]=b);null==p.VERBOSE&&(p.VERBOSE=b);n=p["~"];if(h(n["$[]"](0)["$start_with?"](f(C,
"RS"))))return n["$[]"](0)["$[]"](y(1,-1,!1));g=[r([],{}),e.document];u=g[0];H=g[1];g;h(P=n["$[]"](1))?(l=P.$split(",",2),g=a.to_ary(l),P=null==g[0]?b:g[0],n=null==g[1]?b:g[1],l,h(n)&&(n=n.$lstrip())):(ra=!0,P=n["$[]"](2),h(n=n["$[]"](3))&&(h(n["$include?"](f(C,"R_SB")))&&(n=n.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB"))),h(h(g=H.$compat_mode()["$!"]())?n["$include?"]("="):g)&&(n=f(C,"AttributeList").$new(n,e).$parse_into(u)["$[]"](1))));h(H.$compat_mode())?X=P:h(q=P.$index("#"))?h(m(q,0))?(h(m(O=z(z(P.$length(),
q),1),0))?(g=[P.$slice(0,q),P.$slice(c(q,1),O)],O=g[0],X=g[1],g):O=P.$slice(0,q),h((G=d("::","File").$extname(O))["$empty?"]())?v=O:h(f(C,"ASCIIDOC_EXTENSIONS")["$[]"](G))&&(v=O=O.$slice(0,z(O.$length(),G.$length())))):(g=[P,P.$slice(1,P.$length())],F=g[0],X=g[1],g):h(h(g=ra)?P["$end_with?"](".adoc"):g)?v=O=P.$slice(0,z(P.$length(),5)):X=P;h(F)?(P=X,h(h(g=p.VERBOSE)?H.$catalog()["$[]"]("ids")["$key?"](P)["$!"]():g)&&e.$logger().$warn("invalid reference: "+P)):h(O)?h(h(g=v)?h(l=H.$attributes()["$[]"]("docname")["$=="](O))?
l:H.$catalog()["$[]"]("includes")["$[]"](O):g)?h(X)?(g=[X,b,"#"+X],P=g[0],O=g[1],F=g[2],g,h(h(g=p.VERBOSE)?H.$catalog()["$[]"]("ids")["$key?"](P)["$!"]():g)&&e.$logger().$warn("invalid reference: "+P)):(g=[b,b,"#"],P=g[0],O=g[1],F=g[2],g):(g=[O,""+H.$attributes()["$[]"]("relfileprefix")+O+(h(v)?H.$attributes().$fetch("relfilesuffix",H.$outfilesuffix()):"")],P=g[0],O=g[1],g,h(X)?(g=[""+P+"#"+X,""+O+"#"+X],P=g[0],F=g[1],g):F=O):h(h(g=H.$compat_mode())?g:f(C,"Compliance").$natural_xrefs()["$!"]())?(g=
[X,"#"+X],P=g[0],F=g[1],g,h(h(g=p.VERBOSE)?H.$catalog()["$[]"]("ids")["$key?"](P)["$!"]():g)&&e.$logger().$warn("invalid reference: "+P)):h(H.$catalog()["$[]"]("ids")["$key?"](X))?(g=[X,"#"+X],P=g[0],F=g[1],g):h(h(g=P=H.$catalog()["$[]"]("ids").$key(X))?h(l=X["$include?"](" "))?l:X.$downcase()["$!="](X):g)?(g=[P,"#"+P],X=g[0],F=g[1],g):(g=[X,"#"+X],P=g[0],F=g[1],g,h(p.VERBOSE)&&e.$logger().$warn("invalid reference: "+P));g=[O,X,P];u["$[]="]("path",g[0]);u["$[]="]("fragment",g[1]);u["$[]="]("refid",
g[2]);g;return f(C,"Inline").$new(e,"anchor",n,r(["type","target","attributes"],{type:"xref",target:F,attributes:u})).$convert()},w.$$s=this,w.$$arity=0,w)));return e},ka.$$arity=-2);a.def(w,"$sub_callouts",ia=function(a){var c,e=b,e=h(this["$attr?"]("line-comment"))?new RegExp("(?:"+d("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+f(C,"CalloutSourceRxt")):f(C,"CalloutSourceRx");return u(a,"gsub",[e],(c=function(){var a=c.$$s||this,d;null==a.document&&(a.document=b);return h((d=p["~"])===
b?b:d["$[]"](1))?((d=p["~"])===b?b:d["$[]"](0)).$sub(f(C,"RS"),""):f(C,"Inline").$new(a,"callout",(d=p["~"])===b?b:d["$[]"](3),r(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},c.$$s=this,c.$$arity=0,c))},ia.$$arity=1);a.def(w,"$sub_post_replacements",ea=function(a){var c,d,e,k=b,g=b;null==this.document&&(this.document=b);null==this.attributes&&(this.attributes=b);if(h(h(c=this.document.$attributes()["$key?"]("hardbreaks"))?c:this.attributes["$key?"]("hardbreaks-option"))){k=a.$split(f(C,
"LF"),-1);if(h(l(k.$size(),2)))return a;g=k.$pop();return q(u(k,"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=b);return f(C,"Inline").$new(c,"break",h(a["$end_with?"](f(C,"HARD_LINE_BREAK")))?a.$slice(0,z(a.$length(),2)):a,r(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=1,d))["$<<"](g),f(C,"LF"))}return h(h(c=a["$include?"](f(C,"PLUS")))?a["$include?"](f(C,"HARD_LINE_BREAK")):c)?u(a,"gsub",[f(C,"HardLineBreakRx")],(e=function(){var a=e.$$s||this,c;return f(C,"Inline").$new(a,"break",
(c=p["~"])===b?b:c["$[]"](1),r(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=0,e)):a},ea.$$arity=1);a.def(w,"$convert_quoted_text",fa=function(a,c,d){var e=b,k=b,g=b,l=b,m=b;if(h(a["$[]"](0)["$start_with?"](f(C,"RS"))))if(h(d["$=="]("constrained")?e=a["$[]"](2):d["$=="]("constrained")))k="["+e+"]";else return a["$[]"](0)["$[]"](y(1,-1,!1));if(d["$=="]("constrained")){if(h(k))return""+k+f(C,"Inline").$new(this,"quoted",a["$[]"](3),r(["type"],{type:c})).$convert();h(g=a["$[]"](2))&&(l=(m=
this.$parse_quoted_text_attributes(g)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+f(C,"Inline").$new(this,"quoted",a["$[]"](3),r(["type","id","attributes"],{type:c,id:l,attributes:m})).$convert()}h(g=a["$[]"](1))&&(l=(m=this.$parse_quoted_text_attributes(g)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return f(C,"Inline").$new(this,"quoted",a["$[]"](2),r(["type","id","attributes"],{type:c,id:l,attributes:m})).$convert()},fa.$$arity=3);a.def(w,"$parse_quoted_text_attributes",
ca=function(c){var d,e=b,k=b,g=b,k=g=e=b;h(c["$include?"](f(C,"ATTR_REF_HEAD")))&&(c=this.$sub_attributes(c,r(["multiline"],{multiline:!0})));h(c["$include?"](","))&&(c=c.$slice(0,c.$index(",")));return h((c=c.$strip())["$empty?"]())?r([],{}):h(h(d=c["$start_with?"](".","#"))?f(C,"Compliance").$shorthand_property_syntax():d)?(e=c.$split("#",2),h(m(e.$size(),1))?(c=e["$[]"](1).$split("."),d=a.to_ary(c),k=null==d[0]?b:d[0],g=n.call(d,1),c):(k=b,g=[]),e=h(e["$[]"](0)["$empty?"]())?[]:e["$[]"](0).$split("."),
h(m(e.$size(),1))&&e.$shift(),h(m(g.$size(),0))&&e.$concat(g),g=r([],{}),h(k)&&(k=["id",k],u(g,"[]=",a.to_a(k)),k[z(k.length,1)]),h(e["$empty?"]())||(k=["role",q(e," ")],u(g,"[]=",a.to_a(k)),k[z(k.length,1)]),g):r(["role"],{role:c})},ca.$$arity=1);a.def(w,"$parse_attributes",Y=function(a,c,d){var e,k=b,g=b;null==this.document&&(this.document=b);null==c&&(c=["role"]);null==d&&(d=r([],{}));if(!h(a))return b;if(h(a["$empty?"]()))return r([],{});h(h(e=d["$[]"]("sub_input"))?a["$include?"](f(C,"ATTR_REF_HEAD")):
e)&&(a=this.document.$sub_attributes(a));h(d["$[]"]("unescape_input"))&&(a=this.$unescape_bracketed_text(a));k=h(d.$fetch("sub_result",!0))?this:b;return h(g=d["$[]"]("into"))?f(C,"AttributeList").$new(a,k).$parse_into(g,c):f(C,"AttributeList").$new(a,k).$parse(c)},Y.$$arity=-2);a.def(w,"$expand_subs",va=function(a){var e,g,l=b;if(h(d("::","Symbol")["$==="](a)))return a["$=="]("none")?b:h(e=f(C,"SUB_GROUPS")["$[]"](a))?e:[a];l=[];u(a,"each",[],(g=function(a){var d=b;null==a&&(a=b);return a["$=="]("none")?
b:h(d=f(C,"SUB_GROUPS")["$[]"](a))?l=c(l,d):l["$<<"](a)},g.$$s=this,g.$$arity=1,g));return h(l["$empty?"]())?b:l},va.$$arity=1);a.def(w,"$unescape_bracketed_text",ma=function(a){h(a["$empty?"]())||h((a=a.$strip().$tr(f(C,"LF")," "))["$include?"](f(C,"R_SB")))&&(a=a.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB")));return a},ma.$$arity=1);a.def(w,"$normalize_string",ta=function(a,b){var c;null==b&&(b=!1);h(a["$empty?"]())||(a=a.$strip().$tr(f(C,"LF")," "),h(h(c=b)?a["$include?"](f(C,"R_SB")):c)&&(a=a.$gsub(f(C,
"ESC_R_SB"),f(C,"R_SB"))));return a},ta.$$arity=-2);a.def(w,"$unescape_brackets",ya=function(a){h(a["$empty?"]())||h(a["$include?"](f(C,"RS")))&&(a=a.$gsub(f(C,"ESC_R_SB"),f(C,"R_SB")));return a},ya.$$arity=1);a.def(w,"$split_simple_csv",oa=function(a){var c,d,e=b,f=b,k=b;h(a["$empty?"]())?e=[]:h(a["$include?"]('"'))?(e=[],f=[],k=!1,u(a,"each_char",[],(c=function(a){var c=b;null==a&&(a=b);return function(){c=a;if(","["$==="](c)){if(h(k))return f["$<<"](a);e["$<<"](f.$join().$strip());return f=[]}return'"'["$==="](c)?
k=k["$!"]():f["$<<"](a)}()},c.$$s=this,c.$$arity=1,c)),e["$<<"](f.$join().$strip())):e=u(a.$split(","),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},d.$$s=this,d.$$arity=1,d));return e},oa.$$arity=1);a.def(w,"$resolve_subs",Ia=function(a,d,e,g){var l,n=b,r=b,w=b,p=b;null==d&&(d="block");null==e&&(e=b);null==g&&(g=b);if(h(a["$nil_or_empty?"]()))return b;n=b;h(a["$include?"](" "))&&(a=a.$delete(" "));r=f(C,"SubModifierSniffRx")["$match?"](a);u(a.$split(","),"each",[],(l=function(a){var g,
l,m=b,w=g=b,u=w=b,m=b;null==a&&(a=b);m=b;h(r)&&((g=a.$chr())["$=="]("+")?(m="append",a=a["$[]"](y(1,-1,!1))):g["$=="]("-")?(m="remove",a=a["$[]"](y(1,-1,!1))):h(a["$end_with?"]("+"))&&(m="prepend",a=a.$chop()));a=a.$to_sym();h((g=d["$=="]("inline"))?h(l=a["$=="]("verbatim"))?l:a["$=="]("v"):d["$=="]("inline"))?w=f(C,"BASIC_SUBS"):h(f(C,"SUB_GROUPS")["$key?"](a))?w=f(C,"SUB_GROUPS")["$[]"](a):h(h(g=d["$=="]("inline")?a.$length()["$=="](1):d["$=="]("inline"))?f(C,"SUB_HINTS")["$key?"](a):g)?(w=f(C,
"SUB_HINTS")["$[]"](a),w=h(u=f(C,"SUB_GROUPS")["$[]"](w))?u:[w]):w=[a];if(h(m))return n=h(g=n)?g:h(e)?e.$dup():[],"append"["$==="](m)?n=c(n,w):"prepend"["$==="](m)?n=c(w,n):"remove"["$==="](m)?n=z(n,w):b;n=h(g=n)?g:[];return n=c(n,w)},l.$$s=this,l.$$arity=1,l));if(!h(n))return b;w=n["$&"](f(C,"SUB_OPTIONS")["$[]"](d));h(z(n,w)["$empty?"]())||(p=z(n,w),this.$logger().$warn("invalid substitution type"+(h(m(p.$size(),1))?"s":"")+(h(g)?" for ":"")+g+": "+q(p,", ")));return w},Ia.$$arity=-2);a.def(w,"$resolve_block_subs",
Ca=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},Ca.$$arity=3);a.def(w,"$resolve_pass_subs",Ha=function(a){return this.$resolve_subs(a,"inline",b,"passthrough macro")},Ha.$$arity=1);a.def(w,"$highlight_source",za=function(e,g,l){var m,n,w,B,G,v,y=b,H=b,P=b,ra=b,X=b,Qa=b,O=b,Ka=b,Na=b,F=b,x=y=b,I=b,t=b;null==this.document&&(this.document=b);null==this.passthroughs&&(this.passthroughs=b);null==l&&(l=b);y=l=h(m=l)?m:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](y)?
h(h(m=h(n=H=d("::","CodeRay","skip_raise")?"constant":b)?n:(w=A.$$cvars["@@coderay_unavailable"],null!=w)?"class variable":b)?m:this.document.$attributes()["$[]"]("coderay-unavailable"))||(h(f(C,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?a.class_variable_set(A,"@@coderay_unavailable",!0):H=!0):"pygments"["$==="](y)?h(h(m=h(n=H=d("::","Pygments","skip_raise")?"constant":b)?n:(B=A.$$cvars["@@pygments_unavailable"],null!=B)?"class variable":b)?m:this.document.$attributes()["$[]"]("pygments-unavailable"))||
(h(f(C,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?a.class_variable_set(A,"@@pygments_unavailable",!0):H=!0):H=!1;if(!h(H))return this.$sub_source(e,g);P=0;ra=!1;h(g)?(X=r([],{}),Qa=-1,O=h(this["$attr?"]("line-comment"))?new RegExp("(?:"+d("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+f(C,"CalloutExtractRxt")):f(C,"CalloutExtractRx"),e=q(u(e.$split(f(C,"LF"),-1),"map",[],(G=function(d){var e=G.$$s||this,g;null==d&&(d=b);P=c(P,1);return u(d,"gsub",[O],(g=function(){var c,
d=b,e=b;null==p["~"]&&(p["~"]=b);d=p["~"];if(d["$[]"](1)["$=="](f(C,"RS")))return d["$[]"](0).$sub(f(C,"RS"),"");(h(c=X["$[]"](P))?c:(e=[P,[]],u(X,"[]=",a.to_a(e)),e[z(e.length,1)]))["$<<"](d["$[]"](3));Qa=P;return b},g.$$s=e,g.$$arity=0,g))},G.$$s=this,G.$$arity=1,G)),f(C,"LF")),ra=Qa["$=="](P),h(X["$empty?"]())&&(X=b)):X=b;Na=Ka=b;y=l;"coderay"["$==="](y)?(h(Ka=h(this["$attr?"]("linenums",b,!1))?(h(m=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?m:"table").$to_sym():b)&&h(this["$attr?"]("highlight",
b,!1))&&(Na=this.$resolve_highlight_lines(this.$attr("highlight",b,!1))),F=d(d("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",r(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(h(m=this.document.$attributes()["$[]"]("coderay-css"))?m:"class").$to_sym(),line_numbers:Ka,line_number_anchors:!1,highlight_lines:Na,bold_every:!1})).$highlight(e)):"pygments"["$==="](y)&&(y=h(m=d(d("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language",
"text",!1)))?m:d(d("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),x=r(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),y.$name()["$=="]("PHP")&&(I=["startinline",this["$option?"]("mixed")["$!"]()],u(x,"[]=",a.to_a(I)),I[z(I.length,1)]),(h(m=this.document.$attributes()["$[]"]("pygments-css"))?m:"class")["$=="]("class")||(I=["noclasses",!0],u(x,"[]=",a.to_a(I)),I[z(I.length,1)],I=["style",h(m=this.document.$attributes()["$[]"]("pygments-style"))?
m:d(f(C,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],u(x,"[]=",a.to_a(I)),I[z(I.length,1)]),h(this["$attr?"]("highlight",b,!1))&&!h((Na=this.$resolve_highlight_lines(this.$attr("highlight",b,!1)))["$empty?"]())&&(I=["hl_lines",q(Na," ")],u(x,"[]=",a.to_a(I)),I[z(I.length,1)]),h(h(m=this["$attr?"]("linenums",b,!1))?(I=["linenos",h(n=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?n:"table"],u(x,"[]=",a.to_a(I)),I[z(I.length,1)])["$=="]("table"):m)?(Ka="table",F=h(F=y.$highlight(e,r(["options"],
{options:x})))?F.$sub(f(C,"PygmentsWrapperDivRx"),"\\1").$gsub(f(C,"PygmentsWrapperPreRx"),"\\1"):this.$sub_specialchars(e)):h(F=y.$highlight(e,r(["options"],{options:x})))?h(f(C,"PygmentsWrapperPreRx")["$=~"](F))&&(F=(m=p["~"])===b?b:m["$[]"](1)):F=this.$sub_specialchars(e));h(this.passthroughs["$empty?"]())||(F=F.$gsub(f(C,"HighlightedPassSlotRx"),""+f(C,"PASS_START")+"\\1"+f(C,"PASS_END")));return h(h(m=g)?X:m)?(P=0,t=Ka["$!="]("table"),q(u(F.$split(f(C,"LF"),-1),"map",[],(v=function(a){var d=
v.$$s||this,e,g,m,n=b,H=b,w=b,n=b;null==d.document&&(d.document=b);null==a&&(a=b);if(!h(t)){if(!h(a["$include?"]('<td class="code">')))return a;t=!0}P=c(P,1);if(h(n=X.$delete(P))){H=b;h(h(e=h(g=ra)?X["$empty?"]():g)?Ka["$=="]("table"):e)&&(h((e=l["$=="]("coderay"))?w=a.$index("</pre>"):l["$=="]("coderay"))?(e=[a.$slice(0,w),a.$slice(w,a.$length())],a=e[0],H=e[1],e):h((e=l["$=="]("pygments"))?w=a["$start_with?"]("</td>"):l["$=="]("pygments"))&&(e=["",a],a=e[0],H=e[1],e));if(n.$size()["$=="](1))return""+
a+f(C,"Inline").$new(d,"callout",n["$[]"](0),r(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()+H;n=q(u(n,"map",[],(m=function(a){var c=m.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return f(C,"Inline").$new(c,"callout",a,r(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},m.$$s=d,m.$$arity=1,m))," ");return""+a+n+H}return a},v.$$s=this,v.$$arity=1,v)),f(C,"LF"))):F},za.$$arity=-3);a.def(w,"$resolve_highlight_lines",Fa=function(c){var d,e=b,e=[];u((h(c["$include?"](" "))?
c.$delete(" "):c).$split(f(C,"DataDelimiterRx")),"map",[],(d=function(c){var d,f=b,k=b,k=d=b;null==c&&(c=b);f=!1;h(c["$start_with?"]("!"))&&(c=c["$[]"](y(1,-1,!1)),f=!0);return h(c["$include?"]("-"))?(c=c.$split("-",2),d=a.to_ary(c),k=null==d[0]?b:d[0],d=null==d[1]?b:d[1],c,k=a.Range.$new(k.$to_i(),d.$to_i(),!1).$to_a(),h(f)?e=z(e,k):e.$concat(k)):h(f)?e.$delete(c.$to_i()):e["$<<"](c.$to_i())},d.$$s=this,d.$$arity=1,d));return e.$sort().$uniq()},Fa.$$arity=1);a.def(w,"$sub_source",Ga=function(a,b){return h(b)?
this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},Ga.$$arity=2);a.def(w,"$lock_in_subs",Ea=function(){var c,d,e,k,g=b,l=g=b,m=b,g=b;null==this.default_subs&&(this.default_subs=b);null==this.content_model&&(this.content_model=b);null==this.context&&(this.context=b);null==this.subs&&(this.subs=b);null==this.attributes&&(this.attributes=b);null==this.style&&(this.style=b);null==this.document&&(this.document=b);if(!h(g=this.default_subs))if(g=this.content_model,"simple"["$==="](g))g=
f(C,"NORMAL_SUBS");else if("verbatim"["$==="](g))g=h(h(c=this.context["$=="]("listing"))?c:(d=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?f(C,"VERBATIM_SUBS"):this.context["$=="]("verse")?f(C,"NORMAL_SUBS"):f(C,"BASIC_SUBS");else if("raw"["$==="](g))g=this.context["$=="]("stem")?f(C,"BASIC_SUBS"):f(C,"NONE_SUBS");else return this.subs;h(l=this.attributes["$[]"]("subs"))?this.subs=h(c=this.$resolve_block_subs(l,g,this.context))?c:[]:this.subs=
g.$dup();h(h(c=h(d=h(e=h(k=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):k)?this.document["$basebackend?"]("html"):e)?f(C,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):d)?m=this.subs.$index("specialcharacters"):c)&&(g=[m,"highlight"],u(this.subs,"[]=",a.to_a(g)),g[z(g.length,1)]);return this.subs},Ea.$$arity=0)})(x[0],x)}(g[0],g)};Opal.modules["asciidoctor/abstract_node"]=function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var z=[],l=a.nil,g=a.const_get_qualified,b=a.const_get_relative,d=a.module,f=a.klass,n=a.truthy,p=a.hash2,r=a.send,e=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $converter $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $attr $image_uri $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open $content_type $read $base_dir $root? $path_resolver $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" "));
return function(h,u){function z(){}var v=[z=d(h,"Asciidoctor",z)].concat(u);(function(d,$super,h){function u(){}d=u=f(d,$super,"AbstractNode",u);var z=d.prototype,v=[d].concat(h),y,w,C,A,F,x,t,D,E,N,V,L,K,W,pa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,ha,Ca;z.document=z.attributes=z.parent=l;d.$include(b(v,"Logging"));d.$include(b(v,"Substitutors"));d.$attr_reader("attributes");d.$attr_reader("context");d.$attr_reader("document");d.$attr_accessor("id");d.$attr_reader("node_name");d.$attr_reader("parent");
a.def(d,"$initialize",y=function(a,b,c){null==c&&(c=p([],{}));b["$=="]("document")?(a=[this,l],this.document=a[0],this.parent=a[1],a):n(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=l;this.node_name=(this.context=b).$to_s();this.attributes=n(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():p([],{});return this.passthroughs=p([],{})},y.$$arity=-3);a.def(d,"$block?",w=function(){return this.$raise(g("::","NotImplementedError"))},w.$$arity=0);a.def(d,
"$inline?",C=function(){return this.$raise(g("::","NotImplementedError"))},C.$$arity=0);a.def(d,"$converter",A=function(){return this.document.$converter()},A.$$arity=0);a.def(d,"$parent=",F=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},F.$$arity=1);a.def(d,"$attr",x=function(a,b,c){var d,e;null==b&&(b=l);null==c&&(c=!0);a=a.$to_s();return n(d=this.attributes["$[]"](a))?d:n(n(e=c)?this.parent:e)?n(e=this.document.$attributes()["$[]"](a))?e:b:b},x.$$arity=-2);
a.def(d,"$attr?",t=function(a,b,c){var d,e,f;null==b&&(b=l);null==c&&(c=!0);a=a.$to_s();return n(b["$nil?"]())?n(d=this.attributes["$key?"](a))?d:n(e=n(f=c)?this.parent:f)?this.document.$attributes()["$key?"](a):e:b["$=="](n(d=this.attributes["$[]"](a))?d:n(n(e=c)?this.parent:e)?this.document.$attributes()["$[]"](a):l)},t.$$arity=-2);a.def(d,"$set_attr",D=function(b,d,e){var f=l;null==d&&(d="");null==e&&(e=!0);if(n(e["$=="](!1)?this.attributes["$key?"](b):e["$=="](!1)))return!1;f=[b,d];r(this.attributes,
"[]=",a.to_a(f));f[c(f.length,1)];return!0},D.$$arity=-2);a.def(d,"$remove_attr",E=function(a){return this.attributes.$delete(a)},E.$$arity=1);a.def(d,"$option?",N=function(a){return this.attributes["$key?"](""+a+"-option")},N.$$arity=1);a.def(d,"$set_option",V=function(b){var d=l,d=n(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+b]:["options",b];r(this.attributes,"[]=",a.to_a(d));d[c(d.length,1)];d=[""+b+"-option",""];r(this.attributes,"[]=",a.to_a(d));
return d[c(d.length,1)]},V.$$arity=1);a.def(d,"$update_attributes",L=function(a){this.attributes.$update(a);return l},L.$$arity=1);a.def(d,"$role",K=function(){var a;return n(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},K.$$arity=0);a.def(d,"$roles",W=function(){var a,b=l;return n((b=n(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},W.$$arity=0);a.def(d,"$role?",pa=function(a){var b;null==a&&(a=
l);return n(a)?a["$=="](n(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):n(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},pa.$$arity=-1);a.def(d,"$has_role?",ga=function(a){var b,c=l;return n(c=n(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))?(" "+c+" ")["$include?"](" "+a+" "):!1},ga.$$arity=1);a.def(d,"$add_role",ja=function(b){var d=l,d=l;if(n((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return d=
["role",b],r(this.attributes,"[]=",a.to_a(d)),d[c(d.length,1)],!0;if(n((" "+d+" ")["$include?"](" "+b+" ")))return!1;d=["role",""+d+" "+b];r(this.attributes,"[]=",a.to_a(d));d[c(d.length,1)];return!0},ja.$$arity=1);a.def(d,"$remove_role",aa=function(b){var d=l,d=l;return n((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:n((d=d.$split()).$delete(b))?(n(d["$empty?"]())?this.attributes.$delete("role"):(d=["role",m(d," ")],r(this.attributes,"[]=",a.to_a(d)),d[c(d.length,1)]),!0):!1},aa.$$arity=
1);a.def(d,"$reftext",R=function(){var a=l;return n(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):l},R.$$arity=0);a.def(d,"$reftext?",ua=function(){return this.attributes["$key?"]("reftext")},ua.$$arity=0);a.def(d,"$icon_uri",ia=function(a){var b=l;n(this["$attr?"]("icon"))?n(g("::","File").$extname(b=this.$attr("icon"))["$empty?"]())&&(b=""+b+"."+this.document.$attr("icontype","png")):b=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(b,"iconsdir")},ia.$$arity=
1);a.def(d,"$image_uri",ea=function(a,c){var d,e,f,k,h=l,m=l;null==c&&(c="imagesdir");return n(n(d=q((h=this.document).$safe(),g(b(v,"SafeMode"),"SECURE")))?h["$attr?"]("data-uri"):d)?n(n(d=n(e=b(v,"Helpers")["$uriish?"](a))?a=this.$uri_encode_spaces(a):e)?d:n(e=n(f=n(k=c)?m=h.$attr(c):k)?b(v,"Helpers")["$uriish?"](m):f)?a=this.$normalize_web_path(a,m,!1):e)?n(h["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,h["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,c):this.$normalize_web_path(a,
n(c)?h.$attr(c):l)},ea.$$arity=-2);a.def(d,"$media_uri",fa=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,n(b)?this.document.$attr(b):l)},fa.$$arity=-2);a.def(d,"$generate_data_uri",ca=function(a,b){var c=l,d=c=l;null==b&&(b=l);c=g("::","File").$extname(a);c=c["$=="](".svg")?"image/svg+xml":"image/"+c["$[]"](e(1,-1,!1));d=n(b)?this.$normalize_system_path(a,this.document.$attr(b),l,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(n(g("::","File")["$readable?"](d)))return"data:"+
c+";base64,"+g("::","Base64").$strict_encode64(g("::","IO").$binread(d));this.$logger().$warn("image to embed not found or not readable: "+d);return"data:"+c+";base64,"},ca.$$arity=-2);a.def(d,"$generate_data_uri_from_uri",Y=function(c,d){var e,f=l,k=l;null==d&&(d=!1);n(d)?b(v,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(g("::","RUBY_ENGINE_OPAL")["$!"]())&&g("::","OpenURI");try{return f=l,k=r(this,"open",[c,"rb"],(e=function(a){null==a&&(a=l);f=a.$content_type();return a.$read()},
e.$$s=this,e.$$arity=1,e)),"data:"+f+";base64,"+g("::","Base64").$strict_encode64(k)}catch(h){if(a.rescue(h,[b(v,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+c),c}finally{a.pop_exception()}else throw h;}},Y.$$arity=-2);a.def(d,"$normalize_asset_path",va=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,p(["target_name","recover"],{target_name:b,recover:c}))},va.$$arity=-2);a.def(d,"$normalize_system_path",
ma=function(a,c,d,e){var f=l;null==c&&(c=l);null==d&&(d=l);null==e&&(e=p([],{}));n(q((f=this.document).$safe(),g(b(v,"SafeMode"),"SAFE")))?n(c)?n(f.$path_resolver()["$root?"](c))||(c=g("::","File").$join(f.$base_dir(),c)):c=f.$base_dir():(n(c)||(c=f.$base_dir()),n(d)||(d=f.$base_dir()));return f.$path_resolver().$system_path(a,c,d,e)},ma.$$arity=-2);a.def(d,"$normalize_web_path",ta=function(a,c,d){var e;null==c&&(c=l);null==d&&(d=!0);return n(n(e=d)?b(v,"Helpers")["$uriish?"](a):e)?this.$uri_encode_spaces(a):
this.document.$path_resolver().$web_path(a,c)},ta.$$arity=-2);a.def(d,"$read_asset",ya=function(a,c){var d;null==c&&(c=p([],{}));n(g("::","Hash")["$==="](c))||(c=p(["warn_on_failure"],{warn_on_failure:c["$!="](!1)}));if(n(g("::","File")["$readable?"](a)))return n(c["$[]"]("normalize"))?m(b(v,"Helpers").$normalize_lines_from_string(g("::","IO").$read(a)),b(v,"LF")):g("::","IO").$read(a);n(c["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(n(d=this.$attr("docfile"))?d:"<stdin>")+": "+(n(d=c["$[]"]("label"))?
d:"file")+" does not exist or cannot be read: "+a);return l},ya.$$arity=-2);a.def(d,"$read_contents",oa=function(c,d){var e,f,k,h,w=l,u=l,z=l;null==d&&(d=p([],{}));w=this.document;if(n(n(e=b(v,"Helpers")["$uriish?"](c))?e:n(f=n(k=u=d["$[]"]("start"))?b(v,"Helpers")["$uriish?"](u):k)?c=w.$path_resolver().$web_path(c,u):f))if(n(w["$attr?"]("allow-uri-read"))){n(w["$attr?"]("cache-uri"))&&b(v,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return z=r(g("::","OpenURI"),"open_uri",
[c],(h=function(a){null==a&&(a=l);return a.$read()},h.$$s=this,h.$$arity=1,h)),n(d["$[]"]("normalize"))&&(z=m(b(v,"Helpers").$normalize_lines_from_string(z),b(v,"LF"))),z}catch(q){if(a.rescue(q,[b(v,"StandardError")]))try{return n(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(n(e=d["$[]"]("label"))?e:"asset")+" at URI: "+c),l}finally{a.pop_exception()}else throw q;}}else return n(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+
(n(e=d["$[]"]("label"))?e:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),l;else return c=this.$normalize_system_path(c,d["$[]"]("start"),l,p(["target_name"],{target_name:n(e=d["$[]"]("label"))?e:"asset"})),this.$read_asset(c,p(["normalize","warn_on_failure","label"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0),label:d["$[]"]("label")}))},oa.$$arity=-2);a.def(d,"$uri_encode_spaces",ha=function(a){return n(a["$include?"](" "))?a.$gsub(" ","%20"):
a},ha.$$arity=1);return(a.def(d,"$is_uri?",Ca=function(a){return b(v,"Helpers")["$uriish?"](a)},Ca.$$arity=1),l)&&"is_uri?"})(v[0],null,v)}(z[0],z)};Opal.modules["asciidoctor/abstract_block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var z=[],l=a.nil,g=a.const_get_relative,b=a.module,d=a.klass,f=
a.send,n=a.truthy,p=a.hash2;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $!= $level $file $lineno $playback_attributes $convert $converter $* $map $to_s $parent $parent= $- $<< $! $empty? $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $context $blocks $+ $find_index $next_adjacent_block $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $include? $delete $reftext $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $number= $number $caption= $assign_numeral $reindex_sections".split(" "));
return function(r,e){function h(){}var u=[h=b(r,"Asciidoctor",h)].concat(e);(function(b,$super,e){function h(){}b=h=d(b,$super,"AbstractBlock",h);var r=b.prototype,u=[b].concat(e),z,v,y,w,C,A,F,x,t,D,E,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y;r.source_location=r.document=r.attributes=r.blocks=r.next_section_index=r.context=r.style=r.id=r.header=r.caption=r.title_converted=r.converted_title=r.title=r.subs=r.number=r.next_section_number=l;b.$attr_reader("blocks");b.$attr_writer("caption");b.$attr_accessor("content_model");
b.$attr_accessor("level");b.$attr_accessor("number");b.$attr_accessor("source_location");b.$attr_accessor("style");b.$attr_reader("subs");a.def(b,"$initialize",z=function(b,c,d){var e=z.$$p,k=l,h=l,g=l;null==d&&(d=p([],{}));e&&(z.$$p=null);h=0;g=arguments.length;for(k=Array(g);h<g;h++)k[h]=arguments[h];f(this,a.find_super_dispatcher(this,"initialize",z,!1),k,e);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=
this.source_location=l;c["$=="]("document")?this.level=0:n(n(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=l;this.next_section_index=0;return this.next_section_number=1},z.$$arity=-3);a.def(b,"$block?",v=function(){return!0},v.$$arity=0);a.def(b,"$inline?",y=function(){return!1},y.$$arity=0);a.def(b,"$file",w=function(){var a;return n(a=this.source_location)?this.source_location.$file():a},w.$$arity=0);a.def(b,"$lineno",C=function(){var a;return n(a=this.source_location)?this.source_location.$lineno():
a},C.$$arity=0);a.def(b,"$convert",A=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},A.$$arity=0);a.alias(b,"render","convert");a.def(b,"$content",F=function(){var a;return c(f(this.blocks,"map",[],(a=function(a){null==a&&(a=l);return a.$convert()},a.$$s=this,a.$$arity=1,a)),g(u,"LF"))},F.$$arity=0);a.def(b,"$context=",x=function(a){return this.node_name=(this.context=a).$to_s()},x.$$arity=1);a.def(b,"$<<",t=function(b){var c=l;b.$parent()["$=="](this)||
(c=[this],f(b,"parent=",a.to_a(c)),c[m(c.length,1)]);this.blocks["$<<"](b);return this},t.$$arity=1);a.alias(b,"append","<<");a.def(b,"$blocks?",D=function(){return this.blocks["$empty?"]()["$!"]()},D.$$arity=0);a.def(b,"$sections?",E=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},E.$$arity=0);a.def(b,"$find_by",N=function(b){var c,d,e,k,h,g,m=N.$$p,r=m||l,w=l,u=l,z=l,q=l,B=l,v=l;null==b&&(b=p([],{}));m&&(N.$$p=null);w=[];if(n(n(c=n(d=n(e=n(k=u=(z=b["$[]"]("context"))["$!"]())?
k:z["$=="](this.context))?n(k=(q=b["$[]"]("style"))["$!"]())?k:q["$=="](this.style):e)?n(e=(B=b["$[]"]("role"))["$!"]())?e:this["$has_role?"](B):d)?n(d=(v=b["$[]"]("id"))["$!"]())?d:v["$=="](this.id):c)){if(n(v))return r!==l?n(a.yield1(r,this))?[this]:w:[this];if(r!==l){if(n(a.yield1(r,this)))w["$<<"](this)}else w["$<<"](this)}n(n(c=(d=this.context["$=="]("document"))?n(e=u)?e:z["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():c)&&w.$concat(f(this.header,"find_by",[b],r.$to_proc()));
z["$=="]("document")||(this.context["$=="]("dlist")?n(n(c=u)?c:z["$!="]("section"))&&f(this.blocks.$flatten(),"each",[],(h=function(a){null==a&&(a=l);return n(a)?w.$concat(f(a,"find_by",[b],r.$to_proc())):l},h.$$s=this,h.$$arity=1,h)):n(f(this.blocks,"each",[],(g=function(a){null==a&&(a=l);return n(z["$=="]("section")?a.$context()["$!="]("section"):z["$=="]("section"))?l:w.$concat(f(a,"find_by",[b],r.$to_proc()))},g.$$s=this,g.$$arity=1,g))));return w},N.$$arity=-1);a.alias(b,"query","find_by");a.def(b,
"$next_adjacent_block",V=function(){var a=l,b=l;return this.context["$=="]("document")?l:n(a=(b=this.$parent()).$blocks()["$[]"](q(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},V.$$arity=0);a.def(b,"$sections",L=function(){var a;return f(this.blocks,"select",[],(a=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},L.$$arity=0);a.def(b,"$alt",K=function(){var a=l;if(n(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);
a=this.$sub_specialchars(a);return n(g(u,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return l},K.$$arity=0);a.def(b,"$caption",W=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},W.$$arity=0);a.def(b,"$captioned_title",qa=function(){return""+this.caption+this.$title()},qa.$$arity=0);a.def(b,"$list_marker_keyword",ga=function(a){var b;null==a&&(a=l);return g(u,"ORDERED_LIST_KEYWORDS")["$[]"](n(b=a)?b:this.style)},ga.$$arity=-1);
a.def(b,"$title",ja=function(){var a,b;return n(this.title_converted)?this.converted_title:this.converted_title=n(a=n(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},ja.$$arity=0);a.def(b,"$title?",aa=function(){return n(this.title)?!0:!1},aa.$$arity=0);a.def(b,"$title=",R=function(a){var b;return b=[a,l],this.title=b[0],this.title_converted=b[1],b},R.$$arity=1);a.def(b,"$sub?",ua=function(a){return this.subs["$include?"](a)},ua.$$arity=1);a.def(b,"$remove_sub",ia=function(a){this.subs.$delete(a);
return l},ia.$$arity=1);a.def(b,"$xreftext",ea=function(a){var b,c,d=l,e=l,f=e=l;null==a&&(a=l);n(n(b=d=this.$reftext())?d["$empty?"]()["$!"]():b)?b=d:(n(n(b=n(c=a)?this.title:c)?this.caption:b)?(e=a,"full"["$==="](e)?(e=this.$sprintf(this.$sub_quotes(n(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=n(n(b=this.number)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.number+", "+e:""+this.caption.$chomp(". ")+
", "+e):a="short"["$==="](e)?n(n(b=this.number)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.number:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},ea.$$arity=-1);a.def(b,"$assign_caption",fa=function(a,b){var c,d,e=l;null==a&&(a=l);null==b&&(b=l);!n(n(c=n(d=this.caption)?d:this.title["$!"]())?c:this.caption=n(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&n(e=this.document.$attributes()["$[]"](""+
(b=n(c=b)?c:this.context)+"-caption"))&&(this.caption=""+e+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return l},fa.$$arity=-1);a.def(b,"$assign_numeral",ca=function(b){var c,d=l,e=l,k=l,h=l;this.next_section_index=q((d=[this.next_section_index],f(b,"index=",a.to_a(d)),d[m(d.length,1)]),1);n(e=b.$numbered())&&((k=b.$sectname())["$=="]("appendix")?(d=[this.document.$counter("appendix-number","A")],f(b,"number=",a.to_a(d)),d[m(d.length,1)],d=n(h=this.document.$attributes()["$[]"]("appendix-caption"))?
[""+h+" "+b.$number()+": "]:[""+b.$number()+". "],f(b,"caption=",a.to_a(d)),d[m(d.length,1)]):n(n(c=k["$=="]("chapter"))?c:e["$=="]("chapter"))?(d=[this.document.$counter("chapter-number",1)],f(b,"number=",a.to_a(d)),d[m(d.length,1)]):this.next_section_number=q((d=[this.next_section_number],f(b,"number=",a.to_a(d)),d[m(d.length,1)]),1));return l},ca.$$arity=1);return(a.def(b,"$reindex_sections",Y=function(){var a;this.next_section_index=0;this.next_section_number=1;return f(this.blocks,"each",[],
(a=function(b){var c=a.$$s||this;null==b&&(b=l);return b.$context()["$=="]("section")?(c.$assign_numeral(b),b.$reindex_sections()):l},a.$$s=this,a.$$arity=1,a))},Y.$$arity=0),l)&&"reindex_sections"})(u[0],g(u,"AbstractNode"),u)}(z[0],z)};Opal.modules["asciidoctor/attribute_list"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var q=[],z=a.nil,l=a.const_get_qualified,g=a.const_get_relative,
b=a.module,d=a.klass,f=a.hash2,n=a.truthy,p=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(r,e){function h(){}var u=[h=b(r,"Asciidoctor",h)].concat(e);(function(b,$super,e){function h(){}b=h=d(b,$super,"AttributeList",
h);var r=b.prototype,u=[b].concat(e),q,v,y,w,C,A,F,x,t,M,D,E;r.attributes=r.scanner=r.delimiter=r.block=r.delimiter_skip_pattern=r.delimiter_boundary_pattern=z;a.const_set(u[0],"BACKSLASH","\\");a.const_set(u[0],"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(u[0],"EscapedQuotes",f(['"',"'"],{'"':'\\"',"'":"\\'"}));a.const_set(u[0],"NameRx",new RegExp(""+g(u,"CG_WORD")+"["+g(u,"CC_WORD")+"\\-.]*"));a.const_set(u[0],"BlankRx",/[ \t]+/);
a.const_set(u[0],"SkipRxs",f(["blank",","],{blank:g(u,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(b,"$initialize",q=function(a,b,c){null==b&&(b=z);null==c&&(c=",");this.scanner=l("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=g(u,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=g(u,"BoundaryRxs")["$[]"](c);return this.attributes=z},q.$$arity=-2);a.def(b,"$parse_into",v=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},v.$$arity=-2);a.def(b,"$parse",
y=function(a){var b=z;null==a&&(a=[]);if(n(this.attributes))return this.attributes;this.attributes=f([],{});for(b=0;n(this.$parse_attribute(b,a))&&!n(this.scanner["$eos?"]());)this.$skip_delimiter(),b=c(b,1);return this.attributes},y.$$arity=-1);a.def(b,"$rekey",w=function(a){return g(u,"AttributeList").$rekey(this.attributes,a)},w.$$arity=1);a.defs(b,"$rekey",C=function(b,d){var e;p(d,"each_with_index",[],(e=function(d,e){var f=z,f=f=z;null==d&&(d=z);null==e&&(e=z);if(!n(d))return z;f=c(e,1);return n(f=
b["$[]"](f))?(f=[d,f],p(b,"[]=",a.to_a(f)),f[m(f.length,1)]):z},e.$$s=this,e.$$arity=2,e));return b},C.$$arity=2);a.def(b,"$parse_attribute",A=function(b,d){var e,f,h=z,g=z,l=g=z,r=z,w=z,g=h=g=r=z;null==b&&(b=0);null==d&&(d=[]);h=!1;this.$skip_blank();if((g=this.scanner.$peek(1))["$=="]('"'))g=this.$parse_attribute_value(this.scanner.$get_byte()),l=z;else if(g["$=="]("'"))g=this.$parse_attribute_value(this.scanner.$get_byte()),l=z,h=!0;else{g=this.$scan_name();r=0;w=z;if(n(this.scanner["$eos?"]())){if(!n(g))return!1}else r=
n(e=this.$skip_blank())?e:0,w=this.scanner.$get_byte();if(n(n(e=w["$!"]())?e:w["$=="](this.delimiter)))l=z;else if(n(n(e=w["$!="]("="))?e:g["$!"]()))g=""+g+" "["$*"](r)+w+this.$scan_to_delimiter(),l=z;else if(this.$skip_blank(),n(this.scanner.$peek(1)))if((w=this.scanner.$get_byte())["$=="]('"'))l=this.$parse_attribute_value(w);else if(w["$=="]("'"))l=this.$parse_attribute_value(w),h=!0;else if(w["$=="](this.delimiter))l=z;else if(l=""+w+this.$scan_to_delimiter(),l["$=="]("None"))return!0}n(l)?(r=
g,"options"["$==="](r)||"opts"["$==="](r)?(n(l["$include?"](","))?(n(l["$include?"](" "))&&(l=l.$delete(" ")),p(l.$split(","),"each",[],(f=function(b){var c=f.$$s||this,d=z;null==c.attributes&&(c.attributes=z);null==b&&(b=z);if(n(b["$empty?"]()))return z;d=[""+b+"-option",""];p(c.attributes,"[]=",a.to_a(d));return d[m(d.length,1)]},f.$$s=this,f.$$arity=1,f))):(g=[""+(l=l.$strip())+"-option",""],p(this.attributes,"[]=",a.to_a(g)),g[m(g.length,1)]),g=["options",l]):n(n(e=h)?this.block:e)?(r=g,g="title"["$==="](r)||
"reftext"["$==="](r)?[g,l]:[g,this.block.$apply_subs(l)]):g=[g,l]):(h=n(n(e=h)?this.block:e)?this.block.$apply_subs(g):g,n(g=d["$[]"](b))&&(g=[g,h],p(this.attributes,"[]=",a.to_a(g)),g[m(g.length,1)]),g=[c(b,1),h]);p(this.attributes,"[]=",a.to_a(g));g[m(g.length,1)];return!0},A.$$arity=-1);a.def(b,"$parse_attribute_value",F=function(a){var b=z;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):n(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),n(b["$include?"](g(u,"BACKSLASH")))?
b.$gsub(g(u,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},F.$$arity=1);a.def(b,"$skip_blank",x=function(){return this.scanner.$skip(g(u,"BlankRx"))},x.$$arity=0);a.def(b,"$skip_delimiter",t=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},t.$$arity=0);a.def(b,"$scan_name",M=function(){return this.scanner.$scan(g(u,"NameRx"))},M.$$arity=0);a.def(b,"$scan_to_delimiter",D=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},D.$$arity=0);return(a.def(b,
"$scan_to_quote",E=function(a){return this.scanner.$scan(g(u,"BoundaryRxs")["$[]"](a))},E.$$arity=1),z)&&"scan_to_quote"})(u[0],null,u)}(q[0],q)};Opal.modules["asciidoctor/block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=[],z=a.nil,l=a.const_get_qualified,g=a.const_get_relative,b=a.module,d=a.klass,f=a.send,n=a.hash2,p=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));
return function(r,e){function h(){}var u=[h=b(r,"Asciidoctor",h)].concat(e);(function(b,$super,e){function h(){}b=h=d(b,$super,"Block",h);var r=b.prototype,u=[b].concat(e),q,v,y,w;e=z;r.attributes=r.content_model=r.lines=r.subs=r.blocks=r.context=r.style=z;e=["simple"];f(a.const_set(u[0],"DEFAULT_CONTENT_MODEL",n("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",
pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(e));e[c(e.length,1)];a.alias(b,"blockname","context");b.$attr_accessor("lines");a.def(b,"$initialize",q=function(b,d,e){var h,m=q.$$p,r=z,w=r=z,B=r=z,v=z;null==e&&(e=n([],{}));m&&(q.$$p=null);B=0;v=arguments.length;for(r=Array(v);B<v;B++)r[B]=arguments[B];f(this,a.find_super_dispatcher(this,"initialize",q,!1),r,m);this.content_model=p(h=e["$[]"]("content_model"))?h:g(u,"DEFAULT_CONTENT_MODEL")["$[]"](d);p(e["$key?"]("subs"))?p(r=
e["$[]"]("subs"))?(r["$=="]("default")?this.default_subs=e["$[]"]("default_subs"):p(l("::","Array")["$==="](r))?(this.default_subs=r.$dup(),this.attributes.$delete("subs")):(this.default_subs=z,r=["subs",""+r],f(this.attributes,"[]=",a.to_a(r)),r[c(r.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=z;return p((w=e["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:p(l("::","String")["$==="](w))?this.lines=g(u,"Helpers").$normalize_lines_from_string(w):
this.lines=w.$dup()},q.$$arity=-3);a.def(b,"$content",v=function(){var b,c=this,d=v.$$p,e=z,k=z,h=z,l=z,n=z,r=z,w=z;d&&(v.$$p=null);r=0;w=arguments.length;for(n=Array(w);r<w;r++)n[r]=arguments[r];return function(){e=c.content_model;if("compound"["$==="](e))return f(c,a.find_super_dispatcher(c,"content",v,!1),n,d);if("simple"["$==="](e))return c.$apply_subs(m(c.lines,g(u,"LF")),c.subs);if("verbatim"["$==="](e)||"raw"["$==="](e)){k=c.$apply_subs(c.lines,c.subs);var r;r=k.$size();r="number"===typeof r?
2>r:r["$<"](2);if(p(r))return k["$[]"](0);for(;p(p(b=h=k["$[]"](0))?h.$rstrip()["$empty?"]():b);)k.$shift();for(;p(p(b=l=k["$[]"](-1))?l.$rstrip()["$empty?"]():b);)k.$pop();return m(k,g(u,"LF"))}c.content_model["$=="]("empty")||c.$logger().$warn("Unknown content model '"+c.content_model+"' for block: "+c.$to_s());return z}()},v.$$arity=0);a.def(b,"$source",y=function(){return m(this.lines,g(u,"LF"))},y.$$arity=0);return(a.def(b,"$to_s",w=function(){var a=z,a=this.content_model["$=="]("compound")?
"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},w.$$arity=0),z)&&"to_s"})(u[0],g(u,"AbstractBlock"),u)}(q[0],q)};Opal.modules["asciidoctor/callouts"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:
a["$-"](b)}var q=[],z=a.nil,l=a.module,g=a.klass,b=a.hash2,d=a.truthy,f=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(n,q){function r(){}var e=[r=l(n,"Asciidoctor",r)].concat(q);(function(e,$super,l){function n(){}e=n=g(e,$super,"Callouts",n);var r=e.prototype;[e].concat(l);var q,p,v,y,A,x,w,C,t;r.co_index=r.lists=r.list_index=z;a.def(e,"$initialize",q=function(){this.lists=
[];this.list_index=0;return this.$next_list()},q.$$arity=0);a.def(e,"$register",p=function(a){var d=z;this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=c(this.co_index,1);return d},p.$$arity=1);a.def(e,"$read_next_id",v=function(){var a=z,b=z,a=z,b=this.$current_list(),e;e=this.co_index;var f=b.$size();e="number"===typeof e&&"number"===typeof f?e<=f:e["$<="](f);d(e)&&(a=b["$[]"](m(this.co_index,1))["$[]"]("id"));this.co_index=
c(this.co_index,1);return a},v.$$arity=0);a.def(e,"$callout_ids",y=function(a){var b;return f(this.$current_list(),"map",[],(b=function(b){null==b&&(b=z);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},y.$$arity=1);a.def(e,"$current_list",A=function(){return this.lists["$[]"](m(this.list_index,1))},A.$$arity=0);a.def(e,"$next_list",x=function(){this.list_index=c(this.list_index,1);var a;a=this.lists.$size();var b=this.list_index;a="number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b);if(d(a))this.lists["$<<"]([]);this.co_index=1;return z},x.$$arity=0);a.def(e,"$rewind",w=function(){this.co_index=this.list_index=1;return z},w.$$arity=0);a.def(e,"$generate_next_callout_id",C=function(){return this.$generate_callout_id(this.list_index,this.co_index)},C.$$arity=0);return(a.def(e,"$generate_callout_id",t=function(a,b){return"CO"+a+"-"+b},t.$$arity=2),z)&&"generate_callout_id"})(e[0],null,e)}(q[0],q)};Opal.modules["asciidoctor/converter/base"]=
function(a){var c=[],m=a.nil,q=a.const_get_relative,z=a.module,l=a.klass,g=a.hash2,b=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(c,f){function k(){}var p=[k=z(c,"Asciidoctor",k)].concat(f);(function(a,b){function c(){}[c=z(a,"Converter",c)].concat(b);m})(p[0],p);(function(a,$super,b){function c(){}a=c=l(a,$super,"Base",c);b=[a].concat(b);a.$include(q(b,"Logging"));return a.$include(q(b,"Converter"))})(q(p,"Converter"),null,p);(function(c,$super,d){function f(){}
c=f=l(c,$super,"BuiltIn",f);d=[c].concat(d);var k,n,z,p;c.$include(q(d,"Logging"));a.def(c,"$initialize",k=function(a,b){null==b&&g([],{});return m},k.$$arity=-2);a.def(c,"$convert",n=function(a,c,d){var f;null==c&&(c=m);null==d&&(d=g([],{}));c=b(f=c)?f:a.$node_name();return b(d["$empty?"]())?this.$send(c,a):this.$send(c,a,d)},n.$$arity=-2);a.alias(c,"handles?","respond_to?");a.def(c,"$content",z=function(a){return a.$content()},z.$$arity=1);a.alias(c,"pass","content");return(a.def(c,"$skip",p=function(a){return m},
p.$$arity=1),m)&&"skip"})(q(p,"Converter"),null,p)}(c[0],c)};Opal.modules["asciidoctor/converter/factory"]=function(a){var c=[],m=a.nil,q=a.const_get_qualified,z=a.const_get_relative,l=a.module,g=a.klass,b=a.truthy,d=a.hash2,f=a.send;a.add_stubs("$new $require $to_s $include? $include $warn $logger $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $supports_templates? $key?".split(" "));return function(c,k){function r(){}var e=[r=l(c,"Asciidoctor",
r)].concat(k);(function(c,e){function k(){}var n=[k=l(c,"Converter",k)].concat(e);(function(c,$super,e){function k(){}c=k=g(c,$super,"Factory",k);var h=c.prototype,l=[c].concat(e),n,r,u,p,v;h.converters=h.star_converter=m;c.__default__=m;(function(c,e){var f=[c].concat(e),k,h,g,l,n,r;a.def(c,"$default",k=function(c){var d;null==this.__default__&&(this.__default__=m);null==c&&(c=!0);if(!b(c))return b(d=this.__default__)?d:this.$new();var e;if(b(d=this.__default__))e=d;else a:{try{b(q("::","ThreadSafe",
"skip_raise")?"constant":m)||this.$require("thread_safe".$to_s());e=this.$new(q(q("::","ThreadSafe"),"Cache").$new());break a}catch(k){if(a.rescue(k,[q("::","LoadError")]))try{b(this["$include?"](z(f,"Logging")))||this.$include(z(f,"Logging"));this.$logger().$warn("gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");e=this.$new();break a}finally{a.pop_exception()}else throw k;}e=void 0}return this.__default__=e},k.$$arity=-1);a.def(c,"$register",h=function(a,
b){null==b&&(b=["*"]);return this.$default().$register(a,b)},h.$$arity=-2);a.def(c,"$resolve",g=function(a){return this.$default().$resolve(a)},g.$$arity=1);a.def(c,"$create",l=function(a,b){null==b&&(b=d([],{}));return this.$default().$create(a,b)},l.$$arity=-2);a.def(c,"$converters",n=function(){return this.$default().$converters()},n.$$arity=0);return(a.def(c,"$unregister_all",r=function(){return this.$default().$unregister_all()},r.$$arity=0),m)&&"unregister_all"})(a.get_singleton_class(c),l);
c.$attr_reader("converters");a.def(c,"$initialize",n=function(a){var c;null==a&&(a=m);this.converters=b(c=a)?c:d([],{});return this.star_converter=m},n.$$arity=-1);a.def(c,"$register",r=function(b,c){var d;null==c&&(c=["*"]);f(c,"each",[],(d=function(c){var e=d.$$s||this,k=m;null==e.converters&&(e.converters=m);null==c&&(c=m);k=[c,b];f(e.converters,"[]=",a.to_a(k));var h=k,k=k.length,k="number"===typeof k?k-1:k["$-"](1);h[k];return c["$=="]("*")?e.star_converter=b:m},d.$$s=this,d.$$arity=1,d));return m},
r.$$arity=-2);a.def(c,"$resolve",u=function(a){var c,d;return b(c=this.converters)?b(d=this.converters["$[]"](a))?d:this.star_converter:c},u.$$arity=1);a.def(c,"$unregister_all",p=function(){this.converters.$clear();return this.star_converter=m},p.$$arity=0);return(a.def(c,"$create",v=function(a,c){var e,f,k,h,g,n,r,w,u,p,v,y,A,C=m,F=m,C=C=m;null==c&&(c=d([],{}));if(b(C=this.$resolve(a))){if(F=b(q("::","Class")["$==="](C))?C.$new(a,c):C,!b(b(e=q(z(l,"Converter"),"BackendInfo")["$==="](F))?F["$supports_templates?"]():
e))return F}else C=a,"html5"["$==="](C)?(b((k=q("::","Asciidoctor","skip_raise"))&&(f=q(k,"Converter","skip_raise"))&&q(f,"Html5Converter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/html5".$to_s()),F=z(l,"Html5Converter").$new(a,c)):"docbook5"["$==="](C)?(b((g=q("::","Asciidoctor","skip_raise"))&&(h=q(g,"Converter","skip_raise"))&&q(h,"DocBook5Converter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/docbook5".$to_s()),F=z(l,"DocBook5Converter").$new(a,c)):
"docbook45"["$==="](C)?(b((r=q("::","Asciidoctor","skip_raise"))&&(n=q(r,"Converter","skip_raise"))&&q(n,"DocBook45Converter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/docbook45".$to_s()),F=z(l,"DocBook45Converter").$new(a,c)):"manpage"["$==="](C)&&(b((u=q("::","Asciidoctor","skip_raise"))&&(w=q(u,"Converter","skip_raise"))&&q(w,"ManPageConverter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/manpage".$to_s()),F=z(l,"ManPageConverter").$new(a,c));if(!b(c["$key?"]("template_dirs")))return F;
b((v=q("::","Asciidoctor","skip_raise"))&&(p=q(v,"Converter","skip_raise"))&&q(p,"TemplateConverter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/template".$to_s());C=z(l,"TemplateConverter").$new(a,c["$[]"]("template_dirs"),c);b((A=q("::","Asciidoctor","skip_raise"))&&(y=q(A,"Converter","skip_raise"))&&q(y,"CompositeConverter","skip_raise")?"constant":m)||this.$require("asciidoctor/converter/composite".$to_s());return z(l,"CompositeConverter").$new(a,C,F)},v.$$arity=-2),m)&&
"create"})(n[0],null,n)})(e[0],e)}(c[0],c)};Opal.modules["asciidoctor/converter"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=a.top,q=[],z=a.nil,l=a.const_get_qualified,g=a.const_get_relative,b=a.module,d=a.send,f=a.truthy,n=a.range,p=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(m,e){function h(){}var u=
[h=b(m,"Asciidoctor",h)].concat(e);(function(e,h){function m(){}var r=m=b(e,"Converter",m),u=[r].concat(h),q,v;(function(c,e){function f(){}var k=f=b(c,"Config",f),h=[k].concat(e),l;a.def(k,"$register_for",l=function(b){var c,e,f,k=z,k=arguments.length,l=k-0;0>l&&(l=0);f=Array(l);for(l=0;l<k;l++)f[l-0]=arguments[l];g(h,"Factory").$register(this,f);k=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),h);f["$=="](["*"])?d(k,"send",["define_method","converts?"],(c=function(a){return!0},
c.$$s=this,c.$$arity=1,c)):d(k,"send",["define_method","converts?"],(e=function(a){null==a&&(a=z);return f["$include?"](a)},e.$$s=this,e.$$arity=1,e));return z},l.$$arity=-1)})(u[0],u);(function(e,h){function m(){}var r=m=b(e,"BackendInfo",m),u=[r].concat(h),q,v,B,G,y,A,x,t;a.def(r,"$backend_info",q=function(){var a;null==this.backend_info&&(this.backend_info=z);return this.backend_info=f(a=this.backend_info)?a:this.$setup_backend_info()},q.$$arity=0);a.def(r,"$setup_backend_info",v=function(){var a=
z,b=z,c=z,d=z;null==this.backend&&(this.backend=z);f(this.backend)||this.$raise(l("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());a=this.backend.$sub(g(u,"TrailingDigitsRx"),"");f(b=g(u,"DEFAULT_EXTENSIONS")["$[]"](a))?c=b["$[]"](n(1,-1,!1)):(a="html",b=".html",d=c="html");return p(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:a,outfilesuffix:b,filetype:c,htmlsyntax:d})},v.$$arity=0);a.def(r,"$filetype",B=function(b){var e=z;null==b&&(b=z);return f(b)?
(e=["filetype",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("filetype")},B.$$arity=-1);a.def(r,"$basebackend",G=function(b){var e=z;null==b&&(b=z);return f(b)?(e=["basebackend",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},G.$$arity=-1);a.def(r,"$outfilesuffix",y=function(b){var e=z;null==b&&(b=z);return f(b)?(e=["outfilesuffix",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},
y.$$arity=-1);a.def(r,"$htmlsyntax",A=function(b){var e=z;null==b&&(b=z);return f(b)?(e=["htmlsyntax",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},A.$$arity=-1);a.def(r,"$supports_templates",x=function(){var b=z,b=["supports_templates",!0];d(this.$backend_info(),"[]=",a.to_a(b));return b[c(b.length,1)]},x.$$arity=0);a.def(r,"$supports_templates?",t=function(){return this.$backend_info()["$[]"]("supports_templates")},t.$$arity=0)})(u[0],u);
(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$included",e=function(a){return a.$extend(g(d,"Config"))},e.$$arity=1),z)&&"included"})(a.get_singleton_class(r),u);r.$include(g(u,"Config"));r.$include(g(u,"BackendInfo"));a.def(r,"$initialize",q=function(a,b){null==b&&p([],{});this.backend=a;return this.$setup_backend_info()},q.$$arity=-2);a.def(r,"$convert",v=function(a,b,c){null==c&&p([],{});return this.$raise(l("::","NotImplementedError"))},v.$$arity=-2);a.alias(r,"handles?","respond_to?");
a.alias(r,"convert_with_options","convert")})(u[0],u);(function(c,d){function e(){}var k=e=b(c,"Writer",e),h=[k].concat(d),m;a.def(k,"$write",m=function(a,b){f(b["$respond_to?"]("write"))?(b.$write(a.$chomp()),b.$write(g(h,"LF"))):l("::","IO").$write(b,a);return z},m.$$arity=2)})(u[0],u);(function(c,d){function e(){}var f=e=b(c,"VoidWriter",e),k=[f].concat(d),h;f.$include(g(k,"Writer"));a.def(f,"$write",h=function(a,b){return z},h.$$arity=2)})(u[0],u)})(q[0],q);m.$require("asciidoctor/converter/base");
return m.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function z(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var l=[],g=a.nil,b=a.const_get_qualified,d=a.const_get_relative,f=a.module,n=a.klass,p=
a.truthy,r=a.send,e=a.hash2,h=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $inject $catalog $== $dup $attributes $safe $compat_mode $sourcemap $path_resolver $converter $extensions $each $end_with? $start_with? $slice $length $chop $downcase $extname $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $strftime $year $fetch $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $doctitle $sectname= $title= $first_section $title $merge $find $context $assign_numeral $clear_playback_attributes $save_attributes $attribute_locked? $rewind $replace $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $Array $backend $default $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(l,v){function y(){}var A=[y=f(l,"Asciidoctor",y)].concat(v);(function(f,$super,l){function u(){}f=u=n(f,$super,"Document",u);var v=f.prototype,y=[f].concat(l),w,A,x,F,t,D,E,Z,N,V,L,K,W,qa,ga,ja,aa,R,da,pa,ea,fa,ca,Y,va,ma,ta,ya,oa,ha,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma;v.attributes=v.safe=v.sourcemap=v.reader=v.base_dir=v.parsed=v.parent_document=v.extensions=v.options=v.counters=v.catalog=v.header=v.blocks=v.attributes_modified=v.id=v.header_attributes=v.max_attribute_value_size=
v.attribute_overrides=v.backend=v.doctype=v.converter=v.timings=v.outfilesuffix=v.docinfo_processor_extensions=v.document=g;a.const_set(y[0],"Footnote",b("::","Struct").$new("index","id","text"));(function(b,$super,d){function e(){}b=e=n(b,$super,"AttributeEntry",e);[b].concat(d);var f,h;b.$attr_reader("name","value","negate");a.def(b,"$initialize",f=function(a,b,c){null==c&&(c=g);this.name=a;this.value=b;return this.negate=p(c["$nil?"]())?b["$nil?"]():c},f.$$arity=-3);return(a.def(b,"$save_to",h=
function(b){var d,e=g;(p(d=b["$[]"]("attribute_entries"))?d:(e=["attribute_entries",[]],r(b,"[]=",a.to_a(e)),e[c(e.length,1)]))["$<<"](this);return this},h.$$arity=1),g)&&"save_to"})(y[0],null,y);(function(b,$super,c){function f(){}b=f=n(b,$super,"Title",f);var k=b.prototype,h=[b].concat(c),l,m,r,w;k.sanitized=k.subtitle=k.combined=g;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",l=function(b,c){var f,k,l=g;null==c&&(c=
e([],{}));p(p(f=this.sanitized=c["$[]"]("sanitize"))?b["$include?"]("<"):f)&&(b=b.$gsub(d(h,"XmlSanitizeRx"),"").$squeeze(" ").$strip());p(p(f=(l=p(k=c["$[]"]("separator"))?k:":")["$empty?"]())?f:b["$include?"](l=""+l+" ")["$!"]())?(this.main=b,this.subtitle=g):(k=b.$rpartition(l),f=a.to_ary(k),this.main=null==f[0]?g:f[0],this.subtitle=null==f[2]?g:f[2],k);return this.combined=b},l.$$arity=-2);a.def(b,"$sanitized?",m=function(){return this.sanitized},m.$$arity=0);a.def(b,"$subtitle?",r=function(){return p(this.subtitle)?
!0:!1},r.$$arity=0);return(a.def(b,"$to_s",w=function(){return this.combined},w.$$arity=0),g)&&"to_s"})(y[0],null,y);f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("backend");f.$attr_reader("doctype");f.$attr_accessor("sourcemap");f.$attr_reader("catalog");a.alias(f,"references","catalog");f.$attr_reader("counters");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");f.$attr_reader("reader");
f.$attr_reader("path_resolver");f.$attr_reader("converter");f.$attr_reader("extensions");a.def(f,"$initialize",w=function(f,h){var l,n,u,z,O,v,Na,A=w.$$p,G=g,I=g,x=g,F=g,C=g,t=C=C=g,K=g,D=t=g,E=t=t=g,L=g,C=C=L=t=G=g;null==f&&(f=g);null==h&&(h=e([],{}));A&&(w.$$p=null);r(this,a.find_super_dispatcher(this,"initialize",w,!1),[this,"document"],null);if(p(G=h.$delete("parent")))this.parent_document=G,p(l=h["$[]"]("base_dir"))?l:(I=["base_dir",G.$base_dir()],r(h,"[]=",a.to_a(I)),I[c(I.length,1)]),p(G.$options()["$[]"]("catalog_assets"))&&
(I=["catalog_assets",!0],r(h,"[]=",a.to_a(I)),I[c(I.length,1)]),this.catalog=r(G.$catalog(),"inject",[e([],{})],(n=function(b,d){var e,f;null==d&&(d=g);d=a.to_ary(d);e=a.slice.call(d,0,d.length);f=e.splice(0,1)[0];null==f&&(f=g);e=e.splice(0,1)[0];null==e&&(e=g);null==b&&(b=g);I=[f,f["$=="]("footnotes")?[]:e];r(b,"[]=",a.to_a(I));I[c(I.length,1)];return b},n.$$s=this,n.$$arity=2,n.$$has_top_level_mlhs_arg=!0,n)),this.attribute_overrides=x=G.$attributes().$dup(),F=x.$delete("doctype"),x.$delete("compat-mode"),
x.$delete("toc"),x.$delete("toc-placement"),x.$delete("toc-position"),this.safe=G.$safe(),p(this.compat_mode=G.$compat_mode())&&(I=["compat-mode",""],r(this.attributes,"[]=",a.to_a(I)),I[c(I.length,1)]),this.sourcemap=G.$sourcemap(),this.timings=g,this.path_resolver=G.$path_resolver(),this.converter=G.$converter(),C=!1,this.extensions=G.$extensions();else{this.parent_document=g;this.catalog=e("ids refs footnotes links images indexterms callouts includes".split(" "),{ids:e([],{}),refs:e([],{}),footnotes:[],
links:[],images:[],indexterms:[],callouts:d(y,"Callouts").$new(),includes:e([],{})});this.attribute_overrides=x=e([],{});r(p(l=h["$[]"]("attributes"))?l:e([],{}),"each",[],(u=function(b,d){var e;null==b&&(b=g);null==d&&(d=g);p(b["$end_with?"]("@"))?(e=p(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:p(b["$end_with?"]("!@"))?[b.$slice(0,c(b.$length(),2)),!1]:[b.$chop(),""+d+"@"],b=e[0],d=e[1],e):p(b["$start_with?"]("!"))?(e=[b.$slice(1,b.$length()),d["$=="]("@")?!1:g],b=e[0],d=e[1],e):p(b["$end_with?"]("!"))&&
(e=[b.$chop(),d["$=="]("@")?!1:g],b=e[0],d=e[1],e);I=[b.$downcase(),d];r(x,"[]=",a.to_a(I));return I[c(I.length,1)]},u.$$s=this,u.$$arity=2,u));p(C=h["$[]"]("to_file"))&&(I=["outfilesuffix",b("::","File").$extname(C)],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);if(p((C=h["$[]"]("safe"))["$!"]()))this.safe=b(d(y,"SafeMode"),"SECURE");else if(p(b("::","Integer")["$==="](C)))this.safe=C;else try{this.safe=d(y,"SafeMode").$value_for_name(C.$to_s())}catch(U){if(a.rescue(U,[d(y,"StandardError")]))try{this.safe=
b(d(y,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw U;}this.compat_mode=x["$key?"]("compat-mode");this.sourcemap=h["$[]"]("sourcemap");this.timings=h.$delete("timings");this.path_resolver=d(y,"PathResolver").$new();this.converter=g;C=(z=b("::","Asciidoctor","skip_raise"))&&(l=b(z,"Extensions","skip_raise"))?"constant":g;this.extensions=g}this.parsed=!1;this.header=g;this.counters=e([],{});this.attributes_modified=b("::","Set").$new();this.docinfo_processor_extensions=e([],{});t=p(O=h["$[]"]("header_footer"))?
O:(I=["header_footer",!1],r(h,"[]=",a.to_a(I)),I[c(I.length,1)]);(this.options=h).$freeze();K=this.attributes;I=["sectids",""];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["toc-placement","auto"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];p(t)?(I=["copycss",""],r(K,"[]=",a.to_a(I)),I[c(I.length,1)],I=["embedded",g]):(I=["notitle",""],r(K,"[]=",a.to_a(I)),I[c(I.length,1)],I=["embedded",""]);r(x,"[]=",a.to_a(I));I[c(I.length,1)];I=["stylesheet",""];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["webfonts",""];r(K,
"[]=",a.to_a(I));I[c(I.length,1)];I=["prewrap",""];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["attribute-undefined",d(y,"Compliance").$attribute_undefined()];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["attribute-missing",d(y,"Compliance").$attribute_missing()];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["iconfont-remote",""];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["caution-caption","Caution"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["important-caption","Important"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];
I=["note-caption","Note"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["tip-caption","Tip"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["warning-caption","Warning"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["example-caption","Example"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["figure-caption","Figure"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["table-caption","Table"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["toc-title","Table of Contents"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["section-refsig","Section"];
r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["part-refsig","Part"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["chapter-refsig","Chapter"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["appendix-caption",(I=["appendix-refsig","Appendix"],r(K,"[]=",a.to_a(I)),I[c(I.length,1)])];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["untitled-label","Untitled"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["version-label","Version"];r(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["last-update-label","Last updated"];r(K,"[]=",a.to_a(I));
I[c(I.length,1)];I=["asciidoctor",""];r(x,"[]=",a.to_a(I));I[c(I.length,1)];I=["asciidoctor-version",d(y,"VERSION")];r(x,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-name",t=d(y,"SafeMode").$name_for_value(this.safe)];r(x,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-"+t,""];r(x,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-level",this.safe];r(x,"[]=",a.to_a(I));I[c(I.length,1)];p(O=x["$[]"]("max-include-depth"))?O:(I=["max-include-depth",64],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=x["$[]"]("allow-uri-read"))?
O:(I=["allow-uri-read",g],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);I=["user-home",d(y,"USER_HOME")];r(x,"[]=",a.to_a(I));I[c(I.length,1)];p(x["$key?"]("numbered"))&&(I=["sectnums",x.$delete("numbered")],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);p(D=h["$[]"]("base_dir"))?this.base_dir=(I=["docdir",b("::","File").$expand_path(D)],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]):p(x["$[]"]("docdir"))?this.base_dir=x["$[]"]("docdir"):this.base_dir=(I=["docdir",b("::","Dir").$pwd()],r(x,"[]=",a.to_a(I)),I[c(I.length,
1)]);p(t=h["$[]"]("backend"))&&(I=["backend",""+t],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);p(t=h["$[]"]("doctype"))&&(I=["doctype",""+t],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]);p(m(this.safe,b(d(y,"SafeMode"),"SERVER")))&&(p(O=x["$[]"]("copycss"))?O:(I=["copycss",g],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]),p(O=x["$[]"]("source-highlighter"))?O:(I=["source-highlighter",g],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]),p(O=x["$[]"]("backend"))?O:(I=["backend",d(y,"DEFAULT_BACKEND")],r(x,"[]=",a.to_a(I)),I[c(I.length,
1)]),p(p(O=G["$!"]())?x["$key?"]("docfile"):O)&&(I=["docfile",x["$[]"]("docfile")["$[]"](a.Range.$new(q(x["$[]"]("docdir").$length(),1),-1,!1))],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]),I=["docdir",""],r(x,"[]=",a.to_a(I)),I[c(I.length,1)],I=["user-home","."],r(x,"[]=",a.to_a(I)),I[c(I.length,1)],p(m(this.safe,b(d(y,"SafeMode"),"SECURE")))&&(p(x["$key?"]("max-attribute-value-size"))||(I=["max-attribute-value-size",4096],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]),p(x["$key?"]("linkcss"))||(I=["linkcss",
""],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]),p(O=x["$[]"]("icons"))?O:(I=["icons",g],r(x,"[]=",a.to_a(I)),I[c(I.length,1)])));this.max_attribute_value_size=p(E=p(O=x["$[]"]("max-attribute-value-size"))?O:(I=["max-attribute-value-size",g],r(x,"[]=",a.to_a(I)),I[c(I.length,1)]))?E.$to_i().$abs():g;r(x,"delete_if",[],(v=function(d,e){var f,h=g;null==d&&(d=g);null==e&&(e=g);p(e)?(p(p(f=b("::","String")["$==="](e))?e["$end_with?"]("@"):f)&&(f=[e.$chop(),!0],e=f[0],h=f[1],f),I=[d,e],r(K,"[]=",a.to_a(I)),
I[c(I.length,1)]):(K.$delete(d),h=e["$=="](!1));return h},v.$$s=this,v.$$arity=2,v));if(p(G))return this.backend=K["$[]"]("backend"),(this.doctype=(I=["doctype",F],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]))["$=="](d(y,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(d(y,"DEFAULT_DOCTYPE")),this.reader=d(y,"Reader").$new(f,h["$[]"]("cursor")),p(this.sourcemap)&&(this.source_location=this.reader.$cursor()),d(y,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=
g;(p(O=K["$[]"]("backend"))?O:(I=["backend",d(y,"DEFAULT_BACKEND")],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]))["$=="]("manpage")?this.doctype=(I=["doctype",(I=["doctype","manpage"],r(x,"[]=",a.to_a(I)),I[c(I.length,1)])],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]):this.doctype=p(O=K["$[]"]("doctype"))?O:(I=["doctype",d(y,"DEFAULT_DOCTYPE")],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);this.$update_backend_attributes(K["$[]"]("backend"),!0);L=p(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?b("::","Time").$at(this.$Integer(b("::",
"ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b("::","Time").$now();p(G=K["$[]"]("localdate"))?t=p(O=K["$[]"]("localyear"))?O:(I=["localyear",G.$index("-")["$=="](4)?G.$slice(0,4):g],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]):(G=(I=["localdate",L.$strftime("%Y-%m-%d")],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]),t=p(O=K["$[]"]("localyear"))?O:(I=["localyear",L.$year().$to_s()],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]));if(p(O=K["$[]"]("localtime")))l=O;else{var T;a:{try{T=L.$strftime("%H:%M:%S %Z");break a}catch(U){if(a.rescue(U,
[d(y,"StandardError")]))try{T=L.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw U;}T=void 0}l=(I=["localtime",T],r(K,"[]=",a.to_a(I)),I[c(I.length,1)])}L=l;p(O=K["$[]"]("localdatetime"))?O:(I=["localdatetime",""+G+" "+L],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("docdate"))?O:(I=["docdate",G],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("docyear"))?O:(I=["docyear",t],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("doctime"))?O:(I=["doctime",L],r(K,"[]=",
a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("docdatetime"))?O:(I=["docdatetime",""+G+" "+L],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("stylesdir"))?O:(I=["stylesdir","."],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(O=K["$[]"]("iconsdir"))?O:(I=["iconsdir",""+K.$fetch("imagesdir","./images")+"/icons"],r(K,"[]=",a.to_a(I)),I[c(I.length,1)]);p(C)&&(p(C=h["$[]"]("extension_registry"))?p(p(O=b(d(y,"Extensions"),"Registry")["$==="](C))?O:p(Na=b("::","RUBY_ENGINE_JRUBY"))?b(b(b("::","AsciidoctorJ"),
"Extensions"),"ExtensionRegistry")["$==="](C):Na)&&(this.extensions=C.$activate(this)):p(b("::","Proc")["$==="](C=h["$[]"]("extensions")))?this.extensions=r(d(y,"Extensions"),"create",[],C.$to_proc()).$activate(this):p(d(y,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=b(d(y,"Extensions"),"Registry").$new().$activate(this)));this.reader=d(y,"PreprocessorReader").$new(this,f,b(d(y,"Reader"),"Cursor").$new(K["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0}));return p(this.sourcemap)?
this.source_location=this.reader.$cursor():g},w.$$arity=-1);a.def(f,"$parse",A=function(a){var c,f,k,h=g,l=g;null==a&&(a=g);if(p(this.parsed))return this;h=this;p(a)&&(this.reader=d(y,"PreprocessorReader").$new(h,a,b(d(y,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0})),p(this.sourcemap)&&(this.source_location=this.reader.$cursor()));p(p(c=l=p(this.parent_document)?g:this.extensions)?l["$preprocessors?"]():c)&&r(l.$preprocessors(),"each",[],
(f=function(a){var b=f.$$s||this,c;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=p(c=a.$process_method()["$[]"](h,b.reader))?c:b.reader},f.$$s=this,f.$$arity=1,f));d(y,"Parser").$parse(this.reader,h,e(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();p(p(c=l)?l["$tree_processors?"]():c)&&r(l.$tree_processors(),"each",[],(k=function(a){var b,c,e=g;null==a&&(a=g);return p(p(b=p(c=e=a.$process_method()["$[]"](h))?d(y,"Document")["$==="](e):
c)?e["$!="](h):b)?h=e:g},k.$$s=this,k.$$arity=1,k));this.parsed=!0;return h},A.$$arity=-1);a.def(f,"$counter",x=function(b,d){var e,f=g,h=g,l=g;null==d&&(d=g);if(p(this.parent_document))return this.parent_document.$counter(b,d);l=p(p(e=f=(h=this.attributes["$[]"](b))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](b):e)?[b,(l=[b,this.$nextval(h)],r(this.counters,"[]=",a.to_a(l)),l[c(l.length,1)])]:p(d)?[b,(l=[b,d["$=="](d.$to_i().$to_s())?d.$to_i():d],r(this.counters,"[]=",a.to_a(l)),l[c(l.length,
1)])]:[b,(l=[b,this.$nextval(p(f)?h:0)],r(this.counters,"[]=",a.to_a(l)),l[c(l.length,1)])];r(this.attributes,"[]=",a.to_a(l));return l[c(l.length,1)]},x.$$arity=-2);a.def(f,"$increment_and_store_counter",F=function(a,b){return d(y,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},F.$$arity=2);a.alias(f,"counter_increment","increment_and_store_counter");a.def(f,"$nextval",t=function(a){var c=g;if(p(b("::","Integer")["$==="](a)))return q(a,1);c=a.$to_i();return p(c.$to_s()["$!="](a.$to_s()))?
q(a["$[]"](0).$ord(),1).$chr():q(c,1)},t.$$arity=1);a.def(f,"$register",D=function(b,d){var e,f,h=this,l=g,m=g,n=g,w=g,u=g,z=g,v=g;return function(){l=b;if("ids"["$==="](l))return f=d,e=a.to_ary(f),m=null==e[0]?g:e[0],n=null==e[1]?g:e[1],f,w=h.catalog["$[]"]("ids"),p(e=w["$[]"](m))?e:(u=[m,p(f=n)?f:q(q("[",m),"]")],r(w,"[]=",a.to_a(u)),u[c(u.length,1)]);if("refs"["$==="](l)){f=d;e=a.to_ary(f);m=null==e[0]?g:e[0];z=null==e[1]?g:e[1];n=null==e[2]?g:e[2];f;if(p((v=h.catalog["$[]"]("refs"))["$key?"](m)))return g;
u=[m,p(e=n)?e:q(q("[",m),"]")];r(h.catalog["$[]"]("ids"),"[]=",a.to_a(u));u[c(u.length,1)];u=[m,z];r(v,"[]=",a.to_a(u));return u[c(u.length,1)]}return"footnotes"["$==="](l)||"indexterms"["$==="](l)?h.catalog["$[]"](b)["$<<"](d):p(h.options["$[]"]("catalog_assets"))?h.catalog["$[]"](b)["$<<"](d):g}()},D.$$arity=2);a.def(f,"$footnotes?",E=function(){return p(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},E.$$arity=0);a.def(f,"$footnotes",Z=function(){return this.catalog["$[]"]("footnotes")},
Z.$$arity=0);a.def(f,"$callouts",N=function(){return this.catalog["$[]"]("callouts")},N.$$arity=0);a.def(f,"$nested?",V=function(){return p(this.parent_document)?!0:!1},V.$$arity=0);a.def(f,"$embedded?",L=function(){return this.attributes["$key?"]("embedded")},L.$$arity=0);a.def(f,"$extensions?",K=function(){return p(this.extensions)?!0:!1},K.$$arity=0);a.def(f,"$source",W=function(){return p(this.reader)?this.reader.$source():g},W.$$arity=0);a.def(f,"$source_lines",qa=function(){return p(this.reader)?
this.reader.$source_lines():g},qa.$$arity=0);a.def(f,"$basebackend?",ga=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},ga.$$arity=1);a.def(f,"$title",ja=function(){return this.$doctitle()},ja.$$arity=0);a.def(f,"$title=",aa=function(b){var e=g,f=g;p(e=this.header)||(f=["header"],r(e=this.header=d(y,"Section").$new(this,0),"sectname=",a.to_a(f)),f[c(f.length,1)]);f=[b];r(e,"title=",a.to_a(f));return f[c(f.length,1)]},aa.$$arity=1);a.def(f,"$doctitle",R=function(a){var b,c=g,f=
g,k=g;null==a&&(a=e([],{}));if(!p(c=this.attributes["$[]"]("title")))if(p(f=this.$first_section()))c=f.$title();else if(p((p(b=a["$[]"]("use_fallback"))?c=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return g;return p(k=a["$[]"]("partition"))?d(y,"Title").$new(c,a.$merge(e(["separator"],{separator:k["$=="](!0)?this.attributes["$[]"]("title-separator"):k}))):p(p(b=a["$[]"]("sanitize"))?c["$include?"]("<"):b)?c.$gsub(d(y,"XmlSanitizeRx"),"").$squeeze(" ").$strip():c},R.$$arity=-1);a.alias(f,
"name","doctitle");a.def(f,"$author",da=function(){return this.attributes["$[]"]("author")},da.$$arity=0);a.def(f,"$revdate",pa=function(){return this.attributes["$[]"]("revdate")},pa.$$arity=0);a.def(f,"$notitle",ea=function(){var a;return p(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ea.$$arity=0);a.def(f,"$noheader",fa=function(){return this.attributes["$key?"]("noheader")},fa.$$arity=0);a.def(f,"$nofooter",ca=function(){return this.attributes["$key?"]("nofooter")},
ca.$$arity=0);a.def(f,"$first_section",Y=function(){var a,b;return p(a=this.header)?a:r(this.blocks,"find",[],(b=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},Y.$$arity=0);a.def(f,"$has_header?",va=function(){return p(this.header)?!0:!1},va.$$arity=0);a.alias(f,"header?","has_header?");a.def(f,"$<<",ma=function(b){var c=ma.$$p,d=g,e=g,f=g;c&&(ma.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&
this.$assign_numeral(b);return r(this,a.find_super_dispatcher(this,"<<",ma,!1),d,c)},ma.$$arity=1);a.def(f,"$finalize_header",ta=function(b,d){var e=g;null==d&&(d=!0);this.$clear_playback_attributes(b);this.$save_attributes();p(d)||(e=["invalid-header",!0],r(b,"[]=",a.to_a(e)),e[c(e.length,1)]);return b},ta.$$arity=-2);a.def(f,"$save_attributes",ya=function(){var b,e,f,h=g,l=g,m=g,n=l=g,w=g,u=g,q=g,u=n=g;(h=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(p(p(b=this["$attribute_locked?"]("toc"))?
b:this.attributes_modified["$include?"]("toc"))||(l=["toc",""],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]),p(p(b=this["$attribute_locked?"]("sectnums"))?b:this.attributes_modified["$include?"]("sectnums"))||(l=["sectnums",""],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]));p(p(b=h["$key?"]("doctitle"))?b:(m=this.$doctitle())["$!"]())||(l=["doctitle",m],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]);p(this.id)||(this.id=h["$[]"]("css-signature"));l=p(n=p(h.$delete("toc2"))?"left":h["$[]"]("toc"))?p(p(b=w=h.$fetch("toc-placement",
"macro"))?w["$!="]("auto"):b)?w:h["$[]"]("toc-position"):g;p(p(b=n)?p(e=n["$empty?"]()["$!"]())?e:l["$nil_or_empty?"]()["$!"]():b)&&(u="left",q="toc2",n=p(l["$nil_or_empty?"]()["$!"]())?l:p(n["$empty?"]()["$!"]())?n:u,l=["toc",""],r(h,"[]=",a.to_a(l)),l[c(l.length,1)],l=["toc-placement","auto"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)],u=n,"left"["$==="](u)||"<"["$==="](u)||"&lt;"["$==="](u)?(l=["toc-position","left"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]):"right"["$==="](u)||">"["$==="](u)||"&gt;"["$==="](u)?
(l=["toc-position","right"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]):"top"["$==="](u)||"^"["$==="](u)?(l=["toc-position","top"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]):"bottom"["$==="](u)||"v"["$==="](u)?(l=["toc-position","bottom"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]):("preamble"["$==="](u)||"macro"["$==="](u)?(l=["toc-position","content"],r(h,"[]=",a.to_a(l)),l[c(l.length,1)],l=["toc-placement",n],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]):h.$delete("toc-position"),q=g),p(q)&&(p(b=h["$[]"]("toc-class"))?
b:(l=["toc-class",q],r(h,"[]=",a.to_a(l)),l[c(l.length,1)])));p(this.compat_mode=h["$key?"]("compat-mode"))&&p(h["$key?"]("language"))&&(l=["source-language",h["$[]"]("language")],r(h,"[]=",a.to_a(l)),l[c(l.length,1)]);this.outfilesuffix=h["$[]"]("outfilesuffix");this.header_attributes=h.$dup();return p(this.parent_document)?g:r(d(y,"FLEXIBLE_ATTRIBUTES"),"each",[],(f=function(a){var b=f.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return p(p(c=b.attribute_overrides["$key?"](a))?
b.attribute_overrides["$[]"](a):c)?b.attribute_overrides.$delete(a):g},f.$$s=this,f.$$arity=1,f))},ya.$$arity=0);a.def(f,"$restore_attributes",oa=function(){p(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},oa.$$arity=0);a.def(f,"$clear_playback_attributes",ha=function(a){return a.$delete("attribute_entries")},ha.$$arity=1);a.def(f,"$playback_attributes",Ca=function(b){var d;return p(b["$key?"]("attribute_entries"))?r(b["$[]"]("attribute_entries"),
"each",[],(d=function(b){var e=d.$$s||this,f=g,h=g;null==e.attributes&&(e.attributes=g);null==b&&(b=g);f=b.$name();if(p(b.$negate()))return e.attributes.$delete(f),f["$=="]("compat-mode")?e.compat_mode=!1:g;h=[f,b.$value()];r(e.attributes,"[]=",a.to_a(h));h[c(h.length,1)];return f["$=="]("compat-mode")?e.compat_mode=!0:g},d.$$s=this,d.$$arity=1,d)):g},Ca.$$arity=1);a.def(f,"$set_attribute",Ha=function(b,d){var e=g,f=g,f=g;null==d&&(d="");if(p(this["$attribute_locked?"](b)))return!1;e=p(this.max_attribute_value_size)?
this.$apply_attribute_value_subs(d).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(d);f=b;"backend"["$==="](f)?this.$update_backend_attributes(e,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](f)?this.$update_doctype_attributes(e):(f=[b,e],r(this.attributes,"[]=",a.to_a(f)),f[c(f.length,1)]);this.attributes_modified["$<<"](b);return e},Ha.$$arity=-2);a.def(f,"$delete_attribute",za=function(a){if(p(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);
this.attributes_modified["$<<"](a);return!0},za.$$arity=1);a.def(f,"$attribute_locked?",Fa=function(a){return this.attribute_overrides["$key?"](a)},Fa.$$arity=1);a.def(f,"$apply_attribute_value_subs",Ga=function(a){var b;return p(d(y,"AttributeEntryPassMacroRx")["$=~"](a))?p((b=h["~"])===g?g:b["$[]"](1))?this.$apply_subs((b=h["~"])===g?g:b["$[]"](2),this.$resolve_pass_subs((b=h["~"])===g?g:b["$[]"](1))):(b=h["~"])===g?g:b["$[]"](2):this.$apply_header_subs(a)},Ga.$$arity=1);a.def(f,"$update_backend_attributes",
Ea=function(e,f){var h,l,m=g,n=g,w=g,u=g,q=g,z=g,v=g,B=g,x=n=g,n=g;null==f&&(f=g);return p(p(h=f)?h:p(l=e)?e["$!="](this.backend):l)?(h=[this.backend,(m=this.attributes)["$[]"]("basebackend"),this.doctype],n=h[0],w=h[1],u=h[2],h,p(e["$start_with?"]("xhtml"))?(q=["htmlsyntax","xml"],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],e=e.$slice(1,e.$length())):p(e["$start_with?"]("html"))&&!m["$[]"]("htmlsyntax")["$=="]("xml")&&(q=["htmlsyntax","html"],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]),p(z=d(y,"BACKEND_ALIASES")["$[]"](e))&&
(e=z),p(u)?(p(n)&&(m.$delete("backend-"+n),m.$delete("backend-"+n+"-doctype-"+u)),q=["backend-"+e+"-doctype-"+u,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],q=["doctype-"+u,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]):p(n)&&m.$delete("backend-"+n),q=["backend-"+e,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],this.backend=(q=["backend",e],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]),p(b(d(y,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(v=this.converter.$basebackend(),p(this["$attribute_locked?"]("outfilesuffix"))||
(q=["outfilesuffix",this.converter.$outfilesuffix()],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]),B=this.converter.$filetype()):p(this.converter)?(v=e.$sub(d(y,"TrailingDigitsRx"),""),p(n=d(y,"DEFAULT_EXTENSIONS")["$[]"](v))?B=n.$slice(1,n.$length()):(h=[".html","html","html"],n=h[0],v=h[1],B=h[2],h),p(this["$attribute_locked?"]("outfilesuffix"))||(q=["outfilesuffix",n],r(m,"[]=",a.to_a(q)),q[c(q.length,1)])):this.$raise(b("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+
e+"'. Processing aborted."),p(x=m["$[]"]("filetype"))&&m.$delete("filetype-"+x),q=["filetype",B],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],q=["filetype-"+B,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],p(n=d(y,"DEFAULT_PAGE_WIDTHS")["$[]"](v))?(q=["pagewidth",n],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]):m.$delete("pagewidth"),p(v["$!="](w))&&(p(u)?(p(w)&&(m.$delete("basebackend-"+w),m.$delete("basebackend-"+w+"-doctype-"+u)),q=["basebackend-"+v+"-doctype-"+u,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]):p(w)&&
m.$delete("basebackend-"+w),q=["basebackend-"+v,""],r(m,"[]=",a.to_a(q)),q[c(q.length,1)],q=["basebackend",v],r(m,"[]=",a.to_a(q)),q[c(q.length,1)]),e):g},Ea.$$arity=-2);a.def(f,"$update_doctype_attributes",Ba=function(b){var d,e=g,f=g,h=g,l=g,f=g;return p(p(d=b)?b["$!="](this.doctype):d)?(d=[this.backend,(e=this.attributes)["$[]"]("basebackend"),this.doctype],f=d[0],h=d[1],l=d[2],d,p(l)?(e.$delete("doctype-"+l),p(f)&&(e.$delete("backend-"+f+"-doctype-"+l),f=["backend-"+f+"-doctype-"+b,""],r(e,"[]=",
a.to_a(f)),f[c(f.length,1)]),p(h)&&(e.$delete("basebackend-"+h+"-doctype-"+l),f=["basebackend-"+h+"-doctype-"+b,""],r(e,"[]=",a.to_a(f)),f[c(f.length,1)])):(p(f)&&(f=["backend-"+f+"-doctype-"+b,""],r(e,"[]=",a.to_a(f)),f[c(f.length,1)]),p(h)&&(f=["basebackend-"+h+"-doctype-"+b,""],r(e,"[]=",a.to_a(f)),f[c(f.length,1)])),f=["doctype-"+b,""],r(e,"[]=",a.to_a(f)),f[c(f.length,1)],this.doctype=(f=["doctype",b],r(e,"[]=",a.to_a(f)),f[c(f.length,1)])):g},Ba.$$arity=1);a.def(f,"$create_converter",wa=function(){var f=
g,h=g,l=g,m=g,n=g,h=g,f=e([],{}),h=["htmlsyntax",this.attributes["$[]"]("htmlsyntax")];r(f,"[]=",a.to_a(h));h[c(h.length,1)];p(l=this.options["$[]"]("template_dir"))?m=[l]:p(m=this.options["$[]"]("template_dirs"))&&(m=this.$Array(m));p(m)&&(h=["template_dirs",m],r(f,"[]=",a.to_a(h)),h[c(h.length,1)],h=["template_cache",this.options.$fetch("template_cache",!0)],r(f,"[]=",a.to_a(h)),h[c(h.length,1)],h=["template_engine",this.options["$[]"]("template_engine")],r(f,"[]=",a.to_a(h)),h[c(h.length,1)],h=
["template_engine_options",this.options["$[]"]("template_engine_options")],r(f,"[]=",a.to_a(h)),h[c(h.length,1)],h=["eruby",this.options["$[]"]("eruby")],r(f,"[]=",a.to_a(h)),h[c(h.length,1)],h=["safe",this.safe],r(f,"[]=",a.to_a(h)),h[c(h.length,1)]);h=p(n=this.options["$[]"]("converter"))?b(d(y,"Converter"),"Factory").$new(b("::","Hash")["$[]"](this.$backend(),n)):b(d(y,"Converter"),"Factory").$default(!1);return h.$create(this.$backend(),f)},wa.$$arity=0);a.def(f,"$convert",Da=function(f){var h,
l,n=g,w=g,u=g,q=g,z=g;null==f&&(f=e([],{}));p(this.timings)&&this.timings.$start("convert");p(this.parsed)||this.$parse();p(p(h=m(this.safe,b(d(y,"SafeMode"),"SERVER")))?h:f["$empty?"]())||(p((n=["outfile",f["$[]"]("outfile")],r(this.attributes,"[]=",a.to_a(n)),n[c(n.length,1)]))||this.attributes.$delete("outfile"),p((n=["outdir",f["$[]"]("outdir")],r(this.attributes,"[]=",a.to_a(n)),n[c(n.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?p(w=p(h=this.blocks["$[]"](0))?
h:this.header)&&(p(p(h=w.$content_model()["$=="]("compound"))?h:w.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):u=w.$content()):(q=p(p(f["$key?"]("header_footer"))?f["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",u=this.converter.$convert(this,q));!p(this.parent_document)&&p(p(h=z=this.extensions)?z["$postprocessors?"]():h)&&r(z.$postprocessors(),"each",
[],(l=function(a){var b=l.$$s||this;null==a&&(a=g);return u=a.$process_method()["$[]"](b,u)},l.$$s=this,l.$$arity=1,l));p(this.timings)&&this.timings.$record("convert");return u},Da.$$arity=-1);a.alias(f,"render","convert");a.def(f,"$write",Aa=function(a,c){var e;p(this.timings)&&this.timings.$start("write");p(d(y,"Writer")["$==="](this.converter))?this.converter.$write(a,c):(p(c["$respond_to?"]("write"))?p(a["$nil_or_empty?"]())||(c.$write(a.$chomp()),c.$write(d(y,"LF"))):b("::","IO").$write(c,a),
p(p(e=this.backend["$=="]("manpage")?b("::","String")["$==="](c):this.backend["$=="]("manpage"))?this.converter["$respond_to?"]("write_alternate_pages"):e)&&this.converter.$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),c));p(this.timings)&&this.timings.$record("write");return g},Aa.$$arity=2);a.def(f,"$content",xa=function(){var b=xa.$$p,c=g,d=g,e=g;b&&(xa.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];this.attributes.$delete("title");
return r(this,a.find_super_dispatcher(this,"content",xa,!1),c,b)},xa.$$arity=0);a.def(f,"$docinfo",Ja=function(a,c){var f,k,h,l=g,n=g,w=g,u=g,v=g,x=g,I=g,u=I=g;null==a&&(a="head");null==c&&(c=g);if(p(m(this.$safe(),b(d(y,"SafeMode"),"SECURE"))))return"";l=[];a["$=="]("head")||(n="-"+a);p(c)||(c=this.outfilesuffix);w=p((w=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?p(this.attributes["$key?"]("docinfo2"))?["private","shared"]:p(this.attributes["$key?"]("docinfo1"))?["shared"]:p(w)?["private"]:
g:r(w.$split(","),"map",[],(f=function(a){null==a&&(a=g);return a.$strip()},f.$$s=this,f.$$arity=1,f));if(p(w)){k=["docinfo"+n+c,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];u=k[0];v=k[1];x=k[2];k;if(!p(w["$&"](["shared","shared-"+a])["$empty?"]())&&(I=this.$normalize_system_path(u,v),p(I=this.$read_asset(I,e(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(I,x));if(!p(p(k=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?k:w["$&"](["private","private-"+a])["$empty?"]())&&
(I=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+u,v),p(u=this.$read_asset(I,e(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(u,x))}p(p(k=this.extensions)?this["$docinfo_processors?"](a):k)&&(l=q(l,r(this.docinfo_processor_extensions["$[]"](a),"map",[],(h=function(a){var b=h.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},h.$$s=this,h.$$arity=1,h)).$compact()));return z(l,d(y,"LF"))},Ja.$$arity=-1);a.def(f,"$resolve_docinfo_subs",La=function(){return p(this.attributes["$key?"]("docinfosubs"))?
this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo"):["attributes"]},La.$$arity=0);a.def(f,"$docinfo_processors?",Oa=function(b){var d,e=g;null==b&&(b="head");if(p(this.docinfo_processor_extensions["$key?"](b)))return this.docinfo_processor_extensions["$[]"](b)["$!="](!1);if(p(p(d=this.extensions)?this.document.$extensions()["$docinfo_processors?"](b):d))return(e=[b,this.document.$extensions().$docinfo_processors(b)],r(this.docinfo_processor_extensions,"[]=",a.to_a(e)),e[c(e.length,
1)])["$!"]()["$!"]();e=[b,!1];r(this.docinfo_processor_extensions,"[]=",a.to_a(e));return e[c(e.length,1)]},Oa.$$arity=-1);return(a.def(f,"$to_s",Ma=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(p(this.header["$!="](g))?this.header.$title():g).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ma.$$arity=0),g)&&"to_s"})(A[0],d(A,"AbstractBlock"),A)}(l[0],l)};Opal.modules["asciidoctor/inline"]=function(a){var c=[],m=a.nil,p=a.const_get_relative,
q=a.module,l=a.klass,g=a.send,b=a.truthy,d=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $dup $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(c,k){function v(){}var r=[v=q(c,"Asciidoctor",v)].concat(k);(function(c,$super,f){function k(){}c=k=l(c,$super,"Inline",k);var n=c.prototype;[c].concat(f);var r,p,q,z,v,y,x,w;n.text=n.type=m;c.$attr_reader("text");c.$attr_reader("type");c.$attr_accessor("target");a.def(c,"$initialize",r=function(c,e,f,k){var l=
r.$$p,n=m;null==f&&(f=m);null==k&&(k=d([],{}));l&&(r.$$p=null);g(this,a.find_super_dispatcher(this,"initialize",r,!1),[c,e],null);this.node_name="inline_"+e;this.text=f;this.id=k["$[]"]("id");this.type=k["$[]"]("type");this.target=k["$[]"]("target");return b(n=k["$[]"]("attributes"))?this.attributes=n.$dup():m},r.$$arity=-3);a.def(c,"$block?",p=function(){return!1},p.$$arity=0);a.def(c,"$inline?",q=function(){return!0},q.$$arity=0);a.def(c,"$convert",z=function(){return this.$converter().$convert(this)},
z.$$arity=0);a.alias(c,"render","convert");a.def(c,"$alt",v=function(){return this.$attr("alt")},v.$$arity=0);a.def(c,"$reftext?",y=function(){var a,c;return b(a=this.text)?b(c=this.type["$=="]("ref"))?c:this.type["$=="]("bibref"):a},y.$$arity=0);a.def(c,"$reftext",x=function(){var a=m;return b(a=this.text)?this.$apply_reftext_subs(a):m},x.$$arity=0);return(a.def(c,"$xreftext",w=function(a){return this.$reftext()},w.$$arity=-1),m)&&"xreftext"})(r[0],p(r,"AbstractNode"),r)}(c[0],c)};Opal.modules["asciidoctor/list"]=
function(a){var c=[],m=a.nil,p=a.const_get_relative,q=a.module,l=a.klass,g=a.send,b=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(c,f){function k(){}var v=[k=q(c,"Asciidoctor",k)].concat(f);(function(c,$super,d){function f(){}c=f=l(c,$super,"List",f);var k=c.prototype;[c].concat(d);
var n,p,q,z;k.context=k.document=k.style=m;a.alias(c,"items","blocks");a.alias(c,"content","blocks");a.alias(c,"items?","blocks?");a.def(c,"$initialize",n=function(b,c){var d=n.$$p,f=m,k=m,h=m;d&&(n.$$p=null);k=0;h=arguments.length;for(f=Array(h);k<h;k++)f[k]=arguments[k];return g(this,a.find_super_dispatcher(this,"initialize",n,!1),f,d)},n.$$arity=2);a.def(c,"$outline?",p=function(){var a;return b(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},p.$$arity=0);a.def(c,"$convert",q=function(){var b=
q.$$p,c=m,d=c=m,f=m;b&&(q.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=g(this,a.find_super_dispatcher(this,"convert",q,!1),c,b),this.document.$callouts().$next_list(),c):g(this,a.find_super_dispatcher(this,"convert",q,!1),c,b)},q.$$arity=0);a.alias(c,"render","convert");return(a.def(c,"$to_s",z=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+
this.$items().$size()+"}>"},z.$$arity=0),m)&&"to_s"})(v[0],p(v,"AbstractBlock"),v);(function(c,$super,d){function f(){}c=f=l(c,$super,"ListItem",f);var k=c.prototype,n=[c].concat(d),q,z,v,y,x,A,t,w;k.text=k.subs=k.blocks=m;a.alias(c,"list","parent");c.$attr_accessor("marker");a.def(c,"$initialize",q=function(b,c){var d=q.$$p;null==c&&(c=m);d&&(q.$$p=null);g(this,a.find_super_dispatcher(this,"initialize",q,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=p(n,"NORMAL_SUBS").$dup()},
q.$$arity=-2);a.def(c,"$text?",z=function(){return this.text["$nil_or_empty?"]()["$!"]()},z.$$arity=0);a.def(c,"$text",v=function(){var a;return b(a=this.text)?this.$apply_subs(this.text,this.subs):a},v.$$arity=0);a.def(c,"$text=",y=function(a){return this.text=a},y.$$arity=1);a.def(c,"$simple?",x=function(){var a,c,d=m;return b(a=this.blocks["$empty?"]())?a:b(c=this.blocks.$size()["$=="](1)?p(n,"List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?d["$outline?"]():c},x.$$arity=
0);a.def(c,"$compound?",A=function(){return this["$simple?"]()["$!"]()},A.$$arity=0);a.def(c,"$fold_first",t=function(a,c){var d,f,k,h,g,l=m,r=m;null==a&&(a=!1);null==c&&(c=!1);b(b(d=b(f=l=this.blocks["$[]"](0))?p(n,"Block")["$==="](l):f)?b(f=l.$context()["$=="]("paragraph")?a["$!"]():l.$context()["$=="]("paragraph"))?f:b(k=b(h=b(g=c)?g:a["$!"]())?l.$context()["$=="]("literal"):h)?l["$option?"]("listparagraph"):k:d)&&(r=this.$blocks().$shift(),b(this.text["$nil_or_empty?"]())||r.$lines().$unshift(this.text),
this.text=r.$source());return m},t.$$arity=-1);return(a.def(c,"$to_s",w=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(b(a=this.blocks)?a:[]).$size()+"}>"},w.$$arity=0),m)&&"to_s"})(v[0],p(v,"AbstractBlock"),v)}(c[0],c)};Opal.modules["asciidoctor/parser"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&
"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,n=a.module,v=a.klass,r=a.send,e=a.truthy,h=a.hash2,u=a.gvars,y=a.range;a.add_stubs("$include $new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $source_location= $header $attribute_locked? $[]= $id $parse_header_metadata $register $== $doctype $parse_manpage_header $=~ $downcase $include? $sub_attributes $error $logger $message_with_context $cursor_at_prev_line $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $title $map $split $lstrip $backend $context $empty? $has_header? $delete $! $!= $attr? $attr $key? $document $+ $special $sectname $to_i $> $< $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $length $end_with? $=== $parse_attributes $attribute_missing $clear $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $match $peek_line $next_list_item $items $callout_ids $callouts $next_list $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $pop $build_block $apply_subs $slice $chop $catalog_inline_anchors $rekey $index $strip $next_table $concat $each $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $numbered $cursor_at_line $lineno $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $compact $Array $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(g,x){function G(){}var A=[G=n(g,"Asciidoctor",G)].concat(x);(function(g,$super,n){function x(){}g=x=v(g,$super,"Parser",x);var w=[g].concat(n),A,G,t,D,E,la,Z,N,V,L,K,W,qa,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,va,ma,ta,ya,oa,da,ka,ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa,H;g.$include(f(w,"Logging"));a.const_set(w[0],"BlockMatchData",f(w,"Struct").$new("context","masq","tip","terminator"));a.const_set(w[0],"TabRx",/\t/);a.const_set(w[0],"TabIndentRx",/^\t+/);a.const_set(w[0],"StartOfBlockProc",
r(g,"lambda",[],(A=function(a){var c=A.$$s||this,d,k;null==a&&(a=b);return e(d=e(k=a["$start_with?"]("["))?f(w,"BlockAttributeLineRx")["$match?"](a):k)?d:c["$is_delimited_block?"](a)},A.$$s=g,A.$$arity=1,A)));a.const_set(w[0],"StartOfListProc",r(g,"lambda",[],(G=function(a){null==a&&(a=b);return f(w,"AnyListRx")["$match?"](a)},G.$$s=g,G.$$arity=1,G)));a.const_set(w[0],"StartOfBlockOrListProc",r(g,"lambda",[],(t=function(a){var c=t.$$s||this,d,k,h;null==a&&(a=b);return e(d=e(k=c["$is_delimited_block?"](a))?
k:e(h=a["$start_with?"]("["))?f(w,"BlockAttributeLineRx")["$match?"](a):h)?d:f(w,"AnyListRx")["$match?"](a)},t.$$s=g,t.$$arity=1,t)));a.const_set(w[0],"NoOp",b);a.const_set(w[0],"TableCellHorzAlignments",h(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(w[0],"TableCellVertAlignments",h(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(w[0],"TableCellStyles",h("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));
a.def(g,"$initialize",D=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},D.$$arity=0);a.defs(g,"$parse",E=function(c,d,f){var k,g=k=b;null==f&&(f=h([],{}));k=this.$parse_document_header(c,d);if(!e(f["$[]"]("header_only")))for(;e(c["$has_more_lines?"]());)f=this.$next_section(c,d,k),k=a.to_ary(f),g=null==k[0]?b:k[0],k=null==k[1]?b:k[1],f,e(g)&&(d.$assign_numeral(g),d.$blocks()["$<<"](g));return d},E.$$arity=-3);a.defs(g,"$parse_document_header",
la=function(d,f){var g,l,m=b,n=b,w=b,p=b,q=b,u=l=b,H=b,m=l=w=H=l=w=b,m=this.$parse_block_metadata_lines(d,f),n=f.$attributes();if(e(e(g=w=this["$is_next_line_doctitle?"](d,m,n["$[]"]("leveloffset")))?m["$[]"]("title"):g))return f.$finalize_header(m,!1);p=b;e((q=n["$[]"]("doctitle"))["$nil_or_empty?"]())||(l=[p=q],r(f,"title=",a.to_a(l)),l[c(l.length,1)]);e(w)&&(e(f.$sourcemap())&&(u=d.$cursor()),l=this.$parse_section_title(d,f),g=a.to_ary(l),f["$id="](null==g[0]?b:g[0]),H=null==g[2]?b:g[2],w=null==
g[4]?b:g[4],l,e(p)||(l=[p=H],r(f,"title=",a.to_a(l)),l[c(l.length,1)]),e(u)&&(l=[u],r(f.$header(),"source_location=",a.to_a(l)),l[c(l.length,1)]),e(e(g=w)?g:f["$attribute_locked?"]("compat-mode"))||(l=["compat-mode",""],r(n,"[]=",a.to_a(l)),l[c(l.length,1)]),e(l=m["$[]"]("separator"))&&!e(f["$attribute_locked?"]("title-separator"))&&(l=["title-separator",l],r(n,"[]=",a.to_a(l)),l[c(l.length,1)]),l=["doctitle",H],r(n,"[]=",a.to_a(l)),l[c(l.length,1)],e(w=m["$[]"]("id"))?(l=[w],r(f,"id=",a.to_a(l)),
l[c(l.length,1)]):w=f.$id(),e(l=m["$[]"]("role"))&&(l=["docrole",l],r(n,"[]=",a.to_a(l)),l[c(l.length,1)]),e(m=m["$[]"]("reftext"))&&(l=["reftext",m],r(n,"[]=",a.to_a(l)),l[c(l.length,1)]),m=h([],{}),this.$parse_header_metadata(d,f),e(w)&&f.$register("refs",[w,f]));e(e(g=(q=n["$[]"]("doctitle"))["$nil_or_empty?"]())?g:q["$=="](H))||(l=[p=q],r(f,"title=",a.to_a(l)),l[c(l.length,1)]);e(p)&&(l=["doctitle",p],r(n,"[]=",a.to_a(l)),l[c(l.length,1)]);f.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,
f);return f.$finalize_header(m)},la.$$arity=2);a.defs(g,"$parse_manpage_header",Z=function(d,g){var l,n,p=b,q=b,H=b,z=H=b,v=b;e(f(w,"ManpageTitleVolnumRx")["$=~"](g.$attributes()["$[]"]("doctitle")))?(p=["mantitle",(e(((l=u["~"])===b?b:l["$[]"](1))["$include?"](f(w,"ATTR_REF_HEAD")))?g.$sub_attributes((l=u["~"])===b?b:l["$[]"](1)):(l=u["~"])===b?b:l["$[]"](1)).$downcase()],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["manvolnum",(l=u["~"])===b?b:l["$[]"](2)]):(this.$logger().$error(this.$message_with_context("malformed manpage title",
h(["source_location"],{source_location:d.$cursor_at_prev_line()}))),p=["mantitle",g.$attributes()["$[]"]("doctitle")],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["manvolnum","1"]);r(g.$attributes(),"[]=",a.to_a(p));p[c(p.length,1)];d.$skip_blank_lines();e(this["$is_next_line_section?"](d,h([],{})))?(q=this.$initialize_section(d,g,h([],{})),q.$level()["$=="](1)?(H=m(d.$read_lines_until(h(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0}))," "),
e(f(w,"ManpageNamePurposeRx")["$=~"](H))?(H=g.$attributes(),e(l=H["$[]"]("manname-title"))?l:(p=["manname-title",q.$title()],r(H,"[]=",a.to_a(p)),p[c(p.length,1)]),e(q.$id())&&(p=["manname-id",q.$id()],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)]),p=["manpurpose",(l=u["~"])===b?b:l["$[]"](2)],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],e((z=e(((l=u["~"])===b?b:l["$[]"](1))["$include?"](f(w,"ATTR_REF_HEAD")))?g.$sub_attributes((l=u["~"])===b?b:l["$[]"](1)):(l=u["~"])===b?b:l["$[]"](1))["$include?"](","))?
z=(v=r(z.$split(","),"map",[],(n=function(a){null==a&&(a=b);return a.$lstrip()},n.$$s=this,n.$$arity=1,n)))["$[]"](0):v=[z],p=["manname",z],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["mannames",v],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],g.$backend()["$=="]("manpage")&&(p=["docname",z],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["outfilesuffix","."+g.$attributes()["$[]"]("manvolnum")],r(g.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)])):this.$logger().$error(this.$message_with_context("malformed name section body",
h(["source_location"],{source_location:d.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section title must be at level 1",h(["source_location"],{source_location:d.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section expected",h(["source_location"],{source_location:d.$cursor_at_prev_line()})));return b},Z.$$arity=2);a.defs(g,"$next_section",N=function(d,g,m){var n,u,H,v,y=b,B=b,I=b,x=b,A=b,G=b,t=b,F=b,C=b,K=b,D=b,E=C=b,L=b,U=
b,B=U=L=t=L=b;null==m&&(m=h([],{}));y=B=I=!1;e(e(n=(u=g.$context()["$=="]("document"))?g.$blocks()["$empty?"]():g.$context()["$=="]("document"))?e(u=e(H=x=g["$has_header?"]())?H:m.$delete("invalid-header"))?u:this["$is_next_line_section?"](d,m)["$!"]():n)?(A=(G=g).$doctype()["$=="]("book"),e(e(n=x)?n:e(u=A)?m["$[]"](1)["$!="]("abstract"):u)&&(y=B=f(w,"Block").$new(g,"preamble",h(["content_model"],{content_model:"compound"})),e(e(n=A)?g["$attr?"]("preface-title"):n)&&(t=[g.$attr("preface-title")],
r(y,"title=",a.to_a(t)),t[c(t.length,1)]),g.$blocks()["$<<"](y)),F=g,C=0,e(g.$attributes()["$key?"]("fragment"))?K=-1:e(A)?(n=[1,0],K=n[0],D=n[1],n):K=1):(A=(G=g.$document()).$doctype()["$=="]("book"),F=this.$initialize_section(d,g,m),m=e(C=m["$[]"]("title"))?h(["title"],{title:C}):h([],{}),K=p(C=F.$level(),1),C["$=="](0)?I=A:e((n=C["$=="](1))?F.$special():C["$=="](1))&&!e(e(n=e(u=(E=F.$sectname())["$=="]("appendix"))?u:E["$=="]("preface"))?n:E["$=="]("abstract"))&&(K=b));for(d.$skip_blank_lines();e(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,
G,m);if(e(L=this["$is_next_line_section?"](d,m)))if(e(G["$attr?"]("leveloffset"))&&(L=p(L,G.$attr("leveloffset").$to_i())),e(q(L,C)))e(K)?e(e(u=e(H=L["$=="](K))?H:e(v=D)?L["$=="](D):v)?u:l(K,0))||(U=e(D)?"expected levels "+D+" or "+K:"expected level "+K,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+U+", got level "+L,h(["source_location"],{source_location:d.$cursor()})))):this.$logger().$error(this.$message_with_context(""+E+" sections do not support nested sections",
h(["source_location"],{source_location:d.$cursor()}))),H=this.$next_section(d,F,m),u=a.to_ary(H),L=null==u[0]?b:u[0],m=null==u[1]?b:u[1],H,F.$assign_numeral(L),F.$blocks()["$<<"](L);else if(e((u=L["$=="](0))?F["$=="](G):L["$=="](0)))e(A)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",h(["source_location"],{source_location:d.$cursor()}))),H=this.$next_section(d,F,m),u=a.to_ary(H),L=null==u[0]?b:u[0],m=null==u[1]?b:u[1],H,F.$assign_numeral(L),
F.$blocks()["$<<"](L);else break;else t=d.$cursor(),e(L=this.$next_block(d,e(u=B)?u:F,m,h(["parse_metadata"],{parse_metadata:!1})))&&(e(I)&&(e(F["$blocks?"]()["$!"]())?e(L.$style()["$!="]("partintro"))&&(L.$context()["$=="]("paragraph")?(t=["open"],r(L,"context=",a.to_a(t)),t[c(t.length,1)],t=["partintro"],r(L,"style=",a.to_a(t)),t[c(t.length,1)]):(t=[B=f(w,"Block").$new(F,"open",h(["content_model"],{content_model:"compound"}))],r(L,"parent=",a.to_a(t)),t[c(t.length,1)],t=["partintro"],r(B,"style=",
a.to_a(t)),t[c(t.length,1)],F.$blocks()["$<<"](B))):F.$blocks().$size()["$=="](1)&&(U=F.$blocks()["$[]"](0),e(e(u=B["$!"]())?U.$content_model()["$=="]("compound"):u)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",h(["source_location"],{source_location:t}))):e(U.$content_model()["$!="]("compound"))&&(t=[B=f(w,"Block").$new(F,"open",h(["content_model"],{content_model:"compound"}))],r(L,"parent=",a.to_a(t)),t[c(t.length,1)],t=["partintro"],r(B,"style=",
a.to_a(t)),t[c(t.length,1)],F.$blocks().$shift(),U.$style()["$=="]("partintro")&&(t=["paragraph"],r(U,"context=",a.to_a(t)),t[c(t.length,1)],t=[b],r(U,"style=",a.to_a(t)),t[c(t.length,1)]),B["$<<"](U),F.$blocks()["$<<"](B)))),(e(u=B)?u:F).$blocks()["$<<"](L),m=h([],{}));if(e(u=d.$skip_blank_lines()))u;else break}if(e(I))e(e(n=F["$blocks?"]())?F.$blocks()["$[]"](-1).$context()["$=="]("section"):n)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
h(["source_location"],{source_location:d.$cursor()})));else if(e(y))if(e(y["$blocks?"]())){if(!e(e(n=e(u=A)?u:G.$blocks()["$[]"](1))?n:f(w,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(G.$blocks().$shift();e(B=y.$blocks().$shift());)G["$<<"](B)}else G.$blocks().$shift();return[e(F["$!="](g))?F:b,m.$dup()]},N.$$arity=-3);a.defs(g,"$next_block",V=function(d,g,n,H){try{var v,x,t,A,G,I,F,C,K,D=b,L=b,E=b,U=b,V=b,ga=b,R=b,W=b,Y=b,N=b,Q=b,va=b,ba=b,aa=b,J=b,Z=b,ma=b,T=b,ja=b,fa=b,la=b,qa=b,na=
b,ca=b,xa=b,wa=b,oa=b,ea=b,Ja=b,ia=b,ua=b,ta=b,ya=b,da=b,ka=b,S=b,Pa=b,Fa=b,ha=b,La=b,Oa=b,Da=b,Ia=b,Ma=b,Aa=b,Ca=b,Ba=b,Ha=b,za=b,Ga=b,Ea=b;null==n&&(n=h([],{}));null==H&&(H=h([],{}));if(!e(D=d.$skip_blank_lines()))return b;e(e(v=L=H["$[]"]("text"))?q(D,0):v)&&(H.$delete("text"),L=!1);E=g.$document();if(e(H.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(d,E,n,H));)d.$shift(),e(x=d.$skip_blank_lines())?x:a.ret(b);e(U=E.$extensions())&&(v=[U["$blocks?"](),U["$block_macros?"]()],
V=v[0],ga=v[1],v);d.$mark();v=[d.$read_line(),E.$attributes(),n["$[]"](1)];R=v[0];W=v[1];Y=v[2];v;N=Q=va=ba=b;e(aa=this["$is_delimited_block?"](R,!0))&&(Q=va=aa.$context(),ba=aa.$terminator(),e(Y["$!"]())?Y=(J=["style",Q.$to_s()],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]):e(Y["$!="](Q.$to_s()))&&(e(aa.$masq()["$include?"](Y))?Q=Y.$to_sym():e(e(v=aa.$masq()["$include?"]("admonition"))?f(w,"ADMONITION_STYLES")["$include?"](Y):v)?Q="admonition":e(e(v=V)?U["$registered_for_block?"](Y,Q):v)?Q=Y.$to_sym():
(this.$logger().$warn(this.$message_with_context("invalid style for "+Q+" block: "+Y,h(["source_location"],{source_location:d.$cursor_at_mark()}))),Y=Q.$to_s())));if(!e(aa))for(;e(!0);){if(e(e(x=e(t=Y)?f(w,"Compliance").$strict_verbatim_paragraphs():t)?f(w,"VERBATIM_STYLES")["$include?"](Y):x)){Q=Y.$to_sym();d.$unshift_line(R);break}if(e(L))Z=R["$start_with?"](" ",f(w,"TAB"));else if(ma=f(w,"Compliance").$markdown_syntax(),e(R["$start_with?"](" "))){if(x=[!0," "],Z=x[0],T=x[1],x,e(e(x=e(t=ma)?r(R.$lstrip(),
"start_with?",a.to_a(f(w,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):t)?f(w,"MarkdownThematicBreakRx")["$match?"](R):x)){N=f(w,"Block").$new(g,"thematic_break",h(["content_model"],{content_model:"empty"}));break}}else if(e(R["$start_with?"](f(w,"TAB"))))x=[!0,f(w,"TAB")],Z=x[0],T=x[1],x;else if(x=[!1,R.$chr()],Z=x[0],T=x[1],x,ja=e(ma)?f(w,"HYBRID_LAYOUT_BREAK_CHARS"):f(w,"LAYOUT_BREAK_CHARS"),e(e(x=ja["$key?"](T))?e(ma)?f(w,"ExtLayoutBreakRx")["$match?"](R):(t=R["$=="](m(T,fa=R.$length())))?q(fa,2):
R["$=="](m(T,fa=R.$length())):x)){N=f(w,"Block").$new(g,ja["$[]"](T),h(["content_model"],{content_model:"empty"}));break}else if(e(e(x=R["$end_with?"]("]"))?R["$include?"]("::"):x))if(e(e(x=e(t=T["$=="]("i"))?t:R["$start_with?"]("video:","audio:"))?f(w,"BlockMediaMacroRx")["$=~"](R):x)){x=[((t=u["~"])===b?b:t["$[]"](1)).$to_sym(),(t=u["~"])===b?b:t["$[]"](2),(t=u["~"])===b?b:t["$[]"](3)];la=x[0];qa=x[1];na=x[2];x;N=f(w,"Block").$new(g,la,h(["content_model"],{content_model:"empty"}));e(na)&&(ca=la,
xa="video"["$==="](ca)?["poster","width","height"]:"audio"["$==="](ca)?[]:["alt","width","height"],N.$parse_attributes(na,xa,h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:n})));e(n["$key?"]("style"))&&n.$delete("style");if(e(e(x=qa["$include?"](f(w,"ATTR_REF_HEAD")))?(qa=N.$sub_attributes(qa,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():x)){if((e(x=W["$[]"]("attribute-missing"))?x:f(w,"Compliance").$attribute_missing())["$=="]("skip"))return f(w,"Block").$new(g,
"paragraph",h(["content_model","source"],{content_model:"simple",source:[R]}));n.$clear();return b}la["$=="]("image")&&(E.$register("images",qa),e(x=n["$[]"]("alt"))?x:(J=["alt",e(t=Y)?t:(J=["default-alt",f(w,"Helpers").$basename(qa,!0).$tr("_-"," ")],r(n,"[]=",a.to_a(J)),J[c(J.length,1)])],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),e((wa=n.$delete("scaledwidth"))["$nil_or_empty?"]())||(J=["scaledwidth",e(f(w,"TrailingDigitsRx")["$match?"](wa))?""+wa+"%":wa],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),J=[n.$delete("title")],
r(N,"title=",a.to_a(J)),J[c(J.length,1)],N.$assign_caption(n.$delete("caption"),"figure"));J=["target",qa];r(n,"[]=",a.to_a(J));J[c(J.length,1)];break}else if(e(e(x=(t=T["$=="]("t"))?R["$start_with?"]("toc:"):T["$=="]("t"))?f(w,"BlockTocMacroRx")["$=~"](R):x)){N=f(w,"Block").$new(g,"toc",h(["content_model"],{content_model:"empty"}));e((x=u["~"])===b?b:x["$[]"](1))&&N.$parse_attributes((x=u["~"])===b?b:x["$[]"](1),[],h(["sub_result","into"],{sub_result:!1,into:n}));break}else if(e(e(x=e(t=ga)?f(w,
"CustomBlockMacroRx")["$=~"](R):t)?oa=U["$registered_for_block_macro?"]((t=u["~"])===b?b:t["$[]"](1)):x))if(x=[(t=u["~"])===b?b:t["$[]"](2),(t=u["~"])===b?b:t["$[]"](3)],qa=x[0],ea=x[1],x,oa.$config()["$[]"]("content_model")["$=="]("attributes")?e(ea)&&E.$parse_attributes(ea,e(x=oa.$config()["$[]"]("pos_attrs"))?x:[],h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:n})):(J=["text",e(x=ea)?x:""],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),e(Ja=oa.$config()["$[]"]("default_attrs"))&&
r(n,"update",[Ja],(A=function(a,c){null==c&&(c=b);return c},A.$$s=this,A.$$arity=2,A)),e(N=oa.$process_method()["$[]"](g,qa,n))){n.$replace(N.$attributes());break}else return n.$clear(),b;if(e(e(x=e(t=e(G=Z["$!"]())?f(w,"CALLOUT_LIST_HEADS")["$include?"](T=e(I=T)?I:R.$chr()):G)?f(w,"CalloutListSniffRx")["$match?"](R):t)?ia=f(w,"CalloutListRx").$match(R):x)){N=f(w,"List").$new(g,"colist");J=["style","arabic"];r(n,"[]=",a.to_a(J));J[c(J.length,1)];d.$unshift_line(R);for(ua=1;e(e(t=ia)?t:e(G=ia=f(w,
"CalloutListRx").$match(d.$peek_line()))?d.$mark():G);)ia["$[]"](1)["$=="](ua.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+ua+", got "+ia["$[]"](1),h(["source_location"],{source_location:d.$cursor_at_mark()}))),e(ta=this.$next_list_item(d,N,ia))&&(N.$items()["$<<"](ta),e((ya=E.$callouts().$callout_ids(N.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+N.$items().$size()+">",h(["source_location"],
{source_location:d.$cursor_at_mark()}))):(J=["coids",ya],r(ta.$attributes(),"[]=",a.to_a(J)),J[c(J.length,1)])),ua=p(ua,1),ia=b;E.$callouts().$next_list();break}else if(e(f(w,"UnorderedListRx")["$match?"](R))){d.$unshift_line(R);e(Y)||e(e(x=f(w,"Section")["$==="](g))?g.$sectname()["$=="]("bibliography"):x)&&(Y=(J=["style","bibliography"],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]));N=this.$next_list(d,"ulist",g,Y);break}else if(e(ia=f(w,"OrderedListRx").$match(R))){d.$unshift_line(R);N=this.$next_list(d,
"olist",g);e(Y)||(da=N.$items()["$[]"](0).$marker(),J=e(da["$start_with?"]("."))?["style",(e(x=f(w,"ORDERED_LIST_STYLES")["$[]"](c(da.$length(),1)))?x:"arabic").$to_s()]:["style",(e(x=r(f(w,"ORDERED_LIST_STYLES"),"find",[],(F=function(a){null==a&&(a=b);return f(w,"OrderedListMarkerRxMap")["$[]"](a)["$match?"](da)},F.$$s=this,F.$$arity=1,F)))?x:"arabic").$to_s()],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]);break}else if(e(ia=f(w,"DescriptionListRx").$match(R))){d.$unshift_line(R);N=this.$next_description_list(d,
ia,g);break}else if(e(e(x=e(t=Y["$=="]("float"))?t:Y["$=="]("discrete"))?e(f(w,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](R,d.$peek_line()):e(t=Z["$!"]())?this["$atx_section_title?"](R):t:x)){d.$unshift_line(R);t=this.$parse_section_title(d,E,n["$[]"]("id"));x=a.to_ary(t);ka=null==x[0]?b:x[0];S=null==x[1]?b:x[1];Pa=null==x[2]?b:x[2];Fa=null==x[3]?b:x[3];t;e(S)&&(J=["reftext",S],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]);N=f(w,"Block").$new(g,"floating_title",h(["content_model"],
{content_model:"empty"}));J=[Pa];r(N,"title=",a.to_a(J));J[c(J.length,1)];n.$delete("title");J=[e(x=ka)?x:e(W["$key?"]("sectids"))?f(w,"Section").$generate_id(N.$title(),E):b];r(N,"id=",a.to_a(J));J[c(J.length,1)];J=[Fa];r(N,"level=",a.to_a(J));J[c(J.length,1)];break}else if(e(e(x=Y)?Y["$!="]("normal"):x))if(e(f(w,"PARAGRAPH_STYLES")["$include?"](Y))){Q=Y.$to_sym();va="paragraph";d.$unshift_line(R);break}else if(e(f(w,"ADMONITION_STYLES")["$include?"](Y))){Q="admonition";va="paragraph";d.$unshift_line(R);
break}else if(e(e(x=V)?U["$registered_for_block?"](Y,"paragraph"):x)){Q=Y.$to_sym();va="paragraph";d.$unshift_line(R);break}else this.$logger().$warn(this.$message_with_context("invalid style for paragraph: "+Y,h(["source_location"],{source_location:d.$cursor_at_mark()}))),Y=b;d.$unshift_line(R);if(e(e(x=Z)?Y["$!"]():x))ha=this.$read_paragraph_lines(d,e(x=La=f(w,"ListItem")["$==="](g))?D["$=="](0):x,h(["skip_line_comments"],{skip_line_comments:L})),this["$adjust_indentation!"](ha),N=f(w,"Block").$new(g,
"literal",h(["content_model","source","attributes"],{content_model:"verbatim",source:ha,attributes:n})),e(La)&&N.$set_option("listparagraph");else{ha=this.$read_paragraph_lines(d,(x=D["$=="](0))?f(w,"ListItem")["$==="](g):D["$=="](0),h(["skip_line_comments"],{skip_line_comments:!0}));if(e(L)){if(e(e(x=Z)?Y["$=="]("normal"):x))this["$adjust_indentation!"](ha);N=f(w,"Block").$new(g,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:ha,attributes:n}))}else if(e(e(x=
e(t=f(w,"ADMONITION_STYLE_HEADS")["$include?"](T))?R["$include?"](":"):t)?f(w,"AdmonitionParagraphRx")["$=~"](R):x))J=[0,(x=u["~"])===b?b:x.$post_match()],r(ha,"[]=",a.to_a(J)),J[c(J.length,1)],J=["name",Oa=(J=["style",(x=u["~"])===b?b:x["$[]"](1)],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]).$downcase()],r(n,"[]=",a.to_a(J)),J[c(J.length,1)],J=["textlabel",e(x=n.$delete("caption"))?x:W["$[]"](""+Oa+"-caption")],r(n,"[]=",a.to_a(J)),J[c(J.length,1)],N=f(w,"Block").$new(g,"admonition",h(["content_model",
"source","attributes"],{content_model:"simple",source:ha,attributes:n}));else if(e(e(x=e(t=ma)?T["$=="](">"):t)?R["$start_with?"]("> "):x)){r(ha,"map!",[],(C=function(a){null==a&&(a=b);return a["$=="](">")?a["$[]"](y(1,-1,!1)):e(a["$start_with?"]("> "))?a["$[]"](y(2,-1,!1)):a},C.$$s=this,C.$$arity=1,C));if(e(ha["$[]"](-1)["$start_with?"]("-- ")))for(Da=Da=ha.$pop()["$[]"](y(3,-1,!1));e(ha["$[]"](-1)["$empty?"]());)ha.$pop();J=["style","quote"];r(n,"[]=",a.to_a(J));J[c(J.length,1)];N=this.$build_block("quote",
"compound",!1,g,f(w,"Reader").$new(ha),n);e(Da)&&(t=N.$apply_subs(Da).$split(", ",2),x=a.to_ary(t),Ia=null==x[0]?b:x[0],Ma=null==x[1]?b:x[1],t,e(Ia)&&(J=["attribution",Ia],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),e(Ma)&&(J=["citetitle",Ma],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]))}else if(e(e(x=e(t=(G=T["$=="]('"'))?q(ha.$size(),1):T["$=="]('"'))?ha["$[]"](-1)["$start_with?"]("-- "):t)?ha["$[]"](-2)["$end_with?"]('"'):x)){J=[0,R["$[]"](y(1,-1,!1))];r(ha,"[]=",a.to_a(J));J[c(J.length,1)];for(Da=(Da=ha.$pop()).$slice(3,
Da.$length());e(ha["$[]"](-1)["$empty?"]());)ha.$pop();J=[-1,ha["$[]"](-1).$chop()];r(ha,"[]=",a.to_a(J));J[c(J.length,1)];J=["style","quote"];r(n,"[]=",a.to_a(J));J[c(J.length,1)];N=f(w,"Block").$new(g,"quote",h(["content_model","source","attributes"],{content_model:"simple",source:ha,attributes:n}));t=N.$apply_subs(Da).$split(", ",2);x=a.to_ary(t);Ia=null==x[0]?b:x[0];Ma=null==x[1]?b:x[1];t;e(Ia)&&(J=["attribution",Ia],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]);e(Ma)&&(J=["citetitle",Ma],r(n,"[]=",
a.to_a(J)),J[c(J.length,1)])}else{if(e(e(x=Z)?Y["$=="]("normal"):x))this["$adjust_indentation!"](ha);N=f(w,"Block").$new(g,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:ha,attributes:n}))}this.$catalog_inline_anchors(m(ha,f(w,"LF")),N,E)}break}if(!e(N))if(e(e(v=Q["$=="]("abstract"))?v:Q["$=="]("partintro"))&&(Q="open"),ca=Q,"admonition"["$==="](ca))J=["name",Oa=Y.$downcase()],r(n,"[]=",a.to_a(J)),J[c(J.length,1)],J=["textlabel",e(v=n.$delete("caption"))?v:W["$[]"](""+
Oa+"-caption")],r(n,"[]=",a.to_a(J)),J[c(J.length,1)],N=this.$build_block(Q,"compound",ba,g,d,n);else{if("comment"["$==="](ca))return this.$build_block(Q,"skip",ba,g,d,n),n.$clear(),b;if("example"["$==="](ca))N=this.$build_block(Q,"compound",ba,g,d,n);else if("listing"["$==="](ca)||"literal"["$==="](ca))N=this.$build_block(Q,"verbatim",ba,g,d,n);else if("source"["$==="](ca))f(w,"AttributeList").$rekey(n,[b,"language","linenums"]),!e(n["$key?"]("language"))&&e(W["$key?"]("source-language"))&&(J=["language",
e(v=W["$[]"]("source-language"))?v:"text"],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),!e(n["$key?"]("linenums"))&&e(e(v=n["$key?"]("linenums-option"))?v:W["$key?"]("source-linenums-option"))&&(J=["linenums",""],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),!e(n["$key?"]("indent"))&&e(W["$key?"]("source-indent"))&&(J=["indent",W["$[]"]("source-indent")],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),N=this.$build_block("listing","verbatim",ba,g,d,n);else if("fenced_code"["$==="](ca))J=["style","source"],r(n,"[]=",a.to_a(J)),
J[c(J.length,1)],(fa=R.$length())["$=="](3)?Aa=b:e(Ca=(Aa=R.$slice(3,fa)).$index(","))?e(q(Ca,0))?(Aa=Aa.$slice(0,Ca).$strip(),e(l(Ca,c(fa,4)))&&(J=["linenums",""],r(n,"[]=",a.to_a(J)),J[c(J.length,1)])):(Aa=b,e(q(fa,4))&&(J=["linenums",""],r(n,"[]=",a.to_a(J)),J[c(J.length,1)])):Aa=Aa.$lstrip(),e(Aa["$nil_or_empty?"]())?e(W["$key?"]("source-language"))&&(J=["language",e(v=W["$[]"]("source-language"))?v:"text"],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]):(J=["language",Aa],r(n,"[]=",a.to_a(J)),J[c(J.length,
1)]),!e(n["$key?"]("linenums"))&&e(e(v=n["$key?"]("linenums-option"))?v:W["$key?"]("source-linenums-option"))&&(J=["linenums",""],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),!e(n["$key?"]("indent"))&&e(W["$key?"]("source-indent"))&&(J=["indent",W["$[]"]("source-indent")],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),ba=ba.$slice(0,3),N=this.$build_block("listing","verbatim",ba,g,d,n);else if("pass"["$==="](ca))N=this.$build_block(Q,"raw",ba,g,d,n);else if("stem"["$==="](ca)||"latexmath"["$==="](ca)||"asciimath"["$==="](ca))Q["$=="]("stem")&&
(J=["style",f(w,"STEM_TYPE_ALIASES")["$[]"](e(v=n["$[]"](2))?v:W["$[]"]("stem"))],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),N=this.$build_block("stem","raw",ba,g,d,n);else if("open"["$==="](ca)||"sidebar"["$==="](ca))N=this.$build_block(Q,"compound",ba,g,d,n);else if("table"["$==="](ca))Ba=d.$cursor(),Ha=f(w,"Reader").$new(d.$read_lines_until(h(["terminator","skip_line_comments","context","cursor"],{terminator:ba,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Ba),e(ba["$start_with?"]("|",
"!"))||(e(v=n["$[]"]("format"))?v:(J=["format",e(ba["$start_with?"](","))?"csv":"dsv"],r(n,"[]=",a.to_a(J)),J[c(J.length,1)])),N=this.$next_table(Ha,g,n);else if("quote"["$==="](ca)||"verse"["$==="](ca))f(w,"AttributeList").$rekey(n,[b,"attribution","citetitle"]),N=this.$build_block(Q,Q["$=="]("verse")?"verbatim":"compound",ba,g,d,n);else if(e(e(v=V)?oa=U["$registered_for_block?"](Q,va):v)){if(e((za=oa.$config()["$[]"]("content_model"))["$!="]("skip"))&&(e((Ga=e(v=oa.$config()["$[]"]("pos_attrs"))?
v:[])["$empty?"]()["$!"]())&&f(w,"AttributeList").$rekey(n,[b].$concat(Ga)),e(Ja=oa.$config()["$[]"]("default_attrs"))&&r(Ja,"each",[],(K=function(d,f){var h;null==d&&(d=b);null==f&&(f=b);return e(h=n["$[]"](d))?h:(J=[d,f],r(n,"[]=",a.to_a(J)),J[c(J.length,1)])},K.$$s=this,K.$$arity=2,K)),J=["cloaked-context",va],r(n,"[]=",a.to_a(J)),J[c(J.length,1)]),N=this.$build_block(Q,za,ba,g,d,n,h(["extension"],{extension:oa})),!e(N))return n.$clear(),b}else this.$raise("Unsupported block type "+Q+" at "+d.$cursor())}e(E.$sourcemap())&&
(J=[d.$cursor_at_mark()],r(N,"source_location=",a.to_a(J)),J[c(J.length,1)]);e(n["$key?"]("title"))&&(J=[n.$delete("title")],r(N,"title=",a.to_a(J)),J[c(J.length,1)]);J=[n["$[]"]("style")];r(N,"style=",a.to_a(J));J[c(J.length,1)];e(Ea=e(v=N.$id())?v:(J=[n["$[]"]("id")],r(N,"id=",a.to_a(J)),J[c(J.length,1)]))&&!e(E.$register("refs",[Ea,N,e(v=n["$[]"]("reftext"))?v:e(N["$title?"]())?N.$title():b]))&&this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Ea,h(["source_location"],
{source_location:d.$cursor_at_mark()})));e(n["$empty?"]())||N.$attributes().$update(n);N.$lock_in_subs();e(N["$sub?"]("callouts"))&&!e(this.$catalog_callouts(N.$source(),E))&&N.$remove_sub("callouts");return N}catch(db){if(db===a.returner)return db.$v;throw db;}},V.$$arity=-3);a.defs(g,"$read_paragraph_lines",L=function(d,g,l){var m=b,m=b;null==l&&(l=h([],{}));m=["break_on_blank_lines",!0];r(l,"[]=",a.to_a(m));m[c(m.length,1)];m=["break_on_list_continuation",!0];r(l,"[]=",a.to_a(m));m[c(m.length,
1)];m=["preserve_last_line",!0];r(l,"[]=",a.to_a(m));m[c(m.length,1)];m=e(g)?e(f(w,"Compliance").$block_terminates_paragraph())?f(w,"StartOfBlockOrListProc"):f(w,"StartOfListProc"):e(f(w,"Compliance").$block_terminates_paragraph())?f(w,"StartOfBlockProc"):f(w,"NoOp");return r(d,"read_lines_until",[l],m.$to_proc())},L.$$arity=-3);a.defs(g,"$is_delimited_block?",K=function(d,h){var g,n,r=n=b,p=b,u=b,H=b,u=p=b;null==h&&(h=!1);if(!e(e(g=q(n=d.$length(),1))?f(w,"DELIMITED_BLOCK_HEADS")["$include?"](d.$slice(0,
2)):g))return b;if(n["$=="](2))r=d,p=2;else{e("number"===typeof n?4>=n:n["$<="](4))?(r=d,p=n):(r=d.$slice(0,4),p=4);u=!1;if(e(f(w,"Compliance").$markdown_syntax())&&(H=p["$=="](4)?r.$chop():r,H["$=="]("```"))){if(e(p["$=="](4)?r["$end_with?"]("`"):p["$=="](4)))return b;r=H;p=3;u=!0}if(e((g=p["$=="](3))?u["$!"]():p["$=="](3)))return b}if(e(f(w,"DELIMITED_BLOCKS")["$key?"](r))){if(e(e(g=l(p,4))?g:p["$=="](n)))return e(h)?(n=f(w,"DELIMITED_BLOCKS")["$[]"](r),g=a.to_ary(n),p=null==g[0]?b:g[0],u=null==
g[1]?b:g[1],n,f(w,"BlockMatchData").$new(p,u,r,r)):!0;if((""+r+m(r["$[]"](y(-1,-1,!1)),c(n,p)))["$=="](d))return e(h)?(n=f(w,"DELIMITED_BLOCKS")["$[]"](r),g=a.to_ary(n),p=null==g[0]?b:g[0],u=null==g[1]?b:g[1],n,f(w,"BlockMatchData").$new(p,u,r,d)):!0}return b},K.$$arity=-2);a.defs(g,"$build_block",W=function(d,g,l,m,n,p,u){var H,v,x=b,y=b,t=x=y=b;H=t=t=t=t=b;null==u&&(u=h([],{}));H=g["$=="]("skip")?[!0,"simple"]:g["$=="]("raw")?[!1,"simple"]:[!1,g];x=H[0];y=H[1];H;e(l["$nil?"]())?(y["$=="]("verbatim")?
y=n.$read_lines_until(h(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(g["$=="]("compound")&&(g="simple"),y=this.$read_paragraph_lines(n,!1,h(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:x}))),x=b):e(y["$!="]("compound"))?(y=n.$read_lines_until(h(["terminator","skip_processing","context","cursor"],{terminator:l,skip_processing:x,context:d,cursor:"at_mark"})),x=b):l["$=="](!1)?(y=b,x=n):(y=b,t=n.$cursor(),
x=f(w,"Reader").$new(n.$read_lines_until(h(["terminator","skip_processing","context","cursor"],{terminator:l,skip_processing:x,context:d,cursor:"at_mark"})),t));if(g["$=="]("verbatim"))if(e(t=p["$[]"]("indent")))this["$adjust_indentation!"](y,t,e(H=p["$[]"]("tabsize"))?H:m.$document().$attributes()["$[]"]("tabsize"));else{if(e(q(t=(e(H=p["$[]"]("tabsize"))?H:m.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](y,b,t)}else if(g["$=="]("skip"))return b;if(e(t=u["$[]"]("extension")))if(p.$delete("style"),
e(t=t.$process_method()["$[]"](m,e(H=x)?H:f(w,"Reader").$new(y),p.$dup())))p.$replace(t.$attributes()),e((H=t.$content_model()["$=="]("compound"))?(y=t.$lines())["$nil_or_empty?"]()["$!"]():t.$content_model()["$=="]("compound"))&&(g="compound",x=f(w,"Reader").$new(y));else return b;else t=f(w,"Block").$new(m,d,h(["content_model","source","attributes"],{content_model:g,source:y,attributes:p}));e(e(H=e(v=p["$key?"]("title"))?t.$context()["$!="]("admonition"):v)?m.$document().$attributes()["$key?"](""+
t.$context()+"-caption"):H)&&(H=[p.$delete("title")],r(t,"title=",a.to_a(H)),H[c(H.length,1)],t.$assign_caption(p.$delete("caption")));g["$=="]("compound")&&this.$parse_blocks(x,t);return t},W.$$arity=-7);a.defs(g,"$parse_blocks",qa=function(a,c){for(var d,f,k=b;e(e(d=e(f=k=this.$next_block(a,c))?c.$blocks()["$<<"](k):f)?d:a["$has_more_lines?"]()););},qa.$$arity=2);a.defs(g,"$next_list",ga=function(d,h,g,m){var n,H,v=b,x=b,y=x=b,t=b,B=b,A=b;null==u["~"]&&(u["~"]=b);null==m&&(m=b);v=f(w,"List").$new(g,
h);x=[g.$context()["$=="](h)?p(g.$level(),1):1];r(v,"level=",a.to_a(x));for(x[c(x.length,1)];e(e(n=d["$has_more_lines?"]())?f(w,"ListRxMap")["$[]"](h)["$=~"](d.$peek_line()):n);){n=[u["~"],this.$resolve_list_marker(h,(H=u["~"])===b?b:H["$[]"](1))];x=n[0];y=n[1];n;if(e(e(n=v["$items?"]())?y["$!="](v.$items()["$[]"](0).$marker()):n))for(t=p(v.$level(),1),B=g;B.$context()["$=="](h);){if(y["$=="](B.$items()["$[]"](0).$marker())){t=B.$level();break}B=B.$parent()}else t=v.$level();if(e(e(n=v["$items?"]()["$!"]())?
n:t["$=="](v.$level())))A=this.$next_list_item(d,v,x,b,m);else if(e(l(t,v.$level())))break;else if(e(q(t,v.$level())))v.$items()["$[]"](-1)["$<<"](this.$next_block(d,v));if(e(A))v.$items()["$<<"](A);A=b;if(e(n=d.$skip_blank_lines()))n;else break}return v},ga.$$arity=-4);a.defs(g,"$catalog_callouts",ja=function(a,c){var d,k=b,k=!1;e(a["$include?"]("<"))&&r(a,"scan",[f(w,"CalloutScanRx")],(d=function(){var a,d,f=b,h=b;a=[(d=u["~"])===b?b:d["$[]"](0),(d=u["~"])===b?b:d["$[]"](2)];f=a[0];h=a[1];a;e(f["$start_with?"]("\\"))||
c.$callouts().$register(h);return k=!0},d.$$s=this,d.$$arity=0,d));return k},ja.$$arity=2);a.defs(g,"$catalog_inline_anchor",aa=function(a,c,d,k,g){var l;null==g&&(g=b);g=e(l=g)?l:d.$document();e(e(l=c)?c["$include?"](f(w,"ATTR_REF_HEAD")):l)&&(c=g.$sub_attributes(c));e(g.$register("refs",[a,f(w,"Inline").$new(d,"anchor",c,h(["type","id"],{type:"ref",id:a})),c]))||(e(f(w,"Reader")["$==="](k))&&(k=k.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+
a,h(["source_location"],{source_location:k}))));return b},aa.$$arity=-5);a.defs(g,"$catalog_inline_anchors",R=function(a,c,d){var k,g;e(e(k=a["$include?"]("[["))?k:a["$include?"]("or:"))&&r(a,"scan",[f(w,"InlineAnchorScanRx")],(g=function(){var a=g.$$s||this,k,l=b,m=b;if(e(l=(k=u["~"])===b?b:k["$[]"](1))){if(e(m=(k=u["~"])===b?b:k["$[]"](2))&&e(e(k=m["$include?"](f(w,"ATTR_REF_HEAD")))?(m=d.$sub_attributes(m))["$empty?"]():k))return b}else if(l=(k=u["~"])===b?b:k["$[]"](3),e(m=(k=u["~"])===b?b:k["$[]"](4))&&
(e(m["$include?"]("]"))&&(m=m.$gsub("\\]","]")),e(e(k=m["$include?"](f(w,"ATTR_REF_HEAD")))?(m=d.$sub_attributes(m))["$empty?"]():k)))return b;return e(d.$register("refs",[l,f(w,"Inline").$new(c,"anchor",m,h(["type","id"],{type:"ref",id:l})),m]))?b:a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+l,h(["source_location"],{source_location:d.$reader().$cursor_at_prev_line()})))},g.$$s=this,g.$$arity=0,g));return b},R.$$arity=3);a.defs(g,"$catalog_inline_biblio_anchor",
ua=function(a,c,d,k){var g=b;e(d.$document().$register("refs",[a,f(w,"Inline").$new(d,"anchor",g="["+(e(c)?c:a)+"]",h(["type","id"],{type:"bibref",id:a})),g]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,h(["source_location"],{source_location:k.$cursor()})));return b},ua.$$arity=4);a.defs(g,"$next_description_list",ia=function(d,h,g){for(var l,m,n=b,p=b,u=b,q=b,H=b,q=b,n=f(w,"List").$new(g,"dlist"),p=b,u=f(w,"DescriptionListSiblingRx")["$[]"](h["$[]"](2));e(e(l=
h)?l:e(m=d["$has_more_lines?"]())?h=u.$match(d.$peek_line()):m);){m=this.$next_list_item(d,n,h,u);l=a.to_ary(m);q=null==l[0]?b:l[0];H=null==l[1]?b:l[1];m;if(e(e(l=p)?p["$[]"](1)["$!"]():l))p["$[]"](0)["$<<"](q),q=[1,H],r(p,"[]=",a.to_a(q)),q[c(q.length,1)];else n.$items()["$<<"](p=[[q],H]);h=b}return n},ia.$$arity=3);a.defs(g,"$next_list_item",ea=function(d,g,l,m,n){var p,q,H=b,v=b,z=b,x=b,y=b,t=b,B=x=b,A=b,G=y=B=y=B=H=B=b;null==m&&(m=b);null==n&&(n=b);(H=g.$context())["$=="]("dlist")?(v=!0,z=f(w,
"ListItem").$new(g,x=l["$[]"](1)),e(e(p=x["$start_with?"]("[["))?f(w,"LeadingInlineAnchorRx")["$=~"](x):p)&&this.$catalog_inline_anchor((p=u["~"])===b?b:p["$[]"](1),e(p=(q=u["~"])===b?b:q["$[]"](2))?p:((q=u["~"])===b?b:q.$post_match()).$lstrip(),z,d),e(y=l["$[]"](3))&&(t=!0),x=f(w,"ListItem").$new(g,y),e(g.$document().$sourcemap())&&(B=[d.$cursor()],r(z,"source_location=",a.to_a(B)),B[c(B.length,1)],e(t)?(B=[z.$source_location()],r(x,"source_location=",a.to_a(B)),B[c(B.length,1)]):A=!0)):(t=!0,x=
f(w,"ListItem").$new(g,y=l["$[]"](2)),e(g.$document().$sourcemap())&&(B=[d.$cursor()],r(x,"source_location=",a.to_a(B)),B[c(B.length,1)]),H["$=="]("ulist")?(B=[m=e(p=m)?p:l["$[]"](1)],r(x,"marker=",a.to_a(B)),B[c(B.length,1)],e(y["$start_with?"]("["))&&(e(e(p=n)?n["$=="]("bibliography"):p)?e(f(w,"InlineBiblioAnchorRx")["$=~"](y))&&this.$catalog_inline_biblio_anchor((p=u["~"])===b?b:p["$[]"](1),(p=u["~"])===b?b:p["$[]"](2),x,d):e(y["$start_with?"]("[["))?e(f(w,"LeadingInlineAnchorRx")["$=~"](y))&&
this.$catalog_inline_anchor((p=u["~"])===b?b:p["$[]"](1),(p=u["~"])===b?b:p["$[]"](2),x,d):e(y["$start_with?"]("[ ] ","[x] ","[*] "))&&(B=["checklist-option",""],r(g.$attributes(),"[]=",a.to_a(B)),B[c(B.length,1)],B=["checkbox",""],r(x.$attributes(),"[]=",a.to_a(B)),B[c(B.length,1)],e(y["$start_with?"]("[ "))||(B=["checked",""],r(x.$attributes(),"[]=",a.to_a(B)),B[c(B.length,1)]),B=[y.$slice(4,y.$length())],r(x,"text=",a.to_a(B)),B[c(B.length,1)]))):(B=H["$=="]("olist")?[m=e(p=m)?p:this.$resolve_ordered_list_marker(l["$[]"](1),
g.$items().$size(),!0,d)]:[m=e(p=m)?p:"<1>"],r(x,"marker=",a.to_a(B)),B[c(B.length,1)]));d.$shift();B=d.$cursor();H=f(w,"Reader").$new(this.$read_lines_for_list_item(d,H,m,t),B);if(e(H["$has_more_lines?"]())){e(A)&&(B=[B],r(x,"source_location=",a.to_a(B)),B[c(B.length,1)]);B=H.$skip_line_comments();e(y=H.$peek_line())?(e(B["$empty?"]())||H.$unshift_lines(B),e(B=y["$empty?"]())?y=!1:(y=!0,e(v)||(t=b))):y=B=!1;if(e(G=this.$next_block(H,x,h([],{}),h(["text"],{text:t["$!"]()}))))x.$blocks()["$<<"](G);
for(;e(H["$has_more_lines?"]());)if(e(G=this.$next_block(H,x)))x.$blocks()["$<<"](G);x.$fold_first(B,y)}return e(v)?e(e(p=x["$text?"]())?p:x["$blocks?"]())?[z,x]:[z]:x},ea.$$arity=-4);a.defs(g,"$read_lines_for_list_item",fa=function(d,g,l,m){var n,p,q,H,v,z,x,y,B=b,t=b,A=b,G=b,F=b,C=b,C=q=q=b;null==l&&(l=b);null==m&&(m=!0);B=[];t="inactive";A=!1;for(G=b;e(d["$has_more_lines?"]());){F=d.$read_line();if(e(this["$is_sibling_list_item?"](F,g,l)))break;C=e(B["$empty?"]())?b:B["$[]"](-1);if(C["$=="](f(w,
"LIST_CONTINUATION"))&&(t["$=="]("inactive")&&(t="active",m=!0,e(A)||(q=[-1,""],r(B,"[]=",a.to_a(q)),q[c(q.length,1)])),F["$=="](f(w,"LIST_CONTINUATION")))){e(t["$!="]("frozen"))&&(t="frozen",B["$<<"](F));F=b;continue}if(e(q=this["$is_delimited_block?"](F,!0)))if(t["$=="]("active"))B["$<<"](F),B.$concat(d.$read_lines_until(h(["terminator","read_last_line","context"],{terminator:q.$terminator(),read_last_line:!0,context:b}))),t="inactive";else break;else if(e(e(p=(q=g["$=="]("dlist"))?t["$!="]("active"):
g["$=="]("dlist"))?f(w,"BlockAttributeLineRx")["$match?"](F):p))break;else if(e((p=t["$=="]("active"))?F["$empty?"]()["$!"]():t["$=="]("active")))if(e(f(w,"LiteralParagraphRx")["$match?"](F)))d.$unshift_line(F),B.$concat(r(d,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(H=function(a){var c=H.$$s||this;null==a&&(a=b);return g["$=="]("dlist")?c["$is_sibling_list_item?"](a,
g,l):g["$=="]("dlist")},H.$$s=this,H.$$arity=1,H))),t="inactive";else if(e(e(p=e(q=f(w,"BlockTitleRx")["$match?"](F))?q:f(w,"BlockAttributeLineRx")["$match?"](F))?p:f(w,"AttributeEntryRx")["$match?"](F)))B["$<<"](F);else e(C=r(e(A)?["dlist"]:f(w,"NESTABLE_LIST_CONTEXTS"),"find",[],(v=function(a){null==a&&(a=b);return f(w,"ListRxMap")["$[]"](a)["$match?"](F)},v.$$s=this,v.$$arity=1,v)))&&(A=!0,e((p=C["$=="]("dlist"))?((q=u["~"])===b?b:q["$[]"](3))["$nil_or_empty?"]():C["$=="]("dlist"))&&(m=!1)),B["$<<"](F),
t="inactive";else if(e(e(p=C)?C["$empty?"]():p)){if(e(F["$empty?"]())){if(!e(F=e(p=d.$skip_blank_lines())?d.$read_line():p))break;if(e(this["$is_sibling_list_item?"](F,g,l)))break}if(F["$=="](f(w,"LIST_CONTINUATION")))G=B.$size(),B["$<<"](F);else if(e(m))if(e(this["$is_sibling_list_item?"](F,g,l)))break;else if(e(C=r(f(w,"NESTABLE_LIST_CONTEXTS"),"find",[],(z=function(a){null==a&&(a=b);return f(w,"ListRxMap")["$[]"](a)["$=~"](F)},z.$$s=this,z.$$arity=1,z))))B["$<<"](F),A=!0,e((p=C["$=="]("dlist"))?
((q=u["~"])===b?b:q["$[]"](3))["$nil_or_empty?"]():C["$=="]("dlist"))&&(m=!1);else if(e(f(w,"LiteralParagraphRx")["$match?"](F)))d.$unshift_line(F),B.$concat(r(d,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(x=function(a){var c=x.$$s||this;null==a&&(a=b);return g["$=="]("dlist")?c["$is_sibling_list_item?"](a,g,l):g["$=="]("dlist")},x.$$s=this,x.$$arity=1,x)));else break;
else e(A)||B.$pop(),B["$<<"](F),m=!0}else e(F["$empty?"]()["$!"]())&&(m=!0),e(C=r(e(A)?["dlist"]:f(w,"NESTABLE_LIST_CONTEXTS"),"find",[],(y=function(a){null==a&&(a=b);return f(w,"ListRxMap")["$[]"](a)["$=~"](F)},y.$$s=this,y.$$arity=1,y)))&&(A=!0,e((p=C["$=="]("dlist"))?((q=u["~"])===b?b:q["$[]"](3))["$nil_or_empty?"]():C["$=="]("dlist"))&&(m=!1)),B["$<<"](F);F=b}e(F)&&d.$unshift_line(F);for(e(G)&&B.$delete_at(G);e(e(p=B["$empty?"]()["$!"]())?B["$[]"](-1)["$empty?"]():p);)B.$pop();e(e(n=B["$empty?"]()["$!"]())?
B["$[]"](-1)["$=="](f(w,"LIST_CONTINUATION")):n)&&B.$pop();return B},fa.$$arity=-3);a.defs(g,"$initialize_section",ca=function(d,g,l){var m,n,p=b,u=b,H=b,v=b,x=b,y=b,B=b,t=b,A=b,G=b,F=b,C=H=b,K=b,J=x=b;null==l&&(l=h([],{}));p=g.$document();u=(H=p.$doctype())["$=="]("book");e(p.$sourcemap())&&(v=d.$cursor());x=l["$[]"](1);n=this.$parse_section_title(d,p,l["$[]"]("id"));m=a.to_ary(n);y=null==m[0]?b:m[0];B=null==m[1]?b:m[1];t=null==m[2]?b:m[2];A=null==m[3]?b:m[3];G=null==m[4]?b:m[4];n;e(B)?(F=["reftext",
B],r(l,"[]=",a.to_a(F)),F[c(F.length,1)]):B=l["$[]"]("reftext");e(x)?e(e(m=u)?x["$=="]("abstract"):m)?(m=["chapter",1],H=m[0],A=m[1],m):(m=[x,!0],H=m[0],C=m[1],m,A["$=="](0)&&(A=1),K=x["$=="]("appendix")):e(u)?H=A["$=="](0)?"part":e(q(A,1))?"section":"chapter":e(H["$=="]("manpage")?t.$casecmp("synopsis")["$=="](0):H["$=="]("manpage"))?(m=["synopsis",!0],H=m[0],C=m[1],m):H="section";x=f(w,"Section").$new(g,A);m=[y,t,H,v];x["$id="](m[0]);x["$title="](m[1]);x["$sectname="](m[2]);x["$source_location="](m[3]);
m;e(C)?(F=[!0],r(x,"special=",a.to_a(F)),F[c(F.length,1)],e(K)?(F=[!0],r(x,"numbered=",a.to_a(F)),F[c(F.length,1)]):p.$attributes()["$[]"]("sectnums")["$=="]("all")&&(F=[e(e(m=u)?A["$=="](1):m)?"chapter":!0],r(x,"numbered=",a.to_a(F)),F[c(F.length,1)])):e(e(m=p.$attributes()["$[]"]("sectnums"))?q(A,0):m)?(F=[e(x.$special())?e(m=g.$numbered())?!0:m:!0],r(x,"numbered=",a.to_a(F)),F[c(F.length,1)]):e(e(m=e(n=u)?A["$=="](0):n)?p.$attributes()["$[]"]("partnums"):m)&&(F=[!0],r(x,"numbered=",a.to_a(F)),
F[c(F.length,1)]);e(J=e(m=x.$id())?m:(F=[e(p.$attributes()["$key?"]("sectids"))?f(w,"Section").$generate_id(x.$title(),p):b],r(x,"id=",a.to_a(F)),F[c(F.length,1)]))&&!e(p.$register("refs",[J,x,e(m=B)?m:x.$title()]))&&this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+J,h(["source_location"],{source_location:d.$cursor_at_line(c(d.$lineno(),e(G)?1:2))})));x.$update_attributes(l);d.$skip_blank_lines();return x},ca.$$arity=-3);a.defs(g,"$is_next_line_section?",Y=
function(a,c){var d,k,g=b,h=b;return e(e(d=g=c["$[]"](1))?e(k=g["$=="]("discrete"))?k:g["$=="]("float"):d)?b:e(f(w,"Compliance").$underline_style_section_titles())?(h=a.$peek_lines(2,e(d=g)?g["$=="]("comment"):d),this["$is_section_title?"](e(d=h["$[]"](0))?d:"",h["$[]"](1))):this["$atx_section_title?"](e(d=a.$peek_line())?d:"")},Y.$$arity=2);a.defs(g,"$is_next_line_doctitle?",va=function(a,c,d){var f,k=b;return e(d)?e(f=k=this["$is_next_line_section?"](a,c))?p(k,d.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,
c)["$=="](0)},va.$$arity=3);a.defs(g,"$is_section_title?",ma=function(a,c){var d;null==c&&(c=b);return e(d=this["$atx_section_title?"](a))?d:e(c["$nil_or_empty?"]())?b:this["$setext_section_title?"](a,c)},ma.$$arity=-2);a.defs(g,"$atx_section_title?",ta=function(a){var d;return e(e(f(w,"Compliance").$markdown_syntax())?e(d=a["$start_with?"]("=","#"))?f(w,"ExtAtxSectionTitleRx")["$=~"](a):d:e(d=a["$start_with?"]("="))?f(w,"AtxSectionTitleRx")["$=~"](a):d)?c(((d=u["~"])===b?b:d["$[]"](1)).$length(),
1):b},ta.$$arity=1);a.defs(g,"$setext_section_title?",ya=function(a,d){var g,h,n,p=b,r=b,q=b;return e(e(g=e(h=e(n=p=f(w,"SETEXT_SECTION_LEVELS")["$[]"](r=d.$chr()))?m(r,q=d.$length())["$=="](d):n)?f(w,"SetextSectionTitleRx")["$match?"](a):h)?l(c(this.$line_length(a),q).$abs(),2):g)?p:b},ya.$$arity=2);a.defs(g,"$parse_section_title",oa=function(a,d,g){var h,n,r,q,H,v=b,z=b,x=b,y=b,t=b,F=b,A=b,G=b;null==g&&(g=b);v=b;z=a.$read_line();e(e(f(w,"Compliance").$markdown_syntax())?e(h=z["$start_with?"]("=",
"#"))?f(w,"ExtAtxSectionTitleRx")["$=~"](z):h:e(h=z["$start_with?"]("="))?f(w,"AtxSectionTitleRx")["$=~"](z):h)?(h=[c(((n=u["~"])===b?b:n["$[]"](1)).$length(),1),(n=u["~"])===b?b:n["$[]"](2),!0],x=h[0],y=h[1],t=h[2],h,!e(g)&&e(e(h=e(n=y["$end_with?"]("]]"))?f(w,"InlineSectionAnchorRx")["$=~"](y):n)?((n=u["~"])===b?b:n["$[]"](1))["$!"]():h)&&(h=[y.$slice(0,c(y.$length(),((n=u["~"])===b?b:n["$[]"](0)).$length())),(n=u["~"])===b?b:n["$[]"](2),(n=u["~"])===b?b:n["$[]"](3)],y=h[0],g=h[1],v=h[2],h)):e(e(h=
e(n=e(r=e(q=e(H=f(w,"Compliance").$underline_style_section_titles())?F=a.$peek_line(!0):H)?x=f(w,"SETEXT_SECTION_LEVELS")["$[]"](A=F.$chr()):q)?m(A,G=F.$length())["$=="](F):r)?y=e(r=f(w,"SetextSectionTitleRx")["$=~"](z))?(q=u["~"])===b?b:q["$[]"](1):r:n)?l(c(this.$line_length(z),G).$abs(),2):h)?(t=!1,!e(g)&&e(e(h=e(n=y["$end_with?"]("]]"))?f(w,"InlineSectionAnchorRx")["$=~"](y):n)?((n=u["~"])===b?b:n["$[]"](1))["$!"]():h)&&(h=[y.$slice(0,c(y.$length(),((n=u["~"])===b?b:n["$[]"](0)).$length())),(n=
u["~"])===b?b:n["$[]"](2),(n=u["~"])===b?b:n["$[]"](3)],y=h[0],g=h[1],v=h[2],h),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(d["$attr?"]("leveloffset"))&&(x=p(x,d.$attr("leveloffset").$to_i()));return[g,v,y,x,t]},oa.$$arity=-3);e(f(w,"FORCE_UNICODE_LINE_LENGTH"))?a.defs(g,"$line_length",da=function(a){return a.$scan(f(w,"UnicodeCharScanRx")).$size()},da.$$arity=1):a.defs(g,"$line_length",ka=function(a){return a.$length()},ka.$$arity=1);a.defs(g,"$parse_header_metadata",
ha=function(g,l){var n,q,u,H,v=b,z=b,x=b,t=b,F=b,A=b,G=b,C=b,K=A=b,J=b,A=G=F=x=z=b;null==l&&(l=b);this.$process_attribute_entries(g,l);n=[h([],{}),b,b];v=n[0];z=n[1];x=n[2];n;e(e(n=g["$has_more_lines?"]())?g["$next_line_empty?"]()["$!"]():n)?(e((t=this.$process_authors(g.$read_line()))["$empty?"]())||(e(l)&&(r(t,"each",[],(q=function(f,g){var h=b;null==f&&(f=b);null==g&&(g=b);if(e(l.$attributes()["$key?"](f)))return b;h=[f,e(d("::","String")["$==="](g))?l.$apply_header_subs(g):g];r(l.$attributes(),
"[]=",a.to_a(h));return h[c(h.length,1)]},q.$$s=this,q.$$arity=2,q)),z=l.$attributes()["$[]"]("author"),x=l.$attributes()["$[]"]("authors")),v=t),this.$process_attribute_entries(g,l),F=h([],{}),e(e(n=g["$has_more_lines?"]())?g["$next_line_empty?"]()["$!"]():n)&&(A=g.$read_line(),e(G=f(w,"RevisionInfoLineRx").$match(A))?(e(G["$[]"](1))&&(C=["revnumber",G["$[]"](1).$rstrip()],r(F,"[]=",a.to_a(C)),C[c(C.length,1)]),e((A=G["$[]"](2).$strip())["$empty?"]())||(C=e(e(n=G["$[]"](1)["$!"]())?A["$start_with?"]("v"):
n)?["revnumber",A["$[]"](y(1,-1,!1))]:["revdate",A],r(F,"[]=",a.to_a(C)),C[c(C.length,1)]),e(G["$[]"](3))&&(C=["revremark",G["$[]"](3).$rstrip()],r(F,"[]=",a.to_a(C)),C[c(C.length,1)])):g.$unshift_line(A)),e(F["$empty?"]())||(e(l)&&r(F,"each",[],(u=function(d,f){null==d&&(d=b);null==f&&(f=b);if(e(l.$attributes()["$key?"](d)))return b;C=[d,l.$apply_header_subs(f)];r(l.$attributes(),"[]=",a.to_a(C));return C[c(C.length,1)]},u.$$s=this,u.$$arity=2,u)),v.$update(F)),this.$process_attribute_entries(g,
l),g.$skip_blank_lines()):t=h([],{});if(e(l)){if(e(e(n=l.$attributes()["$key?"]("author"))?(K=l.$attributes()["$[]"]("author"))["$!="](z):n))t=this.$process_authors(K,!0,!1);else if(e(e(n=l.$attributes()["$key?"]("authors"))?(K=l.$attributes()["$[]"]("authors"))["$!="](x):n))t=this.$process_authors(K,!0);else{n=[[],1,"author_1",!1,!1];J=n[0];z=n[1];x=n[2];F=n[3];G=n[4];for(n;e(l.$attributes()["$key?"](x));)(A=l.$attributes()["$[]"](x))["$=="](t["$[]"](x))?(J["$<<"](b),G=!0):(J["$<<"](A),F=!0),x="author_"+
(z=p(z,1));e(F)?(e(G)&&r(J,"each_with_index",[],(H=function(d,f){var g=H.$$s||this,h,l=b;null==d&&(d=b);null==f&&(f=b);if(e(d))return b;C=[f,m(r([t["$[]"]("firstname_"+(l=p(f,1))),t["$[]"]("middlename_"+l),t["$[]"]("lastname_"+l)].$compact(),"map",[],(h=function(a){null==a&&(a=b);return a.$tr(" ","_")},h.$$s=g,h.$$arity=1,h))," ")];r(J,"[]=",a.to_a(C));return C[c(C.length,1)]},H.$$s=this,H.$$arity=2,H)),t=this.$process_authors(J,!0,!1)):t=h([],{})}e(t["$empty?"]())?e(n=v["$[]"]("authorcount"))?n:
(C=["authorcount",(C=["authorcount",0],r(l.$attributes(),"[]=",a.to_a(C)),C[c(C.length,1)])],r(v,"[]=",a.to_a(C)),C[c(C.length,1)]):(l.$attributes().$update(t),e(e(n=l.$attributes()["$key?"]("email")["$!"]())?l.$attributes()["$key?"]("email_1"):n)&&(C=["email",l.$attributes()["$[]"]("email_1")],r(l.$attributes(),"[]=",a.to_a(C)),C[c(C.length,1)]))}return v},ha.$$arity=-2);a.defs(g,"$process_authors",za=function(d,g,l){var m,n,q=this,u=b,H=b,v=b,z=b,z=b;null==g&&(g=!1);null==l&&(l=!0);u=h([],{});H=
0;v="author authorinitials firstname middlename lastname email".split(" ");z=function(){return e(l)?r(d.$split(";"),"map",[],(m=function(a){null==a&&(a=b);return a.$strip()},m.$$s=q,m.$$arity=1,m)):q.$Array(d)}();r(z,"each",[],(n=function(d){var l=n.$$s||this,m,q,z,x,y=b,B=b,t=b,F=b,A=b,G=b,C=b,P=b;null==d&&(d=b);if(e(d["$empty?"]()))return b;H=p(H,1);y=h([],{});H["$=="](1)?r(v,"each",[],(m=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),d];r(y,"[]=",a.to_a(e));return e[c(e.length,1)]},m.$$s=l,
m.$$arity=1,m)):r(v,"each",[],(q=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),""+d+"_"+H];r(y,"[]=",a.to_a(e));return e[c(e.length,1)]},q.$$s=l,q.$$arity=1,q));if(e(g)){if(e(d["$include?"]("<"))&&(B=[y["$[]"]("author"),d.$tr("_"," ")],r(u,"[]=",a.to_a(B)),B[c(B.length,1)],d=d.$gsub(f(w,"XmlSanitizeRx"),"")),(t=d.$split(b,3)).$size()["$=="](3))t["$<<"](t.$pop().$squeeze(" "))}else e(F=f(w,"AuthorInfoLineRx").$match(d))&&(t=F.$to_a()).$shift();e(t)?(A=(B=[y["$[]"]("firstname"),G=t["$[]"](0).$tr("_",
" ")],r(u,"[]=",a.to_a(B)),B[c(B.length,1)]),B=[y["$[]"]("authorinitials"),G.$chr()],r(u,"[]=",a.to_a(B)),B[c(B.length,1)],e(t["$[]"](1))&&(e(t["$[]"](2))?(B=[y["$[]"]("middlename"),C=t["$[]"](1).$tr("_"," ")],r(u,"[]=",a.to_a(B)),B[c(B.length,1)],B=[y["$[]"]("lastname"),P=t["$[]"](2).$tr("_"," ")],r(u,"[]=",a.to_a(B)),B[c(B.length,1)],A=p(p(p(p(G," "),C)," "),P),B=[y["$[]"]("authorinitials"),""+G.$chr()+C.$chr()+P.$chr()]):(B=[y["$[]"]("lastname"),P=t["$[]"](1).$tr("_"," ")],r(u,"[]=",a.to_a(B)),
B[c(B.length,1)],A=p(p(G," "),P),B=[y["$[]"]("authorinitials"),""+G.$chr()+P.$chr()]),r(u,"[]=",a.to_a(B)),B[c(B.length,1)]),e(z=u["$[]"](y["$[]"]("author")))?z:(B=[y["$[]"]("author"),A],r(u,"[]=",a.to_a(B)),B[c(B.length,1)]),e(e(z=g)?z:t["$[]"](3)["$!"]())||(B=[y["$[]"]("email"),t["$[]"](3)],r(u,"[]=",a.to_a(B)),B[c(B.length,1)])):(B=[y["$[]"]("author"),(B=[y["$[]"]("firstname"),G=d.$squeeze(" ").$strip()],r(u,"[]=",a.to_a(B)),B[c(B.length,1)])],r(u,"[]=",a.to_a(B)),B[c(B.length,1)],B=[y["$[]"]("authorinitials"),
G.$chr()],r(u,"[]=",a.to_a(B)),B[c(B.length,1)]);H["$=="](1)?B=["authors",u["$[]"](y["$[]"]("author"))]:(H["$=="](2)&&r(v,"each",[],(x=function(d){null==d&&(d=b);return e(u["$key?"](d))?(B=[""+d+"_1",u["$[]"](d)],r(u,"[]=",a.to_a(B)),B[c(B.length,1)]):b},x.$$s=l,x.$$arity=1,x)),B=["authors",""+u["$[]"]("authors")+", "+u["$[]"](y["$[]"]("author"))]);r(u,"[]=",a.to_a(B));return B[c(B.length,1)]},n.$$s=q,n.$$arity=1,n));z=["authorcount",H];r(u,"[]=",a.to_a(z));z[c(z.length,1)];return u},za.$$arity=-2);
a.defs(g,"$parse_block_metadata_lines",Fa=function(a,b,c,d){var f;null==c&&(c=h([],{}));for(null==d&&(d=h([],{}));e(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),e(f=a.$skip_blank_lines()))f;else break;return c},Fa.$$arity=-3);a.defs(g,"$parse_block_metadata_line",Ga=function(d,g,l,n){var p,q,H=b,v=b,z=b,z=z=z=b;null==u["~"]&&(u["~"]=b);null==n&&(n=h([],{}));if(e(e(p=H=d.$peek_line())?e(n["$[]"]("text"))?H["$start_with?"]("[","/"):v=H["$start_with?"]("[",".","/",":"):p))if(e(H["$start_with?"]("[")))if(e(H["$start_with?"]("[["))){if(e(e(p=
H["$end_with?"]("]]"))?f(w,"BlockAnchorRx")["$=~"](H):p))return z=["id",(p=u["~"])===b?b:p["$[]"](1)],r(l,"[]=",a.to_a(z)),z[c(z.length,1)],e(z=(p=u["~"])===b?b:p["$[]"](2))&&(z=["reftext",e(z["$include?"](f(w,"ATTR_REF_HEAD")))?g.$sub_attributes(z):z],r(l,"[]=",a.to_a(z)),z[c(z.length,1)]),!0}else{if(e(e(p=H["$end_with?"]("]"))?f(w,"BlockAttributeListRx")["$=~"](H):p))return z=l["$[]"](1),e(g.$parse_attributes((p=u["~"])===b?b:p["$[]"](1),[],h(["sub_input","into"],{sub_input:!0,into:l}))["$[]"](1))&&
(z=[1,e(p=this.$parse_style_attribute(l,d))?p:z],r(l,"[]=",a.to_a(z)),z[c(z.length,1)]),!0}else if(e(e(p=v)?H["$start_with?"]("."):p)){if(e(f(w,"BlockTitleRx")["$=~"](H)))return z=["title",(p=u["~"])===b?b:p["$[]"](1)],r(l,"[]=",a.to_a(z)),z[c(z.length,1)],!0}else if(e(e(p=v["$!"]())?p:H["$start_with?"]("/"))){if(e(H["$start_with?"]("//"))){if(H["$=="]("//"))return!0;if(e(e(p=v)?m("/",z=H.$length())["$=="](H):p)){if(z["$=="](3))return b;d.$read_lines_until(h(["terminator","skip_first_line","preserve_last_line",
"skip_processing","context"],{terminator:H,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return e(H["$start_with?"]("///"))?b:!0}}else if(e(e(p=e(q=v)?H["$start_with?"](":"):q)?f(w,"AttributeEntryRx")["$=~"](H):p))return this.$process_attribute_entry(d,g,l,u["~"]),!0;return b},Ga.$$arity=-4);a.defs(g,"$process_attribute_entries",Ea=function(a,c,d){null==d&&(d=b);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,c,d));)a.$shift(),a.$skip_comment_lines()},
Ea.$$arity=-3);a.defs(g,"$process_attribute_entry",Ba=function(a,d,g,h){var l,m,n=b,p=b,r=b,q=b;null==g&&(g=b);null==h&&(h=b);if(e(h=e(l=h)?l:e(a["$has_more_lines?"]())?f(w,"AttributeEntryRx").$match(a.$peek_line()):b)){if(e((n=h["$[]"](2))["$nil_or_empty?"]()))n="";else if(e(n["$end_with?"](f(w,"LINE_CONTINUATION"),f(w,"LINE_CONTINUATION_LEGACY"))))for(l=[n.$slice(-2,2),n.$slice(0,c(n.$length(),2)).$rstrip()],p=l[0],n=l[1],l;e(e(m=a.$advance())?(r=a.$peek_line().$lstrip())["$empty?"]()["$!"]():m)&&
(e(q=r["$end_with?"](p))&&(r=r.$slice(0,c(r.$length(),2)).$rstrip()),n=""+n+(e(n["$end_with?"](f(w,"HARD_LINE_BREAK")))?f(w,"LF"):" ")+r,e(q)););this.$store_attribute(h["$[]"](1),n,d,g);return!0}return b},Ba.$$arity=-3);a.defs(g,"$store_attribute",wa=function(a,g,h,l){var m,n=b;null==h&&(h=b);null==l&&(l=b);e(a["$end_with?"]("!"))?(m=[a.$chop(),b],a=m[0],g=m[1],m):e(a["$start_with?"]("!"))&&(m=[a.$slice(1,a.$length()),b],a=m[0],g=m[1],m);a=this.$sanitize_attribute_name(a);a["$=="]("numbered")&&(a=
"sectnums");e(h)?e(g)?(a["$=="]("leveloffset")&&(e(g["$start_with?"]("+"))?g=p(h.$attr("leveloffset",0).$to_i(),(e(m=g["$[]"](y(1,-1,!1)))?m:0).$to_i()).$to_s():e(g["$start_with?"]("-"))&&(g=c(h.$attr("leveloffset",0).$to_i(),(e(m=g["$[]"](y(1,-1,!1)))?m:0).$to_i()).$to_s())),e(n=h.$set_attribute(a,g))&&(g=n,e(l)&&d(f(w,"Document"),"AttributeEntry").$new(a,g).$save_to(l))):e(e(m=h.$delete_attribute(a))?l:m)&&d(f(w,"Document"),"AttributeEntry").$new(a,g).$save_to(l):e(l)&&d(f(w,"Document"),"AttributeEntry").$new(a,
g).$save_to(l);return[a,g]},wa.$$arity=-3);a.defs(g,"$resolve_list_marker",Da=function(a,c,d,e,f){null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);return a["$=="]("ulist")?c:a["$=="]("olist")?this.$resolve_ordered_list_marker(c,d,e,f):"<1>"},Da.$$arity=-3);a.defs(g,"$resolve_ordered_list_marker",Aa=function(a,c,d,k){var g,l,m=b,n=b,q=b;null==c&&(c=0);null==d&&(d=!1);null==k&&(k=b);if(e(a["$start_with?"](".")))return a;m=n=b;q=r(f(w,"ORDERED_LIST_STYLES"),"find",[],(g=function(c){null==c&&(c=b);return f(w,
"OrderedListMarkerRxMap")["$[]"](c)["$match?"](a)},g.$$s=this,g.$$arity=1,g));"arabic"["$==="](q)?(e(d)&&(m=p(c,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](q)?(e(d)&&(m=p("a"["$[]"](0).$ord(),c).$chr(),n=a.$chop()),a="a."):"upperalpha"["$==="](q)?(e(d)&&(m=p("A"["$[]"](0).$ord(),c).$chr(),n=a.$chop()),a="A."):"lowerroman"["$==="](q)?(e(d)&&(m=f(w,"Helpers").$int_to_roman(p(c,1)).$downcase(),n=a.$chop()),a="i)"):"upperroman"["$==="](q)&&(e(d)&&(m=f(w,"Helpers").$int_to_roman(p(c,1)),n=a.$chop()),
a="I)");e(e(l=d)?m["$!="](n):l)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+m+", got "+n,h(["source_location"],{source_location:k.$cursor()})));return a},Aa.$$arity=-2);a.defs(g,"$is_sibling_list_item?",xa=function(a,c,k){var g,h=b,l=b;e(d("::","Regexp")["$==="](k))?h=k:(h=f(w,"ListRxMap")["$[]"](c),l=k);return e(h["$=~"](a))?e(l)?l["$=="](this.$resolve_list_marker(c,(g=u["~"])===b?b:g["$[]"](1))):!0:!1},xa.$$arity=3);a.defs(g,"$next_table",Ja=function(g,h,l){var m,
n,u,H=b,v=b,x=b,y=b,B=b,t=b,F=b,A=b,G=b,C=b,K=b,J=B=b,E=b,D=B=J=b,L=D=b,H=f(w,"Table").$new(h,l);e(l["$key?"]("title"))&&(v=[l.$delete("title")],r(H,"title=",a.to_a(v)),v[c(v.length,1)],H.$assign_caption(l.$delete("caption")));e(e(m=l["$key?"]("cols"))?(x=this.$parse_colspecs(l["$[]"]("cols")))["$empty?"]()["$!"]():m)&&(H.$create_columns(x),y=!0);B=e(m=g.$skip_blank_lines())?m:0;t=d(f(w,"Table"),"ParserContext").$new(g,H,l);m=[t.$format(),-1,b];F=m[0];A=m[1];G=m[2];m;e(e(m=e(n=q(B,0))?n:l["$key?"]("header-option"))?
m:l["$key?"]("noheader-option"))||(C=!0);for(m=!1;m||e(K=g.$read_line());){m=!1;e(e(n=B=q(A=p(A,1),0))?K["$empty?"]():n)?(K=b,e(G)&&(G=p(G,1))):F["$=="]("psv")&&(e(t["$starts_with_delimiter?"](K))?(K=K.$slice(1,K.$length()),t.$close_open_cell(),e(G)&&(G=b)):(u=this.$parse_cellspec(K,"start",t.$delimiter()),n=a.to_ary(u),J=null==n[0]?b:n[0],K=null==n[1]?b:n[1],u,e(J)?(t.$close_open_cell(J),e(G)&&(G=b)):e(e(n=G)?G["$=="](A):n)&&(n=[!1,b],C=n[0],G=n[1],n)));e(B)||(g.$mark(),e(C)&&(e(e(n=g["$has_more_lines?"]())?
g.$peek_line()["$empty?"]():n)?G=1:C=!1));for(n=!1;n||e(!0);)if(n=!1,e(e(u=K)?E=t.$match_delimiter(K):u)){u=[E.$pre_match(),E.$post_match()];J=u[0];B=u[1];u;D=F;if("csv"["$==="](D)){if(e(t["$buffer_has_unclosed_quotes?"](J))){t.$skip_past_delimiter(J);if(e((K=B)["$empty?"]()))break;n=!0;continue}v=[""+t.$buffer()+J]}else if("dsv"["$==="](D)){if(e(J["$end_with?"]("\\"))){t.$skip_past_escaped_delimiter(J);if(e((K=B)["$empty?"]())){v=[""+t.$buffer()+f(w,"LF")];r(t,"buffer=",a.to_a(v));v[c(v.length,1)];
t.$keep_cell_open();break}n=!0;continue}v=[""+t.$buffer()+J]}else{if(e(J["$end_with?"]("\\"))){t.$skip_past_escaped_delimiter(J);if(e((K=B)["$empty?"]())){v=[""+t.$buffer()+f(w,"LF")];r(t,"buffer=",a.to_a(v));v[c(v.length,1)];t.$keep_cell_open();break}n=!0;continue}h=this.$parse_cellspec(J);u=a.to_ary(h);J=null==u[0]?b:u[0];D=null==u[1]?b:u[1];h;t.$push_cellspec(J);v=[""+t.$buffer()+D]}r(t,"buffer=",a.to_a(v));v[c(v.length,1)];e((K=B)["$empty?"]())&&(K=b);t.$close_cell()}else{v=[""+t.$buffer()+K+
f(w,"LF")];r(t,"buffer=",a.to_a(v));v[c(v.length,1)];D=F;"csv"["$==="](D)?e(t["$buffer_has_unclosed_quotes?"]())?(e(e(u=G)?A["$=="](0):u)&&(u=[!1,b],C=u[0],G=u[1],u),t.$keep_cell_open()):t.$close_cell(!0):"dsv"["$==="](D)?t.$close_cell(!0):t.$keep_cell_open();break}if(e(t["$cell_open?"]()))e(g["$has_more_lines?"]())||t.$close_cell(!0);else if(e(n=g.$skip_blank_lines()))n;else break}e(e(m=(L=H.$attributes(),e(n=L["$[]"]("colcount"))?n:(v=["colcount",H.$columns().$size()],r(L,"[]=",a.to_a(v)),v[c(v.length,
1)]))["$=="](0))?m:y)||H.$assign_column_widths();e(C)&&(v=[!0],r(H,"has_header_option=",a.to_a(v)),v[c(v.length,1)],v=["header-option",""],r(l,"[]=",a.to_a(v)),v[c(v.length,1)],v=["options",e(l["$key?"]("options"))?""+l["$[]"]("options")+",header":"header"],r(l,"[]=",a.to_a(v)),v[c(v.length,1)]);H.$partition_header_footer(l);return H},Ja.$$arity=3);a.defs(g,"$parse_colspecs",La=function(g){var l,m,n=b;e(g["$include?"](" "))&&(g=g.$delete(" "));if(g["$=="](g.$to_i().$to_s()))return r(d("::","Array"),
"new",[g.$to_i()],(l=function(){return h(["width"],{width:1})},l.$$s=this,l.$$arity=0,l));n=[];r(g.$split(",",-1),"each",[],(m=function(d){var g=m.$$s||this,l,p,q=b,u=b,H=b,v=b,z=H=b;null==d&&(d=b);return e(d["$empty?"]())?n["$<<"](h(["width"],{width:1})):e(q=f(w,"ColumnSpecRx").$match(d))?(u=h([],{}),e(q["$[]"](2))&&(d=q["$[]"](2).$split("."),l=a.to_ary(d),H=null==l[0]?b:l[0],v=null==l[1]?b:l[1],d,e(e(l=H["$nil_or_empty?"]()["$!"]())?f(w,"TableCellHorzAlignments")["$key?"](H):l)&&(H=["halign",f(w,
"TableCellHorzAlignments")["$[]"](H)],r(u,"[]=",a.to_a(H)),H[c(H.length,1)]),e(e(l=v["$nil_or_empty?"]()["$!"]())?f(w,"TableCellVertAlignments")["$key?"](v):l)&&(H=["valign",f(w,"TableCellVertAlignments")["$[]"](v)],r(u,"[]=",a.to_a(H)),H[c(H.length,1)])),H=e(z=q["$[]"](3))?["width",z["$=="]("~")?-1:z.$to_i()]:["width",1],r(u,"[]=",a.to_a(H)),H[c(H.length,1)],e(e(l=q["$[]"](4))?f(w,"TableCellStyles")["$key?"](q["$[]"](4)):l)&&(H=["style",f(w,"TableCellStyles")["$[]"](q["$[]"](4))],r(u,"[]=",a.to_a(H)),
H[c(H.length,1)]),e(q["$[]"](1))?r(1,"upto",[q["$[]"](1).$to_i()],(p=function(){return n["$<<"](u.$dup())},p.$$s=g,p.$$arity=0,p)):n["$<<"](u)):b},m.$$s=this,m.$$arity=1,m));return n},La.$$arity=1);a.defs(g,"$parse_cellspec",Oa=function(d,g,l){var m,n=b,p=b,q=n=b,u=b,H=b,u=b;null==g&&(g="end");null==l&&(l=b);m=[b,""];m;if(g["$=="]("start"))if(e(d["$include?"](l)))if(g=d.$split(l,2),m=a.to_ary(g),n=null==m[0]?b:m[0],p=null==m[1]?b:m[1],g,e(n=f(w,"CellSpecStartRx").$match(n))){if(e(n["$[]"](0)["$empty?"]()))return[h([],
{}),p]}else return[b,d];else return[b,d];else if(e(n=f(w,"CellSpecEndRx").$match(d))){if(e(n["$[]"](0).$lstrip()["$empty?"]()))return[h([],{}),d.$rstrip()];p=n.$pre_match()}else return[h([],{}),d];q=h([],{});e(n["$[]"](1))&&(g=n["$[]"](1).$split("."),m=a.to_ary(g),u=null==m[0]?b:m[0],H=null==m[1]?b:m[1],g,u=e(u["$nil_or_empty?"]())?1:u.$to_i(),H=e(H["$nil_or_empty?"]())?1:H.$to_i(),n["$[]"](2)["$=="]("+")?(u["$=="](1)||(u=["colspan",u],r(q,"[]=",a.to_a(u)),u[c(u.length,1)]),H["$=="](1)||(u=["rowspan",
H],r(q,"[]=",a.to_a(u)),u[c(u.length,1)])):n["$[]"](2)["$=="]("*")&&!u["$=="](1)&&(u=["repeatcol",u],r(q,"[]=",a.to_a(u)),u[c(u.length,1)]));e(n["$[]"](3))&&(g=n["$[]"](3).$split("."),m=a.to_ary(g),u=null==m[0]?b:m[0],H=null==m[1]?b:m[1],g,e(e(m=u["$nil_or_empty?"]()["$!"]())?f(w,"TableCellHorzAlignments")["$key?"](u):m)&&(u=["halign",f(w,"TableCellHorzAlignments")["$[]"](u)],r(q,"[]=",a.to_a(u)),u[c(u.length,1)]),e(e(m=H["$nil_or_empty?"]()["$!"]())?f(w,"TableCellVertAlignments")["$key?"](H):m)&&
(u=["valign",f(w,"TableCellVertAlignments")["$[]"](H)],r(q,"[]=",a.to_a(u)),u[c(u.length,1)]));e(e(m=n["$[]"](4))?f(w,"TableCellStyles")["$key?"](n["$[]"](4)):m)&&(u=["style",f(w,"TableCellStyles")["$[]"](n["$[]"](4))],r(q,"[]=",a.to_a(u)),u[c(u.length,1)]);return[q,p]},Oa.$$arity=-2);a.defs(g,"$parse_style_attribute",Ma=function(d,g){var l,m,n,p,u,q=b,H=b,v=b,z=b,x=b,B=b,y=b,t=b,F=b,A=b;null==g&&(g=b);if(e(e(l=e(m=q=d["$[]"](1))?q["$include?"](" ")["$!"]():m)?f(w,"Compliance").$shorthand_property_syntax():
l)){l=["style",[],h([],{})];H=l[0];v=l[1];z=l[2];l;x=r(this,"lambda",[],(n=function(){var d=n.$$s||this,f,l=b,m=b;if(e(v["$empty?"]()))return H["$=="]("style")?b:e(g)?d.$logger().$warn(d.$message_with_context("invalid empty "+H+" detected in style attribute",h(["source_location"],{source_location:g.$cursor_at_prev_line()}))):d.$logger().$warn("invalid empty "+H+" detected in style attribute");l=H;if("role"["$==="](l)||"option"["$==="](l))(e(f=z["$[]"](H))?f:(m=[H,[]],r(z,"[]=",a.to_a(m)),m[c(m.length,
1)]))["$<<"](v.$join());else"id"["$==="](l)&&e(z["$key?"]("id"))&&(e(g)?d.$logger().$warn(d.$message_with_context("multiple ids detected in style attribute",h(["source_location"],{source_location:g.$cursor_at_prev_line()}))):d.$logger().$warn("multiple ids detected in style attribute")),m=[H,v.$join()],r(z,"[]=",a.to_a(m)),m[c(m.length,1)];return v=[]},n.$$s=this,n.$$arity=0,n));r(q,"each_char",[],(p=function(a){var c,d,f=b;null==a&&(a=b);return e(e(c=e(d=a["$=="]("."))?d:a["$=="]("#"))?c:a["$=="]("%"))?
(x.$call(),f=a,"."["$==="](f)?H="role":"#"["$==="](f)?H="id":"%"["$==="](f)?H="option":b):v["$<<"](a)},p.$$s=this,p.$$arity=1,p));if(H["$=="]("style"))return B=["style",q],r(d,"[]=",a.to_a(B)),B[c(B.length,1)];x.$call();e(z["$key?"]("style"))&&(y=(B=["style",z["$[]"]("style")],r(d,"[]=",a.to_a(B)),B[c(B.length,1)]));e(z["$key?"]("id"))&&(B=["id",z["$[]"]("id")],r(d,"[]=",a.to_a(B)),B[c(B.length,1)]);e(z["$key?"]("role"))&&(B=["role",e((t=d["$[]"]("role"))["$nil_or_empty?"]())?z["$[]"]("role").$join(" "):
""+t+" "+z["$[]"]("role").$join(" ")],r(d,"[]=",a.to_a(B)),B[c(B.length,1)]);e(z["$key?"]("option"))&&(r(F=z["$[]"]("option"),"each",[],(u=function(e){null==e&&(e=b);B=[""+e+"-option",""];r(d,"[]=",a.to_a(B));return B[c(B.length,1)]},u.$$s=this,u.$$arity=1,u)),B=["options",e((A=d["$[]"]("options"))["$nil_or_empty?"]())?F.$join(","):""+A+","+F.$join(",")],r(d,"[]=",a.to_a(B)),B[c(B.length,1)]);return y}B=["style",q];r(d,"[]=",a.to_a(B));return B[c(B.length,1)]},Ma.$$arity=-2);a.defs(g,"$adjust_indentation!",
Pa=function(d,g,h){var l,n,H,v,x,y,t=this,F=b,A=b,G=b;null==g&&(g=0);null==h&&(h=0);if(e(d["$empty?"]()))return b;e(e(l=q(h=h.$to_i(),0))?d.$join()["$include?"](f(w,"TAB")):l)&&(F=m(" ",h),r(d,"map!",[],(n=function(a){var d=n.$$s||this,g,l,q=b;null==a&&(a=b);if(e(a["$empty?"]()))return a;e(a["$start_with?"](f(w,"TAB")))&&(a=r(a,"sub",[f(w,"TabIndentRx")],(g=function(){var a;return m(F,((a=u["~"])===b?b:a["$[]"](0)).$length())},g.$$s=d,g.$$arity=0,g)));return e(a["$include?"](f(w,"TAB")))?(q=0,a=r(a,
"gsub",[f(w,"TabRx")],(l=function(){var a=b,d=b;null==u["~"]&&(u["~"]=b);if((a=p(u["~"].$begin(0),q))["$%"](h)["$=="](0))return q=p(q,c(h,1)),F;(d=c(h,a["$%"](h)))["$=="](1)||(q=p(q,c(d,1)));return m(" ",d)},l.$$s=d,l.$$arity=0,l))):a},n.$$s=t,n.$$arity=1,n)));if(!e(e(l=g)?q(g=g.$to_i(),-1):l))return b;A=b;(function(){var f=a.new_brk();try{return r(d,"each",[],(H=function(d){var g,h=b;null==d&&(d=b);if(e(d["$empty?"]()))return b;if((h=c(d.$length(),d.$lstrip().$length()))["$=="](0))A=b,a.brk(b,f);
else return e(e(g=A)?q(h,A):g)?b:A=h},H.$$s=t,H.$$brk=f,H.$$arity=1,H))}catch(g){if(g===f)return g.$v;throw g;}})();g["$=="](0)?e(A)&&r(d,"map!",[],(v=function(c){null==c&&(c=b);return e(c["$empty?"]())?c:c["$[]"](a.Range.$new(A,-1,!1))},v.$$s=t,v.$$arity=1,v)):(G=m(" ",g),e(A)?r(d,"map!",[],(x=function(c){null==c&&(c=b);return e(c["$empty?"]())?c:p(G,c["$[]"](a.Range.$new(A,-1,!1)))},x.$$s=t,x.$$arity=1,x)):r(d,"map!",[],(y=function(a){null==a&&(a=b);return e(a["$empty?"]())?a:p(G,a)},y.$$s=t,y.$$arity=
1,y)));return b},Pa.$$arity=-2);return(a.defs(g,"$sanitize_attribute_name",H=function(a){return a.$gsub(f(w,"InvalidAttributeNameCharsRx"),"").$downcase()},H.$$arity=1),b)&&"sanitize_attribute_name"})(A[0],null,A)}(g[0],g)};Opal.modules["asciidoctor/path_resolver"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=[],q=a.nil,l=a.const_get_qualified,g=a.const_get_relative,b=a.module,
d=a.klass,f=a.truthy,n=a.hash2,v=a.send;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $* $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $end_with? $uri_prefix $gsub".split(" "));return function(p,e){function h(){}var u=[h=b(p,"Asciidoctor",h)].concat(e);(function(b,
$super,e){function h(){}b=h=d(b,$super,"PathResolver",h);var p=b.prototype,u=[b].concat(e),r,x,y,w,t,A,F,D,E,M,Z,N,V;p.file_separator=p._partition_path_web=p._partition_path_sys=p.working_dir=q;b.$include(g(u,"Logging"));a.const_set(u[0],"DOT",".");a.const_set(u[0],"DOT_DOT","..");a.const_set(u[0],"DOT_SLASH","./");a.const_set(u[0],"SLASH","/");a.const_set(u[0],"BACKSLASH","\\");a.const_set(u[0],"DOUBLE_SLASH","//");a.const_set(u[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);b.$attr_accessor("file_separator");
b.$attr_accessor("working_dir");a.def(b,"$initialize",r=function(a,b){var c,d;null==a&&(a=q);null==b&&(b=q);this.file_separator=f(c=f(d=a)?d:l(l("::","File"),"ALT_SEPARATOR"))?c:l(l("::","File"),"SEPARATOR");this.working_dir=f(b)?f(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=n([],{});return this._partition_path_web=n([],{})},r.$$arity=-1);a.def(b,"$absolute_path?",x=function(a){var b;return f(b=a["$start_with?"](g(u,"SLASH")))?
b:this.file_separator["$=="](g(u,"BACKSLASH"))?g(u,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](g(u,"BACKSLASH"))},x.$$arity=1);f(g(u,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):g(u,"RUBY_ENGINE")["$=="]("opal"))?a.def(b,"$root?",y=function(a){var b;return f(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},y.$$arity=1):a.alias(b,"root?","absolute_path?");a.def(b,"$unc?",w=function(a){return a["$start_with?"](g(u,
"DOUBLE_SLASH"))},w.$$arity=1);a.def(b,"$web_root?",t=function(a){return a["$start_with?"](g(u,"SLASH"))},t.$$arity=1);a.def(b,"$descends_from?",A=function(a,b){var d;return b["$=="](a)?0:b["$=="](g(u,"SLASH"))?f(d=a["$start_with?"](g(u,"SLASH")))?1:d:f(d=a["$start_with?"](c(b,g(u,"SLASH"))))?c(b.$length(),1):d},A.$$arity=2);a.def(b,"$relative_path",F=function(a,b){var c,d=q;return f(f(c=this["$root?"](a))?d=this["$descends_from?"](a,b):c)?a.$slice(d,a.$length()):a},F.$$arity=2);a.def(b,"$posixify",
D=function(a){return f(a)?f(this.file_separator["$=="](g(u,"BACKSLASH"))?a["$include?"](g(u,"BACKSLASH")):this.file_separator["$=="](g(u,"BACKSLASH")))?a.$tr(g(u,"BACKSLASH"),g(u,"SLASH")):a:""},D.$$arity=1);a.alias(b,"posixfy","posixify");a.def(b,"$expand_path",E=function(b){var c,d,e,k=q,h=c=q;d=this.$partition_path(b);c=a.to_ary(d);k=null==c[0]?q:c[0];c=null==c[1]?q:c[1];d;return f(b["$include?"](g(u,"DOT_DOT")))?(h=[],v(k,"each",[],(e=function(a){null==a&&(a=q);return a["$=="](g(u,"DOT_DOT"))?
h.$pop():h["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(h,c)):this.$join_path(k,c)},E.$$arity=1);a.def(b,"$partition_path",M=function(b,d){var e=q,h=q,l=e=q,e=e=q;null==d&&(d=q);if(f(e=(h=f(d)?this._partition_path_web:this._partition_path_sys)["$[]"](b)))return e;e=this.$posixify(b);f(d)?f(this["$web_root?"](e))?l=g(u,"SLASH"):f(e["$start_with?"](g(u,"DOT_SLASH")))&&(l=g(u,"DOT_SLASH")):f(this["$root?"](e))?l=f(this["$unc?"](e))?g(u,"DOUBLE_SLASH"):f(e["$start_with?"](g(u,"SLASH")))?g(u,
"SLASH"):e.$slice(0,c(e.$index(g(u,"SLASH")),1)):f(e["$start_with?"](g(u,"DOT_SLASH")))&&(l=g(u,"DOT_SLASH"));e=(f(l)?e.$slice(l.$length(),e.$length()):e).$split(g(u,"SLASH"));e.$delete(g(u,"DOT"));e=[b,[e,l]];v(h,"[]=",a.to_a(e));h=e;l=e.length;l="number"===typeof l?l-1:l["$-"](1);return h[l]},M.$$arity=-2);a.def(b,"$join_path",Z=function(a,b){null==b&&(b=q);return f(b)?""+b+m(a,g(u,"SLASH")):m(a,g(u,"SLASH"))},Z.$$arity=-2);a.def(b,"$system_path",N=function(b,d,e,h){var m,p,r,w,x=q,B=q,y=q,t=q,
A=x=q,F=q,G=q,C=A=q;null==d&&(d=q);null==e&&(e=q);null==h&&(h=n([],{}));f(e)&&(f(this["$root?"](e))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+e),e=this.$posixify(e));if(f(b)){if(f(this["$root?"](b))){x=this.$expand_path(b);if(f(f(m=e)?this["$descends_from?"](x,e)["$!"]():m)){if(f(h.$fetch("recover",!0)))return this.$logger().$warn(""+(f(m=h["$[]"]("target_name"))?m:"path")+" is outside of jail; recovering automatically"),p=this.$partition_path(x),m=a.to_ary(p),B=null==
m[0]?q:m[0],p,p=this.$partition_path(e),m=a.to_ary(p),y=null==m[0]?q:m[0],t=null==m[1]?q:m[1],p,this.$join_path(c(y,B),t);this.$raise(l("::","SecurityError"),""+(f(m=h["$[]"]("target_name"))?m:"path")+" "+b+" is outside of jail: "+e+" (disallowed in safe mode)")}return x}p=this.$partition_path(b);m=a.to_ary(p);B=null==m[0]?q:m[0];p}else B=[];if(f(B["$empty?"]())){if(f(d["$nil_or_empty?"]()))return f(m=e)?m:this.working_dir;if(f(this["$root?"](d)))if(f(e))d=this.$posixify(d);else return this.$expand_path(d);
else p=this.$partition_path(d),m=a.to_ary(p),B=null==m[0]?q:m[0],p,d=f(m=e)?m:this.working_dir}else f(d["$nil_or_empty?"]())?d=f(m=e)?m:this.working_dir:f(this["$root?"](d))?f(e)&&(d=this.$posixify(d)):d=""+(f(m=e)?m:this.working_dir).$chomp("/")+"/"+d;f(f(m=f(p=e)?x=this["$descends_from?"](d,e)["$!"]():p)?this.file_separator["$=="](g(u,"BACKSLASH")):m)?(p=this.$partition_path(d),m=a.to_ary(p),A=null==m[0]?q:m[0],F=null==m[1]?q:m[1],p,p=this.$partition_path(e),m=a.to_ary(p),y=null==m[0]?q:m[0],t=
null==m[1]?q:m[1],p,f(F["$!="](t))&&(f(h.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(f(m=h["$[]"]("target_name"))?m:"path")+" is outside of jail root; recovering automatically"),A=y,x=!1):this.$raise(l("::","SecurityError"),"start path for "+(f(m=h["$[]"]("target_name"))?m:"path")+" "+d+" refers to location outside jail root: "+e+" (disallowed in safe mode)"))):(p=this.$partition_path(d),m=a.to_ary(p),A=null==m[0]?q:m[0],t=null==m[1]?q:m[1],p);f((G=c(A,B))["$include?"](g(u,"DOT_DOT")))&&
(m=[G,[]],A=m[0],G=m[1],m,f(e)?(f(y)||(p=this.$partition_path(e),m=a.to_ary(p),y=null==m[0]?q:m[0],p),C=!1,v(A,"each",[],(r=function(a){var c=r.$$s||this,d;null==a&&(a=q);if(a["$=="](g(u,"DOT_DOT"))){a=G.$size();var k=y.$size();a="number"===typeof a&&"number"===typeof k?a>k:a["$>"](k);if(f(a))return G.$pop();if(f(h.$fetch("recover",!0))){if(f(C))return q;c.$logger().$warn(""+(f(d=h["$[]"]("target_name"))?d:"path")+" has illegal reference to ancestor of jail; recovering automatically");return C=!0}return c.$raise(l("::",
"SecurityError"),""+(f(d=h["$[]"]("target_name"))?d:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}return G["$<<"](a)},r.$$s=this,r.$$arity=1,r))):v(A,"each",[],(w=function(a){null==a&&(a=q);return a["$=="](g(u,"DOT_DOT"))?G.$pop():G["$<<"](a)},w.$$s=this,w.$$arity=1,w)));return f(x)?(x=this.$join_path(G,t),f(this["$descends_from?"](x,e))?x:f(h.$fetch("recover",!0))?(this.$logger().$warn(""+(f(m=h["$[]"]("target_name"))?m:"path")+" is outside of jail; recovering automatically"),
f(y)||(p=this.$partition_path(e),m=a.to_ary(p),y=null==m[0]?q:m[0],p),this.$join_path(c(y,B),t)):this.$raise(l("::","SecurityError"),""+(f(m=h["$[]"]("target_name"))?m:"path")+" "+b+" is outside of jail: "+e+" (disallowed in safe mode)")):this.$join_path(G,t)},N.$$arity=-2);return(a.def(b,"$web_path",V=function(b,c){var d,e,k,h=q,l=q,m=q,n=q,p=q;null==c&&(c=q);b=this.$posixify(b);c=this.$posixify(c);h=q;f(f(d=c["$nil_or_empty?"]())?d:this["$web_root?"](b))||(b=f(c["$end_with?"](g(u,"SLASH")))?""+
c+b:""+c+g(u,"SLASH")+b,f(h=g(u,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(h.$length(),-1,!1))));e=this.$partition_path(b,!0);d=a.to_ary(e);l=null==d[0]?q:d[0];m=null==d[1]?q:d[1];e;n=[];v(l,"each",[],(k=function(a){var b;null==a&&(a=q);return a["$=="](g(u,"DOT_DOT"))?f(n["$empty?"]())?f(f(b=m)?m["$!="](g(u,"DOT_SLASH")):b)?q:n["$<<"](a):n["$[]"](-1)["$=="](g(u,"DOT_DOT"))?n["$<<"](a):n.$pop():n["$<<"](a)},k.$$s=this,k.$$arity=1,k));f((p=this.$join_path(n,m))["$include?"](" "))&&(p=p.$gsub(" ",
"%20"));return f(h)?""+h+p:p},V.$$arity=-2),q)&&"web_path"})(u[0],null,u)}(p[0],p)};Opal.modules["asciidoctor/reader"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var b=[],d=a.nil,f=a.const_get_qualified,n=a.const_get_relative,v=a.module,r=a.klass,e=a.truthy,h=a.hash2,u=a.range,x=a.send,y=a.gvars,t=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $== $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $to_i $attributes $< $catalog $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $pop_include $downcase $error $none? $key? $any? $all? $strip $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $force_encoding $create_include_cursor $rindex $delete_at $nil? $keys $join $binread $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_s $path= $extname $rootname $<= $to_f $extensions? $extensions $include_processors $class $object_id $inspect".split(" "));
return function(b,A){function D(){}var E=[D=v(b,"Asciidoctor",D)].concat(A);(function(b,$super,g){function l(){}b=l=r(b,$super,"Reader",l);var v=b.prototype,y=[b].concat(g),t,A,G,D,E,V,L,K,W,T,ga,ja,aa,R,da,ia,ea,fa,ca,Y,va,ma,sa,ya,oa,ha,S,ka,za,Fa,Ga,Ea,Ba;v.file=v.lines=v.process_lines=v.look_ahead=v.unescape_next_line=v.lineno=v.dir=v.path=v.mark=v.source_lines=d;b.$include(n(y,"Logging"));(function(b,$super,e){function f(){}b=f=r(b,$super,"Cursor",f);var g=b.prototype;[b].concat(e);var h,l,m;
g.lineno=g.path=d;b.$attr_reader("file","dir","path","lineno");a.def(b,"$initialize",h=function(a,b,c,e){var f;null==b&&(b=d);null==c&&(c=d);null==e&&(e=1);return f=[a,b,c,e],this.file=f[0],this.dir=f[1],this.path=f[2],this.lineno=f[3],f},h.$$arity=-2);a.def(b,"$advance",l=function(a){return this.lineno=c(this.lineno,a)},l.$$arity=1);a.def(b,"$line_info",m=function(){return""+this.path+": line "+this.lineno},m.$$arity=0);return a.alias(b,"to_s","line_info")})(y[0],null,y);b.$attr_reader("file");b.$attr_reader("dir");
b.$attr_reader("path");b.$attr_reader("lineno");b.$attr_reader("source_lines");b.$attr_accessor("process_lines");b.$attr_accessor("unterminated");a.def(b,"$initialize",t=function(b,c,k){var g;null==b&&(b=d);null==c&&(c=d);null==k&&(k=h([],{}));e(c["$!"]())?(this.file=d,this.dir=".",this.path="<stdin>",this.lineno=1):e(f("::","String")["$==="](c))?(this.file=c,c=f("::","File").$split(this.file),g=a.to_ary(c),this.dir=null==g[0]?d:g[0],this.path=null==g[1]?d:g[1],c,this.lineno=1):(e(this.file=c.$file())?
(this.dir=e(g=c.$dir())?g:f("::","File").$dirname(this.file),this.path=e(g=c.$path())?g:f("::","File").$basename(this.file)):(this.dir=e(g=c.$dir())?g:".",this.path=e(g=c.$path())?g:"<stdin>"),this.lineno=e(g=c.$lineno())?g:1);this.lines=e(b)?this.$prepare_lines(b,k):[];this.source_lines=this.lines.$dup();this.mark=d;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.unterminated=d},t.$$arity=-1);a.def(b,"$prepare_lines",A=function(a,b){null==b&&(b=h([],{}));return e(f("::",
"String")["$==="](a))?e(b["$[]"]("normalize"))?n(y,"Helpers").$normalize_lines_from_string(a):a.$split(n(y,"LF"),-1):e(b["$[]"]("normalize"))?n(y,"Helpers").$normalize_lines_array(a):a.$dup()},A.$$arity=-2);a.def(b,"$process_line",G=function(a){e(this.process_lines)&&(this.look_ahead=c(this.look_ahead,1));return a},G.$$arity=1);a.def(b,"$has_more_lines?",D=function(){return e(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},D.$$arity=0);a.def(b,"$empty?",E=function(){return e(this.lines["$empty?"]())?
(this.look_ahead=0,!0):!1},E.$$arity=0);a.alias(b,"eof?","empty?");a.def(b,"$next_line_empty?",V=function(){return this.$peek_line()["$nil_or_empty?"]()},V.$$arity=0);a.def(b,"$peek_line",L=function(a){var b,c=d;null==a&&(a=!1);return e(e(b=a)?b:m(this.look_ahead,0))?e(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](u(1,-1,!1)):this.lines["$[]"](0):e(this.lines["$empty?"]())?(this.look_ahead=0,d):e(c=this.$process_line(this.lines["$[]"](0)))?c:this.$peek_line()},L.$$arity=-1);a.def(b,"$peek_lines",
K=function(b,c){var f,k,g=this,h=d,l=d;null==b&&(b=d);null==c&&(c=!1);h=g.look_ahead;l=[];(function(){var h=a.new_brk();try{return x(e(f=b)?f:n(y,"MAX_INT"),"times",[],(k=function(){var b=k.$$s||this,f=d;null==b.lineno&&(b.lineno=d);if(e(f=e(c)?b.$shift():b.$read_line()))return l["$<<"](f);e(c)&&(b.lineno=p(b.lineno,1));a.brk(d,h)},k.$$s=g,k.$$brk=h,k.$$arity=0,k))}catch(m){if(m===h)return m.$v;throw m;}})();e(l["$empty?"]())||(g.$unshift_all(l),e(c)&&(g.look_ahead=h));return l},K.$$arity=-1);a.def(b,
"$read_line",W=function(){var a;return e(e(a=m(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():d},W.$$arity=0);a.def(b,"$read_lines",T=function(){for(var a=d,a=[];e(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},T.$$arity=0);a.alias(b,"readlines","read_lines");a.def(b,"$read",ga=function(){return q(this.$read_lines(),n(y,"LF"))},ga.$$arity=0);a.def(b,"$advance",ja=function(){return e(this.$shift())?!0:!1},ja.$$arity=0);a.def(b,"$unshift_line",aa=function(a){this.$unshift(a);
return d},aa.$$arity=1);a.alias(b,"restore_line","unshift_line");a.def(b,"$unshift_lines",R=function(a){this.$unshift_all(a);return d},R.$$arity=1);a.alias(b,"restore_lines","unshift_lines");a.def(b,"$replace_next_line",da=function(a){this.$shift();this.$unshift(a);return!0},da.$$arity=1);a.alias(b,"replace_line","replace_next_line");a.def(b,"$skip_blank_lines",ia=function(){var a=d,b=d;if(e(this["$empty?"]()))return d;for(a=0;e(b=this.$peek_line());)if(e(b["$empty?"]()))this.$shift(),a=c(a,1);else return a},
ia.$$arity=0);a.def(b,"$skip_comment_lines",ea=function(){var a,b=d,c=d;if(e(this["$empty?"]()))return d;for(;e(e(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(e(b["$start_with?"]("//")))if(e(b["$start_with?"]("///")))if(e(e(a=m(c=b.$length(),3))?b["$=="](q("/",c)):a))this.$read_lines_until(h(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;
return d},ea.$$arity=0);a.def(b,"$skip_line_comments",fa=function(){var a,b=d,c=d;if(e(this["$empty?"]()))return[];for(b=[];e(e(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(e(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},fa.$$arity=0);a.def(b,"$terminate",ca=function(){this.lineno=c(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return d},ca.$$arity=0);a.def(b,"$read_lines_until",Y=function(b){var c,f,k,g,l=Y.$$p,m=l||d,u=d,q=d,r=d,w=d,v=d,z=
d,B=d,t=d,A=d,G=d,C=d,D=d,I=d;null==b&&(b=h([],{}));l&&(Y.$$p=null);u=[];e(e(c=this.process_lines)?b["$[]"]("skip_processing"):c)&&(this.process_lines=!1,q=!0);e(r=b["$[]"]("terminator"))?(w=e(c=b["$[]"]("cursor"))?c:this.$cursor(),z=v=!1):(v=b["$[]"]("break_on_blank_lines"),z=b["$[]"]("break_on_list_continuation"));B=b["$[]"]("skip_line_comments");t=A=G=d;for(e(b["$[]"]("skip_first_line"))&&this.$shift();e(e(f=t["$!"]())?C=this.$read_line():f);)t=function(){for(;e(!0);)return e(e(k=r)?C["$=="](r):
k)||e(e(k=v)?C["$empty?"]():k)?!0:e(e(k=e(g=z)?A:g)?C["$=="](n(y,"LIST_CONTINUATION")):k)?(D=["preserve_last_line",!0],x(b,"[]=",a.to_a(D)),D[p(D.length,1)],!0):e((k=m!==d)?a.yield1(m,C):m!==d)?!0:!1;return d}(),e(t)?(e(b["$[]"]("read_last_line"))&&(u["$<<"](C),A=!0),e(b["$[]"]("preserve_last_line"))&&(this.$unshift(C),G=!0)):e(e(f=e(k=B)?C["$start_with?"]("//"):k)?C["$start_with?"]("///")["$!"]():f)||(u["$<<"](C),A=!0);e(q)&&(this.process_lines=!0,e(e(c=G)?r["$!"]():c)&&(this.look_ahead=p(this.look_ahead,
1)));e(e(c=e(f=r)?r["$!="](C):f)?I=b.$fetch("context",r):c)&&(w["$=="]("at_mark")&&(w=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+I+" block",h(["source_location"],{source_location:w}))),this.unterminated=!0);return u},Y.$$arity=-1);a.def(b,"$shift",va=function(){this.lineno=c(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=p(this.look_ahead,1));return this.lines.$shift()},va.$$arity=0);a.def(b,"$unshift",ma=function(a){this.lineno=p(this.lineno,
1);this.look_ahead=c(this.look_ahead,1);return this.lines.$unshift(a)},ma.$$arity=1);a.def(b,"$unshift_all",sa=function(b){this.lineno=p(this.lineno,b.$size());this.look_ahead=c(this.look_ahead,b.$size());return x(this.lines,"unshift",a.to_a(b))},sa.$$arity=1);a.def(b,"$cursor",ya=function(){return n(y,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ya.$$arity=0);a.def(b,"$cursor_at_line",oa=function(a){return n(y,"Cursor").$new(this.file,this.dir,this.path,a)},oa.$$arity=1);a.def(b,"$cursor_at_mark",
ha=function(){return e(this.mark)?x(n(y,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},ha.$$arity=0);a.def(b,"$cursor_before_mark",S=function(){var b,c,f=d,k=d,g=d;b=d;return e(this.mark)?(c=this.mark,b=a.to_ary(c),f=null==b[0]?d:b[0],k=null==b[1]?d:b[1],g=null==b[2]?d:b[2],b=null==b[3]?d:b[3],c,n(y,"Cursor").$new(f,k,g,p(b,1))):n(y,"Cursor").$new(this.file,this.dir,this.path,p(this.lineno,1))},S.$$arity=0);a.def(b,"$cursor_at_prev_line",ka=function(){return n(y,"Cursor").$new(this.file,this.dir,
this.path,p(this.lineno,1))},ka.$$arity=0);a.def(b,"$mark",za=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},za.$$arity=0);a.def(b,"$line_info",Fa=function(){return""+this.path+": line "+this.lineno},Fa.$$arity=0);a.def(b,"$lines",Ga=function(){return this.lines.$dup()},Ga.$$arity=0);a.def(b,"$string",Ea=function(){return q(this.lines,n(y,"LF"))},Ea.$$arity=0);a.def(b,"$source",Ba=function(){return q(this.source_lines,n(y,"LF"))},Ba.$$arity=0);return a.alias(b,"to_s","line_info")})(E[0],
null,E);(function(b,$super,w){function v(){}b=v=r(b,$super,"PreprocessorReader",v);var A=b.prototype,F=[b].concat(w),G,D,E,Z,N,V,L,K,W,T,ga,ja,aa,R,sa,ia,ea,fa,ca;A.document=A.lineno=A.process_lines=A.look_ahead=A.skipping=A.include_stack=A.conditional_stack=A.path=A.include_processor_extensions=A.maxdepth=A.dir=A.lines=A.file=A.includes=A.unescape_next_line=d;b.$attr_reader("include_stack");a.def(b,"$initialize",G=function(b,c,f,k){var g=G.$$p,m=d;null==c&&(c=d);null==f&&(f=d);null==k&&(k=h([],{}));
g&&(G.$$p=null);this.document=b;x(this,a.find_super_dispatcher(this,"initialize",G,!1),[c,f,k],null);m=b.$attributes().$fetch("max-include-depth",64).$to_i();e(l(m,0))&&(m=0);this.maxdepth=h(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=d},G.$$arity=-2);a.def(b,"$prepare_lines",D=function(b,f){var g,l,m=D.$$p,u=d,r=d,w=d,v=d,y=d,B=w=u=d;null==f&&(f=h([],{}));m&&(D.$$p=
null);w=0;B=arguments.length;for(u=Array(B);w<B;w++)u[w]=arguments[w];u=x(this,a.find_super_dispatcher(this,"prepare_lines",D,!1),u,m);e(e(g=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):g)&&e(r=this["$skip_front_matter!"](u))&&(w=["front-matter",q(r,n(F,"LF"))],x(this.document.$attributes(),"[]=",a.to_a(w)),w[p(w.length,1)]);if(e(f.$fetch("condense",!0))){for(;e(e(l=v=u["$[]"](0))?v["$empty?"]():l);)e(l=u.$shift())?this.lineno=c(this.lineno,1):l;for(;e(e(l=y=u["$[]"](-1))?
y["$empty?"]():l);)u.$pop()}if(e(f["$[]"]("indent")))n(F,"Parser")["$adjust_indentation!"](u,f["$[]"]("indent"),this.document.$attr("tabsize"));return u},D.$$arity=-2);a.def(b,"$process_line",E=function(a){var b,f;if(!e(this.process_lines))return a;if(e(a["$empty?"]()))return this.look_ahead=c(this.look_ahead,1),a;if(e(e(b=e(f=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():f)?a["$include?"]("::"):b)){if(e(e(b=a["$include?"]("if"))?n(F,"ConditionalDirectiveRx")["$=~"](a):b)){if(((b=y["~"])===
d?d:b["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),a["$[]"](u(1,-1,!1));if(e(this.$preprocess_conditional_directive((b=y["~"])===d?d:b["$[]"](2),(b=y["~"])===d?d:b["$[]"](3),(b=y["~"])===d?d:b["$[]"](4),(b=y["~"])===d?d:b["$[]"](5))))return this.$shift(),d;this.look_ahead=c(this.look_ahead,1);return a}if(e(this.skipping))return this.$shift(),d;if(e(e(b=a["$start_with?"]("inc","\\inc"))?n(F,"IncludeDirectiveRx")["$=~"](a):b)){if(((b=y["~"])===d?d:b["$[]"](1))["$=="]("\\"))return this.unescape_next_line=
!0,this.look_ahead=c(this.look_ahead,1),a["$[]"](u(1,-1,!1));if(e(this.$preprocess_include_directive((b=y["~"])===d?d:b["$[]"](2),(b=y["~"])===d?d:b["$[]"](3))))return d;this.look_ahead=c(this.look_ahead,1);return a}this.look_ahead=c(this.look_ahead,1);return a}if(e(this.skipping))return this.$shift(),d;this.look_ahead=c(this.look_ahead,1);return a},E.$$arity=1);a.def(b,"$has_more_lines?",Z=function(){return e(this.$peek_line())?!0:!1},Z.$$arity=0);a.def(b,"$empty?",N=function(){return e(this.$peek_line())?
!1:!0},N.$$arity=0);a.alias(b,"eof?","empty?");a.def(b,"$peek_line",V=function(b){var c=V.$$p,f=d,k=f=d,g=d;null==b&&(b=!1);c&&(V.$$p=null);k=0;g=arguments.length;for(f=Array(g);k<g;k++)f[k]=arguments[k];if(e(f=x(this,a.find_super_dispatcher(this,"peek_line",V,!1),f,c)))return f;if(e(this.include_stack["$empty?"]()))return d;this.$pop_include();return this.$peek_line(b)},V.$$arity=-1);a.def(b,"$preprocess_conditional_directive",L=function(a,b,c,f){var k,g,l,m,u,q,r,w=d,v=d,z=d,B=d,t=B=w=d;e(w=b["$empty?"]())||
(b=b.$downcase());if(e(e(k=e(g=w)?e(l=a["$=="]("ifdef"))?l:a["$=="]("ifndef"):g)?k:e(g=f)?a["$=="]("endif"):g))return!1;if(a["$=="]("endif"))return e(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched macro: endif::"+b+"[]",h(["source_location"],{source_location:this.$cursor()}))):e(e(k=w)?k:b["$=="]((v=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=e(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):
this.$logger().$error(this.$message_with_context("mismatched macro: endif::"+b+"[], expected endif::"+v["$[]"]("target")+"[]",h(["source_location"],{source_location:this.$cursor()}))),!0;if(e(this.skipping))z=!1;else if(B=a,"ifdef"["$==="](B))B=c,z=","["$==="](B)?x(b.$split(",",-1),"none?",[],(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},m.$$s=this,m.$$arity=1,m)):"+"["$==="](B)?x(b.$split("+",-1),"any?",[],(u=function(a){var b=
u.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)["$!"]()},u.$$s=this,u.$$arity=1,u)):this.document.$attributes()["$key?"](b)["$!"]();else if("ifndef"["$==="](B))B=c,z=","["$==="](B)?x(b.$split(",",-1),"any?",[],(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},q.$$s=this,q.$$arity=1,q)):"+"["$==="](B)?x(b.$split("+",-1),"all?",[],(r=function(a){var b=r.$$s||this;null==
b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},r.$$s=this,r.$$arity=1,r)):this.document.$attributes()["$key?"](b);else if("ifeval"["$==="](B)){if(!e(e(k=w)?n(F,"EvalExpressionRx")["$=~"](f.$strip()):k))return!1;k=[(g=y["~"])===d?d:g["$[]"](1),(g=y["~"])===d?d:g["$[]"](2),(g=y["~"])===d?d:g["$[]"](3)];w=k[0];B=k[1];t=k[2];k;w=this.$resolve_expr_val(w);t=this.$resolve_expr_val(t);z=B["$=="]("!=")?w.$send("==",t):w.$send(B.$to_sym(),t)["$!"]()}e(e(k=a["$=="]("ifeval"))?
k:f["$!"]())?(e(z)&&(this.skipping=!0),this.conditional_stack["$<<"](h(["target","skip","skipping"],{target:b,skip:z,skipping:this.skipping}))):e(e(k=this.skipping)?k:z)||(this.$replace_next_line(f.$rstrip()),this.$unshift(""),e(f["$start_with?"]("include::"))&&(this.look_ahead=p(this.look_ahead,1)));return!0},L.$$arity=4);a.def(b,"$preprocess_include_directive",K=function(b,u){var q,r,w,v,z,A,G,C,D=this,E=d,K=d,N=d,L=N=d,R=d,V=d,U=d,Q=d,ba=d,Z=d,aa=d,W=d,H=d,P=d,ra=d,X=d,fa=d,O=d,Ka=d,la=H=d;if(e(e(q=
(E=b)["$include?"](n(F,"ATTR_REF_HEAD")))?(E=D.document.$sub_attributes(b,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():q))return D.$shift(),(e(q=D.document.$attributes()["$[]"]("attribute-missing"))?q:n(F,"Compliance").$attribute_missing())["$=="]("skip")&&D.$unshift("Unresolved directive in "+D.path+" - include::"+b+"["+u+"]"),!0;if(e(e(q=D["$include_processors?"]())?K=x(D.include_processor_extensions,"find",[],(r=function(a){null==a&&(a=d);return a.$instance()["$handles?"](E)},
r.$$s=D,r.$$arity=1,r)):q))return D.$shift(),K.$process_method()["$[]"](D.document,D,E,e(u)?n(F,"AttributeList").$new(u).$parse():h([],{})),!0;if(e(g(D.document.$safe(),f(n(F,"SafeMode"),"SECURE"))))return D.$replace_next_line("link:"+E+"[]");if(e(m(N=D.maxdepth["$[]"]("abs"),0))){if(e(g(D.include_stack.$size(),N)))return D.$logger().$error(D.$message_with_context("maximum include depth of "+D.maxdepth["$[]"]("rel")+" exceeded",h(["source_location"],{source_location:D.$cursor()}))),d;N=e(u)?n(F,"AttributeList").$new(u).$parse():
h([],{});r=D.$resolve_include_path(E,u,N);q=a.to_ary(r);L=null==q[0]?d:q[0];R=null==q[1]?d:q[1];V=null==q[2]?d:q[2];r;if(!e(R))return L;U=Q=d;e(u)&&(e(N["$key?"]("lines"))?(U=[],x(N["$[]"]("lines").$split(n(F,"DataDelimiterRx")),"each",[],(w=function(b){var g=w.$$s||this,h,m=d,n=d;null==b&&(b=d);return e(b["$include?"](".."))?(b=x(b.$split("..",2),"map",[],(h=function(a){null==a&&(a=d);return a.$to_i()},h.$$s=g,h.$$arity=1,h)),h=a.to_ary(b),m=null==h[0]?d:h[0],n=null==h[1]?d:h[1],b,U=c(U,e(l(n,0))?
[m,1/0]:f("::","Range").$new(m,n).$to_a())):U["$<<"](b.$to_i())},w.$$s=D,w.$$arity=1,w)),U=e(U["$empty?"]())?d:U.$sort().$uniq()):e(N["$key?"]("tag"))?e(e(q=(ba=N["$[]"]("tag"))["$empty?"]())?q:ba["$=="]("!"))||(Q=e(ba["$start_with?"]("!"))?t(ba.$slice(1,ba.$length()),!1):t(ba,!0)):e(N["$key?"]("tags"))&&(Q=h([],{}),x(N["$[]"]("tags").$split(n(F,"DataDelimiterRx")),"each",[],(v=function(b){var c,f=d;null==b&&(b=d);if(e(e(c=b["$empty?"]())?c:b["$=="]("!")))return d;f=e(b["$start_with?"]("!"))?[b.$slice(1,
b.$length()),!1]:[b,!0];x(Q,"[]=",a.to_a(f));return f[p(f.length,1)]},v.$$s=D,v.$$arity=1,v)),e(Q["$empty?"]())&&(Q=d)));if(e(U)){q=[[],d,0];Z=q[0];aa=q[1];W=q[2];q;try{(function(){var b=a.new_brk();try{return x(D,"open",[L,"rb"],(z=function(b){var g=z.$$s||this,h,l=d;null==b&&(b=d);l=d;return function(){var m=a.new_brk();try{return x(b,"each_line",[],(h=function(b){var g,h,n=d;null==b&&(b=d);W=c(W,1);if(e(e(g=l)?g:e(h=f("::","Float")["$==="](n=U["$[]"](0)))?l=n["$infinite?"]():h))return aa=e(g=aa)?
g:W,Z["$<<"](b);n["$=="](W)&&(aa=e(g=aa)?g:W,Z["$<<"](b),U.$shift());if(e(U["$empty?"]()))a.brk(d,m);else return d},h.$$s=g,h.$$brk=m,h.$$arity=1,h))}catch(n){if(n===m)return n.$v;throw n;}}()},z.$$s=D,z.$$brk=b,z.$$arity=1,z))}catch(g){if(g===b)return g.$v;throw g;}})()}catch(T){if(a.rescue(T,[n(F,"StandardError")]))try{return D.$logger().$error(D.$message_with_context("include "+R+" not readable: "+L,h(["source_location"],{source_location:D.$cursor()}))),D.$replace_next_line("Unresolved directive in "+
D.path+" - include::"+E+"["+u+"]")}finally{a.pop_exception()}else throw T;}D.$shift();e(aa)&&(H=["partial-option",!0],x(N,"[]=",a.to_a(H)),H[p(H.length,1)],D.$push_include(Z,L,V,aa,N))}else if(e(Q)){q=[[],d,0,[],f("::","Set").$new(),d];Z=q[0];aa=q[1];W=q[2];P=q[3];ra=q[4];X=q[5];q;e(Q["$key?"]("**"))?e(Q["$key?"]("*"))?(fa=O=Q.$delete("**"),Ka=Q.$delete("*")):fa=O=Ka=Q.$delete("**"):(fa=O=Q["$value?"](!0)["$!"](),Ka=Q.$delete("*"));try{x(D,"open",[L,"rb"],(A=function(b){var g=A.$$s||this,l,m,p=d,
q=d,u=d;null==b&&(b=d);l=["::","[]"];p=l[0];q=l[1];l;e(n(F,"COERCE_ENCODING"))&&(u=f(f("::","Encoding"),"UTF_8"));return x(b,"each_line",[],(m=function(b){var f=m.$$s||this,g,l,r,w=d,H=d,v=d;null==b&&(b=d);W=c(W,1);e(u)&&b.$force_encoding(u);return e(e(g=e(l=b["$include?"](p))?b["$include?"](q):l)?n(F,"TagDirectiveRx")["$=~"](b):g)?e((g=y["~"])===d?d:g["$[]"](1))?(w=(g=y["~"])===d?d:g["$[]"](2))["$=="](X)?(P.$pop(),l=e(P["$empty?"]())?[d,O]:P["$[]"](-1),g=a.to_ary(l),X=null==g[0]?d:g[0],fa=null==
g[1]?d:g[1],l):e(Q["$key?"](w))?(H=f.$create_include_cursor(L,E,W),e(v=x(P,"rindex",[],(r=function(a,b){null==a&&(a=d);return a["$=="](w)},r.$$s=f,r.$$arity=2,r)))?(v["$=="](0)?P.$shift():P.$delete_at(v),f.$logger().$warn(f.$message_with_context("mismatched end tag (expected '"+X+"' but found '"+w+"') at line "+W+" of include "+R+": "+L,h(["source_location","include_location"],{source_location:f.$cursor(),include_location:H})))):f.$logger().$warn(f.$message_with_context("unexpected end tag '"+w+"' at line "+
W+" of include "+R+": "+L,h(["source_location","include_location"],{source_location:f.$cursor(),include_location:H})))):d:e(Q["$key?"](w=(g=y["~"])===d?d:g["$[]"](2)))?(ra["$<<"](w),P["$<<"]([X=w,fa=Q["$[]"](w),W])):e(Ka["$nil?"]()["$!"]())?(fa=e(e(g=X)?fa["$!"]():g)?!1:Ka,P["$<<"]([X=w,fa,W])):d:e(fa)?(aa=e(g=aa)?g:W,Z["$<<"](b)):d},m.$$s=g,m.$$arity=1,m))},A.$$s=D,A.$$arity=1,A))}catch(T){if(a.rescue(T,[n(F,"StandardError")]))try{return D.$logger().$error(D.$message_with_context("include "+R+" not readable: "+
L,h(["source_location"],{source_location:D.$cursor()}))),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+E+"["+u+"]")}finally{a.pop_exception()}else throw T;}e(P["$empty?"]())||x(P,"each",[],(G=function(a,b,c){b=G.$$s||this;null==a&&(a=d);null==c&&(c=d);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+R+": "+L,h(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(L,
E,c)})))},G.$$s=D,G.$$arity=3,G));e((H=p(Q.$keys().$to_a(),ra.$to_a()))["$empty?"]())||D.$logger().$warn(D.$message_with_context("tag"+(e(m(H.$size(),1))?"s":"")+" '"+H.$join(", ")+"' not found in include "+R+": "+L,h(["source_location"],{source_location:D.$cursor()})));D.$shift();e(aa)&&(e(e(q=e(r=O)?Ka:r)?Q["$empty?"]():q)||(H=["partial-option",!0],x(N,"[]=",a.to_a(H)),H[p(H.length,1)]),D.$push_include(Z,L,V,aa,N))}else try{la=function(){return x(D,"open",[L,"rb"],(C=function(a){null==a&&(a=d);
return a.$read()},C.$$s=D,C.$$arity=1,C))}(),D.$shift(),D.$push_include(la,L,V,1,N)}catch(T){if(a.rescue(T,[n(F,"StandardError")]))try{return D.$logger().$error(D.$message_with_context("include "+R+" not readable: "+L,h(["source_location"],{source_location:D.$cursor()}))),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+E+"["+u+"]")}finally{a.pop_exception()}else throw T;}return!0}return d},K.$$arity=2);a.def(b,"$resolve_include_path",W=function(a,b,c){var g,k,l=d,m=d,l=d,l=this.document;
if(e(e(g=n(F,"Helpers")["$uriish?"](a))?g:e(f("::","String")["$==="](this.dir))?d:a=""+this.dir+"/"+a)){if(!e(l["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");e(l["$attr?"]("cache-uri"))?e((k=f("::","OpenURI","skip_raise"))&&f(k,"Cache","skip_raise")?"constant":d)||n(F,"Helpers").$require_library("open-uri/cached","open-uri-cached"):e(f("::","RUBY_ENGINE_OPAL")["$!"]())&&f("::","OpenURI");return[f("::","URI").$parse(a),"uri",a]}m=l.$normalize_system_path(a,this.dir,
d,h(["target_name"],{target_name:"include file"}));if(!e(f("::","File")["$file?"](m))){if(e(c["$key?"]("optional-option")))return this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+m,h(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}l=l.$path_resolver().$relative_path(m,l.$base_dir());return[m,"file",l]},W.$$arity=3);a.def(b,"$push_include",T=function(b,
g,l,m,q){var u,r=d,w=d,r=r=d;null==g&&(g=d);null==l&&(l=d);null==m&&(m=1);null==q&&(q=h([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);e(this.file=g)?(e(f("::","String")["$==="](g))?this.dir=f("::","File").$dirname(g):e(f("::","RUBY_ENGINE_OPAL"))?this.dir=f("::","URI").$parse(f("::","File").$dirname(g=g.$to_s())):(r=[(w=f("::","File").$dirname(g.$path()))["$=="]("/")?"":w],x(this.dir=g.$dup(),"path=",a.to_a(r)),r[p(r.length,
1)],g=g.$to_s()),l=e(u=l)?u:f("::","File").$basename(g),this.process_lines=n(F,"ASCIIDOC_EXTENSIONS")["$[]"](f("::","File").$extname(g))):(this.dir=".",this.process_lines=!0);e(l)?(this.path=l,e(this.process_lines)&&(r=[n(F,"Helpers").$rootname(l),e(q["$[]"]("partial-option"))?d:!0],x(this.includes,"[]=",a.to_a(r)),r[p(r.length,1)])):this.path="<stdin>";this.lineno=m;e(q["$key?"]("depth"))&&(r=q["$[]"]("depth").$to_i(),e("number"===typeof r?0>=r:r["$<="](0))&&(r=1),this.maxdepth=h(["abs","rel"],{abs:c(p(this.include_stack.$size(),
1),r),rel:r}));if(e((this.lines=this.$prepare_lines(b,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:q["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(e(q["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+q["$[]"]("leveloffset"));this.lines["$<<"]("");if(e(r=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+r);else this.lines["$<<"](":leveloffset!:");this.lineno=p(this.lineno,2)}this.look_ahead=0}return this},
T.$$arity=-2);a.def(b,"$create_include_cursor",ga=function(a,b,c){var g=d;e(f("::","String")["$==="](a))?g=f("::","File").$dirname(a):e(f("::","RUBY_ENGINE_OPAL"))?g=f("::","File").$dirname(a=a.$to_s()):(g=(g=f("::","File").$dirname(a.$path()))["$=="]("")?"/":g,a=a.$to_s());return n(F,"Cursor").$new(a,g,b,c)},ga.$$arity=3);a.def(b,"$pop_include",ja=function(){var b,c;e(m(this.include_stack.$size(),0))&&(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?d:b[0],this.file=null==b[1]?d:
b[1],this.dir=null==b[2]?d:b[2],this.path=null==b[3]?d:b[3],this.lineno=null==b[4]?d:b[4],this.maxdepth=null==b[5]?d:b[5],this.process_lines=null==b[6]?d:b[6],c,this.look_ahead=0);return d},ja.$$arity=0);a.def(b,"$include_depth",aa=function(){return this.include_stack.$size()},aa.$$arity=0);a.def(b,"$exceeded_max_depth?",R=function(){var a,b=d;return e(e(a=m(b=this.maxdepth["$[]"]("abs"),0))?g(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},R.$$arity=0);a.def(b,"$shift",sa=function(){var b=
sa.$$p,c=d,f=d,g=d;b&&(sa.$$p=null);f=0;g=arguments.length;for(c=Array(g);f<g;f++)c[f]=arguments[f];return e(this.unescape_next_line)?(this.unescape_next_line=!1,x(this,a.find_super_dispatcher(this,"shift",sa,!1),c,b)["$[]"](u(1,-1,!1))):x(this,a.find_super_dispatcher(this,"shift",sa,!1),c,b)},sa.$$arity=0);a.def(b,"$skip_front_matter!",ia=function(b,f){var g,h=d,l=d;null==f&&(f=!0);h=d;if(b["$[]"](0)["$=="]("---")){l=b.$dup();h=[];b.$shift();e(f)&&(this.lineno=c(this.lineno,1));for(;e(e(g=b["$empty?"]()["$!"]())?
b["$[]"](0)["$!="]("---"):g);)h["$<<"](b.$shift()),e(f)&&(this.lineno=c(this.lineno,1));e(b["$empty?"]())?(x(b,"unshift",a.to_a(l)),e(f)&&(this.lineno=0),h=d):(b.$shift(),e(f)&&(this.lineno=c(this.lineno,1)))}return h},ia.$$arity=-2);a.def(b,"$resolve_expr_val",ea=function(a){var b,c,f=d;e(e(b=e(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:e(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(f=!0,a=a["$[]"](u(1,-1,!0))):f=!1;e(a["$include?"](n(F,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,
h(["attribute_missing"],{attribute_missing:"drop"})));return e(f)?a:e(a["$empty?"]())?d:a["$=="]("true")?!0:a["$=="]("false")?!1:e(a.$rstrip()["$empty?"]())?" ":e(a["$include?"]("."))?a.$to_f():a.$to_i()},ea.$$arity=1);a.def(b,"$include_processors?",fa=function(){var a;return e(this.include_processor_extensions["$nil?"]())?e(e(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():
this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},fa.$$arity=0);return(a.def(b,"$to_s",ca=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+q(x(this.include_stack,"map",[],(a=function(a){null==a&&(a=d);return a.$to_s()},a.$$s=this,a.$$arity=1,a)),", ")+"]}>"},ca.$$arity=0),d)&&"to_s"})(E[0],n(E,"Reader"),E)}(b[0],b)};Opal.modules["asciidoctor/section"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=[],p=a.nil,q=a.const_get_relative,l=a.module,g=a.klass,b=a.send,d=a.truthy,f=a.hash2;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $int_to_roman $reftext $! $empty? $sprintf $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(m,v){function r(){}var e=[r=l(m,"Asciidoctor",r)].concat(v);(function(e,$super,l){function m(){}e=m=g(e,$super,"Section",m);var n=e.prototype,r=[e].concat(l),v,x,y,B,t,w,A;n.document=n.level=n.number=n.parent=n.numbered=n.sectname=n.title=n.blocks=p;e.$attr_accessor("index");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");e.$attr_reader("caption");a.def(e,"$initialize",v=function(e,g,h,l){var m,n=v.$$p;null==e&&(e=p);null==g&&(g=p);null==h&&(h=
!1);null==l&&(l=f([],{}));n&&(v.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",v,!1),[e,"section",l],null);e=d(q(r,"Section")["$==="](e))?[d(m=g)?m:c(e.$level(),1),e.$special()]:[d(m=g)?m:1,!1];this.level=e[0];this.special=e[1];e;this.numbered=h;return this.index=0},v.$$arity=-1);a.alias(e,"name","title");a.def(e,"$generate_id",x=function(){return q(r,"Section").$generate_id(this.$title(),this.document)},x.$$arity=0);a.def(e,"$sectnum",y=function(a,b){var c;null==a&&(a=".");null==b&&(b=
p);b=d(c=b)?c:b["$=="](!1)?"":a;this.level["$=="](1)?c=""+this.number+b:(c=this.level,c="number"===typeof c?1<c:c["$>"](1),c=d(c)?d(q(r,"Section")["$==="](this.parent))?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b:""+q(r,"Helpers").$int_to_roman(this.number)+b);return c},y.$$arity=-1);a.def(e,"$xreftext",B=function(a){var b,c=p,e=p,f=p,g=e=p;null==a&&(a=p);d(d(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:d(a)?(d(this.numbered)?(e=a,"full"["$==="](e)?(e=d(d(b=(f=this.sectname)["$=="]("chapter"))?
b:f["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$sprintf(this.$sub_quotes(d(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=d(g=this.document.$attributes()["$[]"](""+f+"-refsig"))?""+g+" "+this.$sectnum(".",",")+" "+e:""+this.$sectnum(".",",")+" "+e):a="short"["$==="](e)?d(g=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+g+" "+this.$sectnum(".",""):this.$sectnum(".",""):d(d(b=(f=this.sectname)["$=="]("chapter"))?b:f["$=="]("appendix"))?
this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title()):a=d(d(b=(f=this.sectname)["$=="]("chapter"))?b:f["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},B.$$arity=-1);a.def(e,"$<<",t=function(c){var d=t.$$p,e=p,f=p,g=p;d&&(t.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];c.$context()["$=="]("section")&&this.$assign_numeral(c);return b(this,a.find_super_dispatcher(this,"<<",t,!1),e,d)},t.$$arity=
1);a.def(e,"$to_s",w=function(){var c=w.$$p,e=p,f=e=p,g=p;c&&(w.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return d(this.title)?(e=d(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+e.$inspect()+", blocks: "+this.blocks.$size()+"}>"):b(this,a.find_super_dispatcher(this,"to_s",w,!1),e,c)},w.$$arity=0);return(a.defs(e,"$generate_id",A=function(e,f){var g,h,l=p,m=p,n=p,w=p,v=h=p,x=h=
m=l=p,l=f.$attributes(),m=d(g=l["$[]"]("idprefix"))?g:"_";d(n=l["$[]"]("idseparator"))?(d(g=n.$length()["$=="](1))?l=g:d(h=(w=n["$empty?"]())["$!"]())?(h=["idseparator",n.$chr()],b(l,"[]=",a.to_a(h)),n=h,l=h.length,l="number"===typeof l?l-1:l["$-"](1),l=n=n[l]):l=h,d(l)&&(v=d(d(g=n["$=="]("-"))?g:n["$=="]("."))?" .-":" "+n+".-")):(g=["_"," _.-"],n=g[0],v=g[1],g);l=""+m+e.$downcase().$gsub(q(r,"InvalidSectionIdCharsRx"),"");d(w)?l=l.$delete(" "):(l=l.$tr_s(v,n),d(l["$end_with?"](n))&&(l=l.$chop()),
d(d(g=m["$empty?"]())?l["$start_with?"](n):g)&&(l=l.$slice(1,l.$length())));if(d(f.$catalog()["$[]"]("ids")["$key?"](l))){g=[f.$catalog()["$[]"]("ids"),q(r,"Compliance").$unique_id_start_index()];m=g[0];h=g[1];for(g;d(m["$key?"](x=""+l+n+h));)h=c(h,1);return x}return l},A.$$arity=2),p)&&"generate_id"})(e[0],q(e,"AbstractBlock"),e)}(m[0],m)};Opal.modules["asciidoctor/stylesheets"]=function(a){var c=[],m=a.nil,p=a.const_get_qualified,q=a.const_get_relative,l=a.module,g=a.klass,b=a.truthy,d=a.hash2,
f=a.gvars,n=a.send;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $=~ $css $[] $sub $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(c,k){function e(){}var h=[e=l(c,"Asciidoctor",e)].concat(k);(function(c,$super,e){function k(){}var h=k=g(c,$super,"Stylesheets",k);c=h.prototype;var l=[h].concat(e),r,v,x,y,w,t,A,F,D,E,la,
Z,N,V,L;c.primary_stylesheet_data=c.coderay_stylesheet_data=c.pygments_stylesheet_data=m;a.const_set(l[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(l[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(l[0],"STYLESHEETS_DATA_PATH",p("::","File").$join(q(l,"DATA_PATH"),"stylesheets"));a.const_set(l[0],"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/);h.__instance__=h.$new();a.defs(h,"$instance",r=function(){null==this.__instance__&&(this.__instance__=m);return this.__instance__},
r.$$arity=0);a.def(h,"$primary_stylesheet_name",v=function(){return q(l,"DEFAULT_STYLESHEET_NAME")},v.$$arity=0);a.def(h,"$primary_stylesheet_data",x=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&"dist"===b.$basename(b.$dirname(__dirname))?b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===b.$basename(__DIR__)&&
"dist"===b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=h.primary_stylesheet_data)&&$a!==m&&null!=$a?$a:h.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},x.$$arity=0);a.def(h,"$embed_primary_stylesheet",y=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},y.$$arity=0);a.def(h,"$write_primary_stylesheet",w=function(a){null==a&&(a=".");return p("::","IO").$write(p("::",
"File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},w.$$arity=-1);a.def(h,"$coderay_stylesheet_name",t=function(){return"coderay-asciidoctor.css"},t.$$arity=0);a.def(h,"$coderay_stylesheet_data",A=function(){var a;return this.coderay_stylesheet_data=b(a=this.coderay_stylesheet_data)?a:p("::","IO").$read(p("::","File").$join(q(l,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},A.$$arity=0);a.def(h,"$embed_coderay_stylesheet",F=function(){return"<style>\n"+
this.$coderay_stylesheet_data()+"\n</style>"},F.$$arity=0);a.def(h,"$write_coderay_stylesheet",D=function(a){null==a&&(a=".");return p("::","IO").$write(p("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},D.$$arity=-1);a.def(h,"$pygments_stylesheet_name",E=function(a){var c;null==a&&(a=m);return"pygments-"+(b(c=a)?c:q(l,"DEFAULT_PYGMENTS_STYLE"))+".css"},E.$$arity=-1);a.def(h,"$pygments_background",la=function(a){var c,e;null==a&&(a=m);return b(b(c=this.$load_pygments())?
q(l,"PygmentsBgColorRx")["$=~"](p("::","Pygments").$css(".pygments",d(["style"],{style:b(e=a)?e:q(l,"DEFAULT_PYGMENTS_STYLE")}))):c)?(c=f["~"])===m?m:c["$[]"](1):m},la.$$arity=-1);a.def(h,"$pygments_stylesheet_data",Z=function(c){var e,f,g=m;null==c&&(c=m);return b(this.$load_pygments())?(c=b(e=c)?e:q(l,"DEFAULT_PYGMENTS_STYLE"),b(e=(this.pygments_stylesheet_data=b(f=this.pygments_stylesheet_data)?f:d([],{}))["$[]"](c))?g=e:(g=[c,(b(f=p("::","Pygments").$css(".listingblock .pygments",d(["classprefix",
"style"],{classprefix:"tok-",style:c})))?f:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],n(this.pygments_stylesheet_data=b(f=this.pygments_stylesheet_data)?f:d([],{}),"[]=",a.to_a(g)),c=g,g=g.length,g="number"===typeof g?g-1:g["$-"](1),g=c[g]),g):"/* Pygments CSS disabled. Pygments is not available. */"},Z.$$arity=-1);a.def(h,"$embed_pygments_stylesheet",N=function(a){null==a&&(a=m);return"<style>\n"+this.$pygments_stylesheet_data(a)+
"\n</style>"},N.$$arity=-1);a.def(h,"$write_pygments_stylesheet",V=function(a,b){null==a&&(a=".");null==b&&(b=m);return p("::","IO").$write(p("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b))},V.$$arity=-1);return(a.def(h,"$load_pygments",L=function(){return b(p("::","Pygments","skip_raise")?"constant":m)?!0:q(l,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},L.$$arity=0),m)&&"load_pygments"})(h[0],null,h)}(c[0],c)};Opal.modules["asciidoctor/table"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var b=[],d=a.nil,f=a.const_get_qualified,
n=a.const_get_relative,v=a.module,r=a.klass,e=a.send,h=a.truthy,u=a.hash2,x=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $! $file $lineno $to_s $include $to_set $mark $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(b,y){function t(){}var A=[t=v(b,"Asciidoctor",t)].concat(y);(function(b,$super,f){function v(){}b=v=r(b,$super,"Table",v);var w=b.prototype,x=[b].concat(f),y,t,A,G,D;w.attributes=w.document=w.has_header_option=w.rows=w.columns=d;a.const_set(x[0],"DEFAULT_PRECISION_FACTOR",1E4);(function(b,$super,c){function e(){}b=e=r(b,$super,"Rows",e);var f=b.prototype;[b].concat(c);var g,k;f.head=f.body=f.foot=d;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",g=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},g.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",k=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},k.$$arity=0),d)&&"by_section"})(x[0],null,x);b.$attr_accessor("columns");b.$attr_accessor("rows");b.$attr_accessor("has_header_option");b.$attr_reader("caption");a.def(b,"$initialize",y=function(b,f){var g,u,r=d,w=d,v=d;y.$$p&&(y.$$p=null);e(this,a.find_super_dispatcher(this,
"initialize",y,!1),[b,"table"],null);this.rows=n(x,"Rows").$new();this.columns=[];this.has_header_option=f["$key?"]("header-option");h(r=f["$[]"]("width"))?h(h(g=c(w=r.$to_i(),100))?g:m(w,1))&&!h((g=w["$=="](0))?h(u=r["$=="]("0"))?u:r["$=="]("0%"):w["$=="](0))&&(w=100):w=100;v=["tablepcwidth",w];e(this.attributes,"[]=",a.to_a(v));v[p(v.length,1)];h(this.document.$attributes()["$key?"]("pagewidth"))&&(h(g=this.attributes["$[]"]("tableabswidth"))?g:(v=["tableabswidth",q(l(this.attributes["$[]"]("tablepcwidth").$to_f(),
100),this.document.$attributes()["$[]"]("pagewidth")).$round()],e(this.attributes,"[]=",a.to_a(v)),v[p(v.length,1)]));return h(f["$key?"]("rotate-option"))?(v=["orientation","landscape"],e(f,"[]=",a.to_a(v)),v[p(v.length,1)]):d},y.$$arity=2);a.def(b,"$header_row?",t=function(){var a;return h(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},t.$$arity=0);a.def(b,"$create_columns",A=function(b){var f,l,q=d,u=d,r=d,w=d,w=d,q=[],u=d,r=0;e(b,"each",[],(f=function(a){var b=f.$$s||this,c,e=d;null==
a&&(a=d);e=a["$[]"]("width");q["$<<"](n(x,"Column").$new(b,q.$size(),a));return h(m(e,0))?(u=h(c=u)?c:[])["$<<"](q["$[]"](-1)):r=g(r,e)},f.$$s=this,f.$$arity=1,f));h(c(w=(this.columns=q).$size(),0))&&(w=["colcount",w],e(this.attributes,"[]=",a.to_a(w)),w[p(w.length,1)],h(h(l=c(r,0))?l:u)||(r=d),this.$assign_column_widths(r,u));return d},A.$$arity=1);a.def(b,"$assign_column_widths",G=function(a,b){var f,m,r,w=d,v=d,y=d,B=d,t=d;null==a&&(a=d);null==b&&(b=d);w=n(x,"DEFAULT_PRECISION_FACTOR");v=y=0;h(a)?
(h(b)&&(h(c(a,100))?(B=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(B=l(q(l(p(100,a),b.$size()),w).$to_i(),w),B.$to_i()["$=="](B)&&(B=B.$to_i()),a=100),t=u(["width","autowidth-option"],{width:B,"autowidth-option":""}),e(b,"each",[],(f=function(a){null==a&&(a=d);return a.$update_attributes(t)},f.$$s=this,f.$$arity=1,f))),e(this.columns,"each",[],(m=function(b){null==b&&(b=d);return v=g(v,y=b.$assign_width(d,a,w))},m.$$s=this,m.$$arity=
1,m))):(y=l(l(q(100,w),this.columns.$size()).$to_i(),w),y.$to_i()["$=="](y)&&(y=y.$to_i()),e(this.columns,"each",[],(r=function(a){null==a&&(a=d);return v=g(v,a.$assign_width(y))},r.$$s=this,r.$$arity=1,r)));v["$=="](100)||this.columns["$[]"](-1).$assign_width(l(q(g(p(100,v),y),w).$round(),w));return d},G.$$arity=-1);return(a.def(b,"$partition_header_footer",D=function(b){var f,g,l=d,m=d,n=d,l=["rowcount",this.rows.$body().$size()];e(this.attributes,"[]=",a.to_a(l));l[p(l.length,1)];m=this.rows.$body().$size();
h(h(f=c(m,0))?this.has_header_option:f)&&(n=this.rows.$body().$shift(),m=p(m,1),e(n,"each",[],(g=function(b){null==b&&(b=d);l=[d];e(b,"style=",a.to_a(l));return l[p(l.length,1)]},g.$$s=this,g.$$arity=1,g)),l=[[n]],e(this.rows,"head=",a.to_a(l)),l[p(l.length,1)]);h(h(f=c(m,0))?b["$key?"]("footer-option"):f)&&(l=[[this.rows.$body().$pop()]],e(this.rows,"foot=",a.to_a(l)),l[p(l.length,1)]);return d},D.$$arity=1),d)&&"partition_header_footer"})(A[0],n(A,"AbstractBlock"),A);(function(b,$super,c){function f(){}
b=f=r(b,$super,"Column",f);var k=b.prototype;[b].concat(c);var m,n;k.attributes=d;b.$attr_accessor("style");a.def(b,"$initialize",m=function(b,c,f){var k,l=m.$$p,n=d;null==f&&(f=u([],{}));l&&(m.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,"column"],null);this.style=f["$[]"]("style");n=["colnumber",g(c,1)];e(f,"[]=",a.to_a(n));n[p(n.length,1)];h(k=f["$[]"]("width"))?k:(n=["width",1],e(f,"[]=",a.to_a(n)),n[p(n.length,1)]);h(k=f["$[]"]("halign"))?k:(n=["halign","left"],e(f,"[]=",
a.to_a(n)),n[p(n.length,1)]);h(k=f["$[]"]("valign"))?k:(n=["valign","top"],e(f,"[]=",a.to_a(n)),n[p(n.length,1)]);return this.$update_attributes(f)},m.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",n=function(b,c,f){var g=d;null==c&&(c=d);null==f&&(f=1E4);h(c)&&(b=l(q(q(l(this.attributes["$[]"]("width").$to_f(),c),100),f).$to_i(),f),b.$to_i()["$=="](b)&&(b=b.$to_i()));g=["colpcwidth",b];e(this.attributes,"[]=",a.to_a(g));g[p(g.length,1)];h(this.$parent().$attributes()["$key?"]("tableabswidth"))&&
(g=["colabswidth",q(l(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],e(this.attributes,"[]=",a.to_a(g)),g[p(g.length,1)]);return b},n.$$arity=-2),d)&&"assign_width"})(n(A,"Table"),n(A,"AbstractNode"),A);(function(b,$super,c){function f(){}b=f=r(b,$super,"Cell",f);var k=b.prototype,l=[b].concat(c),q,v,y,z,t,A,G;k.document=k.text=k.subs=k.style=k.inner_document=k.source_location=k.colspan=k.rowspan=k.attributes=d;b.$attr_reader("source_location");b.$attr_accessor("style");b.$attr_accessor("subs");
b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",q=function(b,c,f,k){var r,w,v=q.$$p,y=d,z=d,t=d,A=d,G=d,F=d,D=d,J=G=d,E=d,N=d,G=d;null==f&&(f=u([],{}));null==k&&(k=u([],{}));v&&(q.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",q,!1),[b,"cell"],null);h(this.document.$sourcemap())&&(this.source_location=k["$[]"]("cursor").$dup());h(b)&&(h(y=b.$table()["$header_row?"]())||(z=b.$attributes()["$[]"]("style")),
this.$update_attributes(b.$attributes()));if(h(f))if(h(f["$empty?"]())?this.colspan=this.rowspan=d:(r=[f.$delete("colspan"),f.$delete("rowspan")],this.colspan=r[0],this.rowspan=r[1],r,h(y)||(z=h(r=f["$[]"]("style"))?r:z),this.$update_attributes(f)),z["$=="]("asciidoc"))if(t=!0,A=k["$[]"]("cursor"),h((c=c.$rstrip())["$start_with?"](n(l,"LF")))){for(G=1;h((c=c.$slice(1,c.$length()))["$start_with?"](n(l,"LF")));)G=g(G,1);A.$advance(G)}else c=c.$lstrip();else if(h(h(r=F=z["$=="]("literal"))?r:z["$=="]("verse")))for(c=
c.$rstrip();h(c["$start_with?"](n(l,"LF")));)c=c.$slice(1,c.$length());else D=!0,c=h(c)?c.$strip():"";else this.colspan=this.rowspan=d;h(t)?(G=this.document.$attributes().$delete("doctitle"),J=c.$split(n(l,"LF"),-1),!h(J["$empty?"]())&&h((E=J["$[]"](0))["$include?"]("::"))&&(N=n(l,"PreprocessorReader").$new(this.document,[E]).$readlines(),h(E["$=="](N["$[]"](0))?m(N.$size(),2):E["$=="](N["$[]"](0)))||(J.$shift(),h(N["$empty?"]())||e(J,"unshift",a.to_a(N)))),this.inner_document=n(l,"Document").$new(J,
u(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:A})),h(G["$nil?"]())||(G=["doctitle",G],e(this.document.$attributes(),"[]=",a.to_a(G)),G[p(G.length,1)]),this.subs=d):h(F)?this.subs=n(l,"BASIC_SUBS"):(h(h(r=h(w=D)?c["$start_with?"]("[["):w)?n(l,"LeadingInlineAnchorRx")["$=~"](c):r)&&n(l,"Parser").$catalog_inline_anchor((r=x["~"])===d?d:r["$[]"](1),(r=x["~"])===d?d:r["$[]"](2),this,k["$[]"]("cursor"),this.document),this.subs=n(l,"NORMAL_SUBS"));this.text=c;return this.style=
z},q.$$arity=-3);a.def(b,"$text",v=function(){return this.$apply_subs(this.text,this.subs)},v.$$arity=0);a.def(b,"$text=",y=function(a){return this.text=a},y.$$arity=1);a.def(b,"$content",z=function(){var a;return this.style["$=="]("asciidoc")?this.inner_document.$convert():e(this.$text().$split(n(l,"BlankLineRx")),"map",[],(a=function(b){var c=a.$$s||this,e;null==c.style&&(c.style=d);null==b&&(b=d);return h(h(e=c.style["$!"]())?e:c.style["$=="]("header"))?b:n(l,"Inline").$new(c.$parent(),"quoted",
b,u(["type"],{type:c.style})).$convert()},a.$$s=this,a.$$arity=1,a))},z.$$arity=0);a.def(b,"$file",t=function(){var a;return h(a=this.source_location)?this.source_location.$file():a},t.$$arity=0);a.def(b,"$lineno",A=function(){var a;return h(a=this.source_location)?this.source_location.$lineno():a},A.$$arity=0);return(a.def(b,"$to_s",G=function(){var b,c=G.$$p,f=d,g=d,k=d;c&&(G.$$p=null);g=0;k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];return""+e(this,a.find_super_dispatcher(this,"to_s",
G,!1),f,c).$to_s()+" - [text: "+this.text+", colspan: "+(h(b=this.colspan)?b:1)+", rowspan: "+(h(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},G.$$arity=0),d)&&"to_s"})(n(A,"Table"),n(A,"AbstractNode"),A);(function(b,$super,l){function m(){}b=m=r(b,$super,"ParserContext",m);var q=b.prototype,v=[b].concat(l),x,y,z,B,t,A,G,D,E,K,W,S,ga,ja,aa,R,ua,ia,ea;q.delimiter=q.delimiter_re=q.buffer=q.cellspecs=q.cell_open=q.format=q.start_cursor_data=q.table=q.current_row=q.colcount=q.column_visits=
q.active_rowspans=q.linenum=d;b.$include(n(v,"Logging"));a.const_set(v[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(v[0],"DELIMITERS",u(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));b.$attr_accessor("table");b.$attr_accessor("format");b.$attr_reader("colcount");b.$attr_accessor("buffer");b.$attr_reader("delimiter");b.$attr_reader("delimiter_re");a.def(b,"$initialize",x=function(b,c,e){var g=d,k=d;null==e&&(e=u([],{}));
this.start_cursor_data=(this.reader=b).$mark();this.table=c;h(e["$key?"]("format"))?h(n(v,"FORMATS")["$include?"](g=e["$[]"]("format")))?g["$=="]("tsv")?this.format="csv":h((this.format=g)["$=="]("psv")?c.$document()["$nested?"]():(this.format=g)["$=="]("psv"))&&(g="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+g,u(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",h(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],g=b[1],b):(b=
["psv",h(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],g=b[1],b);h(e["$key?"]("separator"))?h((k=e["$[]"]("separator"))["$nil_or_empty?"]())?(e=n(v,"DELIMITERS")["$[]"](g),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e):k["$=="]("\\t")?(e=n(v,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e):(b=[k,new RegExp(f("::","Regexp").$escape(k))],this.delimiter=b[0],this.delimiter_re=b[1],b):
(e=n(v,"DELIMITERS")["$[]"](g),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e);this.colcount=h(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},x.$$arity=-3);a.def(b,"$starts_with_delimiter?",y=function(a){return a["$start_with?"](this.delimiter)},y.$$arity=1);a.def(b,"$match_delimiter",z=function(a){return this.delimiter_re.$match(a)},
z.$$arity=1);a.def(b,"$skip_past_delimiter",B=function(a){this.buffer=""+this.buffer+a+this.delimiter;return d},B.$$arity=1);a.def(b,"$skip_past_escaped_delimiter",t=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return d},t.$$arity=1);a.def(b,"$buffer_has_unclosed_quotes?",A=function(a){var b,c,e=d,f=d;null==a&&(a=d);return(e=h(a)?g(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:h(e["$start_with?"]('"'))?h(h(b=h(c=f=e["$end_with?"]('"'))?e["$end_with?"]('""'):c)?b:
e["$start_with?"]('""'))?h(b=(e=e.$gsub('""',""))["$start_with?"]('"'))?e["$end_with?"]('"')["$!"]():b:f["$!"]():!1},A.$$arity=-1);a.def(b,"$take_cellspec",G=function(){return this.cellspecs.$shift()},G.$$arity=0);a.def(b,"$push_cellspec",D=function(a){var b;null==a&&(a=u([],{}));this.cellspecs["$<<"](h(b=a)?b:u([],{}));return d},D.$$arity=-1);a.def(b,"$keep_cell_open",E=function(){this.cell_open=!0;return d},E.$$arity=0);a.def(b,"$mark_cell_closed",K=function(){this.cell_open=!1;return d},K.$$arity=
0);a.def(b,"$cell_open?",W=function(){return this.cell_open},W.$$arity=0);a.def(b,"$cell_closed?",S=function(){return this.cell_open["$!"]()},S.$$arity=0);a.def(b,"$close_open_cell",ga=function(a){null==a&&(a=u([],{}));this.$push_cellspec(a);h(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return d},ga.$$arity=-1);a.def(b,"$close_cell",ja=function(b){try{var l,m,q=d,r=d,w=d;null==b&&(b=!1);this.format["$=="]("psv")?(q=this.buffer,this.buffer="",h(r=this.$take_cellspec())?w=h(l=r.$delete("repeatcol"))?
l:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",u(["source_location"],{source_location:e(f(n(v,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),r=u([],{}),w=1)):(q=this.buffer.$strip(),this.buffer="",r=d,w=1,this.format["$=="]("csv")&&h(h(l=q["$empty?"]()["$!"]())?q["$include?"]('"'):l)&&(h(h(l=q["$start_with?"]('"'))?q["$end_with?"]('"'):l)&&(q=q.$slice(1,p(q.$length(),2)).$strip()),q=q.$squeeze('"')));e(1,"upto",[w],
(m=function(l){var x=m.$$s||this,y,z,B,t,A=d,G=d,F=d,A=d;null==x.colcount&&(x.colcount=d);null==x.table&&(x.table=d);null==x.current_row&&(x.current_row=d);null==x.reader&&(x.reader=d);null==x.column_visits&&(x.column_visits=d);null==x.linenum&&(x.linenum=d);null==l&&(l=d);x.colcount["$=="](-1)?(x.table.$columns()["$<<"](A=f(n(v,"Table"),"Column").$new(x.table,p(g(x.table.$columns().$size(),l),1))),h(h(y=h(z=r)?r["$key?"]("colspan"):z)?c(G=p(r["$[]"]("colspan").$to_i(),1),0):y)&&(F=x.table.$columns().$size(),
e(G,"times",[],(B=function(a){var b=B.$$s||this;null==b.table&&(b.table=d);null==a&&(a=d);return b.table.$columns()["$<<"](f(n(v,"Table"),"Column").$new(b.table,g(F,a)))},B.$$s=x,B.$$arity=1,B)))):h(A=x.table.$columns()["$[]"](x.current_row.$size()))||(x.$logger().$error(x.$message_with_context("dropping cell because it exceeds specified number of columns",u(["source_location"],{source_location:x.reader.$cursor_before_mark()}))),a.ret(d));A=f(n(v,"Table"),"Cell").$new(A,q,r,u(["cursor"],{cursor:x.reader.$cursor_before_mark()}));
x.reader.$mark();h(h(y=A.$rowspan()["$!"]())?y:A.$rowspan()["$=="](1))||x.$activate_rowspan(A.$rowspan(),h(y=A.$colspan())?y:1);x.column_visits=g(x.column_visits,h(y=A.$colspan())?y:1);x.current_row["$<<"](A);return h(h(y=x["$end_of_row?"]())?h(z=h(t=x.colcount["$!="](-1))?t:c(x.linenum,0))?z:h(t=b)?l["$=="](w):t:y)?x.$close_row():d},m.$$s=this,m.$$arity=1,m));this.cell_open=!1;return d}catch(x){if(x===a.returner)return x.$v;throw x;}},ja.$$arity=-1);a.def(b,"$close_row",aa=function(){var b,c=d;this.table.$rows().$body()["$<<"](this.current_row);
this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();h(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],e(this.active_rowspans,"[]=",a.to_a(c)),c[p(c.length,1)]);return d},aa.$$arity=0);a.def(b,"$activate_rowspan",R=function(b,c){var f;e((1).$upto(p(b,1)),"each",[],(f=function(b){var k=f.$$s||this,l,m=d;null==k.active_rowspans&&(k.active_rowspans=d);null==b&&(b=d);m=[b,g(h(l=k.active_rowspans["$[]"](b))?l:0,c)];e(k.active_rowspans,
"[]=",a.to_a(m));return m[p(m.length,1)]},f.$$s=this,f.$$arity=1,f));return d},R.$$arity=2);a.def(b,"$end_of_row?",ua=function(){var a;return h(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},ua.$$arity=0);a.def(b,"$effective_column_visits",ia=function(){return g(this.column_visits,this.active_rowspans["$[]"](0))},ia.$$arity=0);return(a.def(b,"$advance",ea=function(){return this.linenum=g(this.linenum,1)},ea.$$arity=0),d)&&"advance"})(n(A,"Table"),null,A)}(b[0],
b)};Opal.modules["asciidoctor/converter/composite"]=function(a){var c=[],m=a.nil,p=a.const_get_qualified,q=a.const_get_relative,l=a.module,g=a.klass,b=a.send,d=a.truthy,f=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(c,k){function r(){}var e=[r=l(c,"Asciidoctor",r)].concat(k);(function(c,$super,e){function k(){}c=k=g(c,$super,"CompositeConverter",k);var l=
c.prototype;[c].concat(e);var n,p,q,r;l.converter_map=l.converters=m;c.$attr_reader("converters");a.def(c,"$initialize",n=function(a,c){var e,g,k=arguments.length;g=k-1;0>g&&(g=0);g=Array(g);for(var h=1;h<k;h++)g[h-1]=arguments[h];this.backend=a;b(this.converters=g.$flatten().$compact(),"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=m);return d(a["$respond_to?"]("composed"))?a.$composed(b):m},e.$$s=this,e.$$arity=1,e));return this.converter_map=f([],{})},n.$$arity=-2);a.def(c,"$convert",p=
function(a,b,c){var e;null==b&&(b=m);null==c&&(c=f([],{}));b=d(e=b)?e:a.$node_name();return this.$converter_for(b).$convert(a,b,c)},p.$$arity=-2);a.alias(c,"convert_with_options","convert");a.def(c,"$converter_for",q=function(c){var e;e=m;d(e=this.converter_map["$[]"](c))?c=e:(e=[c,this.$find_converter(c)],b(this.converter_map,"[]=",a.to_a(e)),c=e,e=e.length,e="number"===typeof e?e-1:e["$-"](1),c=c[e]);return c},q.$$arity=1);return(a.def(c,"$find_converter",r=function(c){try{var e;b(this.converters,
"each",[],(e=function(b){null==b&&(b=m);if(d(b["$handles?"](c)))a.ret(b);else return m},e.$$s=this,e.$$arity=1,e));return this.$raise("Could not find a converter to handle transform: "+c)}catch(f){if(f===a.returner)return f.$v;throw f;}},r.$$arity=1),m)&&"find_converter"})(q(e,"Converter"),p(q(e,"Converter"),"Base"),e)}(c[0],c)};Opal.modules["asciidoctor/converter/html5"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&
"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var b=[],d=a.nil,f=a.const_get_qualified,n=a.const_get_relative,v=a.module,r=a.klass,e=a.send,h=a.hash2,u=a.truthy,x=a.range,y=a.gvars;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $generate_manname_section $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $key? $attributes $role $+ $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_quotes $join $append_link_constraint_attrs $pygments_background $to_sym $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $catalog $xreftext $target $map $chop $upcase $read_contents $sub $match $length".split(" "));
return function(b,t){function A(){}var D=[A=v(b,"Asciidoctor",A)].concat(t);(function(b,$super,v){function w(){}b=w=r(b,$super,"Html5Converter",w);var t=b.prototype,A=[b].concat(v),G,D,E,la,Z,N,V,L,K,W,S,ga,ja,aa,R,ua,ia,ea,fa,ca,Y,T,ma,da,ya,oa,ka,Ca,Ha,za,Fa,Ga,Ea,Ba,wa,Da,Aa,xa,Ja,La,Oa,Ma,Pa;v=d;t.xml_mode=t.void_element_slash=t.stylesheets=t.pygments_bg=t.refs=d;v=[["","",!1]];e(a.const_set(A[0],"QUOTE_TAGS",h("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(v));v[c(v.length,1)];a.const_set(A[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(A[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);a.const_set(A[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);
a.const_set(A[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(A[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/);a.def(b,"$initialize",G=function(a,b){null==b&&(b=h([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=u(this.xml_mode)?"/":d;return this.stylesheets=n(A,"Stylesheets").$instance()},G.$$arity=-2);a.def(b,"$document",D=function(b){var c,g,k,l,q,r=d,w=d,v=d,y=d,z=d,t=d,G=d,F=d,C=G=d,D=d,E=z=C=z=C=G=C=G=G=d,J=d,r=r=z=z=C=d,r=this.void_element_slash,
w="<br"+r+">";u((v=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":");y=""+v+"//cdnjs.cloudflare.com/ajax/libs";z=b["$attr?"]("linkcss");t=["<!DOCTYPE html>"];G=u(b["$attr?"]("nolang"))?"":' lang="'+b.$attr("lang","en")+'"';t["$<<"]("<html"+(u(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+G+">");t["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+r+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+r+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
r+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+r+">");if(u(b["$attr?"]("app-name")))t["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+r+">");if(u(b["$attr?"]("description")))t["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+r+">");if(u(b["$attr?"]("keywords")))t["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+r+">");if(u(b["$attr?"]("authors")))t["$<<"]('<meta name="author" content="'+(u((F=b.$attr("authors"))["$include?"]("<"))?
F.$gsub(n(A,"XmlSanitizeRx"),""):F)+'"'+r+">");if(u(b["$attr?"]("copyright")))t["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+r+">");u(b["$attr?"]("favicon"))&&(u((G=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],G=c[0],C=c[1],c):C=(D=f("::","File").$extname(G))["$=="](".ico")?"image/x-icon":"image/"+D["$[]"](x(1,-1,!1)),t["$<<"]('<link rel="icon" type="'+C+'" href="'+G+'"'+r+">"));t["$<<"]("<title>"+b.$doctitle(h(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(u(n(A,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(u(G=b.$attr("webfonts")))t["$<<"]('<link rel="stylesheet" href="'+v+"//fonts.googleapis.com/css?family="+(u(G["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":G)+'"'+r+">");if(u(z))t["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(n(A,"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+
r+">");else t["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(u(b["$attr?"]("stylesheet")))if(u(z))t["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+r+">");else t["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),h(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(u(b["$attr?"]("icons","font")))if(u(b["$attr?"]("iconfont-remote")))t["$<<"]('<link rel="stylesheet" href="'+
b.$attr("iconfont-cdn",""+y+"/font-awesome/"+n(A,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+r+">");else G=""+b.$attr("iconfont-name","font-awesome")+".css",t["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(G,b.$attr("stylesdir",""),!1)+'"'+r+">");C=G=b.$attr("source-highlighter");if("coderay"["$==="](C)){if(b.$attr("coderay-css","class")["$=="]("class"))if(u(z))t["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",
""),!1)+'"'+r+">");else t["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](C)&&b.$attr("pygments-css","class")["$=="]("class"))if(C=b.$attr("pygments-style"),u(z))t["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(C),b.$attr("stylesdir",""),!1)+'"'+r+">");else t["$<<"](this.stylesheets.$embed_pygments_stylesheet(C));if(!u((z=b.$docinfo())["$empty?"]()))t["$<<"](z);t["$<<"]("</head>");C=u(b.$id())?['id="'+b.$id()+
'"']:[];E=u(u(c=u(g=u(k=z=b["$sections?"]())?b["$attr?"]("toc-class"):k)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c)?[b.$doctype(),b.$attr("toc-class"),"toc-"+b.$attr("toc-position","header")]:[b.$doctype()];if(u(b["$attr?"]("docrole")))E["$<<"](b.$attr("docrole"));C["$<<"]('class="'+m(E," ")+'"');if(u(b["$attr?"]("max-width")))C["$<<"]('style="max-width: '+b.$attr("max-width")+';"');t["$<<"]("<body "+m(C," ")+">");if(!u(b.$noheader())){t["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){t["$<<"]("<h1>"+
b.$doctitle()+" Manual Page</h1>");if(u(u(c=u(g=z)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c))t["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");if(u(b["$attr?"]("manpurpose")))t["$<<"](this.$generate_manname_section(b))}else{if(u(b["$has_header?"]())){if(!u(b.$notitle()))t["$<<"]("<h1>"+b.$header().$title()+"</h1>");J=[];if(u(b["$attr?"]("author"))){J["$<<"]('<span id="author" class="author">'+
b.$attr("author")+"</span>"+w);if(u(b["$attr?"]("email")))J["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+w);u(p(C=b.$attr("authorcount").$to_i(),1))&&e(a.Range.$new(2,C,!1),"each",[],(l=function(a){null==a&&(a=d);J["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+w);return u(b["$attr?"]("email_"+a))?J["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+a))+"</span>"+w):d},l.$$s=this,l.$$arity=1,l))}if(u(b["$attr?"]("revnumber")))J["$<<"]('<span id="revnumber">'+
(u(c=b.$attr("version-label"))?c:"").$downcase()+" "+b.$attr("revnumber")+(u(b["$attr?"]("revdate"))?",":"")+"</span>");if(u(b["$attr?"]("revdate")))J["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(u(b["$attr?"]("revremark")))J["$<<"](""+w+'<span id="revremark">'+b.$attr("revremark")+"</span>");u(J["$empty?"]())||(t["$<<"]('<div class="details">'),t.$concat(J),t["$<<"]("</div>"))}if(u(u(c=u(g=z)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c))t["$<<"]('<div id="toc" class="'+
b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}t["$<<"]("</div>")}t["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");u(u(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(t["$<<"]('<div id="footnotes">\n<hr'+r+">"),e(b.$footnotes(),"each",[],(q=function(a){null==a&&(a=d);return t["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+
"\n</div>")},q.$$s=this,q.$$arity=1,q)),t["$<<"]("</div>"));if(!u(b.$nofooter())){t["$<<"]('<div id="footer">');t["$<<"]('<div id="footer-text">');if(u(b["$attr?"]("revnumber")))t["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+w);if(u(u(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))t["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));t["$<<"]("</div>");t["$<<"]("</div>")}if(!u((z=b.$docinfo("footer"))["$empty?"]()))t["$<<"](z);C=G;"highlightjs"["$==="](C)||
"highlight.js"["$==="](C)?(z=b.$attr("highlightjsdir",""+y+"/highlight.js/9.12.0"),t["$<<"]('<link rel="stylesheet" href="'+z+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+r+">"),t["$<<"]('<script src="'+z+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](C)&&(z=b.$attr("prettifydir",""+y+"/prettify/r298"),t["$<<"]('<link rel="stylesheet" href="'+z+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+r+">"),t["$<<"]('<script src="'+
z+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));u(b["$attr?"]("stem"))&&(r=b.$attr("eqnums","none"),u(r["$empty?"]())&&(r="AMS"),r=' equationNumbers: { autoNumber: "'+r+'" } ',t["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+n(A,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+n(A,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+
n(A,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+r+'}\n});\n\x3c/script>\n<script src="'+y+"/mathjax/"+n(A,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));t["$<<"]("</body>");t["$<<"]("</html>");return m(t,n(A,"LF"))},D.$$arity=1);a.def(b,"$embedded",E=function(a){var b,c,f,g,k=d,h=d,l=d,k=[];if(a.$doctype()["$=="]("manpage")){if(u(a.$notitle())||(h=u(a.$id())?' id="'+a.$id()+'"':"",k["$<<"]("<h1"+
h+">"+a.$doctitle()+" Manual Page</h1>")),u(a["$attr?"]("manpurpose")))k["$<<"](this.$generate_manname_section(a))}else u(u(b=a["$has_header?"]())?a.$notitle()["$!"]():b)&&(h=u(a.$id())?' id="'+a.$id()+'"':"",k["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>"));if(u(u(b=u(c=u(f=a["$sections?"]())?a["$attr?"]("toc"):f)?(l=a.$attr("toc-placement"))["$!="]("macro"):c)?l["$!="]("preamble"):b))k["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");
k["$<<"](a.$content());u(u(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(k["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),e(a.$footnotes(),"each",[],(g=function(a){null==a&&(a=d);return k["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),k["$<<"]("</div>"));return m(k,n(A,"LF"))},E.$$arity=1);a.def(b,"$outline",la=function(a,b){var c,f,g=d,
k=d,p=d,r=d;null==b&&(b=h([],{}));if(!u(a["$sections?"]()))return d;g=u(c=b["$[]"]("sectnumlevels"))?c:a.$document().$attr("sectnumlevels",3).$to_i();k=u(c=b["$[]"]("toclevels"))?c:a.$document().$attr("toclevels",2).$to_i();p=a.$sections();r=['<ul class="sectlevel'+p["$[]"](0).$level()+'">'];e(p,"each",[],(f=function(a){var b=f.$$s||this,c,e=d,m=d,p=d;null==a&&(a=d);e=a.$level();m=u(a.$caption())?a.$captioned_title():u(u(c=a.$numbered())?q(e,g):c)?""+a.$sectnum()+" "+a.$title():a.$title();u(m["$include?"]("<a"))&&
(m=m.$gsub(n(A,"DropAnchorRx"),""));return u(u(c=l(e,k))?p=b.$outline(a,h(["toclevels","secnumlevels"],{toclevels:k,secnumlevels:g})):c)?(r["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a>"),r["$<<"](p),r["$<<"]("</li>")):r["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a></li>")},f.$$s=this,f.$$arity=1,f));r["$<<"]("</ul>");return m(r,n(A,"LF"))},la.$$arity=-2);a.def(b,"$section",Z=function(a){var b,c,e=d,f=d,k=d,h=d,l=d,m=d,n=d;(e=a.$level())["$=="](0)?(f=!0,k=u(u(b=a.$numbered())?q(e,a.$document().$attr("sectnumlevels",
3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$title()):k=u(u(b=u(c=a.$numbered())?a.$caption()["$!"]():c)?q(e,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$captioned_title();u(a.$id())?(h=' id="'+(l=a.$id())+'"',u((m=a.$document().$attributes())["$key?"]("sectlinks"))&&(k='<a class="link" href="#'+l+'">'+k+"</a>"),u(m["$key?"]("sectanchors"))&&(k=m["$[]"]("sectanchors")["$=="]("after")?""+k+'<a class="anchor" href="#'+l+'"></a>':'<a class="anchor" href="#'+
l+'"></a>'+k)):h="";return u(f)?"<h1"+h+' class="sect0'+(u(n=a.$role())?" "+n:"")+'">'+k+"</h1>\n"+a.$content():'<div class="sect'+e+(u(n=a.$role())?" "+n:"")+'">\n<h'+g(e,1)+h+">"+k+"</h"+g(e,1)+">\n"+(e["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},Z.$$arity=1);a.def(b,"$admonition",N=function(a){var b,c=d,e=d,f=d,g=d,k=d,c=u(a.$id())?' id="'+a.$id()+'"':"",e=a.$attr("name"),f=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",g=u(a.$document()["$attr?"]("icons"))?
u(u(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+e+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(e)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+c+' class="admonitionblock '+e+(u(k=a.$role())?" "+k:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},N.$$arity=1);a.def(b,
"$audio",V=function(a){var b,c=d,e=d,f=d,g=f=d,k=d,h=d,k=d,c=this.xml_mode,e=u(a.$id())?' id="'+a.$id()+'"':"",f=["audioblock",a.$role()].$compact(),f=' class="'+m(f," ")+'"',g=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",k=a.$attr("start",d,!1),h=a.$attr("end",d,!1),k=u(u(b=k)?b:h)?"#t="+(u(b=k)?b:"")+(u(h)?","+h:""):"";return"<div"+e+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+k+'"'+(u(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",
c):"")+(u(a["$option?"]("nocontrols"))?"":this.$append_boolean_attribute("controls",c))+(u(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},V.$$arity=1);a.def(b,"$colist",L=function(a){var b,c,f=d,k=d,h=d,l=h=d,p=d,f=[],k=u(a.$id())?' id="'+a.$id()+'"':"",h=["colist",a.$style(),a.$role()].$compact(),h=' class="'+m(h," ")+'"';f["$<<"]("<div"+k+h+">");if(u(a["$title?"]()))f["$<<"]('<div class="title">'+a.$title()+
"</div>");u(a.$document()["$attr?"]("icons"))?(f["$<<"]("<table>"),b=[a.$document()["$attr?"]("icons","font"),0],l=b[0],p=b[1],b,e(a.$items(),"each",[],(c=function(b){var e=c.$$s||this,k=d;null==e.void_element_slash&&(e.void_element_slash=d);null==b&&(b=d);p=g(p,1);k=u(l)?'<i class="conum" data-value="'+p+'"></i><b>'+p+"</b>":'<img src="'+a.$icon_uri("callouts/"+p)+'" alt="'+p+'"'+e.void_element_slash+">";return f["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+b.$text()+(u(b["$blocks?"]())?g(n(A,"LF"),b.$content()):
"")+"</td>\n</tr>")},c.$$s=this,c.$$arity=1,c)),f["$<<"]("</table>")):(f["$<<"]("<ol>"),e(a.$items(),"each",[],(b=function(a){null==a&&(a=d);return f["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(u(a["$blocks?"]())?g(n(A,"LF"),a.$content()):"")+"\n</li>")},b.$$s=this,b.$$arity=1,b)),f["$<<"]("</ol>"));f["$<<"]("</div>");return m(f,n(A,"LF"))},L.$$arity=1);a.def(b,"$dlist",K=function(b){var c,f,g,k,h=d,l=d,p=d,q=p=p=d,r=l=d,h=[],l=u(b.$id())?' id="'+b.$id()+'"':"",p=b.$style(),p=("qanda"["$==="](p)?["qlist",
"qanda",b.$role()]:"horizontal"["$==="](p)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),p=' class="'+m(p," ")+'"';h["$<<"]("<div"+l+p+">");if(u(b["$title?"]()))h["$<<"]('<div class="title">'+b.$title()+"</div>");p=b.$style();"qanda"["$==="](p)?(h["$<<"]("<ol>"),e(b.$items(),"each",[],(c=function(b,f){var g=c.$$s||this,k;null==b&&(b=d);null==f&&(f=d);h["$<<"]("<li>");e([].concat(a.to_a(b)),"each",[],(k=function(a){null==a&&(a=d);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},
k.$$s=g,k.$$arity=1,k));if(u(f)){if(u(f["$text?"]()))h["$<<"]("<p>"+f.$text()+"</p>");if(u(f["$blocks?"]()))h["$<<"](f.$content())}return h["$<<"]("</li>")},c.$$s=this,c.$$arity=2,c)),h["$<<"]("</ol>")):"horizontal"["$==="](p)?(q=this.void_element_slash,h["$<<"]("<table>"),u(u(f=b["$attr?"]("labelwidth"))?f:b["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),l=u(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+l+q+">"),l=u(b["$attr?"]("itemwidth"))?
' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+l+q+">"),h["$<<"]("</colgroup>")),e(b.$items(),"each",[],(g=function(c,f){var k=g.$$s||this,l,m=d,n=d;null==c&&(c=d);null==f&&(f=d);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(u(b["$option?"]("strong"))?" strong":"")+'">');m=[].concat(a.to_a(c));n=m["$[]"](-1);e(m,"each",[],(l=function(a){null==a&&(a=d);h["$<<"](a.$text());return u(a["$!="](n))?h["$<<"]("<br"+q+">"):d},l.$$s=k,l.$$arity=1,l));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');
if(u(f)){if(u(f["$text?"]()))h["$<<"]("<p>"+f.$text()+"</p>");if(u(f["$blocks?"]()))h["$<<"](f.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),r=u(b.$style())?"":' class="hdlist1"',e(b.$items(),"each",[],(k=function(b,c){var f=k.$$s||this,g;null==b&&(b=d);null==c&&(c=d);e([].concat(a.to_a(b)),"each",[],(g=function(a){null==a&&(a=d);return h["$<<"]("<dt"+r+">"+a.$text()+"</dt>")},g.$$s=f,g.$$arity=1,g));if(u(c)){h["$<<"]("<dd>");
if(u(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(u(c["$blocks?"]()))h["$<<"](c.$content());return h["$<<"]("</dd>")}return d},k.$$s=this,k.$$arity=2,k)),h["$<<"]("</dl>"));h["$<<"]("</div>");return m(h,n(A,"LF"))},K.$$arity=1);a.def(b,"$example",W=function(a){var b=d,c=d,e=d,b=u(a.$id())?' id="'+a.$id()+'"':"",c=u(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+b+' class="exampleblock'+(u(e=a.$role())?" "+e:"")+'">\n'+c+'<div class="content">\n'+a.$content()+
"\n</div>\n</div>"},W.$$arity=1);a.def(b,"$floating_title",S=function(a){var b=d,c=d,e=d,b="h"+g(a.$level(),1),c=u(a.$id())?' id="'+a.$id()+'"':"",e=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+m(e," ")+'">'+a.$title()+"</"+b+">"},S.$$arity=1);a.def(b,"$image",ga=function(a){var b,c,e,g=d,k=d,h=d,p=d,q=d,r=d,w=d,w=h=h=k=k=g=d,g=a.$attr("target"),k=u(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",h=u(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";u(u(b=u(c=u(e=
a["$attr?"]("format","svg",!1))?e:g["$include?"](".svg"))?l(a.$document().$safe(),f(n(A,"SafeMode"),"SECURE")):c)?u(c=p=a["$option?"]("inline"))?c:q=a["$option?"]("interactive"):b)&&(u(p)?r=u(b=this.$read_svg_contents(a,g))?b:'<span class="alt">'+a.$alt()+"</span>":u(q)&&(w=u(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+k+h+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",r='<object type="image/svg+xml" data="'+
a.$image_uri(g)+'"'+k+h+">"+w+"</object>"));r=u(b=r)?b:'<img src="'+a.$image_uri(g)+'" alt="'+this.$encode_quotes(a.$alt())+'"'+k+h+this.void_element_slash+">";u(a["$attr?"]("link",d,!1))&&(r='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+r+"</a>");g=u(a.$id())?' id="'+a.$id()+'"':"";k=["imageblock",a.$role()].$compact();k=' class="'+m(k," ")+'"';h=[];if(u(a["$attr?"]("align")))h["$<<"]("text-align: "+a.$attr("align"));if(u(a["$attr?"]("float")))h["$<<"]("float: "+
a.$attr("float"));h=u(h["$empty?"]())?"":' style="'+m(h,";")+'"';w=u(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+g+k+h+'>\n<div class="content">\n'+r+"\n</div>"+w+"\n</div>"},ga.$$arity=1);a.def(b,"$listing",ja=function(a){var b,c=d,e=d,f=d,g=d,k=g=c=f=c=d,h=d,c=u(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(f=u(e=a.$attr("language",d,!1))?' data-lang="'+e+'"':"",g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?c=' class="CodeRay highlight'+(u(c)?" nowrap":"")+'"':"pygments"["$==="](g)?u(a.$document()["$attr?"]("pygments-css","inline"))?(u((b=this.pygments_bg,null!=b&&b!==d)?"instance-variable":d)||(this.pygments_bg=this.stylesheets.$pygments_background(a.$document().$attr("pygments-style"))),c=' class="pygments highlight'+(u(c)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):c=' class="pygments highlight'+(u(c)?" nowrap":"")+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?
(c=' class="highlightjs highlight'+(u(c)?" nowrap":"")+'"',u(e)&&(f=' class="language-'+e+' hljs"'+f)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(u(c)?" nowrap":"")+(u(a["$attr?"]("linenums",d,!1))?" linenums":"")+'"',u(e)&&(f=' class="language-'+e+'"'+f)):"html-pipeline"["$==="](g)?(c=u(e)?' lang="'+e+'"':"",f=""):(c=' class="highlight'+(u(c)?" nowrap":"")+'"',u(e)&&(f=' class="language-'+e+'"'+f)),f="<pre"+c+"><code"+f+">",c="</code></pre>"):(f="<pre"+(u(c)?' class="nowrap"':"")+
">",c="</pre>");g=u(a.$id())?' id="'+a.$id()+'"':"";k=u(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+g+' class="listingblock'+(u(h=a.$role())?" "+h:"")+'">\n'+k+'<div class="content">\n'+f+a.$content()+c+"\n</div>\n</div>"},ja.$$arity=1);a.def(b,"$literal",aa=function(a){var b,c=d,e=d,f=d,g=d,c=u(a.$id())?' id="'+a.$id()+'"':"",e=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",f=u(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+c+' class="literalblock'+(u(g=a.$role())?" "+g:"")+'">\n'+e+'<div class="content">\n<pre'+(u(f)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},aa.$$arity=1);a.def(b,"$stem",R=function(b){var c,f,g,k=d,h=d,l=d,p=d,q=d,r=f=d,w=d,k=u(b.$id())?' id="'+b.$id()+'"':"",h=u(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":"";f=n(A,"BLOCK_MATH_DELIMITERS")["$[]"](l=b.$style().$to_sym());c=a.to_ary(f);p=null==c[0]?d:c[0];q=null==c[1]?d:c[1];f;f=b.$content();u((c=l["$=="]("asciimath"))?
f["$include?"](n(A,"LF")):l["$=="]("asciimath"))&&(r="<br"+this.void_element_slash+">"+n(A,"LF"),f=e(f,"gsub",[n(A,"StemBreakRx")],(g=function(){var a;return""+q+m(r,((a=y["~"])===d?d:a["$[]"](0)).$count(n(A,"LF")))+p},g.$$s=this,g.$$arity=0,g)));u(u(c=f["$start_with?"](p))?f["$end_with?"](q):c)||(f=""+p+f+q);return"<div"+k+' class="stemblock'+(u(w=b.$role())?" "+w:"")+'">\n'+h+'<div class="content">\n'+f+"\n</div>\n</div>"},R.$$arity=1);a.def(b,"$olist",ua=function(a){var b,c=d,f=d,g=d,k=f=g=d,h=
g=d,c=[],f=u(a.$id())?' id="'+a.$id()+'"':"",g=["olist",a.$style(),a.$role()].$compact(),g=' class="'+m(g," ")+'"';c["$<<"]("<div"+f+g+">");if(u(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");f=u(k=a.$list_marker_keyword())?' type="'+k+'"':"";g=u(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";h=u(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"";c["$<<"]('<ol class="'+a.$style()+'"'+f+g+h+">");e(a.$items(),"each",[],(b=function(a){null==
a&&(a=d);c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(u(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");return m(c,n(A,"LF"))},ua.$$arity=1);a.def(b,"$open",ia=function(a){var b,c,e,f=d,g=d,k=d,h=d;if((f=a.$style())["$=="]("abstract")){if(u(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),
"";g=u(a.$id())?' id="'+a.$id()+'"':"";k=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+g+' class="quoteblock abstract'+(u(h=a.$role())?" "+h:"")+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(u((b=f["$=="]("partintro"))?u(c=u(e=p(a.$level(),0))?e:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),
"";g=u(a.$id())?' id="'+a.$id()+'"':"";k=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+g+' class="openblock'+(u(u(b=f)?f["$!="]("open"):b)?" "+f:"")+(u(h=a.$role())?" "+h:"")+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},ia.$$arity=1);a.def(b,"$page_break",ea=function(a){return'<div style="page-break-after: always;"></div>'},ea.$$arity=1);a.def(b,"$paragraph",fa=function(a){var b=d,b=d,b=u(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
b=u(a.$id())?'id="'+a.$id()+'" '+b:b;return u(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},fa.$$arity=1);a.def(b,"$preamble",ca=function(a){var b,c,e=d,f=d,f=u(u(b=u(c=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():c)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},ca.$$arity=1);a.def(b,"$quote",Y=function(a){var b,c=d,e=d,f=e=d,g=d,k=d,h=d,h=g=d,c=u(a.$id())?' id="'+a.$id()+'"':"",e=["quoteblock",a.$role()].$compact(),e=' class="'+m(e," ")+'"',f=u(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",g=u(a["$attr?"]("attribution"))?a.$attr("attribution"):d,k=u(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;u(u(b=g)?b:k)?(h=u(k)?"<cite>"+k+
"</cite>":"",g=u(g)?"&#8212; "+g+(u(k)?"<br"+this.void_element_slash+">\n":""):"",h='\n<div class="attribution">\n'+g+h+"\n</div>"):h="";return"<div"+c+e+">"+f+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+h+"\n</div>"},Y.$$arity=1);a.def(b,"$thematic_break",T=function(a){return"<hr"+this.void_element_slash+">"},T.$$arity=1);a.def(b,"$sidebar",ma=function(a){var b=d,c=d,e=d,b=u(a.$id())?' id="'+a.$id()+'"':"",c=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+b+' class="sidebarblock'+
(u(e=a.$role())?" "+e:"")+'">\n<div class="content">\n'+c+a.$content()+"\n</div>\n</div>"},ma.$$arity=1);a.def(b,"$table",da=function(a){var b,c,f,k=d,h=d,l=d,q=d,r=d,w=q=d,v=r=l=w=d,k=[],h=u(a.$id())?' id="'+a.$id()+'"':"",l=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")];if(u(q=a.$attr("stripes")))l["$<<"]("stripes-"+q);r=[];if(u(u(b=q=a.$attributes()["$[]"]("autowidth-option"))?a["$attr?"]("width",d,!1)["$!"]():b))l["$<<"]("fit-content");else if((w=a.$attr("tablepcwidth"))["$=="](100))l["$<<"]("stretch");
else r["$<<"]("width: "+w+"%;");if(u(w=a.$role()))l["$<<"](w);l=' class="'+m(l," ")+'"';if(u(a["$attr?"]("float")))r["$<<"]("float: "+a.$attr("float")+";");r=u(r["$empty?"]())?"":' style="'+m(r," ")+'"';k["$<<"]("<table"+h+l+r+">");if(u(a["$title?"]()))k["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");u(p(a.$attr("rowcount"),0))&&(v=this.void_element_slash,k["$<<"]("<colgroup>"),u(q)?k=g(k,n(A,"Array").$new(a.$columns().$size(),"<col"+v+">")):e(a.$columns(),"each",[],(c=function(a){null==
a&&(a=d);return k["$<<"](u(a.$attributes()["$[]"]("autowidth-option"))?"<col"+v+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+v+">")},c.$$s=this,c.$$arity=1,c)),k["$<<"]("</colgroup>"),e(a.$rows().$by_section(),"each",[],(f=function(b,c){var g=f.$$s||this,h;null==b&&(b=d);null==c&&(c=d);if(u(c["$empty?"]()))return d;k["$<<"]("<t"+b+">");e(c,"each",[],(h=function(c){var f=h.$$s||this,g;null==c&&(c=d);k["$<<"]("<tr>");e(c,"each",[],(g=function(c){var e,f=d,g=d,h=g=d,l=d,n=d,p=d;null==c&&(c=
d);b["$=="]("head")?f=c.$text():(g=c.$style(),f="asciidoc"["$==="](g)?'<div class="content">'+c.$content()+"</div>":"verse"["$==="](g)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](g)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":u((f=c.$content())["$empty?"]())?"":'<p class="tableblock">'+m(f,'</p>\n<p class="tableblock">')+"</p>");g=u(u(e=b["$=="]("head"))?e:c.$style()["$=="]("header"))?"th":"td";h=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+
'"';l=u(c.$colspan())?' colspan="'+c.$colspan()+'"':"";n=u(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':"";p=u(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return k["$<<"]("<"+g+h+l+n+p+">"+f+"</"+g+">")},g.$$s=f,g.$$arity=1,g));return k["$<<"]("</tr>")},h.$$s=g,h.$$arity=1,h));return k["$<<"]("</t"+b+">")},f.$$s=this,f.$$arity=2,f)));k["$<<"]("</table>");return m(k,n(A,"LF"))},da.$$arity=1);a.def(b,"$toc",ya=function(a){var b,c,e=
d,f=d,g=d,k=d,l=d,m=d;if(!u(u(b=u(c=(e=a.$document())["$attr?"]("toc-placement","macro"))?e["$sections?"]():c)?e["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";u(a.$id())?(f=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'):(f=' id="toc"',g=' id="toctitle"');k=u(a["$title?"]())?a.$title():e.$attr("toc-title");l=u(a["$attr?"]("levels"))?a.$attr("levels").$to_i():d;m=u(a["$role?"]())?a.$role():e.$attr("toc-class","toc");return"<div"+f+' class="'+m+'">\n<div'+g+' class="title">'+k+"</div>\n"+
this.$outline(e,h(["toclevels"],{toclevels:l}))+"\n</div>"},ya.$$arity=1);a.def(b,"$ulist",oa=function(a){var b,c=d,f=d,g=d,k=d,h=d,l=d,p=d,c=[],f=u(a.$id())?' id="'+a.$id()+'"':"",g=["ulist",a.$style(),a.$role()].$compact(),k=h="";u(l=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),p=' class="checklist"',u(a["$option?"]("interactive"))?u(this.xml_mode)?(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',h='<input type="checkbox" data-item-complete="0"/> '):(k=
'<input type="checkbox" data-item-complete="1" checked> ',h='<input type="checkbox" data-item-complete="0"> '):u(a.$document()["$attr?"]("icons","font"))?(k='<i class="fa fa-check-square-o"></i> ',h='<i class="fa fa-square-o"></i> '):(k="&#10003; ",h="&#10063; ")):p=u(a.$style())?' class="'+a.$style()+'"':"";c["$<<"]("<div"+f+' class="'+m(g," ")+'">');if(u(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+p+">");e(a.$items(),"each",[],(b=function(a){var b;null==a&&
(a=d);c["$<<"]("<li>");if(u(u(b=l)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(u(a["$attr?"]("checked"))?k:h)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(u(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");c["$<<"]("</div>");return m(c,n(A,"LF"))},oa.$$arity=1);a.def(b,"$verse",ka=function(a){var b,c=d,e=d,f=e=d,g=d,k=d,h=d,h=g=d,c=u(a.$id())?' id="'+a.$id()+'"':"",e=["verseblock",a.$role()].$compact(),e=' class="'+m(e," ")+
'"',f=u(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",g=u(a["$attr?"]("attribution"))?a.$attr("attribution"):d,k=u(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;u(u(b=g)?b:k)?(h=u(k)?"<cite>"+k+"</cite>":"",g=u(g)?"&#8212; "+g+(u(k)?"<br"+this.void_element_slash+">\n":""):"",h='\n<div class="attribution">\n'+g+h+"\n</div>"):h="";return"<div"+c+e+">"+f+'\n<pre class="content">'+a.$content()+"</pre>"+h+"\n</div>"},ka.$$arity=1);a.def(b,"$video",Ca=function(b){var c,e,f=this,g=d,
k=d,h=d,l=d,n=d,p=d,q=d,r=d,w=d,v=d,x=d,y=d,t=d,z=d,A=d,G=d,F=d,C=d,D=d,E=d,J=d,R=d,K=d,N=d,L=d,V=d,M=d,aa=d,Q=d,Z=d,U=d,ba=d,ja=d,g=f.xml_mode,k=u(b.$id())?' id="'+b.$id()+'"':"",h=["videoblock",b.$role()].$compact(),l=' class="'+m(h," ")+'"',n=u(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"",p=u(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"",q=u(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){r=b.$attr("poster");if("vimeo"["$==="](r))return u((w=
b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),v=u(b["$attr?"]("start",d,!1))?"#at="+b.$attr("start"):"",x="?",u(b["$option?"]("autoplay"))?(y=""+x+"autoplay=1",x="&amp;"):y="",t=u(b["$option?"]("loop"))?""+x+"loop=1":"","<div"+k+l+">"+n+'\n<div class="content">\n<iframe'+p+q+' src="'+w+"//player.vimeo.com/video/"+b.$attr("target")+v+y+t+'" frameborder="0"'+(u(b["$option?"]("nofullscreen"))?"":f.$append_boolean_attribute("allowfullscreen",g))+"></iframe>\n</div>\n</div>";
if("youtube"["$==="](r))return u((w=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),z=u(b["$option?"]("related"))?1:0,A=u(b["$attr?"]("start",d,!1))?"&amp;start="+b.$attr("start"):"",G=u(b["$attr?"]("end",d,!1))?"&amp;end="+b.$attr("end"):"",y=u(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",t=u(F=b["$option?"]("loop"))?"&amp;loop=1":"",C=u(b["$option?"]("nocontrols"))?"&amp;controls=0":"",u(b["$option?"]("nofullscreen"))?(D="&amp;fs=0",E=""):(D="",E=f.$append_boolean_attribute("allowfullscreen",
g)),J=u(b["$option?"]("modest"))?"&amp;modestbranding=1":"",R=u(b["$attr?"]("theme",d,!1))?"&amp;theme="+b.$attr("theme"):"",K=u(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",e=b.$attr("target").$split("/",2),c=a.to_ary(e),N=null==c[0]?d:c[0],L=null==c[1]?d:c[1],e,u(L=u(c=L)?c:b.$attr("list",d,!1))?V="&amp;list="+L:(e=N.$split(",",2),c=a.to_ary(e),N=null==c[0]?d:c[0],M=null==c[1]?d:c[1],e,V=u(M=u(c=M)?c:b.$attr("playlist",d,!1))?"&amp;playlist="+M:u(F)?"&amp;playlist="+N:""),"<div"+k+l+">"+n+
'\n<div class="content">\n<iframe'+p+q+' src="'+w+"//www.youtube.com/embed/"+N+"?rel="+z+A+G+y+t+C+V+D+J+R+K+'" frameborder="0"'+E+"></iframe>\n</div>\n</div>";aa=u((Q=b.$attr("poster",d,!1))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(Q)+'"';Z=u((Q=b.$attr("preload",d,!1))["$nil_or_empty?"]())?"":' preload="'+Q+'"';U=b.$attr("start",d,!1);ba=b.$attr("end",d,!1);ja=u(u(c=U)?c:ba)?"#t="+(u(c=U)?c:"")+(u(ba)?","+ba:""):"";return"<div"+k+l+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+
ja+'"'+p+q+aa+(u(b["$option?"]("autoplay"))?f.$append_boolean_attribute("autoplay",g):"")+(u(b["$option?"]("nocontrols"))?"":f.$append_boolean_attribute("controls",g))+(u(b["$option?"]("loop"))?f.$append_boolean_attribute("loop",g):"")+Z+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},Ca.$$arity=1);a.def(b,"$inline_anchor",Ha=function(a){var b,c=this,e=d,f=d,g=d,k=d,h=d,l=d;return function(){e=a.$type();if("xref"["$==="](e))return u(f=a.$attributes()["$[]"]("path"))?
(g=c.$append_link_constraint_attrs(a,u(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),k=u(b=a.$text())?b:f):(g=u(a.$role())?' class="'+a.$role()+'"':"",u(k=a.$text())||(h=a.$attributes()["$[]"]("refid"),k=u(n(A,"AbstractNode")["$==="](l=(c.refs=u(b=c.refs)?b:a.$document().$catalog()["$[]"]("refs"))["$[]"](h)))?u(b=l.$xreftext(a.$attr("xrefstyle")))?b:"["+h+"]":"["+h+"]")),'<a href="'+a.$target()+'"'+g+">"+k+"</a>";if("ref"["$==="](e))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](e)){g=u(a.$id())?
[' id="'+a.$id()+'"']:[];if(u(a.$role()))g["$<<"](' class="'+a.$role()+'"');if(u(a["$attr?"]("title",d,!1)))g["$<<"](' title="'+a.$attr("title")+'"');return'<a href="'+a.$target()+'"'+c.$append_link_constraint_attrs(a,g).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](e))return'<a id="'+a.$id()+'"></a>'+a.$text();c.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return d}()},Ha.$$arity=1);a.def(b,"$inline_break",za=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},za.$$arity=
1);a.def(b,"$inline_button",Fa=function(a){return'<b class="button">'+a.$text()+"</b>"},Fa.$$arity=1);a.def(b,"$inline_callout",Ga=function(a){var b=d;return u(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":u(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Ga.$$arity=1);a.def(b,"$inline_footnote",Ea=function(a){var b=
d,c=d;if(u(b=a.$attr("index",d,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=u(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":
d},Ea.$$arity=1);a.def(b,"$inline_image",Ba=function(a){var b,c,g,k,m,p,q=d,r=d,w=d,v=w=d,x=d,y=d,t=d,z=d,B=d,q=d;u((b=(q=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(q=a.$type())["$=="]("icon"))?(r="fa fa-"+a.$target(),e(h(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(c=function(b,c){null==b&&(b=d);null==c&&(c=d);return u(a["$attr?"](b))?r=""+r+" "+c+a.$attr(b):d},c.$$s=this,c.$$arity=2,c)),w=u(a["$attr?"]("title"))?' title="'+a.$attr("title")+
'"':"",w='<i class="'+r+'"'+w+"></i>"):u((b=q["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():q["$=="]("icon"))?w="["+a.$alt()+"]":(v=a.$target(),x=e(["width","height","title"],"map",[],(g=function(b){null==b&&(b=d);return u(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},g.$$s=this,g.$$arity=1,g)).$join(),u(u(b=u(k=u(m=q["$!="]("icon"))?u(p=a["$attr?"]("format","svg",!1))?p:v["$include?"](".svg"):m)?l(a.$document().$safe(),f(n(A,"SafeMode"),"SECURE")):k)?u(k=y=a["$option?"]("inline"))?k:t=
a["$option?"]("interactive"):b)&&(u(y)?w=u(b=this.$read_svg_contents(a,v))?b:'<span class="alt">'+a.$alt()+"</span>":u(t)&&(z=u(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+x+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",w='<object type="image/svg+xml" data="'+a.$image_uri(v)+'"'+x+">"+z+"</object>")),w=u(b=w)?b:'<img src="'+(q["$=="]("icon")?a.$icon_uri(v):a.$image_uri(v))+'" alt="'+this.$encode_quotes(a.$alt())+
'"'+x+this.void_element_slash+">");u(a["$attr?"]("link",d,!1))&&(w='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+w+"</a>");r=u(B=a.$role())?""+q+" "+B:q;q=u(a["$attr?"]("float"))?' style="float: '+a.$attr("float")+'"':"";return'<span class="'+r+'"'+q+">"+w+"</span>"},Ba.$$arity=1);a.def(b,"$inline_indexterm",wa=function(a){return a.$type()["$=="]("visible")?a.$text():""},wa.$$arity=1);a.def(b,"$inline_kbd",Da=function(a){var b=d;return(b=a.$attr("keys")).$size()["$=="](1)?
"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+m(b,"</kbd>+<kbd>")+"</kbd></span>"},Da.$$arity=1);a.def(b,"$inline_menu",Aa=function(a){var b=d,c=d,e=d,f=d,g=d,b=u(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',e=a.$attr("menu");return u((f=a.$attr("submenus"))["$empty?"]())?u(g=a.$attr("menuitem",d,!1))?'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="menuitem">'+
g+"</b></span>":'<b class="menuref">'+e+"</b>":'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="submenu">'+m(f,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Aa.$$arity=1);a.def(b,"$inline_quoted",xa=function(b){var c,e,f=d,g=d,k=d,h=d,l=d;e=n(A,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);f=null==c[0]?d:c[0];g=null==c[1]?d:c[1];k=null==c[2]?d:c[2];e;u(b.$role())&&(h=' class="'+b.$role()+'"');u(b.$id())&&(l=' id="'+b.$id()+'"');return u(u(c=h)?c:l)?u(k)?""+f.$chop()+
(u(c=l)?c:"")+(u(c=h)?c:"")+">"+b.$text()+g:"<span"+(u(c=l)?c:"")+(u(c=h)?c:"")+">"+f+b.$text()+g+"</span>":""+f+b.$text()+g},xa.$$arity=1);a.def(b,"$append_boolean_attribute",Ja=function(a,b){return u(b)?" "+a+'="'+a+'"':" "+a},Ja.$$arity=2);a.def(b,"$encode_quotes",La=function(a){return u(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},La.$$arity=1);a.def(b,"$generate_manname_section",Oa=function(a){var b,c=d,e=d,f=d,g=d,k=d,c=u(b=a.$attr("manname-title"))?b:"Name";u(u(b=e=a.$sections()["$[]"](0))?
(f=e.$title())["$=="](f.$upcase()):b)&&(c=c.$upcase());g=u(k=a.$attr("manname-id"))?' id="'+k+'"':"";return"<h2"+g+">"+c+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Oa.$$arity=1);a.def(b,"$append_link_constraint_attrs",Ma=function(a,b){var c,e=d,f=d;null==b&&(b=[]);u(a["$option?"]("nofollow"))&&(e="nofollow");if(u(f=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+f+'"'),u(u(c=f["$=="]("_blank"))?c:a["$option?"]("noopener")))b["$<<"](u(e)?
' rel="'+e+' noopener"':' rel="noopener"')}else if(u(e))b["$<<"](' rel="'+e+'"');return b},Ma.$$arity=-2);return(a.def(b,"$read_svg_contents",Pa=function(b,c){var f,g=d,k=d,l=d;u(g=b.$read_contents(c,h(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(u(g["$start_with?"]("<svg"))||(g=g.$sub(n(A,"SvgPreambleRx"),"")),k=l=d,e(["width","height"],"each",[],(f=function(a){null==a&&(a=d);return u(b["$attr?"](a))?(u(l)||(l=(k=g.$match(n(A,"SvgStartTagRx"))["$[]"](0)).$gsub(n(A,
"DimensionAttributeRx"),"")),l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'px">'):d},f.$$s=this,f.$$arity=1,f)),u(l)&&(g=""+l+g["$[]"](a.Range.$new(k.$length(),-1,!1))));return g},Pa.$$arity=2),d)&&"read_svg_contents"})(n(D,"Converter"),f(n(D,"Converter"),"BuiltIn"),D)}(b[0],b)};Opal.modules["asciidoctor/extensions"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var l=a.top,g=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,n=a.truthy,v=a.module,r=a.klass,e=a.hash2,h=a.send,u=a.hash;a.add_stubs("$require $to_s $[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $== $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $split $to_i $compact $inspect $attr_accessor $to_set $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $reduce $const_defined?".split(" "));
n(f(g,"Asciidoctor","skip_raise")?"constant":b)||l.$require("asciidoctor".$to_s());return function(g,l){function x(){}var y=[x=v(g,"Asciidoctor",x)].concat(l);(function(g,l){function x(){}var y=x=v(g,"Extensions",x),t=[y].concat(l);(function(g,$super,l){function q(){}g=q=r(g,$super,"Processor",q);var u=g.prototype,v=[g].concat(l),t,x,y,z,A,G,D,E,J;u.config=b;(function(d,f){var g=[d].concat(f),l,m,p;a.def(d,"$config",l=function(){var a;null==this.config&&(this.config=b);return this.config=n(a=this.config)?
a:e([],{})},l.$$arity=0);a.def(d,"$option",m=function(d,e){var f=b,f=[d,e];h(this.$config(),"[]=",a.to_a(f));return f[c(f.length,1)]},m.$$arity=2);a.def(d,"$use_dsl",p=function(){return n(this.$name()["$nil_or_empty?"]())?n((a.Module.$$nesting=g,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):b:n((a.Module.$$nesting=g,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):b},p.$$arity=0);a.alias(d,"extend_dsl","use_dsl");return a.alias(d,"include_dsl","use_dsl")})(a.get_singleton_class(g),
v);g.$attr_reader("config");a.def(g,"$initialize",t=function(a){null==a&&(a=e([],{}));return this.config=this.$class().$config().$merge(a)},t.$$arity=-1);a.def(g,"$update_config",x=function(a){return this.config.$update(a)},x.$$arity=1);a.def(g,"$process",y=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},y.$$arity=
-1);a.def(g,"$create_section",z=function(d,g,l,q){var r,u=b,w=b,t=b,x=b,y=b,z=b,A=b,G=t=b,w=b;null==q&&(q=e([],{}));u=d.$document();w=(t=u.$doctype())["$=="]("book");x=n(r=q["$[]"]("level"))?r:m(d.$level(),1);n(y=l.$delete("style"))?n(n(r=w)?y["$=="]("abstract"):r)?(r=["chapter",1],z=r[0],x=r[1],r):(r=[y,!0],z=r[0],A=r[1],r,x["$=="](0)&&(x=1)):n(w)?z=x["$=="](0)?"part":n(p(x,1))?"section":"chapter":n(t["$=="]("manpage")?g.$casecmp("synopsis")["$=="](0):t["$=="]("manpage"))?(r=["synopsis",!0],z=r[0],
A=r[1],r):z="section";t=f(v,"Section").$new(d,x);r=[g,z];t["$title="](r[0]);t["$sectname="](r[1]);r;n(A)?(G=[!0],h(t,"special=",a.to_a(G)),G[c(G.length,1)],n(q.$fetch("numbered",y["$=="]("appendix")))?(G=[!0],h(t,"numbered=",a.to_a(G)),G[c(G.length,1)]):n(n(r=q["$key?"]("numbered")["$!"]())?u["$attr?"]("sectnums","all"):r)&&(G=[n(n(r=w)?x["$=="](1):r)?"chapter":!0],h(t,"numbered=",a.to_a(G)),G[c(G.length,1)])):n(p(x,0))?n(q.$fetch("numbered",u["$attr?"]("sectnums")))&&(G=[n(t.$special())?n(r=d.$numbered())?
!0:r:!0],h(t,"numbered=",a.to_a(G)),G[c(G.length,1)]):n(q.$fetch("numbered",n(r=w)?u["$attr?"]("partnums"):r))&&(G=[!0],h(t,"numbered=",a.to_a(G)),G[c(G.length,1)]);(w=l.$delete("id"))["$=="](!1)||(G=[(G=["id",n(r=w)?r:n(u["$attr?"]("sectids"))?f(v,"Section").$generate_id(t.$title(),u):b],h(l,"[]=",a.to_a(G)),G[c(G.length,1)])],h(t,"id=",a.to_a(G)),G[c(G.length,1)]);t.$update_attributes(l);return t},z.$$arity=-4);a.def(g,"$create_block",A=function(a,b,c,d,g){null==g&&(g=e([],{}));return f(v,"Block").$new(a,
b,e(["source","attributes"],{source:c,attributes:d}).$merge(g))},A.$$arity=-5);a.def(g,"$create_image_block",G=function(g,l,m){var p,q=b,r=b;null==m&&(m=e([],{}));n(q=l["$[]"]("target"))||this.$raise(d("::","ArgumentError"),"Unable to create an image block, target attribute is required");n(p=l["$[]"]("alt"))?p:(r=["alt",(r=["default-alt",f(v,"Helpers").$basename(q,!0).$tr("_-"," ")],h(l,"[]=",a.to_a(r)),r[c(r.length,1)])],h(l,"[]=",a.to_a(r)),r[c(r.length,1)]);return this.$create_block(g,"image",
b,l,m)},G.$$arity=-3);a.def(g,"$create_inline",D=function(a,b,c,d){null==d&&(d=e([],{}));return f(v,"Inline").$new(a,b,c,d)},D.$$arity=-4);a.def(g,"$parse_content",E=function(a,c,d){var g,k,h=b,l=b;null==d&&(d=b);for(h=n(f(v,"Reader")["$==="](c))?c:f(v,"Reader").$new(c);n(n(g=n(k=l=f(v,"Parser").$next_block(h,a,n(d)?d.$dup():e([],{})))?a["$<<"](l):k)?g:h["$has_more_lines?"]()););return a},E.$$arity=-3);return h([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],
["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(J=function(c,d,e){var f=J.$$s||this,g;null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);return h(f,"define_method",[c],(g=function(b){var c=g.$$s||this,f,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var l=0;l<k;l++)f[l-0]=arguments[l];f.$unshift(f.$shift(),
e);return h(c,"send",[d].concat(a.to_a(f)))},g.$$s=f,g.$$arity=-1,g))},J.$$s=g,J.$$arity=3,J))})(t[0],null,t);(function(e,f){function g(){}var l=g=v(e,"ProcessorDsl",g);[l].concat(f);var m,p,q;a.def(l,"$option",m=function(d,e){var f=b,f=[d,e];h(this.$config(),"[]=",a.to_a(f));return f[c(f.length,1)]},m.$$arity=2);a.def(l,"$process",p=function(c){var e,f,g=p.$$p,k=g||b;null==this.process_block&&(this.process_block=b);var l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var m=0;m<l;m++)f[m-0]=arguments[m];
g&&(p.$$p=null);return k!==b?(n(f["$empty?"]())||this.$raise(d("::","ArgumentError"),"wrong number of arguments (given "+f.$size()+", expected 0)"),this.process_block=k):n((e=this.process_block,null!=e&&e!==b)?"instance-variable":b)?h(this.process_block,"call",a.to_a(f)):this.$raise(d("::","NotImplementedError"))},p.$$arity=-1);a.def(l,"$process_block_given?",q=function(){var a;return(a=this.process_block,null!=a&&a!==b)?"instance-variable":b},q.$$arity=0)})(t[0],t);(function(g,l){function m(){}var q=
m=v(g,"SyntaxDsl",m),r=[q].concat(l),u,t,x,y,z;q.$include(f(r,"ProcessorDsl"));a.def(q,"$named",u=function(a){return n(f(r,"Processor")["$==="](this))?this.name=a:this.$option("name",a)},u.$$arity=1);a.alias(q,"match_name","named");a.def(q,"$content_model",t=function(a){return this.$option("content_model",a)},t.$$arity=1);a.alias(q,"parse_content_as","content_model");a.alias(q,"parses_content_as","content_model");a.def(q,"$positional_attrs",x=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);
b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},x.$$arity=-1);a.alias(q,"name_attributes","positional_attrs");a.alias(q,"name_positional_attributes","positional_attrs");a.def(q,"$default_attrs",y=function(a){return this.$option("default_attrs",a)},y.$$arity=1);a.def(q,"$resolves_attributes",z=function(f){var g,l,m,q=this,r,u=b,w=b,v=b,t=arguments.length,x=t-0;0>x&&(x=0);r=Array(x);for(x=0;x<t;x++)r[x-0]=arguments[x];n(p(r.$size(),1))||n((r=r.$fetch(0,
!0))["$respond_to?"]("to_sym"))&&(r=[r]);return function(){u=r;return(!0)["$==="](u)?(q.$option("pos_attrs",[]),q.$option("default_attrs",e([],{}))):d("::","Array")["$==="](u)?(g=[[],e([],{})],w=g[0],v=g[1],g,h(r,"each",[],(l=function(d){var e,f=b,g=b,l=b,l=b;null==d&&(d=b);return n((d=d.$to_s())["$include?"]("="))?(e=d.$split("=",2),d=a.to_ary(e),f=null==d[0]?b:d[0],g=null==d[1]?b:d[1],e,n(f["$include?"](":"))&&(e=f.$split(":",2),d=a.to_ary(e),l=null==d[0]?b:d[0],f=null==d[1]?b:d[1],e,l=l["$=="]("@")?
w.$size():l.$to_i(),l=[l,f],h(w,"[]=",a.to_a(l)),l[c(l.length,1)]),l=[f,g],h(v,"[]=",a.to_a(l)),l[c(l.length,1)]):n(d["$include?"](":"))?(e=d.$split(":",2),d=a.to_ary(e),l=null==d[0]?b:d[0],f=null==d[1]?b:d[1],e,l=l["$=="]("@")?w.$size():l.$to_i(),l=[l,f],h(w,"[]=",a.to_a(l)),l[c(l.length,1)]):w["$<<"](d)},l.$$s=q,l.$$arity=1,l)),q.$option("pos_attrs",w.$compact()),q.$option("default_attrs",v)):d("::","Hash")["$==="](u)?(g=[[],e([],{})],w=g[0],v=g[1],g,h(r,"each",[],(m=function(d,e){var f,g,l=f=b;
g=b;null==d&&(d=b);null==e&&(e=b);n((f=d.$to_s())["$include?"](":"))&&(g=f.$split(":",2),f=a.to_ary(g),l=null==f[0]?b:f[0],f=null==f[1]?b:f[1],g,l=l["$=="]("@")?w.$size():l.$to_i(),g=[l,f],h(w,"[]=",a.to_a(g)),g[c(g.length,1)]);return n(e)?(g=[f,e],h(v,"[]=",a.to_a(g)),g[c(g.length,1)]):b},m.$$s=q,m.$$arity=2,m)),q.$option("pos_attrs",w.$compact()),q.$option("default_attrs",v)):q.$raise(d("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())}()},z.$$arity=-1);a.alias(q,
"resolve_attributes","resolves_attributes")})(t[0],t);(function(c,$super,e){function f(){}c=f=r(c,$super,"Preprocessor",f);[c].concat(e);var g;return(a.def(c,"$process",g=function(a,b){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},g.$$arity=2),b)&&"process"})(t[0],f(t,"Processor"),t);a.const_set(f(t,"Preprocessor"),"DSL",f(t,"ProcessorDsl"));(function(c,$super,e){function f(){}c=f=r(c,$super,"TreeProcessor",f);[c].concat(e);
var g;return(a.def(c,"$process",g=function(a){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},g.$$arity=1),b)&&"process"})(t[0],f(t,"Processor"),t);a.const_set(f(t,"TreeProcessor"),"DSL",f(t,"ProcessorDsl"));a.const_set(t[0],"Treeprocessor",f(t,"TreeProcessor"));(function(c,$super,e){function f(){}c=f=r(c,$super,"Postprocessor",f);[c].concat(e);var g;return(a.def(c,"$process",g=function(a,b){return this.$raise(d("::",
"NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},g.$$arity=2),b)&&"process"})(t[0],f(t,"Processor"),t);a.const_set(f(t,"Postprocessor"),"DSL",f(t,"ProcessorDsl"));(function(c,$super,e){function f(){}c=f=r(c,$super,"IncludeProcessor",f);[c].concat(e);var g,k;a.def(c,"$process",g=function(a,b,c,e){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},g.$$arity=4);
return(a.def(c,"$handles?",k=function(a){return!0},k.$$arity=1),b)&&"handles?"})(t[0],f(t,"Processor"),t);(function(c,e){function g(){}var k=g=v(c,"IncludeProcessorDsl",g),h=[k].concat(e),l;k.$include(f(h,"ProcessorDsl"));a.def(k,"$handles?",l=function(a){var c,e,f=l.$$p,g=f||b;null==this.handles_block&&(this.handles_block=b);var k=arguments.length;e=k-0;0>e&&(e=0);e=Array(e);for(var h=0;h<k;h++)e[h-0]=arguments[h];f&&(l.$$p=null);return g!==b?(n(e["$empty?"]())||this.$raise(d("::","ArgumentError"),
"wrong number of arguments (given "+e.$size()+", expected 0)"),this.handles_block=g):n((c=this.handles_block,null!=c&&c!==b)?"instance-variable":b)?this.handles_block.$call(e["$[]"](0)):!0},l.$$arity=-1)})(t[0],t);a.const_set(f(t,"IncludeProcessor"),"DSL",f(t,"IncludeProcessorDsl"));(function(f,$super,g){function l(){}f=l=r(f,$super,"DocinfoProcessor",l);var m=f.prototype;[f].concat(g);var p,q;m.config=b;f.$attr_accessor("location");a.def(f,"$initialize",p=function(d){var f,g=p.$$p,l=b;null==d&&(d=
e([],{}));g&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[d],null);return n(f=this.config["$[]"]("location"))?f:(l=["location","head"],h(this.config,"[]=",a.to_a(l)),l[c(l.length,1)])},p.$$arity=-1);return(a.def(f,"$process",q=function(a){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},q.$$arity=1),b)&&"process"})(t[0],f(t,"Processor"),t);(function(b,c){function d(){}var e=d=v(b,"DocinfoProcessorDsl",
d),g=[e].concat(c),k;e.$include(f(g,"ProcessorDsl"));a.def(e,"$at_location",k=function(a){return this.$option("location",a)},k.$$arity=1)})(t[0],t);a.const_set(f(t,"DocinfoProcessor"),"DSL",f(t,"DocinfoProcessorDsl"));(function(f,$super,g){function l(){}f=l=r(f,$super,"BlockProcessor",l);var m=f.prototype;[f].concat(g);var p,q;m.config=b;f.$attr_accessor("name");a.def(f,"$initialize",p=function(f,g){var l,m=p.$$p,q=b,r=b;null==f&&(f=b);null==g&&(g=e([],{}));m&&(p.$$p=null);h(this,a.find_super_dispatcher(this,
"initialize",p,!1),[g],null);this.name=n(l=f)?l:this.config["$[]"]("name");q=this.config["$[]"]("contexts");d("::","NilClass")["$==="](q)?n(l=this.config["$[]"]("contexts"))?l:(r=["contexts",["open","paragraph"].$to_set()],h(this.config,"[]=",a.to_a(r)),r[c(r.length,1)]):(r=d("::","Symbol")["$==="](q)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],h(this.config,"[]=",a.to_a(r)),r[c(r.length,1)]);return n(l=this.config["$[]"]("content_model"))?
l:(r=["content_model","compound"],h(this.config,"[]=",a.to_a(r)),r[c(r.length,1)])},p.$$arity=-1);return(a.def(f,"$process",q=function(a,b,c){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},q.$$arity=3),b)&&"process"})(t[0],f(t,"Processor"),t);(function(b,c){function d(){}var e=d=v(b,"BlockProcessorDsl",d),g=[e].concat(c),k;e.$include(f(g,"SyntaxDsl"));a.def(e,"$contexts",k=function(a){var b,c=arguments.length;b=
c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten().$to_set())},k.$$arity=-1);a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(t[0],t);a.const_set(f(t,"BlockProcessor"),"DSL",f(t,"BlockProcessorDsl"));(function(f,$super,g){function l(){}f=l=r(f,$super,"MacroProcessor",l);var m=f.prototype;[f].concat(g);var p,q;m.config=b;f.$attr_accessor("name");a.def(f,"$initialize",p=function(d,f){var g,
l=p.$$p,m=b;null==d&&(d=b);null==f&&(f=e([],{}));l&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[f],null);this.name=n(g=d)?g:this.config["$[]"]("name");return n(g=this.config["$[]"]("content_model"))?g:(m=["content_model","attributes"],h(this.config,"[]=",a.to_a(m)),m[c(m.length,1)])},p.$$arity=-1);return(a.def(f,"$process",q=function(a,b,c){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},
q.$$arity=3),b)&&"process"})(t[0],f(t,"Processor"),t);(function(c,d){function e(){}var g=e=v(c,"MacroProcessorDsl",e),k=[g].concat(d),l;g.$include(f(k,"SyntaxDsl"));a.def(g,"$resolves_attributes",l=function(c){var d,e=l.$$p,f=b,g=b,k=b,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(g=0;g<f;g++)d[g-0]=arguments[g];e&&(l.$$p=null);g=0;k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];if(n(d.$size()["$=="](1)?d["$[]"](0)["$!"]():d.$size()["$=="](1)))return this.$option("content_model",
"text"),b;h(this,a.find_super_dispatcher(this,"resolves_attributes",l,!1),f,e);return this.$option("content_model","attributes")},l.$$arity=-1);a.alias(g,"resolve_attributes","resolves_attributes")})(t[0],t);(function(a,$super,c){function d(){}[d=r(a,$super,"BlockMacroProcessor",d)].concat(c);return b})(t[0],f(t,"MacroProcessor"),t);a.const_set(f(t,"BlockMacroProcessor"),"DSL",f(t,"MacroProcessorDsl"));(function(g,$super,l){function m(){}g=m=r(g,$super,"InlineMacroProcessor",m);var p=g.prototype,
q=[g].concat(l),u,v;p.config=p.name=b;a.class_variable_set(m,"@@rx_cache",e([],{}));a.def(g,"$regexp",u=function(){var d,e=b;return n(d=this.config["$[]"]("regexp"))?d:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],h(this.config,"[]=",a.to_a(e)),e[c(e.length,1)])},u.$$arity=0);return(a.def(g,"$resolve_regexp",v=function(e,g){var l,p,r=b;n(f(q,"MacroNameRx")["$match?"](e))||this.$raise(d("::","ArgumentError"),"invalid name for inline macro: "+e);return n(l=(null==
(p=m.$$cvars["@@rx_cache"])?b:p)["$[]"]([e,g]))?l:(r=[[e,g],new RegExp("\\\\?"+e+":"+(g["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],h(null==(p=m.$$cvars["@@rx_cache"])?b:p,"[]=",a.to_a(r)),r[c(r.length,1)])},v.$$arity=2),b)&&"resolve_regexp"})(t[0],f(t,"MacroProcessor"),t);(function(b,c){function d(){}var e=d=v(b,"InlineMacroProcessorDsl",d),g=[e].concat(c),k,h;e.$include(f(g,"MacroProcessorDsl"));a.def(e,"$with_format",k=function(a){return this.$option("format",a)},k.$$arity=1);a.alias(e,
"using_format","with_format");a.def(e,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(t[0],t);a.const_set(f(t,"InlineMacroProcessor"),"DSL",f(t,"InlineMacroProcessorDsl"));(function(c,$super,d){function e(){}c=e=r(c,$super,"Extension",e);[c].concat(d);var f;c.$attr_reader("kind");c.$attr_reader("config");c.$attr_reader("instance");return(a.def(c,"$initialize",f=function(a,b,c){this.kind=a;this.instance=b;return this.config=
c},f.$$arity=3),b)&&"initialize"})(t[0],null,t);(function(c,$super,d){function e(){}c=e=r(c,$super,"ProcessorExtension",e);[c].concat(d);var f;c.$attr_reader("process_method");return(a.def(c,"$initialize",f=function(c,d,e){var g,k=f.$$p;null==e&&(e=b);k&&(f.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",f,!1),[c,d,d.$config()],null);return this.process_method=n(g=e)?g:d.$method("process")},f.$$arity=-3),b)&&"initialize"})(t[0],f(t,"Extension"),t);(function(c,$super,e){function g(){}c=
g=r(c,$super,"Group",g);e=[c].concat(e);var k;(function(c,d){var e=[c].concat(d),g;return(a.def(c,"$register",g=function(a){null==a&&(a=b);return f(e,"Extensions").$register(a,this)},g.$$arity=-1),b)&&"register"})(a.get_singleton_class(c),e);return(a.def(c,"$activate",k=function(a){return this.$raise(d("::","NotImplementedError"))},k.$$arity=1),b)&&"activate"})(t[0],null,t);(function(g,$super,l){function u(){}g=u=r(g,$super,"Registry",u);var v=g.prototype,t=[g].concat(l),x,y,A,G,D,E,J,T,ga,ja,aa,
R,S,ia,ea,fa,ca,Y,sa,ma,da,ka,oa,ha,pa,na,za,Fa,Ga,Ea,Ba,wa,Da,Aa;v.groups=v.preprocessor_extensions=v.tree_processor_extensions=v.postprocessor_extensions=v.include_processor_extensions=v.docinfo_processor_extensions=v.block_extensions=v.block_macro_extensions=v.inline_macro_extensions=b;g.$attr_reader("document");g.$attr_reader("groups");a.def(g,"$initialize",x=function(a){null==a&&(a=e([],{}));this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=
this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=b},x.$$arity=-1);a.def(g,"$activate",y=function(a){var c,e=b;this.document=a;n((e=m(f(t,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||h(e,"each",[],(c=function(a){var e=c.$$s||this,f=b;null==a&&(a=b);f=a;d("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?h(e,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(e):
b):a=d("::","Class")["$==="](f)?a.$new().$activate(e):a.$activate(e);return a},c.$$s=this,c.$$arity=1,c));return this},y.$$arity=1);a.def(g,"$preprocessor",A=function(a){var c,d=A.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(A.$$p=null);return h(this,"add_document_processor",["preprocessor",c],e.$to_proc())},A.$$arity=-1);a.def(g,"$preprocessors?",G=function(){return this.preprocessor_extensions["$!"]()["$!"]()},G.$$arity=0);a.def(g,"$preprocessors",
D=function(){return this.preprocessor_extensions},D.$$arity=0);a.def(g,"$tree_processor",E=function(a){var c,d=E.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(E.$$p=null);return h(this,"add_document_processor",["tree_processor",c],e.$to_proc())},E.$$arity=-1);a.def(g,"$tree_processors?",J=function(){return this.tree_processor_extensions["$!"]()["$!"]()},J.$$arity=0);a.def(g,"$tree_processors",T=function(){return this.tree_processor_extensions},
T.$$arity=0);a.alias(g,"treeprocessor","tree_processor");a.alias(g,"treeprocessors?","tree_processors?");a.alias(g,"treeprocessors","tree_processors");a.def(g,"$postprocessor",ga=function(a){var c,d=ga.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(ga.$$p=null);return h(this,"add_document_processor",["postprocessor",c],e.$to_proc())},ga.$$arity=-1);a.def(g,"$postprocessors?",ja=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
ja.$$arity=0);a.def(g,"$postprocessors",aa=function(){return this.postprocessor_extensions},aa.$$arity=0);a.def(g,"$include_processor",R=function(a){var c,d=R.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(R.$$p=null);return h(this,"add_document_processor",["include_processor",c],e.$to_proc())},R.$$arity=-1);a.def(g,"$include_processors?",S=function(){return this.include_processor_extensions["$!"]()["$!"]()},S.$$arity=0);a.def(g,"$include_processors",
ia=function(){return this.include_processor_extensions},ia.$$arity=0);a.def(g,"$docinfo_processor",ea=function(a){var c,d=ea.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(ea.$$p=null);return h(this,"add_document_processor",["docinfo_processor",c],e.$to_proc())},ea.$$arity=-1);a.def(g,"$docinfo_processors?",fa=function(a){var c;null==a&&(a=b);return n(this.docinfo_processor_extensions)?n(a)?h(this.docinfo_processor_extensions,"any?",[],(c=function(c){null==
c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,c.$$arity=1,c)):!0:!1},fa.$$arity=-1);a.def(g,"$docinfo_processors",ca=function(a){var c;null==a&&(a=b);return n(this.docinfo_processor_extensions)?n(a)?h(this.docinfo_processor_extensions,"select",[],(c=function(c){null==c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,c.$$arity=1,c)):this.docinfo_processor_extensions:b},ca.$$arity=-1);a.def(g,"$block",Y=function(a){var c,d=Y.$$p,e=d||b,f=arguments.length;c=
f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(Y.$$p=null);return h(this,"add_syntax_processor",["block",c],e.$to_proc())},Y.$$arity=-1);a.def(g,"$blocks?",sa=function(){return this.block_extensions["$!"]()["$!"]()},sa.$$arity=0);a.def(g,"$registered_for_block?",ma=function(a,c){var d=b;return n(d=this.block_extensions["$[]"](a.$to_sym()))?n(d.$config()["$[]"]("contexts")["$include?"](c))?d:!1:!1},ma.$$arity=2);a.def(g,"$find_block_extension",da=function(a){return this.block_extensions["$[]"](a.$to_sym())},
da.$$arity=1);a.def(g,"$block_macro",ka=function(a){var c,d=ka.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(ka.$$p=null);return h(this,"add_syntax_processor",["block_macro",c],e.$to_proc())},ka.$$arity=-1);a.def(g,"$block_macros?",oa=function(){return this.block_macro_extensions["$!"]()["$!"]()},oa.$$arity=0);a.def(g,"$registered_for_block_macro?",ha=function(a){var c=b;return n(c=this.block_macro_extensions["$[]"](a.$to_sym()))?c:!1},ha.$$arity=
1);a.def(g,"$find_block_macro_extension",pa=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},pa.$$arity=1);a.def(g,"$inline_macro",na=function(a){var c,d=na.$$p,e=d||b,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(na.$$p=null);return h(this,"add_syntax_processor",["inline_macro",c],e.$to_proc())},na.$$arity=-1);a.def(g,"$inline_macros?",za=function(){return this.inline_macro_extensions["$!"]()["$!"]()},za.$$arity=0);a.def(g,"$registered_for_inline_macro?",
Fa=function(a){var c=b;return n(c=this.inline_macro_extensions["$[]"](a.$to_sym()))?c:!1},Fa.$$arity=1);a.def(g,"$find_inline_macro_extension",Ga=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Ga.$$arity=1);a.def(g,"$inline_macros",Ea=function(){return this.inline_macro_extensions.$values()},Ea.$$arity=0);g.$private();a.def(g,"$add_document_processor",Ba=function(c,e){var g,k,l,m=this,p=Ba.$$p,r=p||b,u=b,v=b,w=b,x=b,y=v=b,B=b,A=b,G=b,D=b;p&&(Ba.$$p=null);u=c.$to_s().$tr("_",
" ");v=h(u.$split(),"map",[],(g=function(a){null==a&&(a=b);return a.$capitalize()},g.$$s=m,g.$$arity=1,g)).$join().$to_sym();w=f(t,"Extensions").$const_get(v);x=n(d("::","AsciidoctorJ","skip_raise")?"constant":b)?d(d("::","AsciidoctorJ"),"Extensions").$const_get(v):b;v=n(k=m.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?k:m.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);y=function(){if(r!==b)return B=m.$resolve_args(e,1),A=w.$new(B),n(w.$constants().$grep("DSL"))&&A.$extend(w.$const_get("DSL")),
h(A,"instance_exec",[],r.$to_proc()),A.$freeze(),n(A["$process_block_given?"]())||m.$raise(d("::","ArgumentError"),"No block specified to process "+u+" extension at "+r.$source_location()),f(t,"ProcessorExtension").$new(c,A);l=m.$resolve_args(e,2);k=a.to_ary(l);A=null==k[0]?b:k[0];B=null==k[1]?b:k[1];l;return n(G=f(t,"Extensions").$resolve_class(A))?(n(n(k=q(G,w))?k:n(l=x)?q(G,x):l)||m.$raise(d("::","ArgumentError"),"Invalid type for "+u+" extension: "+A),D=G.$new(B),D.$freeze(),f(t,"ProcessorExtension").$new(c,
D)):n(n(k=w["$==="](A))?k:n(l=x)?x["$==="](A):l)?(A.$update_config(B),A.$freeze(),f(t,"ProcessorExtension").$new(c,A)):m.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+u+" extension: "+e)}();return y.$config()["$[]"]("position")["$=="](">>")?v.$unshift(y):v["$<<"](y)},Ba.$$arity=2);a.def(g,"$add_syntax_processor",wa=function(g,l){var m,p,r=wa.$$p,u=r||b,v=b,w=b,x=b,y=b,B=w=b,A=b,G=b,D=x=b,x=b;r&&(wa.$$p=null);v=g.$to_s().$tr("_"," ");w=h(v.$split(),"map",[],(m=function(a){null==
a&&(a=b);return a.$capitalize()},m.$$s=this,m.$$arity=1,m)).$push("Processor").$join().$to_sym();x=f(t,"Extensions").$const_get(w);y=n(d("::","AsciidoctorJ","skip_raise")?"constant":b)?d(d("::","AsciidoctorJ"),"Extensions").$const_get(w):b;w=n(p=this.$instance_variable_get(("@"+g+"_extensions").$to_sym()))?p:this.$instance_variable_set(("@"+g+"_extensions").$to_sym(),e([],{}));if(u!==b)return m=this.$resolve_args(l,2),p=a.to_ary(m),B=null==p[0]?b:p[0],A=null==p[1]?b:p[1],m,G=x.$new(this.$as_symbol(B),
A),n(x.$constants().$grep("DSL"))&&G.$extend(x.$const_get("DSL")),u.$arity()["$=="](1)?a.yield1(u,G):h(G,"instance_exec",[],u.$to_proc()),n(B=this.$as_symbol(G.$name()))||this.$raise(d("::","ArgumentError"),"No name specified for "+v+" extension at "+u.$source_location()),n(G["$process_block_given?"]())||this.$raise(d("::","NoMethodError"),"No block specified to process "+v+" extension at "+u.$source_location()),G.$freeze(),x=[B,f(t,"ProcessorExtension").$new(g,G)],h(w,"[]=",a.to_a(x)),x[c(x.length,
1)];m=this.$resolve_args(l,3);p=a.to_ary(m);G=null==p[0]?b:p[0];B=null==p[1]?b:p[1];A=null==p[2]?b:p[2];m;return n(D=f(t,"Extensions").$resolve_class(G))?(n(n(p=q(D,x))?p:n(m=y)?q(D,y):m)||this.$raise(d("::","ArgumentError"),"Class specified for "+v+" extension does not inherit from "+x+": "+G),x=D.$new(this.$as_symbol(B),A),n(B=this.$as_symbol(x.$name()))||this.$raise(d("::","ArgumentError"),"No name specified for "+v+" extension: "+G),x.$freeze(),x=[B,f(t,"ProcessorExtension").$new(g,x)],h(w,"[]=",
a.to_a(x)),x[c(x.length,1)]):n(n(p=x["$==="](G))?p:n(m=y)?y["$==="](G):m)?(G.$update_config(A),n(B)?(x=[this.$as_symbol(B)],h(G,"name=",a.to_a(x)),p=x[c(x.length,1)]):p=this.$as_symbol(G.$name()),n(B=p)||this.$raise(d("::","ArgumentError"),"No name specified for "+v+" extension: "+G),G.$freeze(),x=[B,f(t,"ProcessorExtension").$new(g,G)],h(w,"[]=",a.to_a(x)),x[c(x.length,1)]):this.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+v+" extension: "+l)},wa.$$arity=2);a.def(g,
"$resolve_args",Da=function(a,f){var g=b,h=b,g=n(d("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():e([],{});if(f["$=="](1))return g;n(p(h=c(c(f,1),a.$size()),0))?a=m(a,d("::","Array").$new(h)):n(q(h,0))&&a.$pop(h["$-@"]());a["$<<"](g);return a},Da.$$arity=2);return(a.def(g,"$as_symbol",Aa=function(a){return n(a)?a.$to_sym():b},Aa.$$arity=1),b)&&"as_symbol"})(t[0],null,t);(function(g,l){var p=[g].concat(l),q,r,v,x,t,y,z,A,G,D,E;a.def(g,"$generate_name",q=function(){return"extgrp"+this.$next_auto_id()},
q.$$arity=0);a.def(g,"$next_auto_id",r=function(){var a;null==this.auto_id&&(this.auto_id=b);this.auto_id=n(a=this.auto_id)?a:-1;return this.auto_id=m(this.auto_id,1)},r.$$arity=0);a.def(g,"$groups",v=function(){var a;null==this.groups&&(this.groups=b);return this.groups=n(a=this.groups)?a:e([],{})},v.$$arity=0);a.def(g,"$create",x=function(a){var c,d=x.$$p,e=d||b;null==a&&(a=b);d&&(x.$$p=null);return e!==b?f(p,"Registry").$new(u(n(c=a)?c:this.$generate_name(),e)):f(p,"Registry").$new()},x.$$arity=
-1);a.alias(g,"build_registry","create");a.def(g,"$register",t=function(e){var f,g,l=t.$$p,m=l||b,p=b,q=b,r=b,u=b;g=b;p=arguments.length;g=p-0;0>g&&(g=0);g=Array(g);for(u=0;u<p;u++)g[u-0]=arguments[u];l&&(t.$$p=null);p=g.$size();m!==b?q=m:n(r=g.$pop())?q=n(f=this.$resolve_class(r))?f:r:this.$raise(d("::","ArgumentError"),"Extension group to register not specified");u=n(f=g.$pop())?f:this.$generate_name();n(g["$empty?"]())||this.$raise(d("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");
g=[u.$to_sym(),q];h(this.$groups(),"[]=",a.to_a(g));return g[c(g.length,1)]},t.$$arity=-1);a.def(g,"$unregister_all",y=function(){this.groups=e([],{});return b},y.$$arity=0);a.def(g,"$unregister",z=function(a){var c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];h(d,"each",[],(c=function(a){var d=c.$$s||this;null==d.groups&&(d.groups=b);null==a&&(a=b);return d.groups.$delete(a.$to_sym())},c.$$s=this,c.$$arity=1,c));return b},z.$$arity=-1);a.def(g,"$resolve_class",
A=function(a){var c=b,c=a;return d("::","Class")["$==="](c)?a:d("::","String")["$==="](c)?this.$class_for_name(a):b},A.$$arity=1);return n(f(p,"RUBY_MIN_VERSION_2"))?(a.def(g,"$class_for_name",G=function(c){var e=b;try{return e=d("::","Object").$const_get(c,!1),n(d("::","Class")["$==="](e))||this.$raise(),e}catch(g){if(a.rescue(g,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw g;}},G.$$arity=1),b)&&"class_for_name":
n(f(p,"RUBY_MIN_VERSION_1_9"))?(a.def(g,"$class_for_name",D=function(c){var e,g=b;try{return g=h(c.$split("::"),"reduce",[d("::","Object")],(e=function(a,c){null==a&&(a=b);null==c&&(c=b);return n(c["$empty?"]())?a:a.$const_get(c,!1)},e.$$s=this,e.$$arity=2,e)),n(d("::","Class")["$==="](g))||this.$raise(),g}catch(k){if(a.rescue(k,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw k;}},D.$$arity=1),b)&&"class_for_name":
(a.def(g,"$class_for_name",E=function(c){var e,g=b;try{return g=h(c.$split("::"),"reduce",[d("::","Object")],(e=function(a,c){var d=e.$$s||this;null==a&&(a=b);null==c&&(c=b);return n(c["$empty?"]())?a:n(a["$const_defined?"](c))?a.$const_get(c):d.$raise()},e.$$s=this,e.$$arity=2,e)),n(d("::","Class")["$==="](g))||this.$raise(),g}catch(k){if(a.rescue(k,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw k;}},
E.$$arity=1),b)&&"class_for_name"})(a.get_singleton_class(y),t)})(y[0],y)}(g[0],g)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var c=[],m=a.nil,p=a.const_get_relative,q=a.module,l=a.klass,g=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,c){function f(){}var k=[f=q(b,"Asciidoctor",f)].concat(c);(function(b,$super,c){function d(){}
b=d=l(b,$super,"PreprocessorReader",d);var f=b.prototype,k=[b].concat(c),n;f.path_resolver=f.document=f.include_stack=f.dir=m;return(a.def(b,"$resolve_include_path",n=function(a,b,c){var d,e=m,f=m,h=m,l=h=e=m;c=m;e=(this.path_resolver=g(d=this.path_resolver)?d:p(k,"PathResolver").$new("\\")).$posixify(a);d=["file",this.document.$base_dir()];f=d[1];d;if(g(e["$start_with?"]("file://")))h=e;else if(g(p(k,"Helpers")["$uriish?"](e))){if(!g(g(d=this.path_resolver["$descends_from?"](e,f))?d:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+
a+"["+b+"]");h=e}else if(g(this.path_resolver["$absolute_path?"](e)))h=e="file://"+(g(e["$start_with?"]("/"))?"":"/")+e;else if((h=g(l=this.include_stack["$empty?"]())?f:this.dir)["$=="]("."))h=e;else if(g(g(d=h["$start_with?"]("file://"))?d:p(k,"Helpers")["$uriish?"](h)["$!"]()))h=""+h+"/"+e,e=g(l)?e:g(g(d=f["$=="]("."))?d:(c=this.path_resolver["$descends_from?"](h,f))["$!"]())?h:h.$slice(c,h.$length());else if(g(l))h=""+h+"/"+e;else if(g(g(d=c=this.path_resolver["$descends_from?"](h,f))?d:this.document.$attributes()["$key?"]("allow-uri-read")))h=
""+h+"/"+e,e=g(c)?h.$slice(c,h.$length()):e;else return this.$replace_next_line("link:"+a+"["+b+"]");return[h,"file",e]},n.$$arity=3),m)&&"resolve_include_path"})(k[0],p(k,"Reader"),k)}(c[0],c)};Opal.modules["asciidoctor/js/postscript"]=function(a){var c=a.top,m=a.nil,p=a.const_get_relative;a.add_stubs(["$require","$=="]);c.$require("asciidoctor/converter/composite");c.$require("asciidoctor/converter/html5");c.$require("asciidoctor/extensions");return p([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?
c.$require("asciidoctor/js/opal_ext/browser/reader"):m};(function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=a.top,l=[],g=a.nil,b=a.const_get_qualified,d=a.const_get_relative,f=a.truthy,n=a.gvars,v=a.module,r=a.hash2,e=a.send,h=a.hash;null==n[":"]&&(n[":"]=g);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $default= $* $to_a $dup $insert $start $logger $logger= $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $mkdir_p $directory? $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
f(d(l,"RUBY_ENGINE","skip_raise")?"constant":g)||a.const_set(l[0],"RUBY_ENGINE","unknown");a.const_set(l[0],"RUBY_ENGINE_OPAL",d(l,"RUBY_ENGINE")["$=="]("opal"));a.const_set(l[0],"RUBY_ENGINE_JRUBY",d(l,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(l[0],"RUBY_MIN_VERSION_1_9",c(d(l,"RUBY_VERSION"),"1.9"));a.const_set(l[0],"RUBY_MIN_VERSION_2",c(d(l,"RUBY_VERSION"),"2"));q.$require("set");d(l,"RUBY_ENGINE")["$=="]("opal")?q.$require("asciidoctor/js"):g;n[":"].$unshift(d(l,"File").$dirname("asciidoctor.rb"));
q.$require("asciidoctor/logging");(function(l,n){function q(){}var x=q=v(l,"Asciidoctor",q),t=[x].concat(n),y,z,A=g,D=g,E=g;a.const_set(t[0],"RUBY_ENGINE",b("::","RUBY_ENGINE"));(function(b,c){function d(){}var f=d=v(b,"SafeMode",d),k=[f].concat(c),h,l,n,p,q=g;a.const_set(k[0],"UNSAFE",0);a.const_set(k[0],"SAFE",1);a.const_set(k[0],"SERVER",10);a.const_set(k[0],"SECURE",20);q=r([],{});e((a.Module.$$nesting=k,f.$constants()),"each",[],(h=function(b){var c=h.$$s||this,d=g;null==b&&(b=g);d=[c.$const_get(b),
b.$to_s().$downcase()];e(q,"[]=",a.to_a(d));return d[m(d.length,1)]},h.$$s=f,h.$$arity=1,h));f.names_by_value=q;a.defs(f,"$value_for_name",l=function(a){return this.$const_get(a.$upcase())},l.$$arity=1);a.defs(f,"$name_for_value",n=function(a){null==this.names_by_value&&(this.names_by_value=g);return this.names_by_value["$[]"](a)},n.$$arity=1);a.defs(f,"$names",p=function(){null==this.names_by_value&&(this.names_by_value=g);return this.names_by_value.$values()},p.$$arity=0)})(t[0],t);(function(c,
d){function e(){}var f=e=v(c,"Compliance",e),k=[f].concat(d),h;f.keys=b("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(f),k);a.defs(f,"$define",h=function(b,c){null==this.keys&&(this.keys=g);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(k);d.$send("attr_accessor",b);this.keys["$<<"](b);return g},h.$$arity=2);f.$define("block_terminates_paragraph",!0);f.$define("strict_verbatim_paragraphs",!0);f.$define("underline_style_section_titles",
!0);f.$define("unwrap_standalone_preamble",!0);f.$define("attribute_missing","skip");f.$define("attribute_undefined","drop-line");f.$define("shorthand_property_syntax",!0);f.$define("natural_xrefs",!0);f.$define("unique_id_start_index",2);f.$define("markdown_syntax",!0)})(t[0],t);a.const_set(t[0],"ROOT_PATH",b("::","File").$dirname(b("::","File").$dirname(b("::","File").$expand_path("asciidoctor.rb"))));a.const_set(t[0],"DATA_PATH",b("::","File").$join(d(t,"ROOT_PATH"),"data"));try{a.const_set(t[0],
"USER_HOME",b("::","Dir").$home())}catch(w){if(a.rescue(w,[d(t,"StandardError")]))try{a.const_set(t[0],"USER_HOME",f(y=b("::","ENV")["$[]"]("HOME"))?y:b("::","Dir").$pwd())}finally{a.pop_exception()}else throw w;}a.const_set(t[0],"COERCE_ENCODING",f(y=b("::","RUBY_ENGINE_OPAL")["$!"]())?b("::","RUBY_MIN_VERSION_1_9"):y);a.const_set(t[0],"FORCE_ENCODING",f(y=d(t,"COERCE_ENCODING"))?b("::","Encoding").$default_external()["$!="](b(b("::","Encoding"),"UTF_8")):y);a.const_set(t[0],"BOM_BYTES_UTF_8",[239,
187,191]);a.const_set(t[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(t[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(t[0],"FORCE_UNICODE_LINE_LENGTH",b("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(t[0],"LF",a.const_set(t[0],"EOL","\n"));a.const_set(t[0],"NULL","\x00");a.const_set(t[0],"TAB","\t");a.const_set(t[0],"MAX_INT",9007199254740991);a.const_set(t[0],"DEFAULT_DOCTYPE","article");a.const_set(t[0],"DEFAULT_BACKEND","html5");a.const_set(t[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());
a.const_set(t[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(t[0],"BACKEND_ALIASES",r(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(t[0],"DEFAULT_PAGE_WIDTHS",r(["docbook"],{docbook:425}));a.const_set(t[0],"DEFAULT_EXTENSIONS",r("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(t[0],"ASCIIDOC_EXTENSIONS",r([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,
".asc":!0,".ad":!0,".txt":!0}));a.const_set(t[0],"SETEXT_SECTION_LEVELS",r(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(t[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(t[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(t[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set());a.const_set(t[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.const_set(t[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(t[0],"DELIMITED_BLOCKS",r('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",b("::",
"Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",b("::","Set").$new()],",===":["table",b("::","Set").$new()],":===":["table",b("::","Set").$new()],"!===":["table",b("::","Set").$new()],"////":["comment",b("::","Set").$new()],"```":["fenced_code",b("::","Set").$new()]}));a.const_set(t[0],"DELIMITED_BLOCK_HEADS",e(d(t,"DELIMITED_BLOCKS").$keys(),"map",[],(z=function(a){null==a&&(a=g);return a.$slice(0,
2)},z.$$s=x,z.$$arity=1,z)).$to_set());a.const_set(t[0],"LAYOUT_BREAK_CHARS",r(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(t[0],"MARKDOWN_THEMATIC_BREAK_CHARS",r(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(t[0],"HYBRID_LAYOUT_BREAK_CHARS",d(t,"LAYOUT_BREAK_CHARS").$merge(d(t,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(t[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(t[0],"ORDERED_LIST_STYLES",["arabic","loweralpha",
"lowerroman","upperalpha","upperroman"]);a.const_set(t[0],"ORDERED_LIST_KEYWORDS",r(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(t[0],"ATTR_REF_HEAD","{");a.const_set(t[0],"LIST_CONTINUATION","+");a.const_set(t[0],"HARD_LINE_BREAK"," +");a.const_set(t[0],"LINE_CONTINUATION"," \\");a.const_set(t[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(t[0],"MATHJAX_VERSION","2.7.4");a.const_set(t[0],"BLOCK_MATH_DELIMITERS",
r(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(t[0],"INLINE_MATH_DELIMITERS",r(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));A=["asciimath"];e(a.const_set(t[0],"STEM_TYPE_ALIASES",r(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(A));A[m(A.length,1)];a.const_set(t[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(t[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);d(t,"RUBY_ENGINE")["$=="]("opal")||
g;a.const_set(t[0],"AuthorInfoLineRx",new RegExp("^("+d(t,"CG_WORD")+"["+d(t,"CC_WORD")+"\\-'.]*)(?: +("+d(t,"CG_WORD")+"["+d(t,"CC_WORD")+"\\-'.]*))?(?: +("+d(t,"CG_WORD")+"["+d(t,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(t[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/);a.const_set(t[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/);a.const_set(t[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/);a.const_set(t[0],"ConditionalDirectiveRx",
/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/);a.const_set(t[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/);a.const_set(t[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]+)?\]$/);a.const_set(t[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\][\n \r]/);a.const_set(t[0],"AttributeEntryRx",new RegExp("^:(!?"+d(t,"CG_WORD")+"[^:]*):(?:[ \\t]+(.*))?$"));a.const_set(t[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+d(t,"CC_WORD")+"-]"));d(t,"RUBY_ENGINE")["$=="]("opal")?
a.const_set(t[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):g;a.const_set(t[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+d(t,"CG_WORD")+"+[-"+d(t,"CC_WORD")+"]*|(set|counter2?):.+?)(\\\\)?\\}"));a.const_set(t[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(t[0],"BlockAttributeListRx",new RegExp("^\\[(|["+d(t,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(t[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+
d(t,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$"));a.const_set(t[0],"BlockTitleRx",/^\.(\.?[^ \t.][^\n]*)$/);a.const_set(t[0],"AdmonitionParagraphRx",new RegExp("^("+p(d(t,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(t[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/);a.const_set(t[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(t[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);
a.const_set(t[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+d(t,"CG_WORD")+"+.*)[^.].*?)$"));a.const_set(t[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(t[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+d(t,"CC_WORD")+"\\-.]+?"));a.const_set(t[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::::{0,2}|;;)(?:$|[ \t])|<?\d+>[ \t])/);
a.const_set(t[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/);a.const_set(t[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/);a.const_set(t[0],"OrderedListMarkerRxMap",r(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(t[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:::{0,2}|;;)(?:$|[ \t]+([^\n]*)$)/);
a.const_set(t[0],"DescriptionListSiblingRx",r(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*(.*[^:]|)(::)(?:$|[ \t]+(.*)$)/,":::":/^(?!\/\/)[ \t]*(.*[^:]|)(:::)(?:$|[ \t]+(.*)$)/,"::::":/^(?!\/\/)[ \t]*(.*[^:]|)(::::)(?:$|[ \t]+(.*)$)/,";;":/^(?!\/\/)[ \t]*(.*?)(;;)(?:$|[ \t]+(.*)$)/}));a.const_set(t[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/);a.const_set(t[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(t[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);
a.const_set(t[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(t[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+d(t,"CC_EOL")+")"));a.const_set(t[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+d(t,"CC_EOL")+")"));a.const_set(t[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+d(t,"CC_EOL")+")");a.const_set(t[0],"ListRxMap",r(["ulist",
"olist","dlist","colist"],{ulist:d(t,"UnorderedListRx"),olist:d(t,"OrderedListRx"),dlist:d(t,"DescriptionListRx"),colist:d(t,"CalloutListRx")}));a.const_set(t[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(t[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(t[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);
a.const_set(t[0],"CustomBlockMacroRx",new RegExp("^("+d(t,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.+)?\\]$"));a.const_set(t[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]+)?\]$/);a.const_set(t[0],"BlockTocMacroRx",/^toc::\[([^\n]+)?\]$/);a.const_set(t[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(t[0],"InlineAnchorScanRx",
new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));a.const_set(t[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]"));a.const_set(t[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+d(t,"CC_ALPHA")+"_:]["+d(t,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(t[0],"InlineEmailRx",
new RegExp("([\\\\>:/])?"+d(t,"CG_WORD")+"["+d(t,"CC_WORD")+".%+-]*@"+d(t,"CG_ALNUM")+"["+d(t,"CC_ALNUM")+".-]*\\."+d(t,"CG_ALPHA")+"{2,4}\\b"));a.const_set(t[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+d(t,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(t[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+d(t,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(t[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+
d(t,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+d(t,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(t[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+d(t,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(t[0],"InlineLinkRx",new RegExp("(^|link:|"+d(t,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+d(t,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(t[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+d(t,"CC_ALL")+
"*?[^\\\\])\\]","m"));a.const_set(t[0],"MacroNameRx",new RegExp("^"+d(t,"CG_WORD")+"+$"));a.const_set(t[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+d(t,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(t[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+d(t,"CG_WORD")+"|["+d(t,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+d(t,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(t[0],"InlineMenuRx",new RegExp('\\\\?"(['+d(t,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(t[0],"InlinePassRx",h(!1,["+","`",new RegExp("(^|[^"+d(t,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)\\4)(?!"+d(t,"CG_WORD")+")","m")],!0,["`",g,new RegExp("(^|[^`"+d(t,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+d(t,"CC_ALL")+"*?\\S)\\4)(?![`"+d(t,"CC_WORD")+"])","m")]));a.const_set(t[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(t[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
d(t,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+d(t,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(t[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+d(t,"CC_WORD")+"#/.:{]"+d(t,"CC_ALL")+"*?)&gt;&gt;|xref:(["+d(t,"CC_WORD")+"#/.:{]"+d(t,"CC_ALL")+"*?)\\[(?:\\]|("+d(t,"CC_ALL")+"*?[^\\\\])\\]))","m"));d(t,"RUBY_ENGINE")["$=="]("opal")?a.const_set(t[0],"HardLineBreakRx",/^(.*) \+$/m):g;a.const_set(t[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(t[0],"ExtLayoutBreakRx",
/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(t[0],"BlankLineRx",/\n{2,}/);a.const_set(t[0],"DataDelimiterRx",/[,;]/);a.const_set(t[0],"TrailingDigitsRx",/\d+$/);a.const_set(t[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(t[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(t[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(t[0],"SubModifierSniffRx",/[+-]/);d(t,"RUBY_ENGINE")["$=="]("opal")||g;a.const_set(t[0],"UriSniffRx",new RegExp("^"+d(t,"CG_ALPHA")+"["+d(t,"CC_ALNUM")+
".+-]+:/{0,2}"));a.const_set(t[0],"UriTerminatorRx",/[);:]$/);a.const_set(t[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(t[0],"INTRINSIC_ATTRIBUTES",r("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));D=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+d(t,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)\\*(?!"+d(t,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+d(t,
"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+d(t,"CC_ALL")+'*?\\S)`"(?!'+d(t,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)`'(?!"+d(t,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+d(t,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)`(?!["+d(t,"CC_WORD")+"\"'`])",
"m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+d(t,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)_(?!"+d(t,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+d(t,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)#(?!"+d(t,"CG_WORD")+")","m")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];E=D.$dup();A=[2,["double","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)''(?!"+d(t,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[m(A.length,1)];A=[3,["single","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)'(?!"+d(t,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[m(A.length,
1)];A=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+d(t,"CC_ALL")+"+?)\\+\\+","m")]];e(E,"[]=",a.to_a(A));A[m(A.length,1)];A=[5,["monospaced","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)\\+(?!"+d(t,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[m(A.length,1)];E.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+d(t,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+d(t,"CC_ALL")+"*?\\S)'(?!"+d(t,"CG_WORD")+
")","m")]);a.const_set(t[0],"QUOTE_SUBS",h(!1,D,!0,E));E=D=g;a.const_set(t[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+d(t,"CG_WORD")+")\\\\?--(?="+d(t,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+d(t,"CG_ALNUM")+")\\\\?'(?="+d(t,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;",
"none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);(function(h,l){var n=[h].concat(l),q,t,u,v;a.def(h,"$load",q=function(c,k){var h,l,q,t,u,v=g,x=g,w=g,y=g,z=g,A=g,C=g,D=g,E=g,F=g,G=g,J=g,Q=g,S=g;null==k&&(k=r([],{}));try{k=k.$dup();f(v=k["$[]"]("timings"))&&v.$start("read");f(f(h=x=k["$[]"]("logger"))?x["$!="](d(n,"LoggerManager").$logger()):
h)&&(w=[x],e(d(n,"LoggerManager"),"logger=",a.to_a(w)),w[m(w.length,1)]);f((y=k["$[]"]("attributes"))["$!"]())?y=r([],{}):f(f(h=b("::","Hash")["$==="](y))?h:f(l=b("::","RUBY_ENGINE_JRUBY"))?b(b(b("::","Java"),"JavaUtil"),"Map")["$==="](y):l)?y=y.$dup():f(b("::","Array")["$==="](y))?(h=[r([],{}),y],y=h[0],z=h[1],h,e(z,"each",[],(q=function(b){var c,d=g,k=g;null==b&&(b=g);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?g:b[0];k=null==b[1]?g:b[1];c;w=[d,f(b=k)?b:""];e(y,"[]=",a.to_a(w));return w[m(w.length,
1)]},q.$$s=this,q.$$arity=1,q))):f(b("::","String")["$==="](y))?(h=[r([],{}),y.$gsub(d(n,"SpaceDelimiterRx"),"\\1"+d(n,"NULL")).$gsub(d(n,"EscapedSpaceRx"),"\\1").$split(d(n,"NULL"))],y=h[0],z=h[1],h,e(z,"each",[],(t=function(b){var c,d=g,k=g;null==b&&(b=g);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?g:b[0];k=null==b[1]?g:b[1];c;w=[d,f(b=k)?b:""];e(y,"[]=",a.to_a(w));return w[m(w.length,1)]},t.$$s=this,t.$$arity=1,t))):f(f(h=y["$respond_to?"]("keys"))?y["$respond_to?"]("[]"):h)?y=b("::","Hash")["$[]"](e(y.$keys(),
"map",[],(u=function(a){null==a&&(a=g);return[a,y["$[]"](a)]},u.$$s=this,u.$$arity=1,u))):this.$raise(b("::","ArgumentError"),"illegal type for attributes option: "+p(y.$class().$ancestors()," < "));A=g;if(f(b("::","File")["$==="](c)))C=b("::","File").$expand_path(c.$path()),D=f(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?b("::","Time").$at(this.$Integer(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():c.$mtime(),A=c.$readlines(),w=["docfile",C],e(y,"[]=",a.to_a(w)),w[m(w.length,1)],w=["docdir",
b("::","File").$dirname(C)],e(y,"[]=",a.to_a(w)),w[m(w.length,1)],w=["docname",d(n,"Helpers").$basename(C,(w=["docfilesuffix",b("::","File").$extname(C)],e(y,"[]=",a.to_a(w)),w[m(w.length,1)]))],e(y,"[]=",a.to_a(w)),w[m(w.length,1)],f(E=y["$[]"]("docdate"))?f(h=y["$[]"]("docyear"))?h:(w=["docyear",E.$index("-")["$=="](4)?E.$slice(0,4):g],e(y,"[]=",a.to_a(w)),w[m(w.length,1)]):(E=(w=["docdate",D.$strftime("%Y-%m-%d")],e(y,"[]=",a.to_a(w)),w[m(w.length,1)]),f(h=y["$[]"]("docyear"))?h:(w=["docyear",
D.$year().$to_s()],e(y,"[]=",a.to_a(w)),w[m(w.length,1)])),F=f(h=y["$[]"]("doctime"))?h:(w=["doctime",D.$strftime("%H:%M:%S %Z")],e(y,"[]=",a.to_a(w)),w[m(w.length,1)]),w=["docdatetime",""+E+" "+F],e(y,"[]=",a.to_a(w)),w[m(w.length,1)];else if(f(c["$respond_to?"]("readlines"))){try{c.$rewind()}catch(T){if(a.rescue(T,[d(n,"StandardError")]))try{g}finally{a.pop_exception()}else throw T;}A=c.$readlines()}else f(b("::","String")["$==="](c))?A=f(b("::","RUBY_MIN_VERSION_2"))?c.$lines():c.$each_line().$to_a():
f(b("::","Array")["$==="](c))?A=c.$dup():this.$raise(b("::","ArgumentError"),"unsupported input type: "+c.$class());f(v)&&(v.$record("read"),v.$start("parse"));w=["attributes",y];e(k,"[]=",a.to_a(w));w[m(w.length,1)];G=k["$[]"]("parse")["$=="](!1)?d(n,"Document").$new(A,k):d(n,"Document").$new(A,k).$parse();f(v)&&v.$record("parse");return G}catch(T){if(a.rescue(T,[d(n,"StandardError")])){J=T;try{try{Q="asciidoctor: FAILED: "+(f(h=y["$[]"]("docfile"))?h:"<stdin>")+": Failed to load AsciiDoc document",
f(J["$respond_to?"]("exception"))?(S=J.$exception(""+Q+" - "+J.$message()),S.$set_backtrace(J.$backtrace())):(S=J.$class().$new(Q,J),w=[J.$stack_trace()],e(S,"stack_trace=",a.to_a(w)),w[m(w.length,1)])}catch(ba){if(a.rescue(ba,[d(n,"StandardError")]))try{S=J}finally{a.pop_exception()}else throw ba;}return this.$raise(S)}finally{a.pop_exception()}}else throw T;}},q.$$arity=-2);a.def(h,"$load_file",t=function(a,c){var d;null==c&&(c=r([],{}));return e(b("::","File"),"open",[a,"rb"],(d=function(a){var b=
d.$$s||this;null==a&&(a=g);return b.$load(a,c)},d.$$s=this,d.$$arity=1,d))},t.$$arity=-2);a.def(h,"$convert",u=function(h,l){var p,q,t,u,v,w=g,x=g,y=g,z=g,A=g,C=g,D=g,E=v=z=g,F=z=g,G=w=w=D=A=g,J=D=A=g,M=x=w=C=g,Q=y=g;null==l&&(l=r([],{}));l=l.$dup();l.$delete("parse");w=l.$delete("to_file");x=l.$delete("to_dir");y=f(p=l.$delete("mkdirs"))?p:!1;z=w;if((!0)["$==="](z)||g["$==="](z))A=f(p=x["$!"]())?b("::","File")["$==="](h):p,C=!1,D=x,w=g;else if((!1)["$==="](z))D=C=A=!1,w=g;else{if("/dev/null"["$==="](z))return this.$load(h,
l);A=!1;f(C=w["$respond_to?"]("write"))?D=!1:(z=["to_file",w],e(l,"[]=",a.to_a(z)),D=z[m(z.length,1)])}!f(l["$key?"]("header_footer"))&&f(f(p=A)?p:D)&&(z=["header_footer",!0],e(l,"[]=",a.to_a(z)),z[m(z.length,1)]);f(A)?(v=b("::","File").$expand_path(h.$path()),z=["to_dir",E=b("::","File").$dirname(v)],e(l,"[]=",a.to_a(z)),z[m(z.length,1)]):f(D)&&(f(x)?(z=f(w)?["to_dir",b("::","File").$dirname(b("::","File").$expand_path(b("::","File").$join(x,w)))]:["to_dir",b("::","File").$expand_path(x)],e(l,"[]=",
a.to_a(z)),z[m(z.length,1)]):f(w)&&(z=["to_dir",b("::","File").$dirname(b("::","File").$expand_path(w))],e(l,"[]=",a.to_a(z)),z[m(z.length,1)]));z=this.$load(h,l);f(A)?(F=b("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix()),F["$=="](v)&&this.$raise(b("::","IOError"),"input file and output file cannot be the same: "+F)):f(D)?(A=f(l["$key?"]("base_dir"))?b("::","File").$expand_path(l["$[]"]("base_dir")):b("::","Dir").$pwd(),D=f(c(z.$safe(),b(d(n,"SafeMode"),"SAFE")))?A:g,
f(x)?(E=z.$normalize_system_path(x,A,D,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),f(w)?(F=z.$normalize_system_path(w,E,g,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=b("::","File").$dirname(F)):F=b("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix())):f(w)&&(F=z.$normalize_system_path(w,A,D,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=b("::","File").$dirname(F)),f(f(p=b("::","File")["$==="](h))?F["$=="](b("::",
"File").$expand_path(h.$path())):p)&&this.$raise(b("::","IOError"),"input file and output file cannot be the same: "+F),f(y)?d(n,"Helpers").$mkdir_p(E):f(b("::","File")["$directory?"](E))||this.$raise(b("::","IOError"),"target directory does not exist: "+x+" (hint: set mkdirs option)")):(F=w,E=g);w=f(f(p=F)?C["$!"]():p)?r(["outfile","outdir"],{outfile:F,outdir:E}):r([],{});w=z.$convert(w);return f(F)?(z.$write(w,F),f(v=C["$!"]())&&(v=z.$safe(),F=b(d(n,"SafeMode"),"SECURE"),v="number"===typeof v&&
"number"===typeof F?v<F:v["$<"](F)),f(f(p=f(q=f(t=f(u=v)?z["$attr?"]("linkcss"):u)?z["$attr?"]("copycss"):t)?z["$attr?"]("basebackend-html"):q)?(f(q=G=z.$attr("stylesdir"))?d(n,"Helpers")["$uriish?"](G):q)["$!"]():p)&&(D=A=!1,f(J=z.$attr("stylesheet"))&&(f(d(n,"DEFAULT_STYLESHEET_KEYS")["$include?"](J))?A=!0:f(d(n,"Helpers")["$uriish?"](J)["$!"]())&&(D=!0)),C=f(p=z["$attr?"]("source-highlighter","coderay"))?z.$attr("coderay-css","class")["$=="]("class"):p,w=f(p=z["$attr?"]("source-highlighter","pygments"))?
z.$attr("pygments-css","class")["$=="]("class"):p,f(f(p=f(q=f(t=A)?t:D)?q:C)?p:w)&&(x=z.$normalize_system_path(G,E,f(c(z.$safe(),b(d(n,"SafeMode"),"SAFE")))?E:g),f(y)?d(n,"Helpers").$mkdir_p(x):f(b("::","File")["$directory?"](x))||this.$raise(b("::","IOError"),"target stylesheet directory does not exist: "+x+" (hint: set mkdirs option)"),f(A)?d(n,"Stylesheets").$instance().$write_primary_stylesheet(x):f(D)&&(M=f((M=z.$attr("copycss"))["$empty?"]())?z.$normalize_system_path(J):z.$normalize_system_path(M),
y=z.$normalize_system_path(J,x,f(c(z.$safe(),b(d(n,"SafeMode"),"SAFE")))?E:g),f(f(p=M["$!="](y))?Q=z.$read_asset(M,r(["warn_on_failure","label"],{warn_on_failure:b("::","File")["$file?"](y)["$!"](),label:"stylesheet"})):p)&&b("::","IO").$write(y,Q)),f(C)?d(n,"Stylesheets").$instance().$write_coderay_stylesheet(x):f(w)&&d(n,"Stylesheets").$instance().$write_pygments_stylesheet(x,z.$attr("pygments-style")))),z):w},u.$$arity=-2);a.alias(h,"render","convert");a.def(h,"$convert_file",v=function(a,c){var d;
null==c&&(c=r([],{}));return e(b("::","File"),"open",[a,"rb"],(d=function(a){var b=d.$$s||this;null==a&&(a=g);return b.$convert(a,c)},d.$$s=this,d.$$arity=1,d))},v.$$arity=-2);a.alias(h,"render_file","convert_file");d(n,"RUBY_ENGINE")["$=="]("opal");return g})(a.get_singleton_class(x),t);d(t,"RUBY_ENGINE")["$=="]("opal")?(x.$require("asciidoctor/timings"),x.$require("asciidoctor/version")):g})(l[0],l);q.$require("asciidoctor/core_ext");q.$require("asciidoctor/helpers");q.$require("asciidoctor/substitutors");
q.$require("asciidoctor/abstract_node");q.$require("asciidoctor/abstract_block");q.$require("asciidoctor/attribute_list");q.$require("asciidoctor/block");q.$require("asciidoctor/callouts");q.$require("asciidoctor/converter");q.$require("asciidoctor/document");q.$require("asciidoctor/inline");q.$require("asciidoctor/list");q.$require("asciidoctor/parser");q.$require("asciidoctor/path_resolver");q.$require("asciidoctor/reader");q.$require("asciidoctor/section");q.$require("asciidoctor/stylesheets");
q.$require("asciidoctor/table");return d(l,"RUBY_ENGINE")["$=="]("opal")?q.$require("asciidoctor/js/postscript"):g})(Opal);var D=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},t=function(a){var c={},m=0,p=a.$$keys;a=a.$$smap;for(var q=p.length;m<q;m++){var l=p[m];c[l]=a[l]}return c},y=function(a){if(a=D(a)){var c=a["$[]"]("attributes");c&&"object"===typeof c&&"Object"===c.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",D(c)))}return a},p=Opal.Asciidoctor.$$class;p.prototype.getCoreVersion=
function(){return this.$$const.VERSION};p.prototype.convert=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var m=this.$convert(a,y(c));return m===Opal.nil?"":m};p.prototype.convertFile=function(a,c){return this.$convert_file(a,y(c))};p.prototype.load=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,y(c))};p.prototype.loadFile=function(a,c){return this.$load_file(a,y(c))};var m=Opal.Asciidoctor.AbstractBlock;
m.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};m.prototype.getCaptionedTitle=function(){return this.$captioned_title()};m.prototype.getStyle=function(){return this.style};m.prototype.getCaption=function(){return this.$caption()};m.prototype.setCaption=function(a){this.caption=a};m.prototype.getLevel=function(){return this.level};m.prototype.getSubstitutions=function(){return this.subs};m.prototype.hasSubstitution=function(a){return this["$sub?"](a)};m.prototype.removeSubstitution=
function(a){this.$remove_sub(a)};m.prototype.getBlocks=function(){return this.blocks};m.prototype.getContent=function(){return this.$content()};m.prototype.convert=function(){return this.$convert()};m.prototype.findBy=function(a,c){return"undefined"===typeof c&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof c?Opal.send(this,"find_by",[D(a)],c):this.$find_by(D(a))};m.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};m.prototype.hasSections=
function(){return this["$sections?"]()};m.prototype.getSections=function(){return this.$sections()};m=Opal.Asciidoctor.Section;m.prototype.getIndex=function(){return this.index};m.prototype.setIndex=function(a){this.index=a};m.prototype.getSectionName=function(){return this.sectname};m.prototype.setSectionName=function(a){this.sectname=a};m.prototype.isSpecial=function(){return this.special};m.prototype.setSpecial=function(a){this.special=a};m.prototype.isNumbered=function(){return this.numbered};
m.prototype.getCaption=function(){var a=this.caption;return a===Opal.nil?void 0:a};m.prototype.getName=function(){return this.getTitle()};m=Opal.Asciidoctor.Block;m.prototype.getSource=function(){return this.$source()};m.prototype.getSourceLines=function(){return this.lines};m=Opal.Asciidoctor.AbstractNode;m.prototype.getAttributes=function(){return Object.assign({},this.attributes.$$smap)};m.prototype.getAttribute=function(a,c,m){a=this.$attr(a,c,m);return a===Opal.nil?void 0:a};m.prototype.hasAttribute=
function(a){return a in this.attributes.$$smap};m.prototype.isAttribute=function(a,c,m){a=this["$attr?"](a,c,m);return a===Opal.nil?!1:a};m.prototype.setAttribute=function(a,c,m){"undefined"===typeof m&&(m=!0);return this.$set_attr(a,c,m)};m.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};m.prototype.getDocument=function(){return this.document};m.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};m.prototype.isInline=function(){return this["$inline?"]()};
m.prototype.isBlock=function(){return this["$block?"]()};m.prototype.isRole=function(a){return this["$role?"](a)};m.prototype.getRole=function(){return this.$role()};m.prototype.hasRole=function(a){return this["$has_role?"](a)};m.prototype.getRoles=function(){return this.$roles()};m.prototype.addRole=function(a){return this.$add_role(a)};m.prototype.removeRole=function(a){return this.$remove_role(a)};m.prototype.isReftext=function(){return this["$reftext?"]()};m.prototype.getReftext=function(){return this.$reftext()};
m.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};m.prototype.getId=function(){return this.id};m.prototype.isOption=function(a){return this["$option?"](a)};m.prototype.setOption=function(a){return this.$set_option(a)};m.prototype.getIconUri=function(a){return this.$icon_uri(a)};m.prototype.getMediaUri=function(a,c){return this.$media_uri(a,c)};m.prototype.getImageUri=function(a,c){return this.$image_uri(a,c)};m.prototype.getConverter=function(){return this.$converter()};
m.prototype.readContents=function(a,c){return this.$read_contents(a,D(c))};m.prototype.readAsset=function(a,c){return this.$read_asset(a,D(c))};m.prototype.normalizeWebPath=function(a,c,m){return this.$normalize_web_path(a,c,m)};m.prototype.normalizeSystemPath=function(a,c,m,p){return this.$normalize_system_path(a,c,m,D(p))};m.prototype.normalizeAssetPath=function(a,c,m){return this.$normalize_asset_path(a,c,m)};var x=Opal.Asciidoctor.Document;x.prototype.getHeader=function(){return this.header};
x.prototype.setAttribute=function(a,c){return this.$set_attribute(a,c)};x.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};x.prototype.convert=function(a){a=this.$convert(D(a));return a===Opal.nil?"":a};x.prototype.write=function(a,c){return this.$write(a,c)};x.prototype.getAuthor=function(){return this.$author()};x.prototype.getSource=function(){return this.$source()};x.prototype.getSourceLines=function(){return this.$source_lines()};x.prototype.isNested=
function(){return this["$nested?"]()};x.prototype.hasFootnotes=function(){return this["$footnotes?"]()};x.prototype.getFootnotes=function(){return this.$footnotes()};x.prototype.isEmbedded=function(){return this["$embedded?"]()};x.prototype.hasExtensions=function(){return this["$extensions?"]()};x.prototype.getDoctype=function(){return this.doctype};x.prototype.getBackend=function(){return this.backend};x.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};x.prototype.getTitle=function(){var a=
this.$title();return a===Opal.nil?void 0:a};x.prototype.setTitle=function(a){return this["$title="](a)};x.prototype.getDocumentTitle=function(a){a=this.$doctitle(D(a));return a===Opal.nil?void 0:a};x.prototype.getDoctitle=x.prototype.getDocumentTitle;x.prototype.getCatalog=function(){return t(this.catalog)};x.prototype.getReferences=x.prototype.getCatalog;x.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};x.prototype.getRevdate=function(){return this.getRevisionDate()};x.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};x.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};x.RevisionInfo=function(a,c,m){this.date=a;this.number=c;this.remark=m};m=x.RevisionInfo;m.prototype.getDate=function(){return this.date};m.prototype.getNumber=function(){return this.number};m.prototype.getRemark=function(){return this.remark};m.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};x.prototype.getRevisionInfo=
function(){return new x.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};x.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};x.prototype.getNotitle=function(){return this.$notitle()};x.prototype.getNoheader=function(){return this.$noheader()};x.prototype.getNofooter=function(){return this.$nofooter()};x.prototype.hasHeader=function(){return this["$header?"]()};x.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};
x.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};x.prototype.parse=function(a){return this.$parse(a)};x.prototype.getDocinfo=function(a,c){return this.$docinfo(a,c)};x.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};x.prototype.counterIncrement=function(a,c){return this.$counter_increment(a,c)};x.prototype.counter=function(a,c){return this.$counter(a,c)};x.prototype.getSafe=function(){return this.safe};x.prototype.getCompatMode=function(){return this.compat_mode};
x.prototype.getSourcemap=function(){return this.sourcemap};x.prototype.getCounters=function(){return t(this.counters)};x.prototype.getCallouts=function(){return this.$callouts()};x.prototype.getBaseDir=function(){return this.base_dir};x.prototype.getOptions=function(){return t(this.options)};x.prototype.getOutfilesuffix=function(){return this.outfilesuffix};x.prototype.getParentDocument=function(){return this.parent_document};x.prototype.getReader=function(){return this.reader};x.prototype.getConverter=
function(){return this.converter};x.prototype.getExtensions=function(){return this.extensions};m=x.Title;m.prototype.getMain=function(){return this.main};m.prototype.getCombined=function(){return this.combined};m.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};m.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};m.prototype.hasSubtitle=function(){return this["$subtitle?"]()};m=Opal.Asciidoctor.Inline;m.prototype.convert=function(){return this.$convert()};
m.prototype.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};m.prototype.getType=function(){return this.$type()};m.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.prototype.getItems=function(){return this.blocks};Opal.Asciidoctor.ListItem.prototype.getText=function(){return this.$text()};m=Opal.Asciidoctor.Reader;m.prototype.pushInclude=function(a,c,m,p,q){return this.$push_include(a,c,m,p,D(q))};m.prototype.getCursor=function(){return this.$cursor()};
m.prototype.getLines=function(){return this.$lines()};m.prototype.getString=function(){return this.$string()};m=Opal.Asciidoctor.Reader.Cursor;m.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};m.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};m.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};m.prototype.getLineNumber=function(){return this.lineno};m=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);if(Opal.Asciidoctor.LoggerManager=
m)m.getLogger=function(){return this.$logger()},m.setLogger=function(a){this.logger=a};m=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);if(Opal.Asciidoctor.MemoryLogger=m)m.prototype.getMessages=function(){for(var a=this.messages,c=[],m=0;m<a.length;m++){var p=t(a[m]);p.message=t(p.message);c.push(p)}return c};var q=function(a){a.$$arity=a.length;return a},E=function(a,c,m,p){return"object"===typeof m||m.$$is_class?a["$"+c](m,p):Opal.send(a,c,p&&[p],q(m))},v=Opal.const_get_qualified(Opal.Asciidoctor,
"Extensions");Opal.Asciidoctor.Extensions=v;v.create=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"build_registry",null,q(a)):"function"===typeof c?Opal.send(this,"build_registry",[a],q(c)):this.$build_registry()};v.register=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"register",null,q(a)):Opal.send(this,"register",[a],q(c))};v.getGroups=function(){return t(this.$groups())};v.unregisterAll=function(){this.$unregister_all()};
v.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),c=this.$groups(),m={},p=0,q=c.$$keys;p<q.length;p++){var l=q[p];m[l.toString()]=l}for(p=0;p<a.length;p++)q=a[p],q in m&&Opal.hash_delete(c,m[q])};m=v.Registry;m.prototype.getGroups=v.getGroups;m.prototype.unregisterAll=function(){this.groups=Opal.hash()};m.prototype.unregister=v.unregister;m.prototype.block=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"block",c,a)};m.prototype.inlineMacro=function(a,c){1===
arguments.length&&(c=a,a=null);return E(this,"inline_macro",c,a)};m.prototype.includeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"include_processor",c,a)};m.prototype.blockMacro=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"block_macro",c,a)};m.prototype.treeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"tree_processor",c,a)};m.prototype.postprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"postprocessor",
c,a)};m.prototype.preprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"preprocessor",c,a)};m.prototype.docinfoProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return E(this,"docinfo_processor",c,a)};m=v.Processor;m.prototype.prepend=function(){this.$option("position",">>")};m.prototype.process=function(a){a=new Proxy(a,{apply:function(a,c,m){for(var p=0;p<m.length;p++)"object"===typeof m[p]&&"$$smap"in m[p]&&(m[p]=t(m[p]));return a.apply(c,m)}});return Opal.send(this,
"process",null,q(a))};m.prototype.named=function(a){return this.$named(a)};m.prototype.createBlock=function(a,c,m,p,q){return this.$create_block(a,c,m,D(p),D(q))};m.prototype.createImageBlock=function(a,c,m){return this.$create_image_block(a,D(c),D(m))};m.prototype.createInline=function(a,c,m,p){return this.$create_inline(a,c,m,D(p))};m.prototype.parseContent=function(a,c,m){return this.$parse_content(a,c,m)};m.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};m=v.BlockProcessor;
m.prototype.onContext=function(a){return this.$on_context(a)};m.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};v.IncludeProcessor.prototype.handles=function(a){return Opal.send(this,"handles?",null,q(a))};v.DocinfoProcessor.prototype.atLocation=function(a){this.$at_location(a)};v.createPostprocessor=function(a,c){return A("Postprocessor",a,c)};v.newPostprocessor=function(a,c){return this.createPostprocessor(a,c).$new()};v.createPreprocessor=function(a,
c){return A("Preprocessor",a,c)};v.newPreprocessor=function(a,c){return this.createPreprocessor(a,c).$new()};v.createTreeProcessor=function(a,c){return A("TreeProcessor",a,c)};v.newTreeProcessor=function(a,c){return this.createTreeProcessor(a,c).$new()};v.createIncludeProcessor=function(a,c){return A("IncludeProcessor",a,c)};v.newIncludeProcessor=function(a,c){return this.createIncludeProcessor(a,c).$new()};v.createDocinfoProcessor=function(a,c){return A("DocinfoProcessor",a,c)};v.newDocinfoProcessor=
function(a,c){return this.createDocinfoProcessor(a,c).$new()};v.createBlockProcessor=function(a,c){return A("BlockProcessor",a,c)};v.newBlockProcessor=function(a,c){return this.createBlockProcessor(a,c).$new()};v.createInlineMacroProcessor=function(a,c){return A("InlineMacroProcessor",a,c)};v.newInlineMacroProcessor=function(a,c){return this.createInlineMacroProcessor(a,c).$new()};v.createBlockMacroProcessor=function(a,c){return A("BlockMacroProcessor",a,c)};v.newBlockMacroProcessor=function(a,c){return this.createBlockMacroProcessor(a,
c).$new()};m=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=m;m.prototype.convert=function(a,c,m){return this.$convert(a,c,D(m))};m.BuiltIn.prototype.convert=m.prototype.convert;m=Opal.Asciidoctor.Converter.Factory;m.getDefault=function(a){return this.$default(a)};m.prototype.create=function(a,c){return this.$create(a,D(c))};p.prototype.getVersion=function(){return"1.5.7-rc.1"};return Opal.Asciidoctor});
