!function(global,module){if(void 0===module)var module={exports:{}},exports=module.exports;module.exports=expect,expect.Assertion=Assertion,expect.version="0.1.1";var flags={not:["to","be","have","include","only"],to:["be","have","include","only","not"],only:["have"],have:["own"],be:["an"]};function expect(t){return new Assertion(t)}function Assertion(t,e,r){if(this.obj=t,this.flags={},null!=r)for(var o in this.flags[e]=!0,r.flags)r.flags.hasOwnProperty(o)&&(this.flags[o]=!0);var n=e?flags[e]:keys(flags),i=this;if(n){o=0;for(var s=n.length;o<s;o++)if(!this.flags[n[o]]){var p=n[o],a=new Assertion(this.obj,p,this);if("function"==typeof Assertion.prototype[p]){var f=this[p];for(var u in this[p]=function(){return f.apply(i,arguments)},Assertion.prototype)Assertion.prototype.hasOwnProperty(u)&&u!=p&&(this[p][u]=bind(a[u],a))}else this[p]=a}}}function bind(t,e){return function(){return t.apply(e,arguments)}}function every(t,e,r){for(var o=r||global,n=0,i=t.length;n<i;++n)if(!e.call(o,t[n],n,t))return!1;return!0}function indexOf(t,e,r){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,r);var o=t.length;for(r=r<0?r+o<0?0:r+o:r||0;r<o&&t[r]!==e;r++);return o<=r?-1:r}function i(t,u,e){var c=[];function h(t){return t}return function o(n,i){if(n&&"function"==typeof n.inspect&&n!==exports&&(!n.constructor||n.constructor.prototype!==n))return n.inspect(i);switch(typeof n){case"undefined":return h("undefined");case"string":return h("'"+json.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'");case"number":case"boolean":return h(""+n)}if(null===n)return h("null");var t,s,e,p=keys(n),r=u?Object.getOwnPropertyNames(n):p;if("function"==typeof n&&0===r.length)return isRegExp(n)?h(""+n):h("[Function"+(n.name?": "+n.name:"")+"]");if(isDate(n)&&0===r.length)return h(n.toUTCString());if(isArray(n)?(s="Array",e=["[","]"]):(s="Object",e=["{","}"]),"function"==typeof n){var a=n.name?": "+n.name:"";t=isRegExp(n)?" "+n:" [Function"+a+"]"}else t="";if(isDate(n)&&(t=" "+n.toUTCString()),0===r.length)return e[0]+t+e[1];if(i<0)return isRegExp(n)?h(""+n):h("[Object]");c.push(n);var f=map(r,function(t){var e,r;if(n.__lookupGetter__&&(n.__lookupGetter__(t)?r=n.__lookupSetter__(t)?h("[Getter/Setter]"):h("[Getter]"):n.__lookupSetter__(t)&&(r=h("[Setter]"))),indexOf(p,t)<0&&(e="["+t+"]"),r||(indexOf(c,n[t])<0?-1<(r=null===i?o(n[t]):o(n[t],i-1)).indexOf("\n")&&(r=isArray(n)?map(r.split("\n"),function(t){return"  "+t}).join("\n").substr(2):"\n"+map(r.split("\n"),function(t){return"   "+t}).join("\n")):r=h("[Circular]")),void 0===e){if("Array"===s&&t.match(/^\d+$/))return r;e=(e=json.stringify(""+t)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?h(e=e.substr(1,e.length-2)):h(e=e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"))}return e+": "+r});c.pop();return f=50<reduce(f,function(t,e){return indexOf(e,"\n"),t+e.length+1},0)?e[0]+(""===t?"":t+"\n ")+" "+f.join(",\n  ")+" "+e[1]:e[0]+t+" "+f.join(", ")+" "+e[1]}(t,void 0===e?2:e)}function isArray(t){return"[object Array]"==Object.prototype.toString.call(t)}function isRegExp(t){var e=""+t;return t instanceof RegExp||"function"==typeof t&&"RegExp"===t.constructor.name&&t.compile&&t.test&&t.exec&&e.match(/^\/.*\/[gim]{0,3}$/)}function isDate(t){return t instanceof Date}function keys(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}function map(t,e,r){if(Array.prototype.map)return Array.prototype.map.call(t,e,r);for(var o=new Array(t.length),n=0,i=t.length;n<i;n++)n in t&&(o[n]=e.call(r,t[n],n,t));return o}function reduce(t,e){if(Array.prototype.reduce)return Array.prototype.reduce.apply(t,Array.prototype.slice.call(arguments,1));var r=+this.length;if("function"!=typeof e)throw new TypeError;if(0===r&&1===arguments.length)throw new TypeError;var o=0;if(2<=arguments.length)var n=e;else for(;;){if(o in this){n=this[o++];break}if(++o>=r)throw new TypeError}for(;o<r;o++)o in this&&(n=e.call(null,n,this[o],o,this));return n}function isUndefinedOrNull(t){return null==t}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function objEquiv(t,e){if(isUndefinedOrNull(t)||isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(isArguments(t))return!!isArguments(e)&&(t=pSlice.call(t),e=pSlice.call(e),expect.eql(t,e));try{var r,o,n=keys(t),i=keys(e)}catch(t){return!1}if(n.length!=i.length)return!1;for(n.sort(),i.sort(),o=n.length-1;0<=o;o--)if(n[o]!=i[o])return!1;for(o=n.length-1;0<=o;o--)if(r=n[o],!expect.eql(t[r],e[r]))return!1;return!0}Assertion.prototype.assert=function(t,e,r){e=this.flags.not?r:e;if(!(this.flags.not?!t:t))throw new Error(e);this.and=new Assertion(this.obj)},Assertion.prototype.ok=function(){this.assert(!!this.obj,"expected "+i(this.obj)+" to be truthy","expected "+i(this.obj)+" to be falsy")},Assertion.prototype.throwException=function(){expect(this.obj).to.be.a("function");var e=!1;try{this.obj()}catch(t){e=!0}var t=this.obj.name||"fn";this.assert(e,"expected "+t+" to throw an exception","expected "+t+" not to throw an exception")},Assertion.prototype.empty=function(){return expect(this.obj).to.have.property("length"),this.assert(0===this.obj.length,"expected "+i(this.obj)+" to be empty","expected "+i(this.obj)+" to not be empty"),this},Assertion.prototype.be=Assertion.prototype.equal=function(t){return this.assert(t===this.obj,"expected "+i(this.obj)+" to equal "+i(t),"expected "+i(this.obj)+" to not equal "+i(t)),this},Assertion.prototype.eql=function(t){return this.assert(expect.eql(t,this.obj),"expected "+i(this.obj)+" to sort of equal "+i(t),"expected "+i(this.obj)+" to sort of not equal "+i(t)),this},Assertion.prototype.within=function(t,e){var r=t+".."+e;return this.assert(this.obj>=t&&this.obj<=e,"expected "+i(this.obj)+" to be within "+r,"expected "+i(this.obj)+" to not be within "+r),this},Assertion.prototype.a=Assertion.prototype.an=function(t){if("string"==typeof t)this.assert("array"==t?isArray(this.obj):t==typeof this.obj,"expected "+i(this.obj)+" to be a "+t,"expected "+i(this.obj)+" not to be a "+t);else{var e=t.name||"supplied constructor";this.assert(this.obj instanceof t,"expected "+i(this.obj)+" to be an instance of "+e,"expected "+i(this.obj)+" not to be an instance of "+e)}return this},Assertion.prototype.greaterThan=Assertion.prototype.above=function(t){return this.assert(this.obj>t,"expected "+i(this.obj)+" to be above "+t,"expected "+i(this.obj)+" to be below "+t),this},Assertion.prototype.lessThan=Assertion.prototype.below=function(t){return this.assert(this.obj<t,"expected "+i(this.obj)+" to be below "+t,"expected "+i(this.obj)+" to be above "+t),this},Assertion.prototype.match=function(t){return this.assert(t.exec(this.obj),"expected "+i(this.obj)+" to match "+t,"expected "+i(this.obj)+" not to match "+t),this},Assertion.prototype.length=function(t){expect(this.obj).to.have.property("length");var e=this.obj.length;return this.assert(t==e,"expected "+i(this.obj)+" to have a length of "+t+" but got "+e,"expected "+i(this.obj)+" to not have a length of "+e),this},Assertion.prototype.property=function(t,e){if(this.flags.own)return this.assert(Object.prototype.hasOwnProperty.call(this.obj,t),"expected "+i(this.obj)+" to have own property "+i(t),"expected "+i(this.obj)+" to not have own property "+i(t)),this;if(this.flags.not&&void 0!==e){if(void 0===this.obj[t])throw new Error(i(this.obj)+" has no property "+i(t))}else this.assert(void 0!==this.obj[t],"expected "+i(this.obj)+" to have a property "+i(t),"expected "+i(this.obj)+" to not have a property "+i(t));return void 0!==e&&this.assert(e===this.obj[t],"expected "+i(this.obj)+" to have a property "+i(t)+" of "+i(e)+", but got "+i(this.obj[t]),"expected "+i(this.obj)+" to not have a property "+i(t)+" of "+i(e)),this.obj=this.obj[t],this},Assertion.prototype.string=Assertion.prototype.contain=function(t){return"string"==typeof this.obj?this.assert(~this.obj.indexOf(t),"expected "+i(this.obj)+" to contain "+i(t),"expected "+i(this.obj)+" to not contain "+i(t)):this.assert(~indexOf(this.obj,t),"expected "+i(this.obj)+" to contain "+i(t),"expected "+i(this.obj)+" to not contain "+i(t)),this},Assertion.prototype.key=Assertion.prototype.keys=function(t){var e,r=!0;if(!(t=isArray(t)?t:Array.prototype.slice.call(arguments)).length)throw new Error("keys required");var o=keys(this.obj),n=t.length;if(r=every(t,function(t){return~indexOf(o,t)}),!this.flags.not&&this.flags.only&&(r=r&&t.length==o.length),1<n){var s=(t=map(t,function(t){return i(t)})).pop();e=t.join(", ")+", and "+s}else e=i(t[0]);return e=(1<n?"keys ":"key ")+e,e=(this.flags.only?"only have ":"include ")+e,this.assert(r,"expected "+i(this.obj)+" to "+e,"expected "+i(this.obj)+" to not "+e),this},expect.eql=function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:objEquiv(t,e)};var json=function(){"use strict";if("object"==typeof JSON&&JSON.parse&&JSON.stringify)return{parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON={};function f(t){return t<10?"0"+t:t}function date(t,e){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,o,n,i,s,p=gap,a=e[t];switch(a instanceof Date&&(a=date(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(a)){for(i=a.length,r=0;r<i;r+=1)s[r]=str(r,a)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+p+"]":"["+s.join(",")+"]",gap=p,n}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;r<i;r+=1)"string"==typeof rep[r]&&(n=str(o=rep[r],a))&&s.push(quote(o)+(gap?": ":":")+n);else for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n=str(o,a))&&s.push(quote(o)+(gap?": ":":")+n);return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+p+"}":"{"+s.join(",")+"}",gap=p,n}}return JSON.stringify=function(t,e,r){var o;if(indent=gap="","number"==typeof r)for(o=0;o<r;o+=1)indent+=" ";else"string"==typeof r&&(indent=r);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})},JSON.parse=function(text,reviver){var j;function walk(t,e){var r,o,n=t[e];if(n&&"object"==typeof n)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(void 0!==(o=walk(n,r))?n[r]=o:delete n[r]);return reviver.call(t,e,n)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},JSON}();"undefined"!=typeof window&&(window.expect=module.exports)}(this,"undefined"!=typeof module?module:{},"undefined"!=typeof exports?exports:{});