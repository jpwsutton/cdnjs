!function(h){function u(e,t){t&&e.append(t.jquery?t.clone():t)}function v(e,t,n){var a,i,o,r=t.clone(n.formValues);n.formValues&&(a=r,i="select, textarea",o=t.find(i),a.find(i).each(function(e,t){h(t).val(o.eq(e).val())})),n.removeScripts&&r.find("script").remove(),n.printContainer?r.appendTo(e):r.each(function(){h(this).children().appendTo(e)})}var y;h.fn.printThis=function(e){y=h.extend({},h.fn.printThis.defaults,e);var m=this instanceof jQuery?this:h(this),t="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var n='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',a=document.createElement("iframe");a.name="printIframe",a.id=t,a.className="MSIE",document.body.appendChild(a),a.src=n}else{h("<iframe id='"+t+"' name='printIframe' />").appendTo("body")}var f=h("#"+t);y.debug||f.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),setTimeout(function(){var e,t,n,a;y.doctypeString&&(e=f,t=y.doctypeString,(a=(n=(n=e.get(0)).contentWindow||n.contentDocument||n).document||n.contentDocument||n).open(),a.write(t),a.close());var i,o=f.contents(),r=o.find("head"),s=o.find("body"),d=h("base");i=!0===y.base&&0<d.length?d.attr("href"):"string"==typeof y.base?y.base:document.location.protocol+"//"+document.location.host,r.append('<base href="'+i+'">'),y.importCSS&&h("link[rel=stylesheet]").each(function(){var e=h(this).attr("href");if(e){var t=h(this).attr("media")||"all";r.append("<link type='text/css' rel='stylesheet' href='"+e+"' media='"+t+"'>")}}),y.importStyle&&h("style").each(function(){r.append(this.outerHTML)}),y.pageTitle&&r.append("<title>"+y.pageTitle+"</title>"),y.loadCSS&&(h.isArray(y.loadCSS)?jQuery.each(y.loadCSS,function(e,t){r.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):r.append("<link type='text/css' rel='stylesheet' href='"+y.loadCSS+"'>"));var c=y.copyTagClasses;if(c&&(-1!==(c=!0===c?"bh":c).indexOf("b")&&s.addClass(h("body")[0].className),-1!==c.indexOf("h")&&o.find("html").addClass(h("html")[0].className)),u(s,y.header),y.canvas){var p=0;m.find("canvas").addBack("canvas").each(function(){h(this).attr("data-printthis",p++)})}if(v(s,m,y),y.canvas&&s.find("canvas").each(function(){var e=h(this).data("printthis"),t=h('[data-printthis="'+e+'"]');this.getContext("2d").drawImage(t[0],0,0),t.removeData("printthis")}),y.removeInline){var l=y.removeInlineSelector||"*";h.isFunction(h.removeAttr)?s.find(l).removeAttr("style"):s.find(l).attr("style","")}u(s,y.footer),setTimeout(function(){f.hasClass("MSIE")?(window.frames.printIframe.focus(),r.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?f[0].contentWindow.document.execCommand("print",!1,null):(f[0].contentWindow.focus(),f[0].contentWindow.print()),y.debug||setTimeout(function(){f.remove()},1e3)},y.printDelay)},333)},h.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:333,header:null,footer:null,formValues:!0,canvas:!1,base:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1}}(jQuery);