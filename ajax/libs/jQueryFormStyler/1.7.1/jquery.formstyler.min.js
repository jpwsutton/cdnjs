/* jQuery Form Styler v1.7.1 | (c) Dimox | https://github.com/Dimox/jQueryFormStyler */
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(function(b){function v(c,a){this.element=c;this.options=b.extend({},L,a);this.init()}function D(c){if(!b(c.target).parents().hasClass("jq-selectbox")&&"OPTION"!=c.target.nodeName&&b("div.jq-selectbox.opened").length){c=b("div.jq-selectbox.opened");var a=b("div.jq-selectbox__search input",c),e=b("div.jq-selectbox__dropdown",c);c.find("select").data("_"+
k).options.onSelectClosed.call(c);a.length&&a.val("").keyup();e.hide().find("li.sel").addClass("selected");c.removeClass("focused opened dropup dropdown")}}var k="styler",L={wrapper:"form",idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",fileBrowse:"\u041e\u0431\u0437\u043e\u0440...",selectPlaceholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",
selectSearchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};v.prototype={init:function(){function c(){var b="",d="",c="",h="";void 0!==a.attr("id")&&""!==a.attr("id")&&(b=' id="'+a.attr("id")+e.idSuffix+'"');void 0!==a.attr("title")&&""!==a.attr("title")&&(d=' title="'+a.attr("title")+'"');void 0!==a.attr("class")&&""!==a.attr("class")&&(c=" "+
a.attr("class"));var m=a.data(),w;for(w in m)""!==m[w]&&(h+=" data-"+w+'="'+m[w]+'"');this.id=b+h;this.title=d;this.classes=c}var a=b(this.element),e=this.options,p=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1,k=navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i)?!0:!1;if(a.is(":checkbox")){var v=function(){var e=new c,d=b("<div"+e.id+' class="jq-checkbox'+e.classes+'"'+e.title+'><div class="jq-checkbox__div"></div></div>');
a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(d).prependTo(d);d.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"});a.is(":checked")&&d.addClass("checked");a.is(":disabled")&&d.addClass("disabled");d.on("click.styler",function(){d.is(".disabled")||(a.is(":checked")?(a.prop("checked",!1),d.removeClass("checked")):
(a.prop("checked",!0),d.addClass("checked")),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').on("click.styler",function(a){b(a.target).is("a")||(d.click(),a.preventDefault())});a.on("change.styler",function(){a.is(":checked")?d.addClass("checked"):d.removeClass("checked")}).on("keydown.styler",function(a){32==a.which&&d.click()}).on("focus.styler",function(){d.is(".disabled")||d.addClass("focused")}).on("blur.styler",function(){d.removeClass("focused")})};v();a.on("refresh",
function(){a.off(".styler").parent().before(a).remove();v()})}else if(a.is(":radio")){var E=function(){var p=new c,d=b("<div"+p.id+' class="jq-radio'+p.classes+'"'+p.title+'><div class="jq-radio__div"></div></div>');a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(d).prependTo(d);d.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"});
a.is(":checked")&&d.addClass("checked");a.is(":disabled")&&d.addClass("disabled");d.on("click.styler",function(){d.is(".disabled")||(d.closest(e.wrapper).find('input[name="'+a.attr("name")+'"]').prop("checked",!1).parent().removeClass("checked"),a.prop("checked",!0).parent().addClass("checked"),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').on("click.styler",function(a){b(a.target).is("a")||(d.click(),a.preventDefault())});a.on("change.styler",function(){a.parent().addClass("checked")}).on("focus.styler",
function(){d.is(".disabled")||d.addClass("focused")}).on("blur.styler",function(){d.removeClass("focused")})};E();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();E()})}else if(a.is(":file")){a.css({position:"absolute",top:0,right:0,width:"100%",height:"100%",opacity:0,margin:0,padding:0});var z=function(){var p=new c,d=a.data("placeholder");void 0===d&&(d=e.filePlaceholder);var k=a.data("browse");if(void 0===k||""===k)k=e.fileBrowse;var h=b("<div"+p.id+' class="jq-file'+p.classes+
'"'+p.title+' style="display: inline-block; position: relative; overflow: hidden"></div>'),m=b('<div class="jq-file__name">'+d+"</div>").appendTo(h);b('<div class="jq-file__browse">'+k+"</div>").appendTo(h);a.after(h);h.append(a);a.is(":disabled")&&h.addClass("disabled");a.on("change.styler",function(){var b=a.val();if(a.is("[multiple]"))for(var b="",c=a[0].files,g=0;g<c.length;g++)b+=(0<g?", ":"")+c[g].name;m.text(b.replace(/.+[\\\/]/,""));""===b?(m.text(d),h.removeClass("changed")):h.addClass("changed")}).on("focus.styler",
function(){h.addClass("focused")}).on("blur.styler",function(){h.removeClass("focused")}).on("click.styler",function(){h.removeClass("focused")})};z();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();z()})}else if(a.is("select")){var C=function(){function v(a){a.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(a){var c=null;"mousewheel"==a.type?c=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"==a.type&&(c=40*a.originalEvent.detail);c&&(a.stopPropagation(),
a.preventDefault(),b(this).scrollTop(c+b(this).scrollTop()))})}function d(){for(var a=0;a<m.length;a++){var b=m.eq(a),c="",d="",p=c="",h="",s="",t="",u="",f="";b.prop("selected")&&(d="selected sel");b.is(":disabled")&&(d="disabled");b.is(":selected:disabled")&&(d="selected sel disabled");void 0!==b.attr("id")&&""!==b.attr("id")&&(p=' id="'+b.attr("id")+e.idSuffix+'"');void 0!==b.attr("title")&&""!==m.attr("title")&&(h=' title="'+b.attr("title")+'"');void 0!==b.attr("class")&&(t=" "+b.attr("class"),
f=' data-jqfs-class="'+b.attr("class")+'"');var k=b.data(),q;for(q in k)""!==k[q]&&(s+=" data-"+q+'="'+k[q]+'"');""!==d+t&&(c=' class="'+d+t+'"');c="<li"+f+s+c+h+p+">"+b.html()+"</li>";b.parent().is("optgroup")&&(void 0!==b.parent().attr("class")&&(u=" "+b.parent().attr("class")),c="<li"+f+s+' class="'+d+t+" option"+u+'"'+h+p+">"+b.html()+"</li>",b.is(":first-child")&&(c='<li class="optgroup'+u+'">'+b.parent().attr("label")+"</li>"+c));w+=c}}function E(){var h=new c,g="",k=a.data("placeholder"),y=
a.data("search"),F=a.data("search-limit"),x=a.data("search-not-found"),s=a.data("search-placeholder"),t=a.data("z-index"),u=a.data("smart-positioning");void 0===k&&(k=e.selectPlaceholder);if(void 0===y||""===y)y=e.selectSearch;if(void 0===F||""===F)F=e.selectSearchLimit;if(void 0===x||""===x)x=e.selectSearchNotFound;void 0===s&&(s=e.selectSearchPlaceholder);if(void 0===t||""===t)t=e.singleSelectzIndex;if(void 0===u||""===u)u=e.selectSmartPositioning;var f=b("<div"+h.id+' class="jq-selectbox jqselect'+
h.classes+'" style="display: inline-block; position: relative; z-index:'+t+'"><div class="jq-selectbox__select"'+h.title+' style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');a.css({margin:0,padding:0}).after(f).prependTo(f);var J=b("div.jq-selectbox__select",f),q=b("div.jq-selectbox__select-text",f),h=m.filter(":selected");d();y&&(g='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+
s+'"></div><div class="jq-selectbox__not-found">'+x+"</div>");var l=b('<div class="jq-selectbox__dropdown" style="position: absolute">'+g+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+w+"</ul></div>");f.append(l);var r=b("ul",l),n=b("li",l),A=b("input",l),I=b("div.jq-selectbox__not-found",l).hide();n.length<F&&A.parent().hide();""===a.val()?q.text(k).addClass("placeholder"):q.text(h.text());var B=0,z=0;n.each(function(){var a=b(this);a.css({display:"inline-block"});
a.innerWidth()>B&&(B=a.innerWidth(),z=a.width());a.css({display:""})});q.is(".placeholder")&&q.width()>B?q.width(q.width()):(g=f.clone().appendTo("body").width("auto"),y=g.outerWidth(),g.remove(),y==f.outerWidth()&&q.width(z));B>f.width()&&l.width(B);""===m.first().text()&&""!==a.data("placeholder")&&n.first().hide();a.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var C=f.outerHeight(),G=A.outerHeight(),H=r.css("max-height"),g=n.filter(".selected");1>g.length&&n.first().addClass("selected sel");
void 0===n.data("li-height")&&n.data("li-height",n.outerHeight());var K=l.css("top");"auto"==l.css("left")&&l.css({left:0});"auto"==l.css("top")&&l.css({top:C});l.hide();g.length&&(m.first().text()!=h.text()&&f.addClass("changed"),f.data("jqfs-class",g.data("jqfs-class")),f.addClass(g.data("jqfs-class")));if(a.is(":disabled"))return f.addClass("disabled"),!1;J.click(function(){b("div.jq-selectbox").filter(".opened").length&&e.onSelectClosed.call(b("div.jq-selectbox").filter(".opened"));a.focus();
if(!p){var c=b(window),d=n.data("li-height"),s=f.offset().top,h=c.height()-C-(s-c.scrollTop()),g=a.data("visible-options");if(void 0===g||""===g)g=e.selectVisibleOptions;var k=5*d,q=d*g;0<g&&6>g&&(k=q);0===g&&(q="auto");var g=function(){l.height("auto").css({bottom:"auto",top:K});var a=function(){r.css("max-height",Math.floor((h-20-G)/d)*d)};a();r.css("max-height",q);"none"!=H&&r.css("max-height",H);h<l.outerHeight()+20&&a()},y=function(){l.height("auto").css({top:"auto",bottom:K});var a=function(){r.css("max-height",
Math.floor((s-c.scrollTop()-20-G)/d)*d)};a();r.css("max-height",q);"none"!=H&&r.css("max-height",H);s-c.scrollTop()-20<l.outerHeight()+20&&a()};!0===u||1===u?h>k+G+20?(g(),f.removeClass("dropup").addClass("dropdown")):(y(),f.removeClass("dropdown").addClass("dropup")):(!1===u||0===u)&&h>k+G+20&&(g(),f.removeClass("dropup").addClass("dropdown"));f.offset().left+l.outerWidth()>c.width()&&l.css({left:"auto",right:0});b("div.jqselect").css({zIndex:t-1}).removeClass("opened");f.css({zIndex:t});l.is(":hidden")?
(b("div.jq-selectbox__dropdown:visible").hide(),l.show(),f.addClass("opened focused"),e.onSelectOpened.call(f)):(l.hide(),f.removeClass("opened dropup dropdown"),b("div.jq-selectbox").filter(".opened").length&&e.onSelectClosed.call(f));A.length&&(A.val("").keyup(),I.hide(),A.keyup(function(){var c=b(this).val();n.each(function(){b(this).html().match(RegExp(".*?"+c+".*?","i"))?b(this).show():b(this).hide()});""===m.first().text()&&""!==a.data("placeholder")&&n.first().hide();1>n.filter(":visible").length?
I.show():I.hide()}));n.filter(".selected").length&&(""===a.val()?r.scrollTop(0):(0!==r.innerHeight()/d%2&&(d/=2),r.scrollTop(r.scrollTop()+n.filter(".selected").position().top-r.innerHeight()/2+d)));v(r);return!1}});n.hover(function(){b(this).siblings().removeClass("selected")});n.filter(".selected").text();n.filter(":not(.disabled):not(.optgroup)").click(function(){a.focus();var c=b(this),d=c.text();if(!c.is(".selected")){var g=c.index(),g=g-c.prevAll(".optgroup").length;c.addClass("selected sel").siblings().removeClass("selected sel");
m.prop("selected",!1).eq(g).prop("selected",!0);q.text(d);f.data("jqfs-class")&&f.removeClass(f.data("jqfs-class"));f.data("jqfs-class",c.data("jqfs-class"));f.addClass(c.data("jqfs-class"));a.change()}l.hide();f.removeClass("opened dropup dropdown");e.onSelectClosed.call(f)});l.mouseout(function(){b("li.sel",l).addClass("selected")});a.on("change.styler",function(){q.text(m.filter(":selected").text()).removeClass("placeholder");n.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");
m.first().text()!=n.filter(".selected").text()?f.addClass("changed"):f.removeClass("changed")}).on("focus.styler",function(){f.addClass("focused");b("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){f.removeClass("focused")}).on("keydown.styler keyup.styler",function(b){var c=n.data("li-height");""===a.val()?q.text(k).addClass("placeholder"):q.text(m.filter(":selected").text());n.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");
if(38==b.which||37==b.which||33==b.which||36==b.which)""===a.val()?r.scrollTop(0):r.scrollTop(r.scrollTop()+n.filter(".selected").position().top);40!=b.which&&39!=b.which&&34!=b.which&&35!=b.which||r.scrollTop(r.scrollTop()+n.filter(".selected").position().top-r.innerHeight()+c);13==b.which&&(b.preventDefault(),l.hide(),f.removeClass("opened dropup dropdown"),e.onSelectClosed.call(f))}).on("keydown.styler",function(a){32==a.which&&(a.preventDefault(),J.click())});D.registered||(b(document).on("click",
D),D.registered=!0)}function h(){var h=new c,g=b("<div"+h.id+' class="jq-select-multiple jqselect'+h.classes+'"'+h.title+' style="display: inline-block; position: relative"></div>');a.css({margin:0,padding:0}).after(g);d();g.append("<ul>"+w+"</ul>");var e=b("ul",g).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),k=b("li",g).attr("unselectable","on"),h=a.attr("size"),p=e.outerHeight(),x=k.outerHeight();void 0!==h&&0<h?e.css({height:x*h}):e.css({height:4*x});p>
g.height()&&(e.css("overflowY","scroll"),v(e),k.filter(".selected").length&&e.scrollTop(e.scrollTop()+k.filter(".selected").position().top));a.prependTo(g).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});if(a.is(":disabled"))g.addClass("disabled"),m.each(function(){b(this).is(":selected")&&k.eq(b(this).index()).addClass("selected")});else if(k.filter(":not(.disabled):not(.optgroup)").click(function(c){a.focus();var d=b(this);c.ctrlKey||c.metaKey||d.addClass("selected");
c.shiftKey||d.addClass("first");c.ctrlKey||(c.metaKey||c.shiftKey)||d.siblings().removeClass("selected first");if(c.ctrlKey||c.metaKey)d.is(".selected")?d.removeClass("selected first"):d.addClass("selected first"),d.siblings().removeClass("first");if(c.shiftKey){var e=!1,f=!1;d.siblings().removeClass("selected").siblings(".first").addClass("selected");d.prevAll().each(function(){b(this).is(".first")&&(e=!0)});d.nextAll().each(function(){b(this).is(".first")&&(f=!0)});e&&d.prevAll().each(function(){if(b(this).is(".selected"))return!1;
b(this).not(".disabled, .optgroup").addClass("selected")});f&&d.nextAll().each(function(){if(b(this).is(".selected"))return!1;b(this).not(".disabled, .optgroup").addClass("selected")});1==k.filter(".selected").length&&d.addClass("first")}m.prop("selected",!1);k.filter(".selected").each(function(){var a=b(this),c=a.index();a.is(".option")&&(c-=a.prevAll(".optgroup").length);m.eq(c).prop("selected",!0)});a.change()}),m.each(function(a){b(this).data("optionIndex",a)}),a.on("change.styler",function(){k.removeClass("selected");
var a=[];m.filter(":selected").each(function(){a.push(b(this).data("optionIndex"))});k.not(".optgroup").filter(function(c){return-1<b.inArray(c,a)}).addClass("selected")}).on("focus.styler",function(){g.addClass("focused")}).on("blur.styler",function(){g.removeClass("focused")}),p>g.height())a.on("keydown.styler",function(a){38!=a.which&&37!=a.which&&33!=a.which||e.scrollTop(e.scrollTop()+k.filter(".selected").position().top-x);40!=a.which&&39!=a.which&&34!=a.which||e.scrollTop(e.scrollTop()+k.filter(".selected:last").position().top-
e.innerHeight()+2*x)})}var m=b("option",a),w="";a.is("[multiple]")?k||p||h():E()};C();a.on("refresh",function(){a.off(".styler").parent().before(a).remove();C()})}else if(a.is(":reset"))a.on("click",function(){setTimeout(function(){a.closest(e.wrapper).find("input, select").trigger("refresh")},1)})},destroy:function(){var c=b(this.element);c.is(":checkbox")||c.is(":radio")?(c.removeData().off(".styler").removeAttr("style").parent().before(c).remove(),c.closest("label").add('label[for="'+c.attr("id")+
'"]').off(".styler")):(c.is(":file")||c.is("select"))&&c.removeData().off(".styler").removeAttr("style").parent().before(c).remove()}};b.fn[k]=function(c){var a=arguments;if(void 0===c||"object"===typeof c)return this.each(function(){b.data(this,"_"+k)||b.data(this,"_"+k,new v(this,c))}).promise().done(function(){var a=b(this[0]).data("_"+k);a&&a.options.onFormStyled.call()});if("string"===typeof c&&"_"!==c[0]&&"init"!==c){var e;this.each(function(){var p=b.data(this,"_"+k);p instanceof v&&"function"===
typeof p[c]&&(e=p[c].apply(p,Array.prototype.slice.call(a,1)))});return void 0!==e?e:this}};D.registered=!1});