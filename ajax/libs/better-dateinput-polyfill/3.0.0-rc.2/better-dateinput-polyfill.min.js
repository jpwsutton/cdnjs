/**
 * better-dateinput-polyfill: input[type=date] polyfill for better-dom
 * @version 3.0.0-rc.2 Thu, 14 Jun 2018 09:33:29 GMT
 * @link https://github.com/chemerisuk/better-dateinput-polyfill
 * @copyright 2018 Maksim Chemerisuk
 * @license MIT
 */
!function(t,e,i,n,a,r,o,s){"use strict";function l(t,e){return"string"==typeof e?Array(t+1).join(e):Array.apply(null,Array(t)).map(e).join("")}function d(t){var e=new Date(Date.UTC(g(2001,2002),0,t));try{return e.toLocaleDateString(h.lang,{weekday:"short"})}catch(i){return e.toUTCString().split(",")[0].slice(0,2).toLowerCase()}}function c(t){var e=new Date(Date.UTC(2010,t));try{return e.toLocaleDateString(h.lang,{month:"short"})}catch(i){return e.toUTCString().split(" ")[2]}}function u(t,e){var i=new Date(e,t);try{return i.toLocaleDateString(h.lang,{month:"long",year:"numeric"})}catch(n){return i.toUTCString().split(" ").slice(2,4).join(" ")}}var h=t.get("documentElement"),g=function(t,e){return"en-US"===h.lang?t:e},f=function(t){return t.toISOString().split("T")[0]},b=function(t){return["min","max"].map(function(e){return new Date(t.get(e)||"")})},p=t.create('<svg xmlns="http://www.w3.org/2000/svg"><text dominant-baseline="central" y="50%"></text></svg>'),v=t.create('<div tabindex="-1" class="btr-dateinput-picker"><object data="about:blank" type="text/html" width="100%" height="100%"></object></div>'),m='<style>body{font-family:\'Helvetica Neue\',Helvetica,Arial,sans-serif;line-height:2.5rem;text-align:center;cursor:default;user-select:none;margin:0;overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{width:3rem;height:2.5rem;position:absolute;text-decoration:none;color:inherit}b{display:block;cursor:pointer}table{width:100%;table-layout:fixed;border-spacing:0;border-collapse:collapse;text-align:center;line-height:2.5rem}td,th{padding:0}thead{background:#d3d3d3;font-size:smaller;font-weight:700}[aria-disabled=true],[aria-selected=false]{color:graytext}[aria-selected=true]{box-shadow:inset 0 0 0 1px graytext}[aria-disabled=true],[aria-selected=true],a:hover,td:hover{background-color:#f5f5f5}table+table{line-height:3.75rem;background:#fff;position:absolute;top:2.5em;left:0;opacity:1;transition:.1s ease-out}table+table[aria-hidden=true]{visibility:hidden;opacity:0}</style><a style="left:0">&#x25C4;</a> <a style="right:0">&#x25BA;</a> <b></b><table><thead>'+l(7,function(t,e){return"<th>"+d(e)})+"</thead><tbody>"+l(7,"<tr>"+l(7,"<td>")+"</tr>")+"</tbody></table><table><tbody>"+l(3,function(t,e){return"<tr>"+l(4,function(t,i){return"<td>"+c(4*e+i)})})+"</tbody></table>";t.extend("input[type=date]",{constructor:function(){var t=this;if(this._isNative())return!1;var e=p.clone(!0),i=["padding-left","border-left-width","text-indent"].map(function(e){return parseFloat(t.css(e))}).reduce(function(t,e){return t+e});e.find("text").css("fill",this.css("color")).css("font",this.css("font"))[0].setAttribute("x",i);var n=v.clone(!0),a=n.get("firstChild");a.onload=this._initPicker.bind(this,e,a,n),n.css("z-index",1+(0|this.css("z-index"))),this.before(n.hide())},_isNative:function(){var t=this.get("data-polyfill"),e="orientation"in window?"mobile":"desktop";return"none"===t||(!t||t!==e&&"all"!==t?"date"===this[0].type||(this.set("defaultValue",this.value()),"_"!==this.value("_").value()):(this.set("type","text"),!1))},_initPicker:function(e,i,n){var a=this,r=t.constructor(i.contentDocument),o=r.find("body");o.set(m);var s=o.find("b"),l=o.find("table"),d=o.find("table+table"),c=this._invalidatePicker.bind(this,d,l),u=this._syncValue.bind(this,e,n,c,"defaultValue"),h=this._syncValue.bind(this,e,n,c,"value"),g=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(this[0],"value",{configurable:!1,enumerable:!0,get:g.get,set:function(t){if("string"==typeof t){var e=new Date(t),i=b(a);e<i[0]?t=f(i[0]):e>i[1]?t=f(i[1]):isNaN(e.getTime())&&(t=""),g.set.call(a[0],t),h()}}}),Object.defineProperty(n[0],"expanded",{configurable:!1,enumerable:!0,get:function(){return"true"===n.get("aria-expanded")},set:function(t){"boolean"==typeof t&&(n.set("aria-expanded",t),t?d.show():d.hide(),c(t))}}),this.on("focus",this._focusPicker.bind(this,n)),this.on("blur",this._blurPicker.bind(this,n)),this.on("change",h),this.on("keydown",["which"],this._keydownPicker.bind(this,n)),this.closest("form").on("reset",u),l.on("picker:invalidate",["detail"],this._invalidateDays.bind(this,l)),d.on("picker:invalidate",["detail"],this._invalidateMonths.bind(this,d)),o.on("picker:invalidate",["detail"],this._invalidateCaption.bind(this,s,n));var p="orientation"in window?"touchend":"mousedown";o.on(p,"a",["target"],this._clickPickerButton.bind(this,n)),o.on(p,"td",["target"],this._clickPickerDay.bind(this,n)),s.on(p,this._clickPickerCaption.bind(this,n)),o.on(p,function(){return!1}),this.on(p,this._focusPicker.bind(this,n)),u(),t.get("activeElement")===this[0]&&n.show()},_invalidatePicker:function(t,e,i,n){n||(n=new Date(this.value())),isNaN(n.getTime())&&(n=new Date);var a=i?t:e;a.fire("picker:invalidate",n)},_invalidateDays:function(t,e){var i=e.getUTCMonth(),n=e.getUTCDate(),a=e.getUTCFullYear(),r=b(this),o=new Date(Date.UTC(a,i,0));o.setUTCDate(o.getUTCDate()-o.getUTCDay()-g(1,0)),t.findAll("td").forEach(function(t){o.setUTCDate(o.getUTCDate()+1);var e=i-o.getUTCMonth(),s=null,l=null;a!==o.getUTCFullYear()&&(e*=-1),o<r[0]||o>r[1]?l="true":e>0||e<0?s="false":n===o.getUTCDate()&&(s="true"),t._ts=o.getTime(),t.set("aria-selected",s),t.set("aria-disabled",l),t.value(o.getUTCDate())})},_invalidateMonths:function(t,e){var i=e.getUTCMonth(),n=e.getUTCFullYear(),a=b(this),r=new Date(Date.UTC(n,i,1));t.findAll("td").forEach(function(t,e){r.setUTCMonth(e);var n=i-r.getUTCMonth(),o=null;r<a[0]||r>a[1]?o="false":n||(o="true"),t._ts=r.getTime(),t.set("aria-selected",o)})},_invalidateCaption:function(t,e,i){var n=i.getUTCFullYear();if(e.get("expanded"))t.value(n);else{var a=i.getUTCMonth();t.value(u(a,n))}},_syncValue:function(t,e,i,n){var a=new Date(this.get(n)),r="";if(!isNaN(a.getTime()))try{r=a.toLocaleDateString(h.lang,JSON.parse(this.get("data-format")))}catch(o){r=a.toLocaleDateString(h.lang)}t.find("text").value(r),this.css("background-image","url('data:image/svg+xml;utf8,"+t.get("outerHTML")+"')"),i(e.get("expanded"),a)},_clickPickerButton:function(t,e){var i=new Date(this.value());isNaN(i.getTime())&&(i=new Date);var n=e.next("a")[0]?-1:1;t.get("expanded")?i.setUTCFullYear(i.getUTCFullYear()+n):i.setUTCMonth(i.getUTCMonth()+n),this.value(f(i)).fire("change")},_clickPickerDay:function(t,e){var i;t.get("expanded")?(i=isNaN(e._ts)?new Date:new Date(e._ts),t.set("expanded",!1)):isNaN(e._ts)||(i=new Date(e._ts),t.hide()),null!=i&&this.value(f(i)).fire("change")},_clickPickerCaption:function(t){t.set("expanded",!t.get("expanded"))},_keydownPicker:function(t,l){if(l===n&&"true"===t.get("aria-hidden"))return!0;if(l===e)this.get("readonly")||(t.set("expanded",!1),"true"===t.get("aria-hidden")?t.show():t.hide());else if(l===a||l===i||l===n)t.hide();else if(l===r||l===o)this.value("").fire("change");else if(l===s)t.set("expanded",!t.get("expanded"));else{var d,c=new Date(this.value());if(isNaN(c.getTime())&&(c=new Date),74===l||40===l?d=7:75===l||38===l?d=-7:76===l||39===l?d=1:72!==l&&37!==l||(d=-1),d){var u=t.get("expanded");!u||40!==l&&38!==l?!u||37!==l&&39!==l?c.setUTCDate(c.getUTCDate()+d):c.setUTCMonth(c.getUTCMonth()+(d>0?1:-1)):c.setUTCMonth(c.getUTCMonth()+(d>0?4:-4)),this.value(f(c)).fire("change")}}return l===i},_blurPicker:function(t){t.hide()},_focusPicker:function(t){if(this.get("readonly"))return!1;var e=this.offset(),i=t.offset(),n=e.height;h.clientHeight<e.bottom+i.height&&(n=-i.height),t.set("expanded",!1).css("margin-top",n).show()}})}(window.DOM,32,9,13,27,8,46,17),DOM.importStyles("@media screen",".btr-dateinput-picker{display:inline-block;vertical-align:bottom}.btr-dateinput-picker>object{width:21rem;max-height:calc(2.5rem*8);box-shadow:0 0 15px gray;background:white;position:absolute;opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transform-origin:0 0;transform-origin:0 0;transition:.1s ease-out}.btr-dateinput-picker[aria-hidden=true]>object{opacity:0;-webkit-transform:skew(-25deg) scaleX(.75);transform:skew(-25deg) scaleX(.75);visibility:hidden;height:0}.btr-dateinput-picker[aria-expanded=true]>object{max-height:calc(2.5rem + 2.5rem*1.5*3)}.btr-dateinput-picker+input{color:transparent!important}.btr-dateinput-picker+input::selection{background:transparent}.btr-dateinput-picker+input::-moz-selection{background:transparent}");