!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ReduxSearch=e():t.ReduxSearch=e()}(this,function(){return function(n){function r(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var o={};return r.m=n,r.c=o,r.p="",r(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.INDEX_MODES=e.SearchApi=e.createSearchAction=e.reduxSearch=e.reducer=e.getSearchSelectors=e.defaultSearchStateSelector=void 0;var o=n(1);Object.defineProperty(e,"INDEX_MODES",{enumerable:!0,get:function(){return o.INDEX_MODES}});var i=n(2),a=n(3),u=r(n(5)),c=r(n(24)),s=r(n(23));e.default=u.default,e.defaultSearchStateSelector=i.defaultSearchStateSelector,e.getSearchSelectors=i.getSearchSelectors,e.reducer=c.default,e.reduxSearch=u.default,e.createSearchAction=a.search,e.SearchApi=s.default},function(t,e){t.exports=function(n){function r(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var o={};return r.m=n,r.c=o,r.p="",r(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INDEX_MODES=e.default=void 0;var r=n(2);Object.defineProperty(e,"INDEX_MODES",{enumerable:!0,get:function(){return r.INDEX_MODES}});var o,i=n(6),a=(o=i)&&o.__esModule?o:{default:o};e.default=a.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INDEX_MODES=e.default=void 0;var r=n(3);Object.defineProperty(e,"INDEX_MODES",{enumerable:!0,get:function(){return r.INDEX_MODES}});var o,i=n(4),a=(o=i)&&o.__esModule?o:{default:o};e.default=a.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INDEX_MODES={ALL_SUBSTRINGS:"ALL_SUBSTRINGS",EXACT_WORDS:"EXACT_WORDS",PREFIXES:"PREFIXES"}},function(t,e,n){"use strict";function _(e){if(null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void 0===e?"undefined":o(e);if(Array.isArray(e)){if(0<e.length){var n=_(e[0]);return e.every(function(t){return _(t)===n})?n.trim()+"[]":"["+e.map(_).join(", ")+"]"}return"Array"}var t=Object.keys(e);if(!t.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";var r=t.map(function(t){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(t)?t:JSON.stringify(t))+": "+_(e[t])+";"}).join("\n  ");return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+r+"\n}":"{ "+r+"\n}"}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(3),u=n(5),c=(i=u)&&i.__esModule?i:{default:i},s=function(){function v(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).indexMode,e=void 0===t?a.INDEX_MODES.ALL_SUBSTRINGS:t;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,v),this._indexMode=e,this.searchIndex=new c.default,this.uids={}}return r(v,[{key:"getIndexMode",value:function(){return function(t){if("string"!=typeof t)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+_(t));return t}(this._indexMode)}},{key:"indexDocument",value:function(t,e){if("string"!=typeof e)throw new TypeError('Value of argument "text" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(e));this.uids[t]=!0;var n=this._tokenize(this._sanitize(e));if(!Array.isArray(n)||!n.every(function(t){return"string"==typeof t}))throw new TypeError('Value of variable "fieldTokens" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+_(n));if(!n||"function"!=typeof n[Symbol.iterator]&&!Array.isArray(n))throw new TypeError("Expected fieldTokens to be iterable, got "+_(n));var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=this._expandToken(c);if(!Array.isArray(s)||!s.every(function(t){return"string"==typeof t}))throw new TypeError('Value of variable "expandedTokens" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+_(s));if(!s||"function"!=typeof s[Symbol.iterator]&&!Array.isArray(s))throw new TypeError("Expected expandedTokens to be iterable, got "+_(s));var f=!0,d=!1,l=void 0;try{for(var p,y=s[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var h=p.value;this.searchIndex.indexDocument(h,t)}}catch(t){d=!0,l=t}finally{try{!f&&y.return&&y.return()}finally{if(d)throw l}}}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return function(t){if(!(t instanceof v))throw new TypeError("Function return value violates contract.\n\nExpected:\nSearchUtility\n\nGot:\n"+_(t));return t}(this)}},{key:"search",value:function(t){function e(t){if(!Array.isArray(t))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<any>\n\nGot:\n"+_(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "query" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(t));if(t){var n=this._tokenize(this._sanitize(t));if(!Array.isArray(n)||!n.every(function(t){return"string"==typeof t}))throw new TypeError('Value of variable "tokens" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+_(n));return e(this.searchIndex.search(n))}return e(Object.keys(this.uids))}},{key:"setIndexMode",value:function(t){if("string"!=typeof t)throw new TypeError('Value of argument "indexMode" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(t));if(0<Object.keys(this.uids).length)throw Error("indexMode cannot be changed once documents have been indexed");this._indexMode=t}},{key:"_expandToken",value:function(t){function e(t){if(!Array.isArray(t)||!t.every(function(t){return"string"==typeof t}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<string>\n\nGot:\n"+_(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "token" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(t));switch(this._indexMode){case a.INDEX_MODES.EXACT_WORDS:return[t];case a.INDEX_MODES.PREFIXES:return e(this._expandPrefixTokens(t));case a.INDEX_MODES.ALL_SUBSTRINGS:default:return e(this._expandAllSubstringTokens(t))}}},{key:"_expandAllSubstringTokens",value:function(e){if("string"!=typeof e)throw new TypeError('Value of argument "token" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(e));var t=[];try{for(var n=0,r=e.length;n<r;++n)for(var o="",i=n;i<r;++i){if("string"!=typeof(o+=e.charAt(i)))throw new TypeError('Value of variable "substring" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(o));t.push(o)}}catch(t){console.error('Unable to parse token "'+e+'" '+t)}return function(t){if(!Array.isArray(t)||!t.every(function(t){return"string"==typeof t}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<string>\n\nGot:\n"+_(t));return t}(t)}},{key:"_expandPrefixTokens",value:function(e){if("string"!=typeof e)throw new TypeError('Value of argument "token" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(e));var t=[];try{for(var n=0,r=e.length;n<r;++n)t.push(e.substr(0,n+1))}catch(t){console.error('Unable to parse token "'+e+'" '+t)}return function(t){if(!Array.isArray(t)||!t.every(function(t){return"string"==typeof t}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<string>\n\nGot:\n"+_(t));return t}(t)}},{key:"_sanitize",value:function(t){if("string"!=typeof t)throw new TypeError('Value of argument "string" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(t));return function(t){if("string"!=typeof t)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+_(t));return t}(t.trim().toLocaleLowerCase())}},{key:"_tokenize",value:function(t){if("string"!=typeof t)throw new TypeError('Value of argument "text" violates contract.\n\nExpected:\nstring\n\nGot:\n'+_(t));return function(t){if(!Array.isArray(t)||!t.every(function(t){return"string"==typeof t}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<string>\n\nGot:\n"+_(t));return t}(t.split(/\s+/).filter(function(t){return t}))}}]),v}();e.default=s},function(t,e){"use strict";function y(e){if(null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void 0===e?"undefined":h(e);if(Array.isArray(e)){if(0<e.length){var n=y(e[0]);return e.every(function(t){return y(t)===n})?n.trim()+"[]":"["+e.map(y).join(", ")+"]"}return"Array"}var t=Object.keys(e);if(!t.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";var r=t.map(function(t){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(t)?t:JSON.stringify(t))+": "+y(e[t])+";"}).join("\n  ");return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+r+"\n}":"{ "+r+"\n}"}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.tokenToUidMap={}}return n(t,[{key:"indexDocument",value:function(t,e){if("string"!=typeof t)throw new TypeError('Value of argument "token" violates contract.\n\nExpected:\nstring\n\nGot:\n'+y(t));this.tokenToUidMap[t]||(this.tokenToUidMap[t]={}),this.tokenToUidMap[t][e]=e}},{key:"search",value:function(t){if(!Array.isArray(t)||!t.every(function(t){return"string"==typeof t}))throw new TypeError('Value of argument "tokens" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+y(t));var e={};if(null==e||"object"!==(void 0===e?"undefined":h(e)))throw new TypeError('Value of variable "uidMap" violates contract.\n\nExpected:\n{ [uid: any]: any\n}\n\nGot:\n'+y(e));var n=!1;if(!t||"function"!=typeof t[Symbol.iterator]&&!Array.isArray(t))throw new TypeError("Expected tokens to be iterable, got "+y(t));var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=this.tokenToUidMap[c]||{};if(null==s||"object"!==(void 0===s?"undefined":h(s)))throw new TypeError('Value of variable "currentUidMap" violates contract.\n\nExpected:\n{ [uid: any]: any\n}\n\nGot:\n'+y(s));if(n)for(var f in e)s[f]||delete e[f];else for(var d in n=!0,s)e[d]=s[d]}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}var l=[];if(!Array.isArray(l))throw new TypeError('Value of variable "uids" violates contract.\n\nExpected:\nArray<any>\n\nGot:\n'+y(l));for(var p in e)l.push(e[p]);return function(t){if(!Array.isArray(t))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<any>\n\nGot:\n"+y(t));return t}(l)}}]),t}();e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(e){if(null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void 0===e?"undefined":i(e);if(Array.isArray(e)){if(0<e.length){var n=o(e[0]);return e.every(function(t){return o(t)===n})?n.trim()+"[]":"["+e.map(o).join(", ")+"]"}return"Array"}var t=Object.keys(e);if(!t.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";var r=t.map(function(t){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(t)?t:JSON.stringify(t))+": "+o(e[t])+";"}).join("\n  ");return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+r+"\n}":"{ "+r+"\n}"}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0});var u=r(n(2)),c=r(n(7)),s=function(){function n(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).indexMode;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),"undefined"!=typeof window&&window.Worker?this._search=new c.default({indexMode:t}):this._search=new u.default({indexMode:t}),this.indexDocument=this.indexDocument.bind(this),"function"!=typeof this.indexDocument)throw new TypeError('Value of "this.indexDocument" violates contract.\n\nExpected:\n(any, string) => SearchApi\n\nGot:\n'+o(this.indexDocument));if(this.search=this.search.bind(this),"function"!=typeof this.search)throw new TypeError('Value of "this.search" violates contract.\n\nExpected:\n(string) => Promise\n\nGot:\n'+o(this.search))}return a(n,[{key:"indexDocument",value:function(t,e){if("string"!=typeof e)throw new TypeError('Value of argument "text" violates contract.\n\nExpected:\nstring\n\nGot:\n'+o(e));return this._search.indexDocument(t,e),function(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nSearchApi\n\nGot:\n"+o(t));return t}(this)}},{key:"search",value:function(t){if("string"!=typeof t)throw new TypeError('Value of argument "query" violates contract.\n\nExpected:\nstring\n\nGot:\n'+o(t));return function(t){if(!(t instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+o(t));return t}(Promise.resolve(this._search.search(t)))}}]),n}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(8),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default},function(t,e,i){"use strict";function a(e){if(null===e)return"null";if(void 0===e)return"void";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void 0===e?"undefined":o(e);if(Array.isArray(e)){if(0<e.length){var n=a(e[0]);return e.every(function(t){return a(t)===n})?n.trim()+"[]":"["+e.map(a).join(", ")+"]"}return"Array"}var t=Object.keys(e);if(!t.length)return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"Object";var r=t.map(function(t){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(t)?t:JSON.stringify(t))+": "+a(e[t])+";"}).join("\n  ");return e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name+" {\n  "+r+"\n}":"{ "+r+"\n}"}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0});var r,u=i(9),c=(r=u)&&r.__esModule?r:{default:r},s=function(){function r(){var o=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.indexMode,n=t.WorkerClass;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n||(n=i(11)),this.indexDocument=this.indexDocument.bind(this),"function"!=typeof this.indexDocument)throw new TypeError('Value of "this.indexDocument" violates contract.\n\nExpected:\n(any, string) => SearchWorkerLoader\n\nGot:\n'+a(this.indexDocument));if(this.search=this.search.bind(this),"function"!=typeof this.search)throw new TypeError('Value of "this.search" violates contract.\n\nExpected:\n(string) => Promise\n\nGot:\n'+a(this.search));this.callbackQueue=[],this.callbackIdMap={},this.worker=new n,this.worker.onerror=function(t){var e=t.data,n=e.callbackId,r=e.error;o._updateQueue({callbackId:n,error:r})},this.worker.onmessage=function(t){var e=t.data,n=e.callbackId,r=e.results;o._updateQueue({callbackId:n,results:r})},e&&this.worker.postMessage({method:"setIndexMode",indexMode:e})}return n(r,[{key:"indexDocument",value:function(t,e){if("string"!=typeof e)throw new TypeError('Value of argument "text" violates contract.\n\nExpected:\nstring\n\nGot:\n'+a(e));return this.worker.postMessage({method:"indexDocument",text:e,uid:t}),function(t){if(!(t instanceof r))throw new TypeError("Function return value violates contract.\n\nExpected:\nSearchWorkerLoader\n\nGot:\n"+a(t));return t}(this)}},{key:"search",value:function(o){var i=this;if("string"!=typeof o)throw new TypeError('Value of argument "query" violates contract.\n\nExpected:\nstring\n\nGot:\n'+a(o));return new Promise(function(t,e){var n=c.default.v4(),r={callbackId:n,reject:e,resolve:t};i.worker.postMessage({method:"search",query:o,callbackId:n}),i.callbackQueue.push(r),i.callbackIdMap[n]=r})}},{key:"_updateQueue",value:function(t){var e=t.callbackId,n=t.error,r=t.results,o=this.callbackIdMap[e];for(o.complete=!0,o.error=n,o.results=r;this.callbackQueue.length;){var i=this.callbackQueue[0];if(!i.complete)break;this.callbackQueue.shift(),delete this.callbackIdMap[i.callbackId],i.error?i.reject(i.error):i.resolve(i.results)}}}]),r}();e.default=s},function(t,e,n){function p(t,e){var n=e||0,r=o;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function r(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;i++)e[r+i]=o[i];return e||p(o)}for(var a=n(10),o=[],i={},u=0;u<256;u++)o[u]=(u+256).toString(16).substr(1),i[o[u]]=u;var c=a(),y=[1|c[0],c[1],c[2],c[3],c[4],c[5]],h=16383&(c[6]<<8|c[7]),v=0,_=0,s=r;s.v1=function(t,e,n){var r=e&&n||0,o=e||[],i=void 0!==(t=t||{}).clockseq?t.clockseq:h,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:_+1,c=a-v+(u-_)/1e4;if(c<0&&void 0===t.clockseq&&(i=i+1&16383),(c<0||v<a)&&void 0===t.nsecs&&(u=0),1e4<=u)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,h=i;var s=(1e4*(268435455&(a+=122192928e5))+(_=u))%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var d=t.node||y,l=0;l<6;l++)o[r+l]=d[l];return e||p(o)},s.v4=r,s.parse=function(t,e,n){var r=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[r+o++]=i[t])});o<16;)e[r+o++]=0;return e},s.unparse=p,t.exports=s},function(o,t){(function(t){var e;if(t.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);e=function(){return crypto.getRandomValues(n),n}}if(!e){var r=new Array(16);e=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}o.exports=e}).call(t,function(){return this}())},function(t,e,n){t.exports=function(){return n(12)("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Search entry point to web worker.\n\t * Builds search index and performs searches on separate thread from the ui.\n\t */\n\t\n\tvar searchUtility = new _util2.default();\n\t\n\tself.addEventListener('message', function (event) {\n\t  var data = event.data;\n\t  var method = data.method;\n\t\n\t  switch (method) {\n\t    case 'indexDocument':\n\t      var uid = data.uid;\n\t      var text = data.text;\n\t\n\t      searchUtility.indexDocument(uid, text);\n\t      break;\n\t    case 'search':\n\t      var callbackId = data.callbackId;\n\t      var query = data.query;\n\t\n\t      var results = searchUtility.search(query);\n\t\n\t      self.postMessage({ callbackId: callbackId, results: results });\n\t      break;\n\t    case 'setIndexMode':\n\t      var indexMode = data.indexMode;\n\t\n\t      searchUtility.setIndexMode(indexMode);\n\t      break;\n\t  }\n\t}, false);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.INDEX_MODES = exports.default = undefined;\n\t\n\tvar _constants = __webpack_require__(2);\n\t\n\tObject.defineProperty(exports, 'INDEX_MODES', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _constants.INDEX_MODES;\n\t  }\n\t});\n\t\n\tvar _SearchUtility = __webpack_require__(3);\n\t\n\tvar _SearchUtility2 = _interopRequireDefault(_SearchUtility);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _SearchUtility2.default;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar INDEX_MODES = exports.INDEX_MODES = {\n\t  // Indexes for all substring searches (e.g. the term \"cat\" is indexed as \"c\", \"ca\", \"cat\", \"a\", \"at\", and \"t\").\n\t  // Based on 'all-substrings-index-strategy' from js-search;\n\t  // github.com/bvaughn/js-search/blob/master/source/index-strategy/all-substrings-index-strategy.ts\n\t  ALL_SUBSTRINGS: 'ALL_SUBSTRINGS',\n\t\n\t  // Indexes for exact word matches only.\n\t  // Based on 'exact-word-index-strategy' from js-search;\n\t  // github.com/bvaughn/js-search/blob/master/source/index-strategy/exact-word-index-strategy.ts\n\t  EXACT_WORDS: 'EXACT_WORDS',\n\t\n\t  // Indexes for prefix searches (e.g. the term \"cat\" is indexed as \"c\", \"ca\", and \"cat\" allowing prefix search lookups).\n\t  // Based on 'prefix-index-strategy' from js-search;\n\t  // github.com/bvaughn/js-search/blob/master/source/index-strategy/prefix-index-strategy.ts\n\t  PREFIXES: 'PREFIXES'\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _constants = __webpack_require__(2);\n\t\n\tvar _SearchIndex = __webpack_require__(4);\n\t\n\tvar _SearchIndex2 = _interopRequireDefault(_SearchIndex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Synchronous client-side full-text search utility.\n\t * Forked from JS search (github.com/bvaughn/js-search).\n\t */\n\t\n\tvar SearchUtility = function () {\n\t\n\t  /**\n\t   * Constructor.\n\t   *\n\t   * @param indexMode See #setIndexMode\n\t   */\n\t\n\t  function SearchUtility() {\n\t    var _ref10 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref10$indexMode = _ref10.indexMode;\n\t    var indexMode = _ref10$indexMode === undefined ? _constants.INDEX_MODES.ALL_SUBSTRINGS : _ref10$indexMode;\n\t\n\t    _classCallCheck(this, SearchUtility);\n\t\n\t    this._indexMode = indexMode;\n\t\n\t    this.searchIndex = new _SearchIndex2.default();\n\t    this.uids = {};\n\t  }\n\t\n\t  /**\n\t   * Returns a constant representing the current index mode.\n\t   */\n\t\n\t  _createClass(SearchUtility, [{\n\t    key: 'getIndexMode',\n\t    value: function getIndexMode() {\n\t      function _ref(_id) {\n\t        if (!(typeof _id === 'string')) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(_id));\n\t        }\n\t\n\t        return _id;\n\t      }\n\t\n\t      return _ref(this._indexMode);\n\t    }\n\t\n\t    /**\n\t     * Adds or updates a uid in the search index and associates it with the specified text.\n\t     * Note that at this time uids can only be added or updated in the index, not removed.\n\t     *\n\t     * @param uid Uniquely identifies a searchable object\n\t     * @param text Text to associate with uid\n\t     */\n\t\n\t  }, {\n\t    key: 'indexDocument',\n\t    value: function indexDocument(uid, text) {\n\t      function _ref2(_id2) {\n\t        if (!(_id2 instanceof SearchUtility)) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nSearchUtility\\n\\nGot:\\n' + _inspect(_id2));\n\t        }\n\t\n\t        return _id2;\n\t      }\n\t\n\t      if (!(typeof text === 'string')) {\n\t        throw new TypeError('Value of argument \"text\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(text));\n\t      }\n\t\n\t      this.uids[uid] = true;\n\t\n\t      var fieldTokens = this._tokenize(this._sanitize(text));\n\t\n\t      if (!(Array.isArray(fieldTokens) && fieldTokens.every(function (item) {\n\t        return typeof item === 'string';\n\t      }))) {\n\t        throw new TypeError('Value of variable \"fieldTokens\" violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(fieldTokens));\n\t      }\n\t\n\t      if (!(fieldTokens && (typeof fieldTokens[Symbol.iterator] === 'function' || Array.isArray(fieldTokens)))) {\n\t        throw new TypeError('Expected fieldTokens to be iterable, got ' + _inspect(fieldTokens));\n\t      }\n\t\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = fieldTokens[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var fieldToken = _step.value;\n\t\n\t          var expandedTokens = this._expandToken(fieldToken);\n\t\n\t          if (!(Array.isArray(expandedTokens) && expandedTokens.every(function (item) {\n\t            return typeof item === 'string';\n\t          }))) {\n\t            throw new TypeError('Value of variable \"expandedTokens\" violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(expandedTokens));\n\t          }\n\t\n\t          if (!(expandedTokens && (typeof expandedTokens[Symbol.iterator] === 'function' || Array.isArray(expandedTokens)))) {\n\t            throw new TypeError('Expected expandedTokens to be iterable, got ' + _inspect(expandedTokens));\n\t          }\n\t\n\t          var _iteratorNormalCompletion2 = true;\n\t          var _didIteratorError2 = false;\n\t          var _iteratorError2 = undefined;\n\t\n\t          try {\n\t            for (var _iterator2 = expandedTokens[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t              var expandedToken = _step2.value;\n\t\n\t              this.searchIndex.indexDocument(expandedToken, uid);\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError2 = true;\n\t            _iteratorError2 = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                _iterator2.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError2) {\n\t                throw _iteratorError2;\n\t              }\n\t            }\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t\n\t      return _ref2(this);\n\t    }\n\t\n\t    /**\n\t     * Searches the current index for the specified query text.\n\t     * Only uids matching all of the words within the text will be accepted.\n\t     * If an empty query string is provided all indexed uids will be returned.\n\t     *\n\t     * Document searches are case-insensitive (e.g. \"search\" will match \"Search\").\n\t     * Document searches use substring matching (e.g. \"na\" and \"me\" will both match \"name\").\n\t     *\n\t     * @param query Searchable query text\n\t     * @return Array of uids\n\t     */\n\t\n\t  }, {\n\t    key: 'search',\n\t    value: function search(query) {\n\t      function _ref3(_id3) {\n\t        if (!Array.isArray(_id3)) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<any>\\n\\nGot:\\n' + _inspect(_id3));\n\t        }\n\t\n\t        return _id3;\n\t      }\n\t\n\t      if (!(typeof query === 'string')) {\n\t        throw new TypeError('Value of argument \"query\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(query));\n\t      }\n\t\n\t      if (!query) {\n\t        return _ref3(Object.keys(this.uids));\n\t      } else {\n\t        var tokens = this._tokenize(this._sanitize(query));\n\t\n\t        if (!(Array.isArray(tokens) && tokens.every(function (item) {\n\t          return typeof item === 'string';\n\t        }))) {\n\t          throw new TypeError('Value of variable \"tokens\" violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(tokens));\n\t        }\n\t\n\t        return _ref3(this.searchIndex.search(tokens));\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Sets a new index mode.\n\t     * See util/constants/INDEX_MODES\n\t     */\n\t\n\t  }, {\n\t    key: 'setIndexMode',\n\t    value: function setIndexMode(indexMode) {\n\t      if (!(typeof indexMode === 'string')) {\n\t        throw new TypeError('Value of argument \"indexMode\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(indexMode));\n\t      }\n\t\n\t      if (Object.keys(this.uids).length > 0) {\n\t        throw Error('indexMode cannot be changed once documents have been indexed');\n\t      }\n\t\n\t      this._indexMode = indexMode;\n\t    }\n\t\n\t    /**\n\t     * Index strategy based on 'all-substrings-index-strategy.ts' in github.com/bvaughn/js-search/\n\t     *\n\t     * @private\n\t     */\n\t\n\t  }, {\n\t    key: '_expandToken',\n\t    value: function _expandToken(token) {\n\t      function _ref5(_id5) {\n\t        if (!(Array.isArray(_id5) && _id5.every(function (item) {\n\t          return typeof item === 'string';\n\t        }))) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(_id5));\n\t        }\n\t\n\t        return _id5;\n\t      }\n\t\n\t      if (!(typeof token === 'string')) {\n\t        throw new TypeError('Value of argument \"token\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(token));\n\t      }\n\t\n\t      switch (this._indexMode) {\n\t        case _constants.INDEX_MODES.EXACT_WORDS:\n\t          return [token];\n\t        case _constants.INDEX_MODES.PREFIXES:\n\t          return _ref5(this._expandPrefixTokens(token));\n\t\n\t        case _constants.INDEX_MODES.ALL_SUBSTRINGS:\n\t        default:\n\t          return _ref5(this._expandAllSubstringTokens(token));\n\t\n\t      }\n\t    }\n\t  }, {\n\t    key: '_expandAllSubstringTokens',\n\t    value: function _expandAllSubstringTokens(token) {\n\t      function _ref6(_id6) {\n\t        if (!(Array.isArray(_id6) && _id6.every(function (item) {\n\t          return typeof item === 'string';\n\t        }))) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(_id6));\n\t        }\n\t\n\t        return _id6;\n\t      }\n\t\n\t      if (!(typeof token === 'string')) {\n\t        throw new TypeError('Value of argument \"token\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(token));\n\t      }\n\t\n\t      var expandedTokens = [];\n\t\n\t      // String.prototype.charAt() may return surrogate halves instead of whole characters.\n\t      // When this happens in the context of a web-worker it can cause Chrome to crash.\n\t      // Catching the error is a simple solution for now; in the future I may try to better support non-BMP characters.\n\t      // Resources:\n\t      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt\n\t      // https://mathiasbynens.be/notes/javascript-unicode\n\t      try {\n\t        for (var i = 0, length = token.length; i < length; ++i) {\n\t          var substring = '';\n\t\n\t          for (var j = i; j < length; ++j) {\n\t            substring += token.charAt(j);\n\t\n\t            if (!(typeof substring === 'string')) {\n\t              throw new TypeError('Value of variable \"substring\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(substring));\n\t            }\n\t\n\t            expandedTokens.push(substring);\n\t          }\n\t        }\n\t      } catch (error) {\n\t        console.error('Unable to parse token \"' + token + '\" ' + error);\n\t      }\n\t\n\t      return _ref6(expandedTokens);\n\t    }\n\t  }, {\n\t    key: '_expandPrefixTokens',\n\t    value: function _expandPrefixTokens(token) {\n\t      function _ref7(_id7) {\n\t        if (!(Array.isArray(_id7) && _id7.every(function (item) {\n\t          return typeof item === 'string';\n\t        }))) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(_id7));\n\t        }\n\t\n\t        return _id7;\n\t      }\n\t\n\t      if (!(typeof token === 'string')) {\n\t        throw new TypeError('Value of argument \"token\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(token));\n\t      }\n\t\n\t      var expandedTokens = [];\n\t\n\t      // String.prototype.charAt() may return surrogate halves instead of whole characters.\n\t      // When this happens in the context of a web-worker it can cause Chrome to crash.\n\t      // Catching the error is a simple solution for now; in the future I may try to better support non-BMP characters.\n\t      // Resources:\n\t      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt\n\t      // https://mathiasbynens.be/notes/javascript-unicode\n\t      try {\n\t        for (var i = 0, length = token.length; i < length; ++i) {\n\t          expandedTokens.push(token.substr(0, i + 1));\n\t        }\n\t      } catch (error) {\n\t        console.error('Unable to parse token \"' + token + '\" ' + error);\n\t      }\n\t\n\t      return _ref7(expandedTokens);\n\t    }\n\t\n\t    /**\n\t     * @private\n\t     */\n\t\n\t  }, {\n\t    key: '_sanitize',\n\t    value: function _sanitize(string) {\n\t      function _ref8(_id8) {\n\t        if (!(typeof _id8 === 'string')) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(_id8));\n\t        }\n\t\n\t        return _id8;\n\t      }\n\t\n\t      if (!(typeof string === 'string')) {\n\t        throw new TypeError('Value of argument \"string\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(string));\n\t      }\n\t\n\t      return _ref8(string.trim().toLocaleLowerCase());\n\t    }\n\t\n\t    /**\n\t     * @private\n\t     */\n\t\n\t  }, {\n\t    key: '_tokenize',\n\t    value: function _tokenize(text) {\n\t      function _ref9(_id9) {\n\t        if (!(Array.isArray(_id9) && _id9.every(function (item) {\n\t          return typeof item === 'string';\n\t        }))) {\n\t          throw new TypeError('Function return value violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n' + _inspect(_id9));\n\t        }\n\t\n\t        return _id9;\n\t      }\n\t\n\t      if (!(typeof text === 'string')) {\n\t        throw new TypeError('Value of argument \"text\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n' + _inspect(text));\n\t      }\n\t\n\t      return _ref9(text.split(/\\s+/).filter(function (text) {\n\t        return text;\n\t      })); // Remove empty tokens\n\t    }\n\t  }]);\n\t\n\t  return SearchUtility;\n\t}();\n\t\n\texports.default = SearchUtility;\n\t\n\tfunction _inspect(input) {\n\t  if (input === null) {\n\t    return 'null';\n\t  } else if (input === undefined) {\n\t    return 'void';\n\t  } else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t    return typeof input === 'undefined' ? 'undefined' : _typeof(input);\n\t  } else if (Array.isArray(input)) {\n\t    if (input.length > 0) {\n\t      var first = _inspect(input[0]);\n\n\t      if (input.every(function (item) {\n\t        return _inspect(item) === first;\n\t      })) {\n\t        return first.trim() + '[]';\n\t      } else {\n\t        return '[' + input.map(_inspect).join(', ') + ']';\n\t      }\n\t    } else {\n\t      return 'Array';\n\t    }\n\t  } else {\n\t    var keys = Object.keys(input);\n\n\t    if (!keys.length) {\n\t      if (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t        return input.constructor.name;\n\t      } else {\n\t        return 'Object';\n\t      }\n\t    }\n\n\t    var entries = keys.map(function (key) {\n\t      return (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key]) + ';';\n\t    }).join('\\n  ');\n\n\t    if (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t      return input.constructor.name + ' {\\n  ' + entries + '\\n}';\n\t    } else {\n\t      return '{ ' + entries + '\\n}';\n\t    }\n\t  }\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Maps search tokens to uids.\n\t * This structure is used by the Search class to optimize search operations.\n\t * Forked from JS search (github.com/bvaughn/js-search).\n\t */\n\t\n\tvar SearchIndex = function () {\n\t  function SearchIndex() {\n\t    _classCallCheck(this, SearchIndex);\n\t\n\t    this.tokenToUidMap = {};\n\t  }\n\t\n\t  /**\n\t   * Maps the specified token to a uid.\n\t   *\n\t   * @param token Searchable token (e.g. \"road\")\n\t   * @param uid Identifies a document within the searchable corpus\n\t   */\n\t\n\t  _createClass(SearchIndex, [{\n\t    key: \"indexDocument\",\n\t    value: function indexDocument(token, uid) {\n\t      if (!(typeof token === 'string')) {\n\t        throw new TypeError(\"Value of argument \\\"token\\\" violates contract.\\n\\nExpected:\\nstring\\n\\nGot:\\n\" + _inspect(token));\n\t      }\n\t\n\t      if (!this.tokenToUidMap[token]) {\n\t        this.tokenToUidMap[token] = {};\n\t      }\n\t\n\t      this.tokenToUidMap[token][uid] = uid;\n\t    }\n\t\n\t    /**\n\t     * Finds uids that have been mapped to the set of tokens specified.\n\t     * Only uids that have been mapped to all tokens will be returned.\n\t     *\n\t     * @param tokens Array of searchable tokens (e.g. [\"long\", \"road\"])\n\t     * @return Array of uids that have been associated with the set of search tokens\n\t     */\n\t\n\t  }, {\n\t    key: \"search\",\n\t    value: function search(tokens) {\n\t      function _ref2(_id2) {\n\t        if (!Array.isArray(_id2)) {\n\t          throw new TypeError(\"Function return value violates contract.\\n\\nExpected:\\nArray<any>\\n\\nGot:\\n\" + _inspect(_id2));\n\t        }\n\t\n\t        return _id2;\n\t      }\n\t\n\t      if (!(Array.isArray(tokens) && tokens.every(function (item) {\n\t        return typeof item === 'string';\n\t      }))) {\n\t        throw new TypeError(\"Value of argument \\\"tokens\\\" violates contract.\\n\\nExpected:\\nArray<string>\\n\\nGot:\\n\" + _inspect(tokens));\n\t      }\n\t\n\t      var uidMap = {};\n\t\n\t      if (!(uidMap != null && (typeof uidMap === \"undefined\" ? \"undefined\" : _typeof(uidMap)) === 'object')) {\n\t        throw new TypeError(\"Value of variable \\\"uidMap\\\" violates contract.\\n\\nExpected:\\n{ [uid: any]: any\\n}\\n\\nGot:\\n\" + _inspect(uidMap));\n\t      }\n\t\n\t      var initialized = false;\n\t\n\t      if (!(tokens && (typeof tokens[Symbol.iterator] === 'function' || Array.isArray(tokens)))) {\n\t        throw new TypeError(\"Expected tokens to be iterable, got \" + _inspect(tokens));\n\t      }\n\t\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = tokens[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var _token = _step.value;\n\t\n\t          var currentUidMap = this.tokenToUidMap[_token] || {};\n\t\n\t          if (!(currentUidMap != null && (typeof currentUidMap === \"undefined\" ? \"undefined\" : _typeof(currentUidMap)) === 'object')) {\n\t            throw new TypeError(\"Value of variable \\\"currentUidMap\\\" violates contract.\\n\\nExpected:\\n{ [uid: any]: any\\n}\\n\\nGot:\\n\" + _inspect(currentUidMap));\n\t          }\n\t\n\t          if (!initialized) {\n\t            initialized = true;\n\t\n\t            for (var _uid2 in currentUidMap) {\n\t              uidMap[_uid2] = currentUidMap[_uid2];\n\t            }\n\t          } else {\n\t            for (var _uid3 in uidMap) {\n\t              if (!currentUidMap[_uid3]) {\n\t                delete uidMap[_uid3];\n\t              }\n\t            }\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t\n\t      var uids = [];\n\t\n\t      if (!Array.isArray(uids)) {\n\t        throw new TypeError(\"Value of variable \\\"uids\\\" violates contract.\\n\\nExpected:\\nArray<any>\\n\\nGot:\\n\" + _inspect(uids));\n\t      }\n\t\n\t      for (var _uid in uidMap) {\n\t        uids.push(uidMap[_uid]);\n\t      }\n\t\n\t      return _ref2(uids);\n\t    }\n\t  }]);\n\t\n\t  return SearchIndex;\n\t}();\n\t\n\texports.default = SearchIndex;\n\t\n\tfunction _inspect(input) {\n\t  if (input === null) {\n\t    return 'null';\n\t  } else if (input === undefined) {\n\t    return 'void';\n\t  } else if (typeof input === 'string' || typeof input === 'number' || typeof input === 'boolean') {\n\t    return typeof input === \"undefined\" ? \"undefined\" : _typeof(input);\n\t  } else if (Array.isArray(input)) {\n\t    if (input.length > 0) {\n\t      var first = _inspect(input[0]);\n\n\t      if (input.every(function (item) {\n\t        return _inspect(item) === first;\n\t      })) {\n\t        return first.trim() + '[]';\n\t      } else {\n\t        return '[' + input.map(_inspect).join(', ') + ']';\n\t      }\n\t    } else {\n\t      return 'Array';\n\t    }\n\t  } else {\n\t    var keys = Object.keys(input);\n\n\t    if (!keys.length) {\n\t      if (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t        return input.constructor.name;\n\t      } else {\n\t        return 'Object';\n\t      }\n\t    }\n\n\t    var entries = keys.map(function (key) {\n\t      return (/^([A-Z_$][A-Z0-9_$]*)$/i.test(key) ? key : JSON.stringify(key)) + ': ' + _inspect(input[key]) + ';';\n\t    }).join('\\n  ');\n\n\t    if (input.constructor && input.constructor.name && input.constructor.name !== 'Object') {\n\t      return input.constructor.name + ' {\\n  ' + entries + '\\n}';\n\t    } else {\n\t      return '{ ' + entries + '\\n}';\n\t    }\n\t  }\n\t}\n\n/***/ }\n/******/ ]);\n//# sourceMappingURL=a6e8d10e25215827e7c5.worker.js.map",n.p+"a6e8d10e25215827e7c5.worker.js")}},function(t,e){var o=window.URL||window.webkitURL;t.exports=function(e,n){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),r=r.getBlob()}catch(t){r=new Blob([e])}return new Worker(o.createObjectURL(r))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(t){return new Worker(n)}}}])},function(t,e){"use strict";function c(t){return t.search}function a(t){var e=t.resourceName,n=t.searchStateSelector,r=void 0===n?c:n;return function(t){return r(t)[e].text}}function u(t){var o=t.filterFunction,i=t.resourceName,a=t.resourceSelector,e=t.searchStateSelector,u=s({resourceName:i,searchStateSelector:void 0===e?c:e});return function(t){var e,n=u(t),r=a(i,t);return n.filter(o||((e=r).has instanceof Function?function(t){return e.has(t)}:function(t){return e[t]}))}}function s(t){var e=t.resourceName,n=t.searchStateSelector,r=void 0===n?c:n;return function(t){return r(t)[e].result}}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSearchStateSelector=c,e.getSearchSelectors=function(t){var e=t.filterFunction,n=t.resourceName,r=t.resourceSelector,o=t.searchStateSelector,i=void 0===o?c:o;return{text:a({resourceName:n,searchStateSelector:i}),result:u({filterFunction:e,resourceName:n,resourceSelector:r,searchStateSelector:i}),unfilteredResult:s({resourceName:n,searchStateSelector:i})}},e.getTextSelector=a,e.getResultSelector=u,e.getUnfilteredResultSelector=s},function(t,e,n){"use strict";function r(r){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return{type:o.SEARCH_API,payload:{method:r,args:e}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.performSearch=e.indexResource=e.defineIndex=void 0,e.searchAPI=r,e.search=function(e){return function(t){return{type:o.ACTION,payload:{api:i(e,t),action:{type:o.SEARCH,payload:{resourceName:e,text:t}}}}}},e.receiveResult=function(e){return function(t){return{type:o.RECEIVE_RESULT,payload:{resourceName:e,result:t}}}},e.initializeResources=function(t){return{type:o.INITIALIZE_RESOURCES,payload:{resourceNames:t}}};var o=n(4),i=(e.defineIndex=r("defineIndex"),e.indexResource=r("indexResource"),e.performSearch=r("performSearch"))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEARCH_API="@@reduxSearch/API",e.SEARCH_STATE_SELECTOR="@@reduxSearch/searchStateSelector",e.ACTION="@@reduxSearch/action",e.INITIALIZE_RESOURCES="@@reduxSearch/initializeResources",e.RECEIVE_RESULT="@@reduxSearch/receiveResult",e.SEARCH="@@reduxSearch/search"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.resourceIndexes,c=void 0===e?{}:e,s=t.resourceSelector,n=t.searchApi,o=void 0===n?new u.default:n,r=t.searchStateSelector,i=void 0===r?a.defaultSearchStateSelector:r;return function(r){return function(t,e){var a=(0,f.applyMiddleware)((0,p.default)(o))(r)(t,e);a.search=o,a[l.SEARCH_STATE_SELECTOR]=i;var u,n=Object.keys(c);return a.dispatch(d.initializeResources(n)),o.subscribe(function(t){var e=t.result,n=t.resourceName;t.text,a.dispatch(d.receiveResult(n)(e))},function(t){throw t}),s&&(u={},a.subscribe(function(){var t=a.getState(),e=a[l.SEARCH_STATE_SELECTOR](t);for(var n in c){var r=s(n,t);if(u[n]!==r){u[n]=r;var o=c[n],i=e[n].text;a.dispatch(d.indexResource({fieldNamesOrIndexFunction:o,resourceName:n,resources:r,state:t})),a.dispatch(d.search(n)(i))}}})),a}}};var f=n(6),a=n(2),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),l=n(4),p=r(n(22)),u=r(n(23))},function(t,s,f){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function n(){}s.__esModule=!0,s.compose=s.applyMiddleware=s.bindActionCreators=s.combineReducers=s.createStore=void 0;var r=e(f(8)),o=e(f(17)),i=e(f(19)),a=e(f(20)),u=e(f(21)),c=e(f(18));"production"!==t.env.NODE_ENV&&"string"==typeof n.name&&"isCrushed"!==n.name&&(0,c.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),s.createStore=r.default,s.combineReducers=o.default,s.bindActionCreators=i.default,s.applyMiddleware=a.default,s.compose=u.default}).call(s,f(7))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function i(){y&&l&&(y=!1,l.length?p=l.concat(p):h=-1,p.length&&a())}function a(){if(!y){var t=o(i);y=!0;for(var e=p.length;e;){for(l=p,p=[];++h<e;)l&&l[h].run();h=-1,e=p.length}l=null,y=!1,function(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var s,f,d=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var l,p=[],y=!1,h=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||y||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.ActionTypes=void 0,e.default=function t(e,n,r){function o(){l===d&&(l=d.slice())}function i(){return f}function a(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var n=!0;return o(),l.push(e),function(){if(n){n=!1,o();var t=l.indexOf(e);l.splice(t,1)}}}function u(t){if(!(0,y.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,f=s(f,t)}finally{p=!1}for(var e=d=l,n=0;n<e.length;n++)e[n]();return t}var c;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(t)(e,n)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,f=n,d=[],l=d,p=!1;return u({type:v.INIT}),(c={dispatch:u,subscribe:a,getState:i,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");s=t,u({type:v.INIT})}})[h.default]=function(){var t,n=a;return(t={subscribe:function(t){function e(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return e(),{unsubscribe:n(e)}}})[h.default]=function(){return this},t},c};var y=r(n(9)),h=r(n(14)),v=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){var r=n(10),o=n(12),i=n(13),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,f=c.call(Object),d=u.toString;t.exports=function(t){if(!i(t)||"[object Object]"!=d.call(t)||o(t))return!1;var e=r(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(11)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(e,n){return function(t){return e(n(t))}}},function(t,e){t.exports=function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},function(t,e,n){t.exports=n(15)},function(t,a,u){(function(t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e,n=u(16),r=(e=n)&&e.__esModule?e:{default:e},o=void 0;void 0!==t?o=t:"undefined"!=typeof window&&(o=window);var i=(0,r.default)(o);a.default=i}).call(a,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(b){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){for(var e=Object.keys(t),y={},n=0;n<e.length;n++){var r=e[n];"production"!==b.env.NODE_ENV&&void 0===t[r]&&(0,g.default)('No reducer provided for key "'+r+'"'),"function"==typeof t[r]&&(y[r]=t[r])}var h,o,v=Object.keys(y);if("production"!==b.env.NODE_ENV)var _={};try{o=y,Object.keys(o).forEach(function(t){var e=o[t];if(void 0===e(void 0,{type:m.ActionTypes.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===e(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+m.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}catch(t){h=t}return function(){var t,e,n,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=arguments[1];if(h)throw h;if("production"!==b.env.NODE_ENV){var i=function(t,e,n,r){var o=Object.keys(e),i=n&&n.type===m.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,x.default)(t))return"The "+i+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+o.join('", "')+'"';var a=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)&&!r[t]});return a.forEach(function(t){r[t]=!0}),0<a.length?"Unexpected "+(1<a.length?"keys":"key")+' "'+a.join('", "')+'" found in '+i+'. Expected to find one of the known reducer keys instead: "'+o.join('", "')+'". Unexpected keys will be ignored.':void 0}(r,y,o,_);i&&(0,g.default)(i)}for(var a=!1,u={},c=0;c<v.length;c++){var s=v[c],f=y[s],d=r[s],l=f(d,o);if(void 0===l){var p=(t=s,n=void 0,"Given action "+((n=(e=o)&&e.type)&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.');throw new Error(p)}u[s]=l,a=a||l!==d}return a?u:r}};var m=n(8),x=t(n(9)),g=t(n(18))}).call(e,n(7))},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}},function(t,e){"use strict";function u(t,e){return function(){return e(t.apply(void 0,arguments))}}e.__esModule=!0,e.default=function(t,e){if("function"==typeof t)return u(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],a=t[i];"function"==typeof a&&(r[i]=u(a,e))}return r}},function(t,e,n){"use strict";e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(){for(var t=arguments.length,c=Array(t),e=0;e<t;e++)c[e]=arguments[e];return function(u){return function(t,e,n){var r,o=u(t,e,n),i=o.dispatch,a={getState:o.getState,dispatch:function(t){return i(t)}};return r=c.map(function(t){return t(a)}),i=f.default.apply(void 0,r)(o.dispatch),s({},o,{dispatch:i})}}};var r,o=n(21),f=(r=o)&&r.__esModule?r:{default:r}},function(t,e){"use strict";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1],o=e.slice(0,-1);return function(){return o.reduceRight(function(t,e){return e(t)},r.apply(void 0,arguments))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){return function(t){var i=t.dispatch;return function(o){return function(t){var e=t.payload;if(t.type===u.SEARCH_API){var n=e.method,r=e.args;return a[n].apply(a,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r))}return t.type===u.ACTION?(o(e.action),i(e.api)):o(t)}}}};var u=n(4)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),c=(r=i)&&r.__esModule?r:{default:r},a=function(){function e(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).indexMode;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this._indexMode=t,this._resourceToSearchMap={},this._onErrorSubscribers=[],this._onNextSubscribers=[]}return o(e,[{key:"subscribe",value:function(e,n){return this._onNextSubscribers.push(e),this._onErrorSubscribers.push(n),function(){this._onNextSubscribers=this._onNextSubscribers.filter(function(t){return t!==e}),this._onErrorSubscribers=this._onErrorSubscribers.filter(function(t){return t!==n})}}},{key:"indexResource",value:function(t){var n=t.fieldNamesOrIndexFunction,e=t.resourceName,r=t.resources,o=t.state,i=new c.default({indexMode:this._indexMode});if(Array.isArray(n))if(r.forEach instanceof Function)r.forEach(function(e){n.forEach(function(t){i.indexDocument(e.id,e[t]||"")})});else{var a=function(){var e=r[u];n.forEach(function(t){i.indexDocument(e.id,e[t]||"")})};for(var u in r)a()}else{if(!(n instanceof Function))throw Error("Expected resource index to be either an Array of fields or an index function");n({indexDocument:i.indexDocument,resources:r,state:o})}this._resourceToSearchMap[e]=i}},{key:"performSearch",value:(t=regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this._resourceToSearchMap[e],t.next=4,r.search(n);case 4:return o=t.sent,this._notifyNext({result:o,text:n,resourceName:e}),t.abrupt("return",o);case 9:throw t.prev=9,t.t0=t.catch(0),this._notifyError(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}),n=function(){var u=t.apply(this,arguments);return new Promise(function(i,a){return function e(t,n){try{var r=u[t](n),o=r.value}catch(t){return void a(t)}return r.done?void i(o):Promise.resolve(o).then(function(t){return e("next",t)},function(t){return e("throw",t)})}("next")})},function(t,e){return n.apply(this,arguments)})},{key:"_notifyError",value:function(e){this._onErrorSubscribers.forEach(function(t){return t(e)})}},{key:"_notifyNext",value:function(e){this._onNextSubscribers.forEach(function(t){return t(e)})}}]),e;var t,n}();e.default=a},function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.handlers=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.payload,r=e.type;return u.hasOwnProperty(r)?u[r](t,n):t};var a=n(4),u=e.handlers=(o(r={},a.INITIALIZE_RESOURCES,function(t,e){return e.resourceNames.reduce(function(t,e){return t[e]={isSearching:!1,result:[],text:""},t},i({},t))}),o(r,a.RECEIVE_RESULT,function(t,e){var n=e.resourceName,r=e.result;return i({},t,o({},n,i({},t[n],{isSearching:!1,result:r})))}),o(r,a.SEARCH,function(t,e){var n=e.resourceName,r=e.text;return i({},t,o({},n,i({},t[n],{isSearching:!0,text:r})))}),r)}])});