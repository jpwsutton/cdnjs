function shave(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw Error("maxHeight is required");var n="string"==typeof e?document.querySelectorAll(e):e;if(n){var s=a.character||"â€¦",i=a.classname||"js-shave",r="boolean"!=typeof a.spaces||a.spaces,o='<span class="js-shave-char">'.concat(s,"</span>");"length"in n||(n=[n]);for(var c=0;c<n.length;c+=1){var h=n[c],l=h.style,v=h.querySelector(".".concat(i)),f=void 0===h.textContent?"innerText":"textContent";v&&(h.removeChild(h.querySelector(".js-shave-char")),h[f]=h[f]);var g=h[f],d=r?g.split(" "):g;if(!(d.length<2)){var p=l.height;l.height="auto";var H=l.maxHeight;if(l.maxHeight="none",h.offsetHeight<=t)l.height=p,l.maxHeight=H;else{for(var j=d.length-1,x=0,m=void 0;x<j;)m=x+j+1>>1,h[f]=r?d.slice(0,m).join(" "):d.slice(0,m),h.insertAdjacentHTML("beforeend",o),h.offsetHeight>t?j=r?m-1:m-2:x=m;h[f]=r?d.slice(0,j).join(" "):d.slice(0,j),h.insertAdjacentHTML("beforeend",o);var u=r?d.slice(j).join(" "):d.slice(j);h.insertAdjacentHTML("beforeend",'<span class="'.concat(i,'" style="display:none;">').concat(u,"</span>")),l.height=p,l.maxHeight=H}}}}}export default shave;