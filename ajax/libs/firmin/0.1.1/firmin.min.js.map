{"version":3,"sources":["firmin.js"],"names":["Firmin","prefix","i","test","document","createElement","prefixes","style","cssText","TransformMatrix","vector","c","this","prototype","multiply","t","n","Array","build","join","Transform","origin","ctm","centre","pointToVector","methods","parse","description","context","rest","transform","property","toVector","getOrigin","indexOf","result","remainder","matrix","properties","translate","distances","x","y","parseInt","translateX","distance","translateY","scale","magnitudes","scaleX","magnitude","scaleY","skew","parseAngle","Parser","angle2rads","angleToRadians","apply","Math","tan","skewX","skewY","rotate","angle","cos","sin","Transition","duration","delay","timingFunction","transition","p","parseTime","hasDuration","getDuration","hasDelay","getDelay","Animation","tsp","trp","callback","getTotalDuration","exec","element","Animated","operations","index","run","animation","self","setTimeout","fireCallback","fired","last","call","animate","previous","length","push","el","animated","forEach","method","value","NUMBER_PATTERN","parseNumeric","units","def","input","unit","match","filter","u","substr","parseFloat","type","ratio","PI","point","z"],"mappings":"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"}