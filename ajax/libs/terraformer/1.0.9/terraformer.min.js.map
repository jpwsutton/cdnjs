{"version":3,"sources":["terraformer.js"],"names":["root","factory","module","exports","window","Terraformer","this","EarthRadius","DegreesPerRadian","RadiansPerDegree","MercatorCRS","type","properties","href","isArray","obj","Object","prototype","toString","call","extend","destination","source","k","hasOwnProperty","calculateBounds","geojson","coordinates","calculateBoundsFromArray","calculateBoundsFromNestedArrays","array","x1","x2","y1","y2","i","length","inner","j","innerinner","lonlat","lon","lat","calculateBoundsFromNestedArrayOfArrays","geometry","featureCollection","extent","extents","features","push","calculateBoundsForFeatureCollection","geometryCollection","geometries","calculateBoundsForGeometryCollection","Error","calculateEnvelope","bounds","x","y","w","Math","abs","h","radToDeg","rad","degToRad","deg","positionToGeographic","position","floor","PI","atan","exp","positionToMercator","lng","max","min","log","sin","applyConverter","converter","noCrs","f","g","eachPosition","func","crs","toMercator","toGeographic","compSort","p1","p2","euclideanDistance","p","q","dx","dy","nextHullPoint","points","r","a","b","t","convexHull","hull","sort","coordinatesContainPoint","point","contains","l","polygonContainsPoint","polygon","edgeIntersectsEdge","a1","a2","b1","b2","ua_t","ub_t","u_b","ua","ub","isNumber","n","isNaN","parseFloat","isFinite","arraysIntersectArrays","closedPolygon","outer","slice","pointsEqual","coordinatesEqual","na","nb","excludeFromJSON","Primitive","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Feature","FeatureCollection","GeometryCollection","input","args","Array","arguments","createCircle","center","radius","interpolate","mercatorPosition","steps","radians","cos","Circle","envelope","bbox","concat","toJSON","key","indexOf","primitive","within","linestring","mpoly","intersects","apply","undefined","console","warn","constructor","forEach","addPoint","insertPoint","index","splice","removePoint","remove","get","addVertex","insertVertex","removeVertex","close","hasHoles","holes","id","found","feature","recalculate","Tools","isConvex","ltz","p3","v","res","GeographicCRS"],"mappings":"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"}