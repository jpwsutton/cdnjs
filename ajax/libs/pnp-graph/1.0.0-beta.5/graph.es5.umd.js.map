{"version":3,"file":"graph.es5.umd.js","sources":["../../../../packages/graph/src/config/graphlibconfig.ts","../../../../packages/graph/src/net/graphclient.ts","../../../../packages/graph/src/graphqueryable.ts","../../../../packages/graph/src/members.ts","../../../../packages/graph/src/calendars.ts","../../../../packages/graph/src/attachments.ts","../../../../packages/graph/src/conversations.ts","../../../../packages/graph/src/plans.ts","../../../../packages/graph/src/photos.ts","../../../../packages/graph/src/groups.ts","../../../../packages/graph/src/v1.ts","../../../../packages/graph/src/rest.ts","../../../../packages/graph/src/batch.ts"],"sourcesContent":["import { LibraryConfiguration, TypedHash, RuntimeConfig } from \"@pnp/common\";\r\nimport { GraphHttpClientImpl } from \"../net/graphclient\";\r\nimport { Logger, LogLevel } from \"@pnp/logging\";\r\n\r\nexport interface GraphConfigurationPart {\r\n    graph?: {\r\n        /**\r\n         * Any headers to apply to all requests\r\n         */\r\n        headers?: TypedHash<string>;\r\n\r\n        /**\r\n         * Defines a factory method used to create fetch clients\r\n         */\r\n        fetchClientFactory?: () => GraphHttpClientImpl;\r\n    };\r\n}\r\n\r\nexport interface GraphConfiguration extends LibraryConfiguration, GraphConfigurationPart { }\r\n\r\nexport function setup(config: GraphConfiguration): void {\r\n    RuntimeConfig.extend(config);\r\n}\r\n\r\nexport class NoGraphClientAvailableException extends Error {\r\n\r\n    constructor(msg = \"There is no Graph Client available, either set one using configuraiton or provide a valid SPFx Context using setup.\") {\r\n        super(msg);\r\n        this.name = \"NoGraphClientAvailableException\";\r\n        Logger.log({ data: null, level: LogLevel.Error, message: this.message });\r\n    }\r\n}\r\n\r\nexport class GraphRuntimeConfigImpl {\r\n\r\n    public get headers(): TypedHash<string> {\r\n\r\n        const graphPart = RuntimeConfig.get(\"graph\");\r\n        if (typeof graphPart !== \"undefined\" && typeof graphPart.headers !== \"undefined\") {\r\n            return graphPart.headers;\r\n        }\r\n\r\n        return {};\r\n    }\r\n\r\n    public get fetchClientFactory(): () => GraphHttpClientImpl {\r\n\r\n        const graphPart = RuntimeConfig.get(\"graph\");\r\n        // use a configured factory firt\r\n        if (typeof graphPart !== \"undefined\" && typeof graphPart.fetchClientFactory !== \"undefined\") {\r\n            return graphPart.fetchClientFactory;\r\n        }\r\n\r\n        // then try and use spfx context if available\r\n        if (typeof RuntimeConfig.spfxContext !== \"undefined\") {\r\n            return () => RuntimeConfig.spfxContext.graphHttpClient;\r\n        }\r\n\r\n        throw new NoGraphClientAvailableException();\r\n    }\r\n}\r\n\r\nexport let GraphRuntimeConfig = new GraphRuntimeConfigImpl();\r\n","import {\n    Util,\n    RequestClient,\n    mergeHeaders,\n    FetchOptions,\n} from \"@pnp/common\";\nimport { GraphRuntimeConfig } from \"../config/graphlibconfig\";\n// import { APIUrlException } from \"../utils/exceptions\";\n\nexport class GraphHttpClient implements RequestClient {\n\n    private _impl: GraphHttpClientImpl;\n\n    constructor() {\n\n        this._impl = GraphRuntimeConfig.fetchClientFactory();\n    }\n\n    public fetch(url: string, options: FetchOptions = {}): Promise<Response> {\n\n        const headers = new Headers();\n\n        // first we add the global headers so they can be overwritten by any passed in locally to this call\n        mergeHeaders(headers, GraphRuntimeConfig.headers);\n\n        // second we add the local options so we can overwrite the globals\n        mergeHeaders(headers, options.headers);\n\n        const opts = Util.extend(options, { headers: headers });\n\n        return this.fetchRaw(url, opts);\n    }\n\n    public fetchRaw(url: string, options: FetchOptions = {}): Promise<Response> {\n\n        // here we need to normalize the headers\n        const rawHeaders = new Headers();\n        mergeHeaders(rawHeaders, options.headers);\n        options = Util.extend(options, { headers: rawHeaders });\n\n        const retry = (ctx: RetryContext): void => {\n\n            this._impl.fetch(url, {}, options).then((response) => ctx.resolve(response)).catch((response) => {\n\n                // Check if request was throttled - http status code 429\n                // Check if request failed due to server unavailable - http status code 503\n                if (response.status !== 429 && response.status !== 503) {\n                    ctx.reject(response);\n                }\n\n                // grab our current delay\n                const delay = ctx.delay;\n\n                // Increment our counters.\n                ctx.delay *= 2;\n                ctx.attempts++;\n\n                // If we have exceeded the retry count, reject.\n                if (ctx.retryCount <= ctx.attempts) {\n                    ctx.reject(response);\n                }\n\n                // Set our retry timeout for {delay} milliseconds.\n                setTimeout(Util.getCtxCallback(this, retry, ctx), delay);\n            });\n        };\n\n        return new Promise((resolve, reject) => {\n\n            const retryContext: RetryContext = {\n                attempts: 0,\n                delay: 100,\n                reject: reject,\n                resolve: resolve,\n                retryCount: 7,\n            };\n\n            retry.call(this, retryContext);\n        });\n    }\n\n    public get(url: string, options: FetchOptions = {}): Promise<Response> {\n        const opts = Util.extend(options, { method: \"GET\" });\n        return this.fetch(url, opts);\n    }\n\n    public post(url: string, options: FetchOptions = {}): Promise<Response> {\n        const opts = Util.extend(options, { method: \"POST\" });\n        return this.fetch(url, opts);\n    }\n\n    public patch(url: string, options: FetchOptions = {}): Promise<Response> {\n        const opts = Util.extend(options, { method: \"PATCH\" });\n        return this.fetch(url, opts);\n    }\n\n    public delete(url: string, options: FetchOptions = {}): Promise<Response> {\n        const opts = Util.extend(options, { method: \"DELETE\" });\n        return this.fetch(url, opts);\n    }\n}\n\ninterface RetryContext {\n    attempts: number;\n    delay: number;\n    reject: (reason?: any) => void;\n    resolve: (value?: {} | PromiseLike<{}>) => void;\n    retryCount: number;\n}\n\nexport interface GraphHttpClientImpl {\n    fetch(url: string, configuration: any, options: FetchOptions): Promise<Response>;\n}\n","import {\n    Util,\n    FetchOptions,\n} from \"@pnp/common\";\nimport {\n    ODataParser,\n    ODataQueryable,\n    RequestContext,\n    PipelineMethods,\n} from \"@pnp/odata\";\nimport { GraphHttpClient } from \"./net/graphclient\";\nimport { GraphBatch } from \"./batch\";\n\n\nexport interface GraphQueryableConstructor<T> {\n    new(baseUrl: string | GraphQueryable, path?: string): T;\n}\n\n/**\n * Queryable Base Class\n *\n */\nexport class GraphQueryable extends ODataQueryable<GraphBatch> {\n\n    /**\n     * Creates a new instance of the Queryable class\n     *\n     * @constructor\n     * @param baseUrl A string or Queryable that should form the base part of the url\n     *\n     */\n    constructor(baseUrl: string | GraphQueryable, path?: string) {\n        super();\n\n        if (typeof baseUrl === \"string\") {\n\n            const urlStr = baseUrl as string;\n            this._parentUrl = urlStr;\n            this._url = Util.combinePaths(urlStr, path);\n        } else {\n\n            const q = baseUrl as GraphQueryable;\n            this._parentUrl = q._url;\n            this._options = q._options;\n            this._url = Util.combinePaths(this._parentUrl, path);\n        }\n    }\n\n    /**\n     * Creates a new instance of the supplied factory and extends this into that new instance\n     *\n     * @param factory constructor for the new queryable\n     */\n    public as<T>(factory: GraphQueryableConstructor<T>): T {\n        const o = <T>new factory(this._url, null);\n        return Util.extend(o, this, true);\n    }\n\n    /**\n     * Gets the full url with query information\n     *\n     */\n    public toUrlAndQuery(): string {\n\n        return this.toUrl() + `?${this._query.getKeys().map(key => `${key}=${this._query.get(key)}`).join(\"&\")}`;\n    }\n\n    /**\n     * Gets a parent for this instance as specified\n     *\n     * @param factory The contructor for the class to create\n     */\n    protected getParent<T extends GraphQueryable>(\n        factory: GraphQueryableConstructor<T>,\n        baseUrl: string | GraphQueryable = this.parentUrl,\n        path?: string): T {\n\n        return new factory(baseUrl, path);\n    }\n\n    /**\n     * Clones this queryable into a new queryable instance of T\n     * @param factory Constructor used to create the new instance\n     * @param additionalPath Any additional path to include in the clone\n     * @param includeBatch If true this instance's batch will be added to the cloned instance\n     */\n    protected clone<T extends GraphQueryable>(factory: GraphQueryableConstructor<T>, additionalPath?: string, includeBatch = true): T {\n\n        // TODO:: include batching info in clone\n        if (includeBatch) {\n            return new factory(this, additionalPath);\n        }\n\n        return new factory(this, additionalPath);\n    }\n\n    /**\n     * Converts the current instance to a request context\n     *\n     * @param verb The request verb\n     * @param options The set of supplied request options\n     * @param parser The supplied ODataParser instance\n     * @param pipeline Optional request processing pipeline\n     */\n    protected toRequestContext<T>(\n        verb: string,\n        options: FetchOptions = {},\n        parser: ODataParser<T>,\n        pipeline: Array<(c: RequestContext<T>) => Promise<RequestContext<T>>> = PipelineMethods.default): Promise<RequestContext<T>> {\n\n        // TODO:: add batch support\n        return Promise.resolve({\n            batch: this.batch,\n            batchDependency: () => void (0),\n            cachingOptions: this._cachingOptions,\n            clientFactory: () => new GraphHttpClient(),\n            isBatched: this.hasBatch,\n            isCached: this._useCaching,\n            options: options,\n            parser: parser,\n            pipeline: pipeline,\n            requestAbsoluteUrl: this.toUrlAndQuery(),\n            requestId: Util.getGUID(),\n            verb: verb,\n        });\n    }\n}\n\n/**\n * Represents a REST collection which can be filtered, paged, and selected\n *\n */\nexport class GraphQueryableCollection extends GraphQueryable {\n\n    /**\n     *\n     * @param filter The string representing the filter query\n     */\n    public filter(filter: string): this {\n        this._query.add(\"$filter\", filter);\n        return this;\n    }\n\n    /**\n     * Choose which fields to return\n     *\n     * @param selects One or more fields to return\n     */\n    public select(...selects: string[]): this {\n        if (selects.length > 0) {\n            this._query.add(\"$select\", selects.join(\",\"));\n        }\n        return this;\n    }\n\n    /**\n     * Expands fields such as lookups to get additional data\n     *\n     * @param expands The Fields for which to expand the values\n     */\n    public expand(...expands: string[]): this {\n        if (expands.length > 0) {\n            this._query.add(\"$expand\", expands.join(\",\"));\n        }\n        return this;\n    }\n\n    /**\n     * Orders based on the supplied fields ascending\n     *\n     * @param orderby The name of the field to sort on\n     * @param ascending If false DESC is appended, otherwise ASC (default)\n     */\n    public orderBy(orderBy: string, ascending = true): this {\n        const keys = this._query.getKeys();\n        const query: string[] = [];\n        const asc = ascending ? \" asc\" : \" desc\";\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i] === \"$orderby\") {\n                query.push(this._query.get(\"$orderby\"));\n                break;\n            }\n        }\n        query.push(`${orderBy}${asc}`);\n\n        this._query.add(\"$orderby\", query.join(\",\"));\n\n        return this;\n    }\n\n    /**\n     * Limits the query to only return the specified number of items\n     *\n     * @param top The query row limit\n     */\n    public top(top: number): this {\n        this._query.add(\"$top\", top.toString());\n        return this;\n    }\n\n    /**\n     * Skips a set number of items in the return set\n     *\n     * @param num Number of items to skip\n     */\n    public skip(num: number): this {\n        this._query.add(\"$top\", num.toString());\n        return this;\n    }\n\n    /**\n     * \tTo request second and subsequent pages of Graph data\n     */\n    public skipToken(token: string): this {\n        this._query.add(\"$skiptoken\", token);\n        return this;\n    }\n\n    /**\n     * \tRetrieves the total count of matching resources\n     */\n    public get count(): this {\n        this._query.add(\"$count\", \"true\");\n        return this;\n    }\n}\n\nexport class GraphQueryableSearchableCollection extends GraphQueryableCollection {\n\n    /**\n     * \tTo request second and subsequent pages of Graph data\n     */\n    public search(query: string): this {\n        this._query.add(\"$search\", query);\n        return this;\n    }\n}\n\n/**\n * Represents an instance that can be selected\n *\n */\nexport class GraphQueryableInstance extends GraphQueryable {\n\n    /**\n     * Choose which fields to return\n     *\n     * @param selects One or more fields to return\n     */\n    public select(...selects: string[]): this {\n        if (selects.length > 0) {\n            this._query.add(\"$select\", selects.join(\",\"));\n        }\n        return this;\n    }\n\n    /**\n     * Expands fields such as lookups to get additional data\n     *\n     * @param expands The Fields for which to expand the values\n     */\n    public expand(...expands: string[]): this {\n        if (expands.length > 0) {\n            this._query.add(\"$expand\", expands.join(\",\"));\n        }\n        return this;\n    }\n}\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\n\nexport class Members extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"members\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Use this API to add a member to an Office 365 group, a security group or a mail-enabled security group through\n     * the members navigation property. You can add users or other groups.\n     * Important: You can add only users to Office 365 groups.\n     * \n     * @param id Full @odata.id of the directoryObject, user, or group object you want to add (ex: https://graph.microsoft.com/v1.0/directoryObjects/${id})\n     */\n    public add(id: string): Promise<any> {\n\n        return this.clone(Members, \"$ref\").postCore({\n            body: JSON.stringify({\n                \"@odata.id\": id,\n            }),\n        });\n    }\n\n    /**\n     * Gets a member of the group by id\n     * \n     * @param id Group member's id\n     */\n    public getById(id: string): Member {\n        return new Member(this, id);\n    }\n}\n\nexport class Member extends GraphQueryableInstance {\n\n}\n\nexport class Owners extends Members {\n    constructor(baseUrl: string | GraphQueryable, path = \"owners\") {\n        super(baseUrl, path);\n    }\n}\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\nimport { TypedHash } from \"@pnp/common\";\nimport { Event as IEvent } from \"@microsoft/microsoft-graph-types\";\n// import { Attachments } from \"./attachments\";\n\nexport class Calendars extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"calendars\") {\n        super(baseUrl, path);\n    }\n}\n\nexport class Calendar extends GraphQueryableInstance {\n\n    public get events(): Events {\n        return new Events(this);\n    }\n}\n\nexport class Events extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"events\") {\n        super(baseUrl, path);\n    }\n\n    public getById(id: string): Event {\n        return new Event(this, id);\n    }\n\n    /**\n     * Adds a new event to the collection\n     * \n     * @param properties The set of properties used to create the event\n     */\n    public add(properties: Event): Promise<EventAddResult> {\n\n        return this.postCore({\n            body: JSON.stringify(properties),\n        }).then(r => {\n            return {\n                data: r,\n                event: this.getById(r.id),\n            };\n        });\n    }\n}\n\nexport interface EventAddResult {\n    data: IEvent;\n    event: Event;\n}\n\nexport class Event extends GraphQueryableInstance {\n\n    // TODO:: when supported\n    // /**\n    //  * Gets the collection of attachments for this event\n    //  */\n    // public get attachments(): Attachments {\n    //     return new Attachments(this);\n    // }\n\n    /**\n     * Update the properties of an event object\n     * \n     * @param properties Set of properties of this event to update\n     */\n    public update(properties: TypedHash<any>): Promise<void> {\n\n        return this.patchCore({\n            body: JSON.stringify(properties),\n        });\n    }\n\n    /**\n     * Deletes this event\n     */\n    public delete(): Promise<void> {\n        return this.deleteCore();\n    }\n}\n\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\nimport { Attachment as IAttachment } from \"@microsoft/microsoft-graph-types\";\n\nexport class Attachments extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"attachments\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets a member of the group by id\n     * \n     * @param id Attachment id\n     */\n    public getById(id: string): Attachment {\n        return new Attachment(this, id);\n    }\n\n    /**\n     * Add attachment to this collection\n     * \n     * @param name Name given to the attachment file\n     * @param bytes File content\n     */\n    public addFile(name: string, bytes: string | Blob): Promise<IAttachment> {\n\n        return this.postCore({\n            body: JSON.stringify({\n                \"@odata.type\": \"#microsoft.graph.fileAttachment\",\n                contentBytes: bytes,\n                name: name,\n            }),\n        });\n    }\n}\n\nexport class Attachment extends GraphQueryableInstance {\n}\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\nimport { TypedHash } from \"@pnp/common\";\nimport { Attachments } from \"./attachments\";\n\nimport { ConversationThread as IConversationThread, Post as IPost, Recipient as IRecipient } from \"@microsoft/microsoft-graph-types\";\n\n/**\n * Information used to forward a post\n */\nexport interface PostForwardInfo {\n    comment?: string;\n    toRecipients: IRecipient[];\n}\n\nexport class Conversations extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"conversations\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Create a new conversation by including a thread and a post.\n     * \n     * @param properties Properties used to create the new conversation\n     */\n    public add(properties: TypedHash<any>): Promise<any> {\n\n        return this.postCore({\n            body: JSON.stringify(properties),\n        });\n    }\n\n    /**\n     * Gets a conversation from this collection by id\n     * \n     * @param id Group member's id\n     */\n    public getById(id: string): Conversation {\n        return new Conversation(this, id);\n    }\n}\n\nexport class Threads extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"threads\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets a thread from this collection by id\n     * \n     * @param id Group member's id\n     */\n    public getById(id: string): Thread {\n        return new Thread(this, id);\n    }\n\n    /**\n     * Adds a new thread to this collection\n     * \n     * @param properties properties used to create the new thread\n     * @returns Id of the new thread\n     */\n    public add(properties: IConversationThread): Promise<{ id: string }> {\n\n        return this.postCore({\n            body: JSON.stringify(properties),\n        });\n    }\n}\n\nexport class Posts extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"posts\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets a thread from this collection by id\n     * \n     * @param id Group member's id\n     */\n    public getById(id: string): Post {\n        return new Post(this, id);\n    }\n\n    /**\n     * Adds a new thread to this collection\n     * \n     * @param properties properties used to create the new thread\n     * @returns Id of the new thread\n     */\n    public add(properties: IPost): Promise<{ id: string }> {\n\n        return this.postCore({\n            body: JSON.stringify(properties),\n        });\n    }\n}\n\nexport class Conversation extends GraphQueryableInstance {\n\n    /**\n     * Get all the threads in a group conversation.\n     */\n    public get threads(): Threads {\n        return new Threads(this);\n    }\n\n    /**\n     * Updates this conversation\n     */\n    public update(properties: TypedHash<any>): Promise<void> {\n\n        return this.patchCore({\n            body: JSON.stringify(properties),\n        });\n    }\n\n    /**\n     * Deletes this member from the group\n     */\n    public delete(): Promise<void> {\n        return this.deleteCore();\n    }\n}\n\nexport class Thread extends GraphQueryableInstance {\n\n    /**\n     * Get all the threads in a group conversation.\n     */\n    public get posts(): Posts {\n        return new Posts(this);\n    }\n\n    /**\n     * Reply to a thread in a group conversation and add a new post to it\n     * \n     * @param post Contents of the post \n     */\n    public reply(post: IPost): Promise<void> {\n\n        return this.clone(Thread, \"reply\").postCore({\n            body: JSON.stringify({\n                post: post,\n            }),\n        });\n    }\n\n    /**\n     * Deletes this member from the group\n     */\n    public delete(): Promise<void> {\n        return this.deleteCore();\n    }\n}\n\nexport class Post extends GraphQueryableInstance {\n\n    public get attachments(): Attachments {\n        return new Attachments(this);\n    }\n\n    /**\n     * Deletes this post\n     */\n    public delete(): Promise<void> {\n        return this.deleteCore();\n    }\n\n    /**\n     * Forward a post to a recipient\n     */\n    public forward(info: PostForwardInfo): Promise<void> {\n        return this.clone(Post, \"forward\").postCore({\n            body: JSON.stringify(info),\n        });\n    }\n\n    /**\n     * Reply to a thread in a group conversation and add a new post to it\n     * \n     * @param post Contents of the post \n     */\n    public reply(post: IPost): Promise<void> {\n\n        return this.clone(Post, \"reply\").postCore({\n            body: JSON.stringify({\n                post: post,\n            }),\n        });\n    }\n}\n\nexport class Senders extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path?: string) {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Add a new user or group to this senders collection\n     * @param id The full @odata.id value to add (ex: https://graph.microsoft.com/v1.0/users/user@contoso.com)\n     */\n    public add(id: string): Promise<any> {\n\n        return this.clone(Senders, \"$ref\").postCore({\n            body: JSON.stringify({\n                \"@odata.id\": id,\n            }),\n        });\n    }\n\n    /**\n     * Removes the entity from the collection\n     * \n     * @param id The full @odata.id value to remove (ex: https://graph.microsoft.com/v1.0/users/user@contoso.com)\n     */\n    public remove(id: string): Promise<void> {\n\n        const remover = this.clone(Senders, \"$ref\");\n        remover.query.add(\"$id\", id);\n        return remover.deleteCore();\n    }\n}\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\n\nexport class Plans extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"planner/plans\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets a plan from this collection by id\n     * \n     * @param id Plan's id\n     */\n    public getById(id: string): Plan {\n        return new Plan(this, id);\n    }\n}\n\nexport class Plan extends GraphQueryableInstance {\n\n\n}\n","import { GraphQueryable, GraphQueryableInstance } from \"./graphqueryable\";\nimport { BlobFileParser, BufferFileParser } from \"@pnp/odata\";\n\nexport class Photo extends GraphQueryableInstance {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"photo\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets the image bytes as a blob (browser)\n     */\n    public getBlob(): Promise<Blob> {\n        return this.clone(Photo, \"$value\", false).get(new BlobFileParser());\n    }\n\n    /**\n     * Gets the image file byets as a Buffer (node.js)\n     */\n    public getBuffer(): Promise<Blob> {\n        return this.clone(Photo, \"$value\", false).get(new BufferFileParser());\n    }\n\n    /**\n     * Sets the file bytes\n     * \n     * @param content Image file contents, max 4 MB\n     */\n    public setContent(content: ArrayBuffer | Blob): Promise<void> {\n\n        return this.clone(Photo, \"$value\", false).patchCore({\n            body: content,\n        });\n    }\n}\n","import { GraphQueryable, GraphQueryableInstance, GraphQueryableCollection } from \"./graphqueryable\";\nimport { Members, Owners } from \"./members\";\nimport { Util, TypedHash } from \"@pnp/common\";\nimport { Calendar, Events } from \"./calendars\";\nimport { Conversations, Senders } from \"./conversations\";\nimport { Event as IEvent } from \"@microsoft/microsoft-graph-types\";\nimport { Plans } from \"./plans\";\nimport { Photo } from \"./photos\";\n\nexport enum GroupType {\n    /**\n     * Office 365 (aka unified group)\n     */\n    Office365,\n    /**\n     * Dynamic membership\n     */\n    Dynamic,\n    /**\n     * Security\n     */\n    Security,\n}\n\n/**\n * Describes a collection of Field objects\n *\n */\nexport class Groups extends GraphQueryableCollection {\n\n    constructor(baseUrl: string | GraphQueryable, path = \"groups\") {\n        super(baseUrl, path);\n    }\n\n    /**\n     * Gets a group from the collection using the specified id\n     * \n     * @param id Id of the group to get from this collection\n     */\n    public getById(id: string): Group {\n        return new Group(this, id);\n    }\n\n    /**\n     * Create a new group as specified in the request body.\n     * \n     * @param name Name to display in the address book for the group\n     * @param mailNickname Mail alias for the group\n     * @param groupType Type of group being created\n     * @param additionalProperties A plain object collection of additional properties you want to set on the new group\n     */\n    public add(name: string, mailNickname: string, groupType: GroupType, additionalProperties: TypedHash<string | number | boolean> = {}): Promise<GroupAddResult> {\n\n        let postBody = Util.extend({\n            displayName: name,\n            mailEnabled: groupType === GroupType.Office365,\n            mailNickname: mailNickname,\n            securityEnabled: groupType !== GroupType.Office365,\n        }, additionalProperties);\n\n        // include a group type if required\n        if (groupType !== GroupType.Security) {\n\n            postBody = Util.extend(postBody, {\n                groupTypes: [groupType === GroupType.Office365 ? \"Unified\" : \"DynamicMembership\"],\n            });\n        }\n\n        return this.postCore({\n            body: JSON.stringify(postBody),\n        }).then(r => {\n            return {\n                data: r,\n                group: this.getById(r.id),\n            };\n        });\n    }\n}\n\n/**\n * Represents a group entity\n */\nexport class Group extends GraphQueryableInstance {\n\n    /**\n     * The calendar associated with this group\n     */\n    public get caldendar(): Calendar {\n        return new Calendar(this, \"calendar\");\n    }\n\n    /**\n     * Retrieve a list of event objects\n     */\n    public get events(): Events {\n        return new Events(this);\n    }\n\n    /**\n     * Gets the collection of owners for this group\n     */\n    public get owners(): Owners {\n        return new Owners(this);\n    }\n\n    /**\n     * The collection of plans for this group\n     */\n    public get plans(): Plans {\n        return new Plans(this);\n    }\n\n    /**\n     * Gets the collection of members for this group\n     */\n    public get members(): Members {\n        return new Members(this);\n    }\n\n    /**\n     * Gets the conversations collection for this group\n     */\n    public get conversations(): Conversations {\n        return new Conversations(this);\n    }\n\n    /**\n     * Gets the collection of accepted senders for this group\n     */\n    public get acceptedSenders(): Senders {\n        return new Senders(this, \"acceptedsenders\");\n    }\n\n    /**\n     * Gets the collection of rejected senders for this group\n     */\n    public get rejectedSenders(): Senders {\n        return new Senders(this, \"rejectedsenders\");\n    }\n\n    /**\n     * The photo associated with the group\n     */\n    public get photo(): Photo {\n        return new Photo(this);\n    }\n\n    /**\n     * Add the group to the list of the current user's favorite groups. Supported for only Office 365 groups\n     */\n    public addFavorite(): Promise<void> {\n\n        return this.clone(Group, \"addFavorite\").postCore();\n    }\n\n    /**\n     * Return all the groups that the specified group is a member of. The check is transitive\n     * \n     * @param securityEnabledOnly \n     */\n    public getMemberGroups(securityEnabledOnly = false): Promise<{ value: string[] }> {\n\n        return this.clone(Group, \"getMemberGroups\").postCore({\n            body: JSON.stringify({\n                securityEnabledOnly: securityEnabledOnly,\n            }),\n        });\n    }\n\n    /**\n     * Deletes this group\n     */\n    public delete(): Promise<void> {\n        return this.deleteCore();\n    }\n\n    /**\n     * Update the properties of a group object\n     * \n     * @param properties Set of properties of this group to update\n     */\n    public update(properties: TypedHash<string | number | boolean | string[]>): Promise<void> {\n\n        return this.patchCore({\n            body: JSON.stringify(properties),\n        });\n    }\n\n    /**\n     * Remove the group from the list of the current user's favorite groups. Supported for only Office 365 groups\n     */\n    public removeFavorite(): Promise<void> {\n\n        return this.clone(Group, \"removeFavorite\").postCore();\n    }\n\n    /**\n     * Reset the unseenCount of all the posts that the current user has not seen since their last visit\n     */\n    public resetUnseenCount(): Promise<void> {\n        return this.clone(Group, \"resetUnseenCount\").postCore();\n    }\n\n    /**\n     * Calling this method will enable the current user to receive email notifications for this group,\n     * about new posts, events, and files in that group. Supported for only Office 365 groups\n     */\n    public subscribeByMail(): Promise<void> {\n        return this.clone(Group, \"subscribeByMail\").postCore();\n    }\n\n    /**\n     * Calling this method will prevent the current user from receiving email notifications for this group\n     * about new posts, events, and files in that group. Supported for only Office 365 groups\n     */\n    public unsubscribeByMail(): Promise<void> {\n        return this.clone(Group, \"unsubscribeByMail\").postCore();\n    }\n\n    /**\n     * Get the occurrences, exceptions, and single instances of events in a calendar view defined by a time range, from the default calendar of a group\n     * \n     * @param start Start date and time of the time range\n     * @param end End date and time of the time range\n     */\n    public getCalendarView(start: Date, end: Date): Promise<IEvent[]> {\n\n        const view = this.clone(Group, \"calendarView\");\n        view.query.add(\"startDateTime\", start.toISOString());\n        view.query.add(\"endDateTime\", end.toISOString());\n        return view.get();\n    }\n}\n\nexport interface GroupAddResult {\n    group: Group;\n    data: any;\n}\n","import { GraphQueryable } from \"./graphqueryable\";\nimport { Groups } from \"./groups\";\n// import { Me } from \"./me\";\n\n/**\n * Root object wrapping v1 functionality for MS Graph\n *\n */\nexport class V1 extends GraphQueryable {\n\n    /**\n     * Creates a new instance of the V1 class\n     *\n     * @param baseUrl The url or Queryable which forms the parent of this fields collection\n     * @param path Optional additional path\n     */\n    constructor(baseUrl: string | GraphQueryable, path = \"v1.0\") {\n        super(baseUrl, path);\n    }\n\n    public get groups(): Groups {\n        return new Groups(this);\n    }\n\n    // public get me(): Me {\n    //     return new Me(this);\n    // }\n}\n","import { V1 } from \"./v1\";\nimport {\n    setup as _setup,\n    GraphConfiguration,\n} from \"./config/graphlibconfig\";\n\nexport class GraphRest {\n\n    public get v1(): V1 {\n        return new V1(\"\");\n    }\n\n    public setup(config: GraphConfiguration) {\n        _setup(config);\n    }\n}\n\nexport let graph = new GraphRest();\n","import { ODataBatch } from \"@pnp/odata\";\r\nimport { Logger, LogLevel } from \"@pnp/logging\";\r\nimport { Util, beta } from \"@pnp/common\";\r\nimport { GraphRuntimeConfig } from \"./config/graphlibconfig\";\r\nimport { GraphHttpClient } from \"./net/graphclient\";\r\n\r\ninterface GraphBatchRequestFragment {\r\n    id: string;\r\n    method: string;\r\n    url: string;\r\n    headers?: string[][] | {\r\n        [key: string]: string;\r\n    };\r\n    body?: any;\r\n}\r\n\r\ninterface GraphBatchRequest {\r\n    requests: GraphBatchRequestFragment[];\r\n}\r\n\r\ninterface GraphBatchResponseFragment {\r\n    id: string;\r\n    status: number;\r\n    method: string;\r\n    url: string;\r\n    headers?: string[][] | {\r\n        [key: string]: string;\r\n    };\r\n    body?: any;\r\n}\r\n\r\ninterface GraphBatchResponse {\r\n    responses: GraphBatchResponseFragment[];\r\n    nextLink?: string;\r\n}\r\n\r\nexport class GraphBatchParseException extends Error {\r\n\r\n    constructor(msg: string) {\r\n        super(msg);\r\n        this.name = \"GraphBatchParseException\";\r\n        Logger.log({ data: {}, level: LogLevel.Error, message: `[${this.name}]::${this.message}` });\r\n    }\r\n}\r\n\r\nexport class GraphBatch extends ODataBatch {\r\n\r\n    constructor(private batchUrl = \"https://graph.microsoft.com/beta/$batch\") {\r\n        super();\r\n    }\r\n\r\n    @beta(\"Graph batching functionality is in beta.\")\r\n    protected executeImpl(): Promise<void> {\r\n\r\n        Logger.write(`[${this.batchId}] (${(new Date()).getTime()}) Executing batch with ${this.requests.length} requests.`, LogLevel.Info);\r\n\r\n        const client = new GraphHttpClient();\r\n\r\n        const batchRequest: GraphBatchRequest = {\r\n            requests: this.formatRequests(),\r\n        };\r\n\r\n        const batchOptions = {\r\n            \"body\": JSON.stringify(batchRequest),\r\n            \"headers\": {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            \"method\": \"POST\",\r\n        };\r\n\r\n        Logger.write(`[${this.batchId}] (${(new Date()).getTime()}) Sending batch request.`, LogLevel.Info);\r\n\r\n        let nextLinkFlag = false;\r\n\r\n        return client.fetch(this.batchUrl, batchOptions)\r\n            .then(r => r.json())\r\n            .then(this._parseResponse)\r\n            .then((parsedResponse: { nextLink: string, responses: Response[] }) => {\r\n\r\n                Logger.write(`[${this.batchId}] (${(new Date()).getTime()}) Resolving batched requests.`, LogLevel.Info);\r\n\r\n                return parsedResponse.responses.reduce((chain, response, index) => {\r\n\r\n                    const request = this.requests[index];\r\n\r\n                    if (Util.objectDefinedNotNull(request)) {\r\n\r\n                        Logger.write(`[${this.batchId}] (${(new Date()).getTime()}) Resolving batched request ${request.method} ${request.url}.`, LogLevel.Verbose);\r\n\r\n                        return chain.then(_ => request.parser.parse(response).then(request.resolve).catch(request.reject));\r\n\r\n                    } else {\r\n\r\n                        // do we have a next url? if no this is an error\r\n                        if (!Util.stringIsNullOrEmpty(parsedResponse.nextLink)) {\r\n                            throw new GraphBatchParseException(\"Could not properly parse responses to match requests in batch.\");\r\n                        }\r\n\r\n                        nextLinkFlag = true;\r\n                        // keep the chain moving, but don't add anything for this request yet\r\n                        // here we need to process the next link - so what do we do?\r\n                        // need to append a .then()\r\n                        // TODO::\r\n                        return chain;\r\n                    }\r\n\r\n                }, Promise.resolve());\r\n            });\r\n    }\r\n\r\n    private formatRequests(): GraphBatchRequestFragment[] {\r\n\r\n        return this.requests.map((reqInfo, index) => {\r\n\r\n            let requestFragment: GraphBatchRequestFragment = {\r\n                id: `${++index}`,\r\n                method: reqInfo.method,\r\n                url: reqInfo.url,\r\n            };\r\n\r\n            let headers = {};\r\n\r\n            // merge global config headers\r\n            if (typeof GraphRuntimeConfig.headers !== \"undefined\" && GraphRuntimeConfig.headers !== null) {\r\n\r\n                headers = Util.extend(headers, GraphRuntimeConfig.headers);\r\n            }\r\n\r\n            if (typeof reqInfo.options !== \"undefined\") {\r\n\r\n                // merge per request headers\r\n                if (typeof reqInfo.options.headers !== \"undefined\" && reqInfo.options.headers !== null) {\r\n                    headers = Util.extend(headers, reqInfo.options.headers);\r\n                }\r\n\r\n                // add a request body\r\n                if (typeof reqInfo.options.body !== \"undefined\" && reqInfo.options.body !== null) {\r\n\r\n                    requestFragment = Util.extend(requestFragment, {\r\n                        body: reqInfo.options.body,\r\n                    });\r\n                }\r\n            }\r\n\r\n            requestFragment = Util.extend(requestFragment, {\r\n                headers: headers,\r\n            });\r\n\r\n            return requestFragment;\r\n        });\r\n    }\r\n\r\n    private _parseResponse(graphResponse: GraphBatchResponse): Promise<{ nextLink: string, responses: Response[] }> {\r\n\r\n        return new Promise((resolve) => {\r\n\r\n            const parsedResponses: Response[] = new Array(this.requests.length).fill(null);\r\n\r\n            for (let i = 0; i < graphResponse.responses.length; ++i) {\r\n\r\n                const response = graphResponse.responses[i];\r\n                // we create the request id by adding 1 to the index, so we place the response by subtracting one to match\r\n                // the array of requests and make it easier to map them by index\r\n                const responseId = parseInt(response.id, 10) - 1;\r\n\r\n                if (response.status === 204) {\r\n\r\n                    parsedResponses[responseId] = new Response();\r\n                } else {\r\n\r\n                    parsedResponses[responseId] = new Response(null, {\r\n                        headers: response.headers,\r\n                        status: response.status,\r\n                    });\r\n                }\r\n            }\r\n\r\n            resolve({\r\n                nextLink: graphResponse.nextLink,\r\n                responses: parsedResponses,\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n"],"names":["RuntimeConfig","tslib_1.__extends","Logger","mergeHeaders","Util","PipelineMethods","ODataQueryable","BlobFileParser","BufferFileParser","_setup","tslib_1.__decorate","beta","ODataBatch"],"mappings":"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"}