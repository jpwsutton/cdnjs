!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("inferno"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","mobx","inferno","hoist-non-inferno-statics"],t):t((e.Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),null,e.Inferno,null)}(this,function(e,f,p,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var t=function(){this.listeners=[]};function s(e){console.error(e)}t.prototype.on=function(t){var n=this;return this.listeners.push(t),function(){var e=n.listeners.indexOf(t);-1!==e&&n.listeners.splice(e,1)}},t.prototype.emit=function(e){for(var t=this.listeners,n=0,o=t.length;n<o;n++)t[n](e)},"undefined"==typeof window||window.document;var d=!1,l=!1,a=!1,n=new t;function r(e){var t=e.$LI.dom;n.emit({component:e,event:"render",node:t,renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart})}var m=new t;function c(e,t,n){void 0===n&&(n=!1);var o=e[t],r=u[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function h(e,t){if(null==e||null==t||"object"!=typeof e||"object"!=typeof t)return e!==t;var n,o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(var r=o.length-1;0<=r;r--)if(t[n=o[r]]!==e[n])return!0;return!1}var u={componentWillMount:function(){var n=this;if(!0!==l){var e=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",t=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,o=!1;u.call(this,"props"),u.call(this,"state");var r=this,i=this.render.bind(this),s=function(){return i(r.props,r.state,r.context)},a=null,c=!1,p=function(){var t;c=!1;var e=null;if(a.track(function(){d&&(n.__$mobRenderStart=Date.now());try{e=f._allowStateChanges(!1,s)}catch(e){t=e}d&&(n.__$mobRenderEnd=Date.now())}),t)throw m.emit(t),t;return e};this.render=function(){return(a=new f.Reaction(e+"#"+t+".render()",function(){c||(c=!0,"function"==typeof n.componentWillReact&&n.componentWillReact(),o||n.forceUpdate())})).reactComponent=n,p.$mobx=a,(n.render=p)()}}function u(e){var t=this[e],n=f.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),t},set:function(e){h(t,e)?(t=e,o=!0,n.reportChanged(),o=!1):t=e}})}},componentWillUnmount:function(){if(!0!==l&&(this.render.$mobx&&this.render.$mobx.dispose(),d)){var e=this.$LI.dom;n.emit({component:this,event:"destroy",node:e})}},componentDidMount:function(){d&&r(this)},componentDidUpdate:function(){d&&r(this)},shouldComponentUpdate:function(e,t){return l&&s("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||h(this.props,e)}};function v(t,e){var n;if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return a||(a=!0,s('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?_.apply(null,t)(v(e)):function(e){return v(t,e)};var o=t;if(!0===o.isMobxInjector&&s("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof o||o.prototype&&o.prototype.render))return v(((n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(e,t,n){return o(e,n)},t}(p.Component)).displayName=o.displayName||o.name,n.defaultProps=o.defaultProps,n));if(!o)throw new Error("Please pass a valid component to 'observer'");var r,i=o.prototype||o;return c(r=i,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(e){c(r,e)}),r.shouldComponentUpdate||(r.shouldComponentUpdate=u.shouldComponentUpdate),o.isMobXReactObserver=!0,o}var i=v(function(e){return(0,e.children)()});i.displayName="Observer";var y={isMobxInjector:{configurable:!0,enumerable:!0,value:!0,writable:!0}};function b(a,c,e){var t="inject-"+(c.displayName||c.name||c.constructor&&c.constructor.name||"Unknown");e&&(t+="-with-"+e);var n=function(n){function e(e,t){n.call(this,e,t),this.storeRef=this.storeRef.bind(this)}return n&&(e.__proto__=n),((e.prototype=Object.create(n&&n.prototype)).constructor=e).prototype.storeRef=function(e){this.wrappedInstance=e},e.prototype.render=function(e,t,n){var o,r={};for(o in e)r[o]=e[o];var i,s=a(n.mobxStores||{},r,n)||{};for(o in s)r[o]=s[o];return p.createComponentVNode(2,c,r,null,(i=c).prototype&&i.prototype.render?this.storeRef:null)},e}(p.Component);return n.displayName=t,n.isMobxInjector=!1,o(n,c),n.wrappedComponent=c,Object.defineProperties(n,y),n}function _(){var n,i,e=arguments;if("function"==typeof arguments[0])return n=arguments[0],function(e){var t=b(n,e);return t.isMobxInjector=!1,(t=v(t)).isMobxInjector=!0,t};for(var t=[],o=0;o<arguments.length;o++)t.push(e[o]);return i=t,n=function(e,t){for(var n=0,o=i.length;n<o;n++){var r=i[n];r in t||(t[r]=e[r])}return t},function(e){return b(n,e,t.join("-"))}}var x={children:!0,key:!0,ref:!0},g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(e,t,n){return e.children},t.prototype.getChildContext=function(){var e={},t=this.props,n=this.context.mobxStores;if(n)for(var o in n)e[o]=n[o];for(var r in t)void 0===x[r]&&"suppressChangedStoreWarning"!==r&&(e[r]=t[r]);return{mobxStores:e}},t}(p.Component);e.errorsReporter=m,e.inject=_,e.observer=v,e.onError=function(e){return m.on(e)},e.EventEmitter=t,e.Observer=i,e.Provider=g,e.renderReporter=n,e.trackComponents=function(){d?(d=!1,n.listeners.length=0):(d=!0,s("Do not turn trackComponents on in production, its expensive. For tracking dom nodes you need inferno-compat."))},e.useStaticRendering=function(e){l=e},Object.defineProperty(e,"__esModule",{value:!0})});
