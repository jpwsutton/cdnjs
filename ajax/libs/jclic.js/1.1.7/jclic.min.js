/*! 
JClic.js version 1.1.7 (2018-06-20)
An HTML5 player of JClic activities
http://projectestac.github.io/jclic.js
 
(c) 2000-2018 Catalan Educational Telematic Network (XTEC)

Licensed under the EUPL, Version 1.1 or -as soon they will be approved by
the European Commission- subsequent versions of the EUPL (the "Licence");
You may not use this work except in compliance with the Licence.

You may obtain a copy of the Licence at:
https://joinup.ec.europa.eu/software/page/eupl

Unless required by applicable law or agreed to in writing, software
distributed under the Licence is distributed on an "AS IS" basis, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
Licence for the specific language governing permissions and limitations
under the Licence.

For full license information of included components please see: jclic.components.LICENSE

WARNING: This is a compressed version of JClic.js. Full source code is freely available at:
http://projectestac.github.io/jclic.js
 */
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=516)}([function(t,e,n){var i=n(5),r=n(28),o=n(18),s=n(17),a=n(27),c=function(t,e,n){var u,l,h,f,p=t&c.F,d=t&c.G,g=t&c.S,v=t&c.P,y=t&c.B,m=d?i:g?i[e]||(i[e]={}):(i[e]||{}).prototype,b=d?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(u in d&&(n=e),n)h=((l=!p&&m&&void 0!==m[u])?m:n)[u],f=y&&l?a(h,i):v&&"function"==typeof h?a(Function.call,h):h,m&&s(m,u,h,t&c.U),b[u]!=h&&o(b,u,f),v&&w[u]!=h&&(w[u]=h)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,c=o.slice,u=o.concat,l=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,v=g.call(Object),y={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,noModule:!0};function k(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in w)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var A=function(t,e){return new A.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!m(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}A.fn=A.prototype={jquery:"3.3.1",constructor:A,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=A.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return A.each(this,t)},map:function(t){return this.pushStack(A.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},A.extend=A.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(A.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&A.isPlainObject(n)?n:{},s[e]=A.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},A.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&g.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){k(t)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?A.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=o[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var _=function(t){var e,n,i,r,o,s,a,c,u,l,h,f,p,d,g,v,y,m,b,w="sizzle"+1*new Date,k=t.document,x=0,A=0,C=st(),S=st(),_=st(),E=function(t,e){return t===e&&(h=!0),0},O={}.hasOwnProperty,P=[],T=P.pop,I=P.push,j=P.push,B=P.slice,M=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+D+"*("+N+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+D+"*\\]",V=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",F=new RegExp(D+"+","g"),q=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),z=new RegExp("^"+D+"*,"+D+"*"),U=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),H=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),G=new RegExp(V),$=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,X=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=mt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{j.apply(P=B.call(k.childNodes),k.childNodes),P[k.childNodes.length].nodeType}catch(t){j={apply:P.length?function(t,e){I.apply(t,B.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,u,l,h,d,y,m=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!r&&((e?e.ownerDocument||e:k)!==p&&f(e),e=e||p,g)){if(11!==x&&(h=K.exec(t)))if(o=h[1]){if(9===x){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(m&&(u=m.getElementById(o))&&b(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return j.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return j.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!_[t+" "]&&(!v||!v.test(t))){if(1!==x)m=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=w),a=(d=s(t)).length;a--;)d[a]="#"+l+" "+yt(d[a]);y=d.join(","),m=Q.test(t)&&gt(e.parentNode)||e}if(y)try{return j.apply(i,m.querySelectorAll(y)),i}catch(t){}finally{l===w&&e.removeAttribute("id")}}}return c(t.replace(q,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[w]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:k;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),k!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ct(function(t){return d.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(X,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(X,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(ct(function(t){d.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+D+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+D+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+D+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Z.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),y.push("!=",V)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=Z.test(d.compareDocumentPosition),b=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===k&&b(k,t)?-1:e===p||e.ownerDocument===k&&b(k,e)?1:l?M(l,t)-M(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:l?M(l,t)-M(l,e):0;if(r===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?lt(s[i],a[i]):s[i]===k?-1:a[i]===k?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(H,"='$1']"),n.matchesSelector&&g&&!_[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var i=m.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&O.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return l=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(X,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(X,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(X,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var u,l,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!c&&!a,b=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&m){for(b=(p=(u=(l=(h=(f=v)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&u[1])&&u[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){l[t]=[x,p,b];break}}else if(m&&(b=p=(u=(l=(h=(f=e)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===x&&u[1]),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++b||(m&&((l=(h=f[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[x,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=M(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(q,"$1"));return i[w]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(X,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return $.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(X,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=A++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,c){var u,l,h,f=[x,a];if(c){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=l[o])&&u[0]===x&&u[1]===a)return f[2]=u[2];if(l[o]=f,f[2]=t(e,n,c))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,u=null!=e;a<c;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function kt(t,e,n,i,r,o){return i&&!i[w]&&(i=kt(i)),r&&!r[w]&&(r=kt(r,o)),at(function(o,s,a,c){var u,l,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:wt(g,f,t,a,c),y=n?r||(o?t:d||i)?[]:s:v;if(n&&n(v,y,a,c),i)for(u=wt(y,p),i(u,[],a,c),l=u.length;l--;)(h=u[l])&&(y[p[l]]=!(v[p[l]]=h));if(o){if(r||t){if(r){for(u=[],l=y.length;l--;)(h=y[l])&&u.push(v[l]=h);r(null,y=[],u,c)}for(l=y.length;l--;)(h=y[l])&&(u=r?M(o,h):f[l])>-1&&(o[u]=!(s[u]=h))}}else y=wt(y===s?y.splice(d,y.length):y),r?r(null,s,y,c):j.apply(s,y)})}function xt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],c=s?1:0,l=mt(function(t){return t===e},a,!0),h=mt(function(t){return M(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?l(t,n,i):h(t,n,i));return e=null,r}];c<o;c++)if(n=i.relative[t[c].type])f=[mt(bt(f),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[w]){for(r=++c;r<o&&!i.relative[t[r].type];r++);return kt(c>1&&bt(f),c>1&&yt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(q,"$1"),n,c<r&&xt(t.slice(c,r)),r<o&&xt(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return bt(f)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=ot.tokenize=function(t,e){var n,r,o,s,a,c,u,l=S[t+" "];if(l)return e?0:l.slice(0);for(a=t,c=[],u=i.preFilter;a;){for(s in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=W[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):S(t,c).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=_[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=xt(e[n]))[w]?r.push(a):o.push(a);(a=_(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,c,l){var h,d,v,y=0,m="0",b=o&&[],w=[],k=u,A=o||r&&i.find.TAG("*",l),C=x+=null==k?1:Math.random()||.1,S=A.length;for(l&&(u=s===p||s||l);m!==S&&null!=(h=A[m]);m++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!g);v=t[d++];)if(v(h,s||p,a)){c.push(h);break}l&&(x=C)}n&&((h=!v&&h)&&y--,o&&b.push(h))}if(y+=m,n&&m!==y){for(d=0;v=e[d++];)v(b,w,s,a);if(o){if(y>0)for(;m--;)b[m]||w[m]||(w[m]=T.call(c));w=wt(w)}j.apply(c,w),l&&!o&&w.length>0&&y+e.length>1&&ot.uniqueSort(c)}return l&&(x=C,u=k),b};return n?at(o):o}(o,r))).selector=t}return a},c=ot.select=function(t,e,n,r){var o,c,u,l,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(X,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(o=W.needsContext.test(t)?0:c.length;o--&&(u=c[o],!i.relative[l=u.type]);)if((h=i.find[l])&&(r=h(u.matches[0].replace(X,tt),Q.test(c[0].type)&&gt(e.parentNode)||e))){if(c.splice(o,1),!(t=r.length&&yt(c)))return j.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||Q.test(t)&&gt(e.parentNode)||e),n},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!h,f(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ut(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);A.find=_,A.expr=_.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=_.uniqueSort,A.text=_.getText,A.isXMLDoc=_.isXML,A.contains=_.contains,A.escapeSelector=_.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&A(t).is(n))break;i.push(t)}return i},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},P=A.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(t,e,n){return m(e)?A.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?A.grep(t,function(t){return t===e!==n}):"string"!=typeof e?A.grep(t,function(t){return h.call(e,t)>-1!==n}):A.filter(e,t,n)}A.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?A.find.matchesSelector(i,t)?[i]:[]:A.find.matches(t,A.grep(e,function(t){return 1===t.nodeType}))},A.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(A(t).filter(function(){for(e=0;e<i;e++)if(A.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)A.find(t,r[e],n);return i>1?A.uniqueSort(n):n},filter:function(t){return this.pushStack(j(this,t||[],!1))},not:function(t){return this.pushStack(j(this,t||[],!0))},is:function(t){return!!j(this,"string"==typeof t&&P.test(t)?A(t):t||[],!1).length}});var B,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||B,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof A?e[0]:e,A.merge(this,A.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),I.test(i[1])&&A.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(A):A.makeArray(t,this)}).prototype=A.fn,B=A(s);var R=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}A.fn.extend({has:function(t){var e=A(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(A.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&A(t);if(!P.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&A.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?A.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(A(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),A.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return T(t,"iframe")?t.contentDocument:(T(t,"template")&&(t=t.content||t),A.merge([],t.childNodes))}},function(t,e){A.fn[t]=function(n,i){var r=A.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=A.filter(i,r)),this.length>1&&(D[t]||A.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}});var L=/[^\x20\t\r\n\f]+/g;function V(t){return t}function F(t){throw t}function q(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}A.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return A.each(t.match(L)||[],function(t,n){e[n]=!0}),e}(t):A.extend({},t);var e,n,i,r,o=[],s=[],a=-1,c=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){A.each(n,function(n,i){m(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return A.each(arguments,function(t,e){for(var n;(n=A.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?A.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},A.extend({Deferred:function(t){var e=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return A.Deferred(function(n){A.each(e,function(e,i){var r=m(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,c=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,c))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(u)?r?u.call(n,s(o,e,V,r),s(o,e,F,r)):(o++,u.call(n,s(o,e,V,r),s(o,e,F,r),s(o,e,V,e.notifyWith))):(i!==V&&(a=void 0,c=[n]),(r||e.resolveWith)(a,c))}},l=r?u:function(){try{u()}catch(n){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(i!==F&&(a=void 0,c=[n]),e.rejectWith(a,c))}};t?l():(A.Deferred.getStackHook&&(l.stackTrace=A.Deferred.getStackHook()),n.setTimeout(l))}}return A.Deferred(function(n){e[0][3].add(s(0,n,m(r)?r:V,n.notifyWith)),e[1][3].add(s(0,n,m(t)?t:V)),e[2][3].add(s(0,n,m(i)?i:F))}).promise()},promise:function(t){return null!=t?A.extend(t,r):r}},o={};return A.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=c.call(arguments),o=A.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?c.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||m(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],s(n),o.reject);return o.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&z.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},A.readyException=function(t){n.setTimeout(function(){throw t})};var U=A.Deferred();function H(){s.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),A.ready()}A.fn.ready=function(t){return U.then(t).catch(function(t){A.readyException(t)}),this},A.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--A.readyWait:A.isReady)||(A.isReady=!0,!0!==t&&--A.readyWait>0||U.resolveWith(s,[A]))}}),A.ready.then=U.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(A.ready):(s.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var G=function(t,e,n,i,r,o,s){var a=0,c=t.length,u=null==n;if("object"===x(n))for(a in r=!0,n)G(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(A(t),n)})),e))for(;a<c;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):c?e(t[0],n):o},$=/^-ms-/,W=/-([a-z])/g;function J(t,e){return e.toUpperCase()}function Y(t){return t.replace($,"ms-").replace(W,J)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=A.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Y(e)]=n;else for(i in e)r[Y(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(L)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||A.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!A.isEmptyObject(e)}};var Q=new K,X=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}X.set(t,e,n)}else n=void 0;return n}A.extend({hasData:function(t){return X.hasData(t)||Q.hasData(t)},data:function(t,e,n){return X.access(t,e,n)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),A.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=X.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Y(i.slice(5)),nt(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){X.set(this,t)}):G(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=X.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){X.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){X.remove(this,t)})}}),A.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,A.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=A.queue(t,e),i=n.length,r=n.shift(),o=A._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){A.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:A.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),A.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?A.queue(this[0],t):void 0===e?this:this.each(function(){var n=A.queue(this,t,e);A._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&A.dequeue(this,t)})},dequeue:function(t){return this.each(function(){A.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=A.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&A.contains(t.ownerDocument,t)&&"none"===A.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return A.css(t,e,"")},c=a(),u=n&&n[3]||(A.cssNumber[e]?"":"px"),l=(A.cssNumber[e]||"px"!==u&&+c)&&rt.exec(A.css(t,e));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;s--;)A.style(t,e,l+u),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),l/=o;l*=2,A.style(t,e,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=l,i.end=r)),r}var ut={};function lt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=A.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=lt(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}A.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?A(this).show():A(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?A.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var mt,bt,wt=/<|&#?\w+;/;function kt(t,e,n,i,r){for(var o,s,a,c,u,l,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===x(o))A.merge(f,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,s.innerHTML=c[1]+A.htmlPrefilter(o)+c[2],l=c[0];l--;)s=s.lastChild;A.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&A.inArray(o,i)>-1)r&&r.push(o);else if(u=A.contains(o.ownerDocument,o),s=vt(h.appendChild(o),"script"),u&&yt(s),n)for(l=0;o=s[l++];)dt.test(o.type||"")&&n.push(o);return h}mt=s.createDocumentFragment().appendChild(s.createElement("div")),(bt=s.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),mt.appendChild(bt),y.checkClone=mt.cloneNode(!0).cloneNode(!0).lastChild.checked,mt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!mt.cloneNode(!0).lastChild.defaultValue;var xt=s.documentElement,At=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function _t(){return!0}function Et(){return!1}function Ot(){try{return s.activeElement}catch(t){}}function Pt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Pt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return A().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=A.guid++)),t.each(function(){A.event.add(this,e,r,i,n)})}A.event={global:{},add:function(t,e,n,i,r){var o,s,a,c,u,l,h,f,p,d,g,v=Q.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&A.find.matchesSelector(xt,r),n.guid||(n.guid=A.guid++),(c=v.events)||(c=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==A&&A.event.triggered!==e.type?A.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(L)||[""]).length;u--;)p=g=(a=St.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=A.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=A.event.special[p]||{},l=A.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&A.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=c[p])||((f=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),A.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,c,u,l,h,f,p,d,g,v=Q.hasData(t)&&Q.get(t);if(v&&(c=v.events)){for(u=(e=(e||"").match(L)||[""]).length;u--;)if(p=g=(a=St.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=A.event.special[p]||{},f=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||A.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)A.event.remove(t,p+e[u],n,i,!0);A.isEmptyObject(c)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=A.event.fix(t),c=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],l=A.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=A.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((A.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,c))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<c;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?A(r,this).index(u)>-1:A.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,c<e.length&&a.push({elem:u,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(A.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[A.expando]?t:new A.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ot()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(t){return T(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},A.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},A.Event=function(t,e){if(!(this instanceof A.Event))return new A.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?_t:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&A.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_t,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_t,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_t,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&At.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},A.event.addProp),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){A.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||A.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),A.fn.extend({on:function(t,e,n,i){return Pt(this,t,e,n,i)},one:function(t,e,n,i){return Pt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,A(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each(function(){A.event.remove(this,t,n,e)})}});var Tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,It=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Mt(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&A(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Dt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Nt(t,e){var n,i,r,o,s,a,c,u;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),s=Q.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)A.event.add(e,r,u[r][n]);X.hasData(t)&&(a=X.access(t),c=A.extend({},a),X.set(e,c))}}function Lt(t,e,n,i){e=u.apply([],e);var r,o,s,a,c,l,h=0,f=t.length,p=f-1,d=e[0],g=m(d);if(g||f>1&&"string"==typeof d&&!y.checkClone&&jt.test(d))return t.each(function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Lt(o,e,n,i)});if(f&&(o=(r=kt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=A.map(vt(r,"script"),Rt)).length;h<f;h++)c=r,h!==p&&(c=A.clone(c,!0,!0),a&&A.merge(s,vt(c,"script"))),n.call(t[h],c,h);if(a)for(l=s[s.length-1].ownerDocument,A.map(s,Dt),h=0;h<a;h++)c=s[h],dt.test(c.type||"")&&!Q.access(c,"globalEval")&&A.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?A._evalUrl&&A._evalUrl(c.src):k(c.textContent.replace(Bt,""),l,c))}return t}function Vt(t,e,n){for(var i,r=e?A.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||A.cleanData(vt(i)),i.parentNode&&(n&&A.contains(i.ownerDocument,i)&&yt(vt(i,"script")),i.parentNode.removeChild(i));return t}A.extend({htmlPrefilter:function(t){return t.replace(Tt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,c,u,l=t.cloneNode(!0),h=A.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||A.isXMLDoc(t)))for(s=vt(l),i=0,r=(o=vt(t)).length;i<r;i++)a=o[i],c=s[i],void 0,"input"===(u=c.nodeName.toLowerCase())&&ft.test(a.type)?c.checked=a.checked:"input"!==u&&"textarea"!==u||(c.defaultValue=a.defaultValue);if(e)if(n)for(o=o||vt(t),s=s||vt(l),i=0,r=o.length;i<r;i++)Nt(o[i],s[i]);else Nt(t,l);return(s=vt(l,"script")).length>0&&yt(s,!h&&vt(t,"script")),l},cleanData:function(t){for(var e,n,i,r=A.event.special,o=0;void 0!==(n=t[o]);o++)if(Z(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?A.event.remove(n,i):A.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),A.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return G(this,function(t){return void 0===t?A.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Lt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)})},prepend:function(){return Lt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(A.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return A.clone(this,t,e)})},html:function(t){return G(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!It.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=A.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(A.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,function(e){var n=this.parentNode;A.inArray(this,t)<0&&(A.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){A.fn[t]=function(t){for(var n,i=[],r=A(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),A(r[s])[e](n),l.apply(i,n.get());return this.pushStack(i)}});var Ft=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},zt=new RegExp(ot.join("|"),"i");function Ut(t,e,n){var i,r,o,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||A.contains(t.ownerDocument,t)||(s=A.style(t,e)),!y.pixelBoxStyles()&&Ft.test(s)&&zt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(u).appendChild(l);var t=n.getComputedStyle(l);i="1%"!==t.top,c=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),r=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",xt.removeChild(u),l=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,c,u=s.createElement("div"),l=s.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,A.extend(y,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o}}))}();var Gt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Zt=s.createElement("div").style;function Kt(t){var e=A.cssProps[t];return e||(e=A.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Zt)return t}(t)||t),e}function Qt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Xt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=A.css(t,n+ot[s],!0,r)),i?("content"===n&&(c-=A.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(c-=A.css(t,"border"+ot[s]+"Width",!0,r))):(c+=A.css(t,"padding"+ot[s],!0,r),"padding"!==n?c+=A.css(t,"border"+ot[s]+"Width",!0,r):a+=A.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-a-.5))),c}function te(t,e,n){var i=qt(t),r=Ut(t,e,i),o="border-box"===A.css(t,"boxSizing",!1,i),s=o;if(Ft.test(r)){if(!n)return r;r="auto"}return s=s&&(y.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===A.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Xt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}A.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Y(e),c=$t.test(e),u=t.style;if(c||(e=Kt(a)),s=A.cssHooks[e]||A.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(A.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(c?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=Y(e);return $t.test(e)||(e=Kt(a)),(s=A.cssHooks[e]||A.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Ut(t,e,i)),"normal"===r&&e in Jt&&(r=Jt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),A.each(["height","width"],function(t,e){A.cssHooks[e]={get:function(t,n,i){if(n)return!Gt.test(A.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):at(t,Wt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=qt(t),s="border-box"===A.css(t,"boxSizing",!1,o),a=i&&Xt(t,e,i,s,o);return s&&y.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Xt(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=A.css(t,e)),Qt(0,n,a)}}}),A.cssHooks.marginLeft=Ht(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(t,e){A.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(A.cssHooks[t+e].set=Qt)}),A.fn.extend({css:function(t,e){return G(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=qt(t),r=e.length;s<r;s++)o[e[s]]=A.css(t,e[s],!1,i);return o}return void 0!==n?A.style(t,e,n):A.css(t,e)},t,e,arguments.length>1)}}),A.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||A.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(A.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=A.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=A.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){A.fx.step[t.prop]?A.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[A.cssProps[t.prop]]&&!A.cssHooks[t.prop]?t.elem[t.prop]=t.now:A.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},A.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},A.fx=ee.prototype.init,A.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,A.fx.interval),A.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var i,r=(le.tweeners[e]||[]).concat(le.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function le(t,e,n){var i,r,o=0,s=le.prefilters.length,a=A.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:A.extend({},e),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=A.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),l=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=Y(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=A.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(l,u.opts.specialEasing);o<s;o++)if(i=le.prefilters[o].call(u,t,l,u.opts))return m(i.stop)&&(A._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return A.map(l,ue,u),m(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),A.fx.timer(A.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u}A.Animation=A.extend(le,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(L);for(var n,i=0,r=t.length;i<r;i++)n=t[i],le.tweeners[n]=le.tweeners[n]||[],le.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,c,u,l,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&st(t),v=Q.get(t,"fxshow");for(i in n.queue||(null==(s=A._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,A.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||A.style(t,i)}if((c=!A.isEmptyObject(e))||!A.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Q.get(t,"display")),"none"===(l=A.css(t,"display"))&&(u?l=u:(ht([t],!0),u=t.style.display||u,l=A.css(t,"display"),ht([t]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===A.css(t,"float")&&(c||(f.done(function(){d.display=u}),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),c=!1,p)c||(v?"hidden"in v&&(g=v.hidden):v=Q.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&ht([t],!0),f.done(function(){for(i in g||ht([t]),Q.remove(t,"fxshow"),p)A.style(t,i,p[i])})),c=ue(g?v[i]:0,i,f),i in v||(v[i]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?le.prefilters.unshift(t):le.prefilters.push(t)}}),A.speed=function(t,e,n){var i=t&&"object"==typeof t?A.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return A.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in A.fx.speeds?i.duration=A.fx.speeds[i.duration]:i.duration=A.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&A.dequeue(this,i.queue)},i},A.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=A.isEmptyObject(t),o=A.speed(e,n,i),s=function(){var e=le(this,A.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=A.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||A.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=A.timers,s=i?i.length:0;for(n.finish=!0,A.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),A.each(["toggle","show","hide"],function(t,e){var n=A.fn[e];A.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}}),A.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){A.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),A.timers=[],A.fx.tick=function(){var t,e=0,n=A.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||A.fx.stop(),ne=void 0},A.fx.timer=function(t){A.timers.push(t),A.fx.start()},A.fx.interval=13,A.fx.start=function(){ie||(ie=!0,se())},A.fx.stop=function(){ie=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(t,e){return t=A.fx&&A.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var he,fe=A.expr.attrHandle;A.fn.extend({attr:function(t,e){return G(this,A.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){A.removeAttr(this,t)})}}),A.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?A.prop(t,e,n):(1===o&&A.isXMLDoc(t)||(r=A.attrHooks[e.toLowerCase()]||(A.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void A.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=A.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(L);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?A.removeAttr(t,n):t.setAttribute(n,n),n}},A.each(A.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||A.find.attr;fe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=fe[s],fe[s]=r,r=null!=n(t,e,i)?s:null,fe[s]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function ge(t){return(t.match(L)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}A.fn.extend({prop:function(t,e){return G(this,A.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[A.propFix[t]||t]})}}),A.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&A.isXMLDoc(t)||(e=A.propFix[e]||e,r=A.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=A.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(A.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this}),A.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,c=0;if(m(t))return this.each(function(e){A(this).addClass(t.call(this,e,ve(this)))});if((e=ye(t)).length)for(;n=this[c++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,c=0;if(m(t))return this.each(function(e){A(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[c++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each(function(n){A(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=A(this),s=ye(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;A.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,A(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=A.map(r,function(t){return null==t?"":t+""})),(e=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=A.valHooks[r.type]||A.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(me,""):null==n?"":n:void 0}}),A.extend({valHooks:{option:{get:function(t){var e=A.find.attr(t,"value");return null!=e?e:ge(A.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?o+1:r.length;for(i=o<0?c:s?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=A(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=A.makeArray(e),s=r.length;s--;)((i=r[s]).selected=A.inArray(A.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=A.inArray(A(t).val(),e)>-1}},y.checkOn||(A.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};A.extend(A.event,{trigger:function(t,e,i,r){var o,a,c,u,l,h,f,p,g=[i||s],v=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=c=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!be.test(v+A.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),l=v.indexOf(":")<0&&"on"+v,(t=t[A.expando]?t:new A.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:A.makeArray(e,[t]),f=A.event.special[v]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!b(i)){for(u=f.delegateType||v,be.test(u+v)||(a=a.parentNode);a;a=a.parentNode)g.push(a),c=a;c===(i.ownerDocument||s)&&g.push(c.defaultView||c.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||v,(h=(Q.get(a,"events")||{})[t.type]&&Q.get(a,"handle"))&&h.apply(a,e),(h=l&&a[l])&&h.apply&&Z(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!Z(i)||l&&m(i[v])&&!b(i)&&((c=i[l])&&(i[l]=null),A.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,we),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,we),A.event.triggered=void 0,c&&(i[l]=c)),t.result}},simulate:function(t,e,n){var i=A.extend(new A.Event,n,{type:t,isSimulated:!0});A.event.trigger(i,null,e)}}),A.fn.extend({trigger:function(t,e){return this.each(function(){A.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return A.event.trigger(t,e,n,!0)}}),y.focusin||A.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){A.event.simulate(e,t.target,A.event.fix(t))};A.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}});var ke=n.location,xe=Date.now(),Ae=/\?/;A.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||A.error("Invalid XML: "+t),e};var Ce=/\[\]$/,Se=/\r?\n/g,_e=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Oe(t,e,n,i){var r;if(Array.isArray(e))A.each(e,function(e,r){n||Ce.test(t)?i(t,r):Oe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)Oe(t+"["+r+"]",e[r],n,i)}A.param=function(t,e){var n,i=[],r=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!A.isPlainObject(t))A.each(t,function(){r(this.name,this.value)});else for(n in t)Oe(n,t[n],e,r);return i.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=A.prop(this,"elements");return t?A.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!A(this).is(":disabled")&&Ee.test(this.nodeName)&&!_e.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=A(this).val();return null==n?null:Array.isArray(n)?A.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}});var Pe=/%20/g,Te=/#.*$/,Ie=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,Me=/^\/\//,Re={},De={},Ne="*/".concat("*"),Le=s.createElement("a");function Ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(L)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Fe(t,e,n,i){var r={},o=t===De;function s(a){var c;return r[a]=!0,A.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(c=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),c}return s(e.dataTypes[0])||!r["*"]&&s("*")}function qe(t,e){var n,i,r=A.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&A.extend(!0,t,i),t}Le.href=ke.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,A.ajaxSettings),e):qe(A.ajaxSettings,t)},ajaxPrefilter:Ve(Re),ajaxTransport:Ve(De),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,c,u,l,h,f,p,d=A.ajaxSetup({},e),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?A(g):A.event,y=A.Deferred(),m=A.Callbacks("once memory"),b=d.statusCode||{},w={},k={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=je.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=k[t.toLowerCase()]=k[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),S(0,e),this}};if(y.promise(C),d.url=((t||d.url||ke.href)+"").replace(Me,ke.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(L)||[""],null==d.crossDomain){u=s.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Le.protocol+"//"+Le.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=A.param(d.data,d.traditional)),Fe(Re,d,e,C),l)return C;for(f in(h=A.event&&d.global)&&0==A.active++&&A.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Be.test(d.type),r=d.url.replace(Te,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Pe,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Ae.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(Ie,"$1"),p=(Ae.test(r)?"&":"?")+"_="+xe+++p),d.url=r+p),d.ifModified&&(A.lastModified[r]&&C.setRequestHeader("If-Modified-Since",A.lastModified[r]),A.etag[r]&&C.setRequestHeader("If-None-Match",A.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ne+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,C,d)||l))return C.abort();if(x="abort",m.add(d.complete),C.done(d.success),C.fail(d.error),i=Fe(De,d,e,C)){if(C.readyState=1,h&&v.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(c=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,i.send(w,S)}catch(t){if(l)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var u,f,p,w,k,x=e;l||(l=!0,c&&n.clearTimeout(c),i=void 0,o=a||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(w=function(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==c[0]&&c.unshift(o),n[o]}(d,C,s)),w=function(t,e,n,i){var r,o,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=u[c+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(d,w,C,u),u?(d.ifModified&&((k=C.getResponseHeader("Last-Modified"))&&(A.lastModified[r]=k),(k=C.getResponseHeader("etag"))&&(A.etag[r]=k)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=w.state,f=w.data,u=!(p=w.error))):(p=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",u?y.resolveWith(g,[f,x,C]):y.rejectWith(g,[C,x,p]),C.statusCode(b),b=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?f:p]),m.fireWith(g,[C,x]),h&&(v.trigger("ajaxComplete",[C,d]),--A.active||A.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return A.get(t,e,n,"json")},getScript:function(t,e){return A.get(t,void 0,e,"script")}}),A.each(["get","post"],function(t,e){A[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),A.ajax(A.extend({url:t,type:e,dataType:r,data:n,success:i},A.isPlainObject(t)&&t))}}),A._evalUrl=function(t){return A.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},A.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=A(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return m(t)?this.each(function(e){A(this).wrapInner(t.call(this,e))}):this.each(function(){var e=A(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m(t);return this.each(function(n){A(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(t){return!A.expr.pseudos.visible(t)},A.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ue=A.ajaxSettings.xhr();y.cors=!!Ue&&"withCredentials"in Ue,y.ajax=Ue=!!Ue,A.ajaxTransport(function(t){var e,i;if(y.cors||Ue&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),A.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return A.globalEval(t),t}}}),A.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),A.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=A("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var He,Ge=[],$e=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||A.expando+"_"+xe++;return this[t]=!0,t}}),A.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($e,"$1"+r):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||A.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?A(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(r)),s&&m(o)&&o(s[0]),s=o=void 0}),"script"}),y.createHTMLDocument=((He=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),A.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),r=I.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=kt([t],e,o),o&&o.length&&A(o).remove(),A.merge([],r.childNodes)));var i,r,o},A.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&A.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?A("<div>").append(A.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){A.fn[e]=function(t){return this.on(e,t)}}),A.expr.pseudos.animated=function(t){return A.grep(A.timers,function(e){return t===e.elem}).length},A.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,u=A.css(t,"position"),l=A(t),h={};"static"===u&&(t.style.position="relative"),a=l.offset(),o=A.css(t,"top"),c=A.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),m(e)&&(e=e.call(t,n,A.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):l.css(h)}},A.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){A.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===A.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===A.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=A(t).offset()).top+=A.css(t,"borderTopWidth",!0),r.left+=A.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-A.css(i,"marginTop",!0),left:e.left-r.left-A.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===A.css(t,"position");)t=t.offsetParent;return t||xt})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;A.fn[t]=function(i){return G(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),A.each(["top","left"],function(t,e){A.cssHooks[e]=Ht(y.pixelPosition,function(t,n){if(n)return n=Ut(t,e),Ft.test(n)?A(t).position()[e]+"px":n})}),A.each({Height:"height",Width:"width"},function(t,e){A.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){A.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return G(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?A.css(e,n,a):A.style(e,n,r,a)},e,s?r:void 0,s)}})}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){A.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),A.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),A.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),A.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=c.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||A.guid++,r},A.holdReady=function(t){t?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=T,A.isFunction=m,A.isWindow=b,A.camelCase=Y,A.type=x,A.now=Date.now,A.isNumeric=function(t){var e=A.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return A}.apply(e,[]))||(t.exports=i);var We=n.jQuery,Je=n.$;return A.noConflict=function(t){return n.$===A&&(n.$=Je),t&&n.jQuery===A&&(n.jQuery=We),A},r||(n.jQuery=n.$=A),A})},function(t,e,n){"use strict";var i,r;i=[n(1),n(103),n(147),n(138),n(177),n(149),n(148),n(146)],void 0===(r=function(t,e,n,i,r,o,s,a){e||(e=window.screenfull);var c=function(t){return("0"+t).slice(-2)},u={pkg:{ClipboardJS:n,i18next:i,$:t,JSZip:r,JSZipUtils:o,ScriptJS:s,WebFont:a},getMsg:function(t){return t},LOG_LEVELS:["none","error","warn","info","debug","trace","all"],LOG_PRINT_LABELS:["     ","ERROR","WARN ","INFO ","DEBUG","TRACE","ALL  "],LOG_LEVEL:2,LOG_OPTIONS:{prefix:"JClic",timestamp:!0,popupOnErrors:!1,chainTo:null,pipeTo:null},init:function(t){return void 0!==(t=u.normalizeObject(t)).logLevel&&u.setLogLevel(t.logLevel),"function"==typeof t.chainLogTo&&(u.LOG_OPTIONS.chainTo=t.chainLogTo),"function"==typeof t.pipeLogTo&&(u.LOG_OPTIONS.pipeTo=t.pipeLogTo),t},setLogLevel:function(t){var e=u.LOG_LEVELS.indexOf(t);e>=0&&(u.LOG_LEVEL=e)},log:function(t,e){var n=u.LOG_LEVELS.indexOf(t),i=Array.prototype.slice.call(arguments);if(n<0||n<=u.LOG_LEVEL)if(u.LOG_OPTIONS.pipeTo)u.LOG_OPTIONS.pipeTo.apply(null,i);else{var r=(u.LOG_OPTIONS.prefix||"")+" "+u.LOG_PRINT_LABELS[n]+" "+(u.LOG_OPTIONS.timestamp?u.getDateTime():"")+" "+e;console[1===n?"error":2===n?"warn":"log"].apply(console,[r].concat(i.slice(2))),u.LOG_OPTIONS.chainTo&&u.LOG_OPTIONS.chainTo.apply(null,i)}},getBoolean:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"true"===t||"false"!==t&&e},getVal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""===t||null===t||void 0===t?e:t},getNumber:function(t,e){return Number(u.getVal(t,e))},getPercent:function(t){return Math.round(100*t)+"%"},getHMStime:function(t){var e=new Date(t),n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds();return(n?n+"h ":"")+(n||i?c(i)+"'":"")+c(r)+'"'},getDateTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"/"+c(t.getMonth()+1)+"/"+c(t.getDate())+" "+c(t.getHours())+":"+c(t.getMinutes())+":"+c(t.getSeconds())},FALSE:0,TRUE:1,DEFAULT:2,getTriState:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.DEFAULT;return"true"===t?u.TRUE:"false"===t?u.FALSE:e},fillString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array(e).fill(t).join("")},isNullOrUndef:function(t){return void 0===t||null===t},isEquivalent:function(t,e){return(void 0===t||null===t)&&(void 0===e||null===e)||t===e},getXmlText:function(e){var n="";return t(e).children("p").each(function(t,e){n+="<p>"+e.textContent+"</p>"}),n},parseXmlNode:function(t){var e={};t.attributes&&u.attrForEach(t.attributes,function(t,n){return e[t]=/^-?\d*$/.test(n)?Number(n):n});for(var n=[],i=t.children||t.childNodes,r=0;r<i.length;r++){var o=i[r],s=u.parseXmlNode(o);if(e[o.nodeName]||(e[o.nodeName]={},n.push(o.nodeName)),s.id)e[o.nodeName][s.id]=s;else{var a=Object.keys(e[o.nodeName]).length;e[o.nodeName][a]=s}}return n.forEach(function(t){var n=Object.keys(e[t]);if(!n.find(function(t){return isNaN(t)}))if(1===n.length)e[t]=e[t][0];else{var i=[];n.forEach(function(n){return i.push(e[t][n])}),e[t]=i}}),0===i.length&&t.textContent&&(e.textContent=t.textContent),e},cssToString:function(t){return Object.keys(t).reduce(function(e,n){return""+e+n+":"+t[n]+";"},"")},checkColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.settings.BoxBase.BACK_COLOR;if(void 0!==t&&null!==t||(t=e),"#"===(t=t.replace("0x","#")).charAt(0)&&t.length>7){var n=parseInt(t.substring(1,3),16)/255;t="rgba("+parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16)+","+n+")"}return t},colorHasTransparency:function(t){if(u.startsWith(t,"rgba(")){var e=parseInt(t.substr(t.lastIndexOf(",")));return"number"==typeof e&&e<1}return!1},cloneObject:function(e){return t.extend(!0,Object.create(Object.getPrototypeOf(e)),e)},normalizeObject:function(e){var n={};return e&&t.each(e,function(t,e){var i=void 0;"string"==typeof e&&""!==(i=e.trim().toLowerCase())&&(e="true"===i||"false"!==i&&(isNaN(i)?e:Number(i))),n[t]=e}),n},isSeparator:function(t){return" .,;-|".includes(t)},roundTo:function(t,e){return Math.round(t/e)*e},compareMultipleOptions:function(t,e,n){if(null===t||0===t.length||null===e||0===e.length)return!1;n||(t=t.toUpperCase()),t=t.trim();var i=!0,r=!1,o=void 0;try{for(var s,a=e.split("|")[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;if(t===(n?c:c.toUpperCase()).trim())return!0}}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return!1},endsWith:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=arguments[2];return"string"==typeof t&&(n?t.trim():t).endsWith(e)},startsWith:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=arguments[2];return"string"==typeof t&&0===(n?t.trim():t).indexOf(e)},nSlash:function(t){return t?t.replace(/\\/g,"/"):t},isURL:function(t){return/^(filesystem:)?(https?|file|data|ftps?):/i.test(t)},getBasePath:function(t){var e=t.lastIndexOf("/");return e>=0?t.substring(0,e+1):""},getRelativePath:function(t,e){return e&&""!==e&&0===t.indexOf(e)?t.substr(e.length):t},getPath:function(t,e){return u.isURL(e)?e:t+e},getPathPromise:function(t,e,n){if(n){var i=u.getRelativePath(t+e,n.zipBasePath);if(n.files[i])return new Promise(function(t,r){n.file(i).async("base64").then(function(n){var i=e.toLowerCase().split(".").pop(),r=u.settings.MIME_TYPES[i]||"application/octet-stream";t("data:"+r+";base64,"+n)}).catch(r)})}return Promise.resolve(u.getPath(t,e))},$HTML:{doubleCell:function(e,n){return t("<tr/>").append(t("<td/>").html(e)).append(t("<td/>").html(n))},p:function(e){return t("<p/>").html(e)},td:function(e,n){return t("<td/>",n?{class:n}:null).html(e)},th:function(e,n){return t("<th/>",n?{class:n}:null).html(e)}},screenFullAllowed:function(){return e&&e.enabled},getSvg:function(t,e,n,i){return e&&(t=t.replace(/width=\"\d*\"/,'width="'+e+'"')),n&&(t=t.replace(/height=\"\d*\"/,'height="'+n+'"')),i&&(t=t.replace(/fill=\"[#A-Za-z0-9]*\"/,'fill="'+i+'"')),t},svgToURI:function(t,e,n,i){return"data:image/svg+xml;base64,"+btoa(u.getSvg(t,e,n,i))},toCssSize:function(t,e,n,i){var r=void 0===t||null===t?null:isNaN(t)?t:t+"px";return e&&n&&(r||i)&&(e[n]=null!==r?r:i),r},getImgClipUrl:function(t,e){var n=document.createElement("canvas");n.width=e.dim.width,n.height=e.dim.height;var i=n.getContext("2d"),r="";try{i.drawImage(t,e.pos.x,e.pos.y,e.dim.width,e.dim.height,0,0,e.dim.width,e.dim.height),r=n.toDataURL()}catch(t){u.log("error",t)}return r},getRootHead:function(t){if(t){for(;t.parentElement;)t=t.parentElement;t instanceof HTMLElement&&(t=t.parentNode||t),t=t.head||t}return t||document.head},appendStyleAtHead:function(t,e){var n=u.getRootHead(e&&e.$topDiv?e.$topDiv[0]:null),i=document.createElement("style");return i.type="text/css",i.appendChild(document.createTextNode(t)),n.appendChild(i)},attrForEach:function(t,e){for(var n=0;n<t.length;n++)e(t[n].name,t[n].value)},settings:{AB:0,BA:1,AUB:2,BUA:3,LAYOUT_NAMES:["AB","BA","AUB","BUA"],DEFAULT_WIDTH:400,DEFAULT_HEIGHT:300,MINIMUM_WIDTH:40,MINIMUM_HEIGHT:40,DEFAULT_NAME:"---",DEFAULT_MARGIN:8,DEFAULT_SHUFFLES:31,DEFAULT_GRID_ELEMENT_SIZE:20,MIN_CELL_SIZE:10,DEFAULT_BG_COLOR:"#C0C0C0",ACTIONS:{ACTION_MATCH:"MATCH",ACTION_PLACE:"PLACE",ACTION_WRITE:"WRITE",ACTION_SELECT:"SELECT",ACTION_HELP:"HELP"},PREVIOUS:0,MAIN:1,END:2,END_ERROR:3,NUM_MSG:4,MSG_TYPE:["previous","initial","final","finalError"],RANDOM_CHARS:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM_COUNTERS:3,MAX_RECORD_LENGTH:20,BoxBase:{REDUCE_FONT_STEP:1,MIN_FONT_SIZE:8,STROKE:1,AC_MARGIN:6,BACK_COLOR:"#C0C0C0",TEXT_COLOR:"black",SHADOW_COLOR:"gray",INACTIVE_COLOR:"gray",ALTERNATIVE_COLOR:"gray",BORDER_COLOR:"black",BORDER_STROKE_WIDTH:.75,MARKER_STROKE_WIDTH:2.75},FILE_TYPES:{image:"gif,jpg,png,jpeg,bmp,ico,svg",audio:"wav,mp3,ogg,oga,au,aiff,flac",video:"avi,mov,mpeg,mp4,ogv,m4v,webm",font:"ttf,otf,eot,woff,woff2",midi:"mid,midi",anim:"swf",xml:"xml"},MIME_TYPES:{xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",svg:"image/svg+xml",ico:"image/x-icon",wav:"audio/wav",mp3:"audio/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogg:"audio/ogg",oga:"audio/ogg",ogv:"video/ogg",webm:"video/webm",au:"audio/basic",aiff:"audio/x-aiff",flac:"audio/flac",avi:"video/avi",mov:"video/quicktime",mpeg:"video/mpeg",ttf:"application/font-sfnt",otf:"application/font-sfnt",eot:" application/vnd.ms-fontobject",woff:"application/font-woff",woff2:"application/font-woff2",swf:"application/x-shockwave-flash"},COMPRESS_IMAGES:!0,VK:{LEFT:37,UP:38,RIGHT:39,DOWN:40},TOUCH_DEVICE:!1,LOAD_TIMEOUT:1e4,BEZIER_POINTS:4,CANVAS_HITREGIONS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.addHitRegion,CANVAS_HITREGIONS_FOCUS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.drawFocusIfNeeded},getCaretCharacterOffsetWithin:function(t){var e=0,n=t.ownerDocument||t.document,i=n.defaultView||n.parentWindow,r=void 0;if(void 0!==i.getSelection){if((r=i.getSelection()).rangeCount>0){var o=i.getSelection().getRangeAt(0),s=o.cloneRange();s.selectNodeContents(t),s.setEnd(o.endContainer,o.endOffset),e=s.toString().length}}else if((r=n.selection)&&"Control"!==r.type){var a=r.createRange(),c=n.body.createTextRange();c.moveToElementText(t),c.setEndPoint("EndToEnd",a),e=c.text.length}return e},getTextNodesIn:function(t){var e=[];if(3===t.nodeType)e.push(t);else for(var n=t.childNodes,i=0,r=n.length;i<r;++i)e.push.apply(e,u.getTextNodesIn(n[i]));return e},setSelectionRange:function(t,e,n){if(u.isNullOrUndef(n)&&(n=e),document.createRange&&window.getSelection){var i=document.createRange();i.selectNodeContents(t);for(var r=u.getTextNodesIn(t),o=!1,s=0,a=void 0,c=void 0,l=0;l<r.length;l++){if(a=s+(c=r[l]).length,!o&&e>=s&&(e<a||e===a&&l+1<=r.length)&&(i.setStart(c,e-s),o=!0),o&&n<=a){i.setEnd(c,n-s);break}s=a}var h=window.getSelection();h.removeAllRanges(),h.addRange(i)}else if(document.selection&&document.body.createTextRange){var f=document.body.createTextRange();f.moveToElementText(t),f.collapse(!0),f.moveEnd("character",n),f.moveStart("character",e),f.select()}}};return u}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(2),n(146)],void 0===(r=function(t,e,n){var i=function(){function i(t,e,n,r,o){u(this,i),t&&(this.family=t),"number"==typeof e&&(this.size=e),n&&(this.bold=n),r&&(this.italic=r),o&&(this.variant=o),this._metrics={ascent:-1,descent:-1,height:-1}}return s(i,[{key:"setProperties",value:function(t){return t.attr("family")&&(this.family=t.attr("family")),t.attr("size")&&(this.size=Number(t.attr("size"))),t.attr("bold")&&(this.bold=e.getBoolean(t.attr("bold"))),t.attr("italic")&&(this.italic=e.getBoolean(t.attr("italic"))),t.attr("variant")&&(this.variant=t.attr("variant")),this}},{key:"setSize",value:function(t){var e=this.size;return this.size=t,e!==t&&(this._metrics.height=-1),this}},{key:"zoom",value:function(t){return this.setSize(this.size+t)}},{key:"getHeight",value:function(){var t=this;if(this._metrics.height<0){var e=i.ALREADY_CALCULATED_FONTS.find(function(e){return e.equals(t)});e&&Object.assign(this._metrics,e._metrics),this._metrics.height<0&&(this._calcHeight(),this._metrics.height>0&&i.ALREADY_CALCULATED_FONTS.push(this))}return this._metrics.height}},{key:"toCss",value:function(t){return t||(t={}),t["font-family"]=this.family,t["font-size"]=this.size+"px",this.hasOwnProperty("bold")&&(t["font-weight"]=this.bold?"bold":"normal"),this.hasOwnProperty("italic")&&(t["font-style"]=this.italic?"italic":"normal"),this.hasOwnProperty("variant")&&(t["font-variant"]=this.variant),t}},{key:"cssFont",value:function(){return(this.italic?"italic ":"normal")+" "+(""===this.variant?"normal":this.variant)+" "+(this.bold?"bold ":"normal")+" "+this.size+"pt "+this.family}},{key:"_calcHeight",value:function(){var e=t("<span/>").html("Hg").css(this.toCss()),n=t("<div/>").css({display:"inline-block",width:"1px",height:"0px"}),i=t("<div/>").append(e,n);t("body").append(i);try{n.css({verticalAlign:"baseline"}),this._metrics.ascent=n.offset().top-e.offset().top,n.css({verticalAlign:"bottom"}),this._metrics.height=n.offset().top-e.offset().top,this._metrics.descent=this._metrics.height-this._metrics.ascent}finally{i.remove()}return this}},{key:"equals",value:function(t){return this.family===t.family&&this.size===t.size&&this.bold===t.bold&&this.italic===t.italic&&this.variant===t.variant}}],[{key:"checkTree",value:function(e,r){var o=i.SUBSTITUTIONS;r&&r.ownFonts&&r.ownFonts.forEach(function(t){i.ALREADY_LOADED_FONTS.indexOf(t)<0&&n&&n.load&&(n.load({custom:{families:[t]}}),i.ALREADY_LOADED_FONTS.push(t),delete o[t.trim().toLowerCase()])}),r&&r.fontSubstitutions&&(o=t.extend(Object.create(o),r.fontSubstitutions)),e.find("style[family],font[family]").each(function(e,n){var r=t(n),s=r.attr("family").trim().toLowerCase();if(s in o){var a=o[s];""!==a&&(i.loadGoogleFont(a),r.attr("family",a))}})}},{key:"loadGoogleFont",value:function(t){t&&!i.ALREADY_LOADED_FONTS.includes(t)&&n&&n.load&&(n.load({google:{families:[t]}}),i.ALREADY_LOADED_FONTS.push(t))}},{key:"loadGoogleFonts",value:function(t){t&&t.forEach&&t.forEach(function(t){return i.loadGoogleFont(t)})}}]),i}();i.ALREADY_CALCULATED_FONTS=[],i.ALREADY_LOADED_FONTS=[],i.SUBSTITUTIONS={abc:"Kalam","a.c.m.e. secret agent":"Permanent Marker","comic sans ms":"Patrick Hand",impact:"Oswald",massallera:"Vibur",memima:"Vibur",memima_n1:"Vibur",memima_n2:"Vibur","memimas-regularalternate":"Vibur",palmemim:"Vibur",zurichcalligraphic:"Felipa"},Object.assign(i.prototype,{family:"Arial",size:17,bold:0,italic:0,variant:"",_metrics:{ascent:-1,descent:-1,height:-1}});var r=function(){function t(e,n,i,r){u(this,t),e&&(this.c1=e),n&&(this.c2=n),"number"==typeof i&&(this.angle=i%360),"number"==typeof r&&(this.cycles=r)}return s(t,[{key:"setProperties",value:function(t){return this.c1=e.checkColor(t.attr("source"),"black"),this.c2=e.checkColor(t.attr("dest"),"white"),this.angle=Number(t.attr("angle")||0)%360,this.cycles=Number(t.attr("cycles")||1),this}},{key:"getGradient",value:function(t,e){for(var n=e.getOppositeVertex(),i=t.createLinearGradient(e.pos.x,e.pos.y,n.x,n.y),r=1/Math.max(this.cycles,1),o=0;o<=this.cycles;o++)i.addColorStop(o*r,o%2?this.c1:this.c2);return i}},{key:"getCss",value:function(){for(var t="linear-gradient("+(this.angle+90)+"deg, "+this.c1+", "+this.c2,e=1;e<this.cycles;e++)t=t+", "+(e%2>0?this.c1:this.c2);return t+")"}},{key:"hasTransparency",value:function(){return e.colorHasTransparency(this.c1)||e.colorHasTransparency(this.c2)}}]),t}();Object.assign(r.prototype,{c1:"white",c2:"black",angle:0,cycles:1});var l=function(){function t(e,n,i,r){u(this,t),"number"==typeof e&&(this.lineWidth=e),n&&(this.lineCap=n),i&&(this.lineJoin=i),"number"==typeof r&&(this.miterLimit=r)}return s(t,[{key:"setStroke",value:function(t){return t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.miterLimit=this.miterLimit,t}}]),t}();Object.assign(l.prototype,{lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10});var h=function(){function t(e,n){u(this,t),e instanceof t?(this.x=e.x,this.y=e.y):(this.x=e||0,this.y=n||0)}return s(t,[{key:"setProperties",value:function(t){return this.x=Number(t.attr("x")),this.y=Number(t.attr("y")),this}},{key:"moveBy",value:function(t){return this.x+=t.x||t.width||0,this.y+=t.y||t.height||0,this}},{key:"moveTo",value:function(t,e){return"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y),this}},{key:"multBy",value:function(t){return this.x*=t.x||t.width||0,this.y*=t.y||t.height||0,this}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2),Math.pow(this.y-t.y,2))}},{key:"clone",value:function(){return new t(this)}}]),t}();Object.assign(h.prototype,{x:0,y:0});var f=function(){function t(e,n){u(this,t),e instanceof h&&n instanceof h?(this.width=n.x-e.x,this.height=n.y-e.y):(this.width=e||0,this.height=n||0)}return s(t,[{key:"setProperties",value:function(t){return this.width=Number(t.attr("width")),this.height=Number(t.attr("height")),this}},{key:"equals",value:function(t){return this.width===t.width&&this.height===t.height}},{key:"multBy",value:function(t){return this.width*=t.x||t.width||0,this.height*=t.y||t.height||0,this}},{key:"setDimension",value:function(e,n){return e instanceof t&&(n=e.height,e=e.width),this.width=e,this.height=n,this}},{key:"getSurface",value:function(){return this.width*this.height}}]),t}();Object.assign(f.prototype,{width:0,height:0});var p=function(){function t(e){u(this,t),this.pos=e||new h}return s(t,[{key:"moveBy",value:function(t){return this.pos.moveBy(t),this}},{key:"moveTo",value:function(t){return this.pos.moveTo(t),this}},{key:"getBounds",value:function(){return new d(this.pos)}},{key:"equals",value:function(t){return this.pos.equals(t.pos)}},{key:"scaleBy",value:function(t){return this}},{key:"getShape",value:function(t){return this.clone().scaleBy(t.dim).moveBy(t.pos)}},{key:"contains",value:function(t){return!1}},{key:"intersects",value:function(t){return!1}},{key:"fill",value:function(t,e){return t.save(),e&&e.getSurface()>0&&(t.beginPath(),t.rect(e.pos.x,e.pos.y,e.dim.width,e.dim.height),t.clip()),this.preparePath(t),t.fill(),t.restore(),t}},{key:"stroke",value:function(t){return this.preparePath(t),t.stroke(),t}},{key:"preparePath",value:function(t){return t}},{key:"clip",value:function(t,e){return this.preparePath(t),t.clip(e||"nonzero"),t}},{key:"isRect",value:function(){return!1}},{key:"toString",value:function(){return"Shape enclosed in "+this.getBounds().getCoords()}}]),t}();Object.assign(p.prototype,{pos:new h});var d=function(t){function e(t,n,i,r){u(this,e);var o=t,s=n;t instanceof e?(s=new f(t.dim.width,t.dim.height),o=new h(t.pos.x,t.pos.y)):t instanceof h?(o=new h(t.x,t.y),n instanceof f&&(s=new f(n.width,n.height))):t instanceof Array?(o=new h(t[0],t[1]),s=new f(t[2]-t[0],t[3]-t[1])):"number"==typeof i&&"number"==typeof r&&(o=new h(t,n),s=new f(i,r));var c=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return c.dim=s instanceof f?s:s instanceof h?new f(s.x-c.pos.x,s.y-c.pos.y):new f,c}return c(e,p),s(e,[{key:"getBounds",value:function(){return this}},{key:"setBounds",value:function(t){return t||(t=new e),this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this}},{key:"equals",value:function(t){return t instanceof e&&this.pos.equals(t.pos)&&this.dim.equals(t.dim)}},{key:"clone",value:function(){return new e(this)}},{key:"scaleBy",value:function(t){return this.pos.multBy(t),this.dim.multBy(t),this}},{key:"grow",value:function(t,e){return this.pos.x-=t,this.pos.y-=e,this.dim.width+=2*t,this.dim.height+=2*e,this}},{key:"getOppositeVertex",value:function(){return new h(this.pos.x+this.dim.width,this.pos.y+this.dim.height)}},{key:"add",value:function(t){var e=this.getOppositeVertex(),n=t.getBounds().getOppositeVertex();return this.pos.moveTo(Math.min(this.pos.x,t.getBounds().pos.x),Math.min(this.pos.y,t.getBounds().pos.y)),this.dim.setDimension(Math.max(e.x,n.x)-this.pos.x,Math.max(e.y,n.y)-this.pos.y),this}},{key:"contains",value:function(t){var e=this.getOppositeVertex();return t.x>=this.pos.x&&t.x<=e.x&&t.y>=this.pos.y&&t.y<=e.y}},{key:"intersects",value:function(t){var e=this.pos,n=this.getOppositeVertex(),i=t.pos,r=t.getOppositeVertex();return r.x>=e.x&&i.x<=n.x&&r.y>=e.y&&i.y<=n.y}},{key:"preparePath",value:function(t){return t.beginPath(),t.rect(this.pos.x,this.pos.y,this.dim.width,this.dim.height),t}},{key:"getSurface",value:function(){return this.dim.getSurface()}},{key:"isEmpty",value:function(){return 0===this.getSurface()}},{key:"isRect",value:function(){return!0}},{key:"toString",value:function(){return"Rectangle "+this.getCoords()}},{key:"getCoords",value:function(){return"["+Math.round(this.pos.x)+","+Math.round(this.pos.y)+","+Math.round(this.pos.x+this.dim.width)+","+Math.round(this.pos.y+this.dim.height)+"]"}}]),e}();Object.assign(d.prototype,{dim:new f});var g=function(t){function e(t,n,i,r){return u(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r))}return c(e,d),s(e,[{key:"preparePath",value:function(t){var e=.5522848*this.dim.width/2,n=.5522848*this.dim.height/2,i=this.pos.x+this.dim.width,r=this.pos.y+this.dim.height,o=this.pos.x+this.dim.width/2,s=this.pos.y+this.dim.height/2;return t.beginPath(),t.moveTo(this.pos.x,s),t.bezierCurveTo(this.pos.x,s-n,o-e,this.pos.y,o,this.pos.y),t.bezierCurveTo(o+e,this.pos.y,i,s-n,i,s),t.bezierCurveTo(i,s+n,o+e,r,o,r),t.bezierCurveTo(o-e,r,this.pos.x,s+n,this.pos.x,s),t.closePath(),t}},{key:"contains",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"contains",this).call(this,t);if(n){var i=this.dim.width/2,r=this.dim.height/2,s=this.pos.x+i,a=this.pos.y+r;n=Math.pow(t.x-s,2)/Math.pow(i,2)+Math.pow(t.y-a,2)/Math.pow(r,2)<=1}return n}},{key:"getSurface",value:function(){return Math.PI*this.dim.width/2*this.dim.height/2}},{key:"equals",value:function(t){return t instanceof e&&o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"equals",this).call(this,t)}},{key:"clone",value:function(){return new e(this.pos,this.dim)}},{key:"isRect",value:function(){return!1}},{key:"toString",value:function(){return"Ellipse enclosed in "+this.getCoords()}}]),e}(),v=function(t){function e(t){u(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t&&(n.strokes=[],t.forEach(function(t){return n.strokes.push(new y(t.type||t.action,t.points||t.data))})),n.enclosing=new d,n.enclosingPoints=[],n.calcEnclosingRect(),n.pos=n.enclosing.pos,n}return c(e,p),s(e,[{key:"clone",value:function(){return new e(this.strokes.map(function(t){return t.clone()}))}},{key:"addStroke",value:function(t){return this.strokes.push(t),this}},{key:"calcEnclosingRect",value:function(){var t=this;this.enclosingPoints=[];var e=new h;this.strokes.forEach(function(n){n.getEnclosingPoints(e).forEach(function(n){e=new h(n),t.enclosingPoints.push(e)})});var n=this.enclosingPoints.length;n>1&&this.enclosingPoints[0].equals(this.enclosingPoints[n-1])&&(this.enclosingPoints.pop(),n--);for(var i=new h(this.enclosingPoints[0]),r=new h(this.enclosingPoints[0]),o=1;o<n;o++){var s=this.enclosingPoints[o];i.x=Math.min(s.x,i.x),i.y=Math.min(s.y,i.y),r.x=Math.max(s.x,r.x),r.y=Math.max(s.y,r.y)}return this.enclosing.setBounds(new d(i,new f(i,r))),this.enclosing}},{key:"getBounds",value:function(){return this.enclosing}},{key:"moveBy",value:function(t){return this.strokes.forEach(function(e){return e.moveBy(t)}),this.enclosingPoints.forEach(function(e){return e.moveBy(t)}),this.enclosing.moveBy(t),this}},{key:"moveTo",value:function(t){return this.moveBy(new f(t.x-this.pos.x,t.y-this.pos.y))}},{key:"equals",value:function(t){return!1}},{key:"scaleBy",value:function(t){return this.strokes.forEach(function(e){return e.multBy(t)}),this.enclosingPoints.forEach(function(e){return e.multBy(t)}),this.enclosing.scaleBy(t),this}},{key:"contains",value:function(t){var e=this.enclosing.contains(t);if(e){for(var n=this.enclosingPoints.length,i=0,r=0,o=this.enclosingPoints[0],s=1;s<=n;s++){var a=this.enclosingPoints[s%n];t.y>Math.min(o.y,a.y)&&t.y<=Math.max(o.y,a.y)&&t.x<=Math.max(o.x,a.x)&&o.y!==a.y&&(i=(t.y-o.y)*(a.x-o.x)/(a.y-o.y)+o.x,(o.x===a.x||t.x<=i)&&r++),o=a}r%2==0&&(e=!1)}return e}},{key:"intersects",value:function(t){return this.enclosing.intersects(t)}},{key:"preparePath",value:function(t){return t.beginPath(),this.strokes.forEach(function(e){return e.stroke(t)}),t}}]),e}();Object.assign(v.prototype,{strokes:[],enclosing:new d,enclosingPoints:[]});var y=function(){function t(e,n){if(u(this,t),this.type=e,n&&n.length>0)if(n[0]instanceof h)this.points=n.map(function(t){return new h(t)});else{this.points=[];for(var i=0;i<n.length;i+=2)this.points.push(new h(n[i],n[i+1]))}}return s(t,[{key:"clone",value:function(){return new t(this.type,this.points)}},{key:"moveBy",value:function(t){return this.points&&this.points.forEach(function(e){return e.moveBy(t)}),this}},{key:"multBy",value:function(t){return this.points&&this.points.forEach(function(e){return e.multBy(t)}),this}},{key:"stroke",value:function(t){switch(this.type){case"M":t.moveTo(this.points[0].x,this.points[0].y);break;case"L":t.lineTo(this.points[0].x,this.points[0].y);break;case"Q":t.quadraticCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y);break;case"B":t.bezierCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[2].x,this.points[2].y);break;case"X":t.closePath()}return t}},{key:"getEnclosingPoints",value:function(e){var n=[];switch(this.type){case"M":case"L":n.push(this.points[0]);break;case"Q":(n=t.getQuadraticPoints(e,this.points[0],this.points[1])).push(this.points[1]);break;case"B":(n=t.getCubicPoints(e,this.points[0],this.points[1],this.points[2])).push(this.points[2])}return n}}],[{key:"getQuadraticPoints",value:function(t,n,i,r){r||(r=e.settings.BEZIER_POINTS);for(var o=[],s=new h,a=new h,c=0;c<r;c++){var u=(c+1)/(r+1);s.x=t.x+(n.x-t.x)*u,s.y=t.y-(t.y-n.y)*u,a.x=n.x+(i.x-n.x)*u,a.y=n.y+(i.y-n.y)*u,o.push(new h(s.x+(a.x-s.x)*u,s.y-(s.y-a.y)*u))}return o}},{key:"getCubicPoints",value:function(n,i,r,o,s){var a=[];s||(s=e.settings.BEZIER_POINTS);for(var c=t.getQuadraticPoints(n,i,r,s),u=t.getQuadraticPoints(i,r,o,s),l=0;l<s;l++){var f=(l+1)/(s+1);a.push(new h(c[l].x+(u[l].x-c[l].x)*f,c[l].y-(c[0].y-u[0].y)*f))}return a}}]),t}();Object.assign(y.prototype,{type:"X",points:null});var m=function(){function t(e,n){u(this,t),this.name=e,this.actionPerformed=n,this._statusListeners=[]}return s(t,[{key:"actionPerformed",value:function(t,e){return this}},{key:"processEvent",value:function(t){return this.actionPerformed(this,t)}},{key:"addStatusListener",value:function(t){this._statusListeners.push(t)}},{key:"removeStatusListener",value:function(t){this._statusListeners=this._statusListeners.map(function(e){return e!==t})}},{key:"setEnabled",value:function(t){var e=this;return this.enabled=t,this._statusListeners.forEach(function(t){return t.call(e,e)}),this}}]),t}();Object.assign(m.prototype,{name:null,description:null,enabled:!1,_statusListeners:null});var b=function(){function t(e,n,i){u(this,t),this.actionPerformed=e,this.interval=n,this.setEnabled(!0===i)}return s(t,[{key:"actionPerformed",value:function(t){return this}},{key:"processTimer",value:function(t){return this.ticks++,this.repeats||this.stop(),this.actionPerformed.call(this)}},{key:"setEnabled",value:function(t,e){var n=this;if(e||(this.ticks=0),!t||null===this.timer)return t?this.timer=window.setInterval(function(){return n.processTimer(null)},this.interval):null!==this.timer&&(window.clearInterval(this.timer),this.timer=null),this}},{key:"isRunning",value:function(){return null!==this.timer}},{key:"start",value:function(t){return this.setEnabled(!0,t)}},{key:"stop",value:function(t){return this.setEnabled(!1,t)}}]),t}();Object.assign(b.prototype,{interval:0,ticks:0,timer:null,repeats:!0});var w=function(t){function e(t,n,i,r){return u(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r))}return c(e,d),s(e,[{key:"invalidate",value:function(t){return t?null===this.invalidatedRect?this.invalidatedRect=t.clone():this.invalidatedRect.add(t):this.invalidatedRect=null,this}},{key:"update",value:function(){return this.updateContent(this.invalidatedRect),this.invalidatedRect=null,this}},{key:"updateContent",value:function(t){return this}}]),e}();return Object.assign(w.prototype,{invalidatedRect:null}),{Font:i,Gradient:r,Stroke:l,Point:h,Dimension:f,Shape:p,Rectangle:d,Ellipse:g,Path:v,PathStroke:y,Action:m,Timer:b,Container:w}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(97)("wks"),r=n(55),o=n(5).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";var i=n(40),r=n(170),o=n(79),s=n(299),a=n(70);function c(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=l.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return l.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return l.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=h;var p={};p.string={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.allocBuffer(t.length))}},p.array={string:h,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return o.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:c},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return p[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){s(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,o,s,c){return a.Promise.resolve(n).then(function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(n){var l,h=e.getTypeOf(n);return h?("arraybuffer"===h?n=e.transformTo("uint8array",n):"string"===h&&(c?n=r.decode(n):o&&!0!==s&&(n=u(l=n,i.uint8array?new Uint8Array(l.length):new Array(l.length)))),n):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){var i=n(33),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(4),r=n(211),o=n(35),s=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(2),n(3),n(102),n(69),n(100),n(45),n(143),n(142),n(251),n(250)],void 0===(r=function(t,e,n,i,r,a,c,u,l,h,f){var p=e.settings,d=function(){function d(t){s(this,d),this.project=t,this.eventSounds=new i(this.project.settings.eventSounds),this.messages={},this.abc={}}return o(d,[{key:"setProperties",value:function(i){var r=this;return e.attrForEach(i.get(0).attributes,function(t,n){switch(t){case"name":n=e.nSlash(n);case"code":case"type":case"description":r[t]=n;break;case"class":r.className=n.replace(/^edu\.xtec\.jclic\.activities\./,"@");break;case"inverse":r.invAss=e.getBoolean(n,!1);break;case"autoJump":case"forceOkToAdvance":case"amongParagraphs":r[t]=e.getBoolean(n,!1)}}),i.children().each(function(i,o){var s=t(o);switch(o.nodeName){case"settings":e.attrForEach(s.get(0).attributes,function(t,n){switch(t){case"infoUrl":case"infoCmd":r[t]=n;break;case"margin":case"maxTime":case"maxActions":r[t]=Number(n);break;case"report":r.includeInReports=e.getBoolean(n,!1);break;case"countDownTime":case"countDownActions":case"reportActions":case"useOrder":case"dragCells":r[t]=e.getBoolean(n,!1)}}),s.children().each(function(i,o){var s=t(o);switch(o.nodeName){case"skin":r.skinFileName=s.attr("file");break;case"helpWindow":r.helpMsg=e.getXmlText(r),r.showSolution=e.getBoolean(s.attr("showSolution"),!1),r.helpWindow=null!==r.helpMsg||r.showSolution;break;case"container":r.bgColor=e.checkColor(s.attr("bgColor"),e.settings.BoxBase.BACK_COLOR),s.children().each(function(i,o){var s=t(o);switch(o.nodeName){case"image":r.bgImageFile=s.attr("name"),r.tiledBgImg=e.getBoolean(s.attr("tiled"),!1);break;case"counters":r.bTimeCounter=e.getBoolean(s.attr("time"),!0),r.bActionsCounter=e.getBoolean(s.attr("actions"),!0),r.bScoreCounter=e.getBoolean(s.attr("score"),!0);break;case"gradient":r.bgGradient=(new n.Gradient).setProperties(s)}});break;case"window":r.activityBgColor=e.checkColor(s.attr("bgColor"),p.DEFAULT_BG_COLOR),r.transparentBg=e.getBoolean(s.attr("transparent"),!1),r.border=e.getBoolean(s.attr("border"),!1),s.children().each(function(e,i){var o=t(i);switch(i.nodeName){case"gradient":r.activityBgGradient=(new n.Gradient).setProperties(o);break;case"position":r.absolutePosition=(new n.Point).setProperties(o),r.absolutePositioned=!0;break;case"size":r.windowSize=(new n.Dimension).setProperties(o)}});break;case"eventSounds":r.eventSounds.setProperties(s)}});break;case"messages":s.children("cell").each(function(e,n){var i=r.readMessage(t(n));r.messages[i.type]=i});break;case"automation":r.acp=u.getProvider(s,r.project);break;case"cells":var d=(new a).setProperties(s,r.project.mediaBag);r.abc[d.id]=d;break;case"scramble":r.shuffles=Number(s.attr("times")),r.scramble.primary=e.getBoolean(s.attr("primary")),r.scramble.secondary=e.getBoolean(s.attr("secondary"));break;case"layout":e.attrForEach(s.get(0).attributes,function(t,n){switch(t){case"position":r.boxGridPos=n;break;case"wildTransparent":case"upperCase":case"checkCase":r[t]=e.getBoolean(n)}});break;case"menuElement":r.menuElements.push({caption:s.attr("caption")||"",icon:s.attr("icon")||null,projectPath:s.attr("path")||null,sequence:s.attr("sequence")||null,description:s.attr("description")||""});break;case"textGrid":r.tgc=(new l).setProperties(s);break;case"clues":r.clues=[],r.clueItems=[],s.children("clue").each(function(e,n){r.clueItems[e]=Number(t(n).attr("id")),r.clues[e]=n.textContent});break;case"checkButton":r.checkButtonText=o.textContent||"check";break;case"prevScreen":r.prevScreen=!0,r.prevScreenMaxTime=s.attr("maxTime")||-1,s.children().each(function(e,n){switch(n.nodeName){case"style":r.prevScreenStyle=(new c).setProperties(t(n));break;case"p":null===r.prevScreenText&&(r.prevScreenText=""),r.prevScreenText+="<p>"+n.textContent+"</p>"}});break;case"evaluator":r.ev=h.getEvaluator(s);break;case"document":r.document=(new f).setProperties(s,r.project.mediaBag)}}),this}},{key:"readMessage",value:function(t){var n=(new r).setProperties(t,this.project.mediaBag);return n.type=t.attr("type"),e.isNullOrUndef(n.bb)&&(n.bb=new c(null)),n}},{key:"initAutoContentProvider",value:function(){null!==this.acp&&this.acp.init()}},{key:"prepareMedia",value:function(e){return this.eventSounds.realize(e,this.project.mediaBag),t.each(this.messages,function(t,n){null!==n&&n.prepareMedia(e)}),t.each(this.abc,function(t,n){null!==n&&n.prepareMedia(e)}),!0}},{key:"helpSolutionAllowed",value:function(){return!1}},{key:"helpWindowAllowed",value:function(){return this.helpWindow&&(this.helpSolutionAllowed()&&this.showSolution||null!==this.helpMsg)}},{key:"getMinNumActions",value:function(){return 0}},{key:"mustPauseSequence",value:function(){return 0!==this.getMinNumActions()}},{key:"canReinit",value:function(){return!0}},{key:"hasInfo",value:function(){return null!==this.infoUrl&&this.infoUrl.length>0||null!==this.infoCmd&&this.infoCmd.length>0}},{key:"hasRandom",value:function(){return!1}},{key:"shuffleAlways",value:function(){return!1}},{key:"needsKeyboard",value:function(){return!1}},{key:"end",value:function(){this.eventSounds.close(),this.clear()}},{key:"clear",value:function(){}},{key:"getWindowSize",value:function(){return new n.Dimension(this.windowSize)}},{key:"setWindowSize",value:function(t){this.windowSize=new n.Dimension(t)}},{key:"getActivityPanel",value:function(t){return new this.constructor.Panel(this,t)}}],[{key:"getActivity",value:function(t,n){var i=null;if(t&&n){var r=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.activities\./,"@"),o=d.CLASSES[r];o?(i=new o(n)).setProperties(t):e.log("error","Unknown activity class: "+r)}return i}}]),d}();d.CLASSES={"@panels.Menu":d},Object.assign(d.prototype,{project:null,name:p.DEFAULT_NAME,className:null,code:null,type:null,description:null,margin:p.DEFAULT_MARGIN,bgColor:p.DEFAULT_BG_COLOR,bgGradient:null,tiledBgImg:!1,bgImageFile:null,border:!0,absolutePositioned:!1,absolutePosition:null,includeInReports:!0,reportActions:!1,helpWindow:!1,showSolution:!1,helpMsg:"",eventSounds:null,useOrder:!1,dragCells:!1,skinFileName:null,maxTime:0,countDownTime:!1,maxActions:0,countDownActions:!1,infoUrl:null,infoCmd:null,messages:null,windowSize:new n.Dimension(p.DEFAULT_WIDTH,p.DEFAULT_HEIGHT),transparentBg:!1,activityBgColor:p.DEFAULT_BG_COLOR,activityBgGradient:null,bTimeCounter:!0,bScoreCounter:!0,bActionsCounter:!0,acp:null,abc:null,tgc:null,document:null,boxGridPos:"AB",shuffles:p.DEFAULT_SHUFFLES,scramble:{primary:!0,secondary:!0},invAss:!1,menuElements:null});var g=function(i){function r(i,o,a){s(this,r);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return c.act=i,c.ps=o,c.minimumSize=new n.Dimension(100,100),c.preferredSize=new n.Dimension(500,400),c.$div=a||t("<div/>",{class:"JClicActivity","aria-label":o.getMsg("Activity panel")}),c.accessibleCanvas=e.settings.CANVAS_HITREGIONS,c.act.initAutoContentProvider(),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n.Container),o(r,[{key:"setBounds",value:function(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this.invalidate(t),this.$div.css({position:"relative",left:t.pos.x,top:t.pos.y,width:t.dim.width,height:t.dim.height})}},{key:"buildVisualComponents",value:function(){if(this.playing=!1,this.skin=null,this.act.skinFileName&&this.act.skinFileName.length>0&&this.act.skinFileName!==this.act.project.settings.skinFileName&&(this.skin=this.act.project.mediaBag.getSkinElement(this.act.skinFileName,this.ps)),this.bgImage=null,this.act.bgImageFile&&this.act.bgImageFile.length>0){var t=this.act.project.mediaBag.getElement(this.act.bgImageFile,!0);t&&(this.bgImage=t.data)}this.backgroundColor=this.act.activityBgColor,this.act.transparentBg&&(this.backgroundTransparent=!0),this.act.border&&(this.border=!0);var e={display:"block","background-color":this.backgroundTransparent?"transparent":this.backgroundColor};this.border&&(e["box-shadow"]="0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)",e["border-radius"]="2px",e.color="#272727"),this.act.activityBgGradient&&(e["background-image"]=this.act.activityBgGradient.getCss()),this.$div.css(e)}},{key:"updateContent",value:function(t){return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"updateContent",this).call(this,t)}},{key:"playEvent",value:function(t){this.act.eventSounds.play(t)}},{key:"initActivity",value:function(){this.playing&&(this.playing=!1,this.ps.reportEndActivity(this.act,this.solved)),this.solved=!1,this.ps.reportNewActivity(this.act,0),this.attachEvents(),this.enableCounters()}},{key:"startActivity",value:function(){this.playing=!0}},{key:"activityReady",value:function(){}},{key:"showHelp",value:function(){}},{key:"setDimension",value:function(t){return new n.Dimension(Math.min(t.width,this.act.windowSize.width),Math.min(t.height,this.act.windowSize.height))}},{key:"attachEvents",value:function(){var e=this;this.events.forEach(function(t){return e.attachEvent(e.$div,t)}),p.TOUCH_DEVICE||-1!==t.inArray("touchstart",this.events)||this.attachEvent(this.$div,"touchstart")}},{key:"attachEvent",value:function(e,n){var i=this;e.on(n,this,function(n){if("touchstart"!==n.type||(p.TOUCH_DEVICE||(p.TOUCH_DEVICE=!0),-1!==t.inArray("touchstart",i.events)))return n.data.processEvent.call(n.data,n);e.off("touchstart")})}},{key:"processEvent",value:function(t){return!1}},{key:"fitTo",value:function(t,i){var r=this,o=new n.Point;this.act.absolutePositioned&&null!==this.act.absolutePosition&&(o.x=Math.max(0,this.act.absolutePosition.x+t.pos.x),o.y=Math.max(0,this.act.absolutePosition.y+t.pos.y),t.dim.width-=this.act.absolutePosition.x,t.dim.height-=this.act.absolutePosition.y);var s=this.setDimension(new n.Dimension(Math.max(2*this.act.margin+e.settings.MINIMUM_WIDTH,t.dim.width),Math.max(2*this.act.margin+e.settings.MINIMUM_HEIGHT,t.dim.height)));this.act.absolutePositioned||o.moveTo(Math.max(0,t.pos.x+(t.dim.width-s.width)/2),Math.max(0,t.pos.y+(t.dim.height-s.height)/2)),o.x+s.width>i.dim.width&&(o.x=Math.max(0,i.dim.width-s.width)),o.y+s.height>i.dim.height&&(o.y=Math.max(0,i.dim.height-s.height)),this.setBounds(new n.Rectangle(o.x,o.y,s.width,s.height)),window.setTimeout(function(){return r.buildAccessibleComponents()},0)}},{key:"buildAccessibleComponents",value:function(){this.accessibleCanvas&&this.$canvas&&this.$canvas.children().length>0&&(this.$canvas.get(-1).getContext("2d").clearHitRegions(),this.$canvas.empty())}},{key:"forceFinishActivity",value:function(){}},{key:"finishActivity",value:function(t){this.playing=!1,this.solved=t,null!==this.bc&&this.bc.end(),t?this.setAndPlayMsg("final","finishedOk"):this.setAndPlayMsg("finalError","finishedError"),this.ps.activityFinished(this.solved),this.ps.reportEndActivity(this.act,this.solved)}},{key:"setAndPlayMsg",value:function(t,e){var n=this.act.messages[t]||null;this.ps.setMsg(n),null!==n&&null!==n.mediaContent||this.playEvent(e)}},{key:"end",value:function(){this.forceFinishActivity(),this.playing&&(null!==this.bc&&this.bc.end(),this.ps.reportEndActivity(this.act,this.solved),this.playing=!1,this.solved=!1),this.clear()}},{key:"clear",value:function(){}},{key:"enableCounters",value:function(t,e,n){void 0===t&&(t=this.act.bTimeCounter),void 0===e&&(e=this.act.bScoreCounter),void 0===n&&(n=this.act.bActionsCounter),this.ps.setCounterEnabled("time",t),this.act.countDownTime&&this.ps.setCountDown("time",this.act.maxTime),this.ps.setCounterEnabled("score",e),this.ps.setCounterEnabled("actions",n),this.act.countDownActions&&this.ps.setCountDown("actions",this.act.maxActions)}},{key:"shuffle",value:function(t,e,n){for(var i=this.act.shuffles,r=i,o=function(){var e=r>i?i:r;t.forEach(function(t){t&&t.scrambleCells(e,n)}),r-=i};r>0;)o()}}]),r}();return Object.assign(g.prototype,{act:null,$div:null,$canvas:null,accessibleCanvas:!1,skin:null,$animatedBg:null,$animatedBgB:null,solved:!1,bgImage:null,playing:!1,firstRun:!0,currentItem:0,bc:null,ps:null,minimumSize:null,preferredSize:null,events:["click"],backgroundColor:null,backgroundTransparent:!1,border:null}),d.Panel=g,d}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(34);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(0),r=n(6),o=n(34),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var i=n(5),r=n(18),o=n(24),s=n(55)("src"),a=Function.toString,c=(""+a).split("toString");n(28).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){var i=n(11),r=n(56);t.exports=n(12)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(75),n(3),n(2)],void 0===(r=function(t,e,n,i){var r=function(t){function r(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,i));return o.preferredBounds=new n.Rectangle,o.cells=[],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),o(r,[{key:"getPreferredSize",value:function(){return this.preferredBounds.dim}},{key:"getMinimumSize",value:function(){var t=this.getPreferredSize();return new n.Dimension(Math.max(i.settings.MIN_CELL_SIZE,t.width),Math.max(i.settings.MIN_CELL_SIZE,t.height))}},{key:"getScaledSize",value:function(t){var e=this.getPreferredSize();return new n.Dimension(Math.round(t*e.width),Math.round(t*e.height))}},{key:"addBox",value:function(t){this.cells.push(t),t.setParent(this),1===this.cells.length?n.Rectangle.prototype.setBounds.call(this,t):this.add(t),this.preferredBounds.setBounds(this.getBounds())}},{key:"boxIndex",value:function(t){return null===t?-1:this.cells.indexOf(t)}},{key:"getBox",value:function(t){return t<0||t>=this.cells.length?null:this.cells[t]}},{key:"getBackgroundBox",value:function(){return this.backgroundBox}},{key:"setBackgroundBox",value:function(t){this.backgroundBox=t,null!==t&&(t.setParent(this),t.isBackground=!0),n.Rectangle.prototype.add.call(this,t),this.preferredBounds.setBounds(this.getBounds())}},{key:"recalcSize",value:function(){var t=this.backgroundBox?new n.Rectangle(this.backgroundBox.pos,this.backgroundBox.dim):null;this.cells.forEach(function(e){t?t.add(e):t=new n.Rectangle(e.pos,e.dim)}),t||(t=new n.Rectangle(this.pos.x,this.pos.y,0,0)),this.preferredBounds.setRect(t),this.x=t.pos.x,this.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height}},{key:"getNumCells",value:function(){return this.cells.length}},{key:"setCellAttr",value:function(t,e){this.cells.forEach(function(n){return n[t]=e}),this.backgroundBox&&(this.backgroundBox[t]=e)}},{key:"setBorder",value:function(t){this.cells.forEach(function(e){return e.setBorder(t)})}},{key:"setVisible",value:function(t){this.cells.forEach(function(e){return e.setVisible(t)})}},{key:"setAlternative",value:function(t){s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setAlternative",this).call(this,t),this.cells.forEach(function(e){return e.setAlternative(t)})}},{key:"setBounds",value:function(t,e,i,o){var a=this;if("number"==typeof t&&(t=new n.Rectangle(t,e,i,o)),t.getSurface()>0&&!t.equals(this)){var c=t.dim.width/this.dim.width,u=t.dim.height/this.dim.height,l=t.pos.x-this.pos.x,h=t.pos.y-this.pos.y;if(this.cells.forEach(function(t){var e=new n.Point(t.pos.x-a.pos.x,t.pos.y-a.pos.y);t.setBounds(l+a.pos.x+c*e.x,h+a.pos.y+u*e.y,c*t.dim.width,u*t.dim.height)}),null!==this.backgroundBox){var f=this.backgroundBox,p=new n.Point(f.pos.x-this.pos.x,f.pos.y-this.pos.y);f.setBounds(l+this.pos.x+c*p.x,h+this.pos.y+u*p.y,c*f.dim.width,u*f.dim.height)}}s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setBounds",this).call(this,t)}},{key:"update",value:function(t,e){return!(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())&&(!(e&&!this.intersects(e))&&(null!==this.backgroundBox&&this.backgroundBox.update(t,e),this.cells.forEach(function(n){n.isMarked()||n.update(t,e)}),this.cells.forEach(function(n){n.isMarked()&&n.update(t,e)}),!0))}},{key:"findBox",value:function(t){for(var e=null,n=this.cells.length-1;n>=0;n--){var i=this.getBox(n);if(i.isVisible()&&i.contains(t)){e=i;break}}return e}},{key:"countInactiveCells",value:function(){return this.cells.reduce(function(t,e){return e.isInactive()?++t:t},0)}}],[{key:"layoutSingle",value:function(t,e,n){if(!e)return t;var i=e.getPreferredSize(),r=e.getMinimumSize(),o=t;o.width-=2*n,o.height-=2*n,(r.width>o.width||r.height>o.height)&&(o=r);var s=i.width>o.width?o.width/i.width:1;return s*i.height>o.height&&(s=o.height/i.height),i=e.getScaledSize(s),e.setBounds(n,n,i.width,i.height),i.width+=2*n,i.height+=2*n,i}},{key:"layoutDouble",value:function(t,e,i,r,o){var s=!1,a=1,c=1;switch(r){case"AB":case"BA":a=2,c=1,s=!0;break;case"AUB":case"BUA":a=1,c=2,s=!1}var u=e.getBounds(),l=i.getBounds(),h=e.getPreferredSize(),f=i.getPreferredSize(),p=new n.Dimension(s?h.width+f.width:Math.max(h.width,f.width),s?Math.max(h.height,f.height):h.height+f.height),d=e.getMinimumSize(),g=i.getMinimumSize(),v=new n.Dimension(s?d.width+g.width:Math.max(d.width,g.width),s?Math.max(d.height,g.height):d.height+g.height),y=t;y.width-=(1+a)*o,y.height-=(1+c)*o,(v.width>y.width||v.height>y.height)&&y.setDimension(v);var m=p.width>y.width?y.width/p.width:1;m*p.height>y.height&&(m=y.height/p.height),h=e.getScaledSize(m);var b=(f=i.getScaledSize(m)).width>h.width?(f.width-h.width)/2:0,w=h.width>f.width?(h.width-f.width)/2:0,k=f.height>h.height?(f.height-h.height)/2:0,x=h.height>f.height?(h.height-f.height)/2:0;switch(r){case"AB":e.setBounds(o,o+k,h.width,h.height),i.setBounds(2*o+h.width,o+x,f.width,f.height);break;case"BA":i.setBounds(o,o+x,f.width,f.height),e.setBounds(2*o+f.width,o+k,h.width,h.height);break;case"AUB":e.setBounds(o+b,o,h.width,h.height),i.setBounds(o+w,2*o+h.height,f.width,f.height);break;case"BUA":i.setBounds(o+w,o,f.width,f.height),e.setBounds(o+b,2*o+f.height,h.width,h.height);break;default:e.setBounds(Math.round(o+m*u.pos.x),Math.round(o+m*u.pos.y),h.width,h.height),i.setBounds(Math.round(o+m*l.pos.x),Math.round(o+m*l.pos.y),h.width,h.height)}var A=new n.Rectangle(e.getBounds());return A.add(i.getBounds()),p.width=A.dim.width+2*o,p.height=A.dim.height+2*o,p}}]),r}();return Object.assign(r.prototype,{cells:[],preferredBounds:new n.Rectangle,backgroundBox:null}),r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){var i=n(24),r=n(14),o=n(135)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(73),r=n(56),o=n(23),s=n(35),a=n(24),c=n(211),u=Object.getOwnPropertyDescriptor;e.f=n(12)?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(74),r=n(34);t.exports=function(t){return i(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var i=n(6);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(15);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(226),n(68),n(3),n(2)],void 0===(r=function(t,e,n,i,r){var s=function(t){function s(t,e,r,o,a,c,u,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,r));h.nCols=l.nCols,h.nRows=l.nRows;for(var f=new i.Rectangle(new i.Point(o,a),new i.Dimension(Math.round(c/h.nCols)*h.nCols,Math.round(u/h.nRows)*h.nRows)),p=0;p<l.nCells;p++){var d=l.getShape(p,f),g=new n(h,e,r,p,d.getBounds());l.rectangularShapes||g.setShape(d),h.addActiveBox(g)}if(l.hasRemainder){var v=l.getRemainderShape(f),y=new n(h,e,r,0,v.getBounds());y.setShape(v),h.setBackgroundBox(y)}return h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,e),o(s,[{key:"getMinimumSize",value:function(){return new i.Dimension(r.settings.MIN_CELL_SIZE*this.nCols,r.settings.MIN_CELL_SIZE*this.nRows)}},{key:"getScaledSize",value:function(t){return new i.Dimension(r.roundTo(t*this.preferredBounds.dim.width,this.nCols),r.roundTo(t*this.preferredBounds.dim.height,this.nRows))}},{key:"getCoord",value:function(t){return new i.Point(t.idLoc%this.nCols,Math.floor(t.idLoc/this.nCols))}},{key:"getCoordDist",value:function(t,e){var n=this.getCoord(t),r=this.getCoord(e);return new i.Point(r.x-n.x,r.y-n.y)}}],[{key:"createEmptyGrid",value:function(t,e,n,i,r,o,a){var c=r?new s(t,e,a||r.bb,n,i,r.getTotalWidth(),r.getTotalHeight(),o||r.getShaper()):null;return c&&c.setBorder(r.border),c}}]),s}();return Object.assign(s.prototype,{nCols:1,nRows:1}),s}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(103),n(147),n(2),n(3)],void 0===(r=function(t,e,n,i,r){e||(e=window.screenfull);var s=function(s){function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(s.ps=e,null!==r&&(s.name=r),s.options=o,s.options.skinId&&(s.skinId=s.options.skinId),!a.registerStyleSheet(s.skinId,e)){var c=s._getStyleSheets("default"),u=s._getStyleSheets("twoThirds");u.length>0&&(c+=" @media (max-width:"+s.twoThirdsMedia.width+"px),(max-height:"+s.twoThirdsMedia.height+"px){"+u+"}");var l=s._getStyleSheets("half");l.length>0&&(c+=" @media (max-width:"+s.halfMedia.width+"px),(max-height:"+s.halfMedia.height+"px){"+l+"}"),i.appendStyleAtHead(c.replace(/\.ID/g,"."+s.skinId),e)}var h="";s.$div=t("<div/>",{class:s.skinId}),s.$playerCnt=t("<div/>",{class:"JClicPlayerCnt"}),s.$progress=t("<progress/>",{class:"progressBar"}).css({display:"none"}),s.$waitPanel=t("<div/>").css({display:"none","background-color":"rgba(255, 255, 255, .60)","z-index":99}).append(t("<div/>",{class:"waitPanel"}).css({display:"flex","flex-direction":"column"}).append(t("<div/>",{class:"animImgBox"}).append(t(s.waitImgBig),t(s.waitImgSmall))).append(s.$progress)),s.$playerCnt.append(s.$waitPanel),s.buttons=i.cloneObject(a.prototype.buttons),s.counters=i.cloneObject(a.prototype.counters),s.msgArea=i.cloneObject(a.prototype.msgArea),s.$dlgOverlay=t("<div/>",{class:"dlgOverlay"}).css({"z-index":98,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none","background-color":"rgba(30,30,30,0.7)"}).on("click",function(){return s._isModalDlg||s._closeDlg(!0),!1});var f=t("<div/>",{class:"dlgDiv",role:"dialog","aria-labelledby":e.getUniqueId("ReportsLb"),"aria-describedby":e.getUniqueId("ReportsCnt")}).css({display:"inline-block",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}).on("click",function(){return!1});return s.$dlgMainPanel=t("<div/>",{class:"dlgMainPanel",id:e.getUniqueId("ReportsCnt")}),s.$dlgBottomPanel=t("<div/>",{class:"dlgBottomPanel",role:"navigation"}),s.$div.append(s.$playerCnt,s.$dlgOverlay.append(f.append(s.$dlgMainPanel,s.$dlgBottomPanel))),h=e.getMsg("JClic logo"),s.$infoHead=t("<div/>",{class:"infoHead"}).append(t("<div/>",{class:"headTitle unselectableText"}).append(t(s.appLogo,{"aria-label":h}).css({width:"1.5em",height:"1.5em","vertical-align":"bottom"}).dblclick(function(){i.setLogLevel("all"),i.log("trace",'Log level set to "trace"')})).append(t("<span/>").html("JClic.js"))).append(t("<p/>").css({"margin-top":0,"margin-left":"3.5em"}).append(t("<a/>",{href:"http://clic.xtec.cat/repo/index.html?page=info"}).html("http://clic.xtec.cat")).append(t("<br>")).append(t("<span/>").html(e.getMsg("Version")+" "+s.ps.JClicVersion))),s.$reportsPanel=t("<div/>",{class:"reportsPanel",role:"document"}),h=e.getMsg("Copy data to clipboard"),s.$copyBtn=t("<button/>",{title:h,"aria-label":h}).append(t(s.copyIcon).css({width:"26px",height:"26px"})).on("click",function(){n.copy({"text/plain":"===> "+e.getMsg("The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor")+" <===","text/html":s.$reportsPanel.html()}),s.$copyBtn.parent().append(t("<div/>",{class:"smallPopup"}).html(e.getMsg("The data has been copied to clipboard")).fadeIn().delay(3e3).fadeOut(function(){t(this).remove()}))}),h=e.getMsg("Close"),s.$closeDlgBtn=t("<button/>",{title:h,"aria-label":h}).append(t(s.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return s._closeDlg(!0)}),h=e.getMsg("OK"),s.$okDlgBtn=t("<button/>",{title:h,"aria-label":h}).append(t(s.okDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return s._closeDlg(!0)}),h=e.getMsg("Cancel"),s.$cancelDlgBtn=t("<button/>",{title:h,"aria-label":h}).append(t(s.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return s._closeDlg(!1)}),a.skinStack.push(s),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,r.Container),o(a,[{key:"_getStyleSheets",value:function(){return"default"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default")?this.basicCSS+this.waitAnimCSS+this.reportsCSS:""}},{key:"attach",value:function(t){this.detach(),null!==t&&null!==t.skin&&t.skin.detach(),this.player=t,this.$playerCnt.prepend(t.$div),this.setSkinSizes(),t.$mainContainer.append(this.$div)}},{key:"setSkinSizes",value:function(t){var n={},r=this.player.$topDiv.height(),o=this.player.fullScreenChecked?"inherit":null;void 0===t&&(t=e&&e.enabled&&e.isFullscreen),i.toCssSize(t?"100vw":this.ps.options.minWidth,n,"min-width",o),i.toCssSize(t?"100vh":this.ps.options.minHeight,n,"min-height",o),i.toCssSize(t?"100vw":this.ps.options.maxWidth,n,"max-width",o),i.toCssSize(t?"100vh":this.ps.options.maxHeight,n,"max-height",o),i.toCssSize(t?"100vw":this.ps.options.width,n,"width","100%"),i.toCssSize(t?"100vh":this.ps.options.height,n,"height",r>0?"100%":"100vh"),this.$div.css(n)}},{key:"detach",value:function(){null!==this.player&&(this.player.$div.remove(),this.$div.detach(),this.player=null)}},{key:"updateContent",value:function(t){if(this.$msgBoxDivCanvas){var e=this.$msgBoxDivCanvas.get(-1).getContext("2d");e.clearRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),this.msgBox.update(e,t)}return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateContent",this).call(this)}},{key:"resetAllCounters",value:function(e){t.each(this.counters,function(t,n){null!==n&&(n.value=0,n.countDown=0,n.enabled=e,n.refreshDisplay())})}},{key:"setWaitCursor",value:function(t){if(void 0===t)this.$waitPanel&&this.$waitPanel.css({display:this.waitCursorCount>0?"initial":"none"});else{switch(t){case!0:this.waitCursorCount++;break;case!1:--this.waitCursorCount<0&&(this.waitCursorCount=0);break;case"reset":this.waitCursorCount=0}this.setWaitCursor()}}},{key:"setProgress",value:function(t,e){this.$progress&&(this.currentProgress=t,t<0?this.$progress.css({display:"none"}):(e&&(this.maxProgress=e,this.$progress.attr("max",e).css({display:"initial"})),this.$progress.attr("value",t)),i.log("trace","Progress: "+this.currentProgress+"/"+this.maxProgress))}},{key:"incProgress",value:function(t){this.currentProgress>=0&&this.setProgress(this.currentProgress+(t||1))}},{key:"showHelp",value:function(t){}},{key:"showDlg",value:function(t,e){var n=this;return new Promise(function(i,r){n._dlgOkValue="ok",n._dlgCancelValue="cancelled",n._isModalDlg=t,n.$dlgMainPanel.children().detach(),n.$dlgBottomPanel.children().detach(),e.main&&n.$dlgMainPanel.append(e.main),e.bottom&&n.$dlgBottomPanel.append(e.bottom),n._closeDlg=function(t){t&&i?i(n._dlgOkValue):!t&&r&&r(n._dlgCancelValue),n.$dlgOverlay.css({display:"none"}),n.enableMainButtons(!0),n._closeDlg=a.prototype._closeDlg},n.enableMainButtons(!1),n.$dlgOverlay.css({display:"initial"})})}},{key:"enableMainButtons",value:function(t){this.$playerCnt.find("button").attr("tabindex",t?"0":"-1")}},{key:"_closeDlg",value:function(){}},{key:"showReports",value:function(t){return this.$reportsPanel.html(this.$printReport(t)),this.showDlg(!1,{main:[this.$infoHead,this.$reportsPanel],bottom:[this.$copyBtn,this.$closeDlgBtn]})}},{key:"$printReport",value:function(e){var n=this,r=[];if(e){var o=i.$HTML,s=e.getData(),a=new Date(s.started);r.push(t("<div/>",{class:"subTitle",id:this.ps.getUniqueId("ReportsLb")}).html(this.ps.getMsg("Current results")));var c=t("<table/>",{class:"JCGlobalResults"});c.append(o.doubleCell(this.ps.getMsg("Session started:"),a.toLocaleDateString()+" "+a.toLocaleTimeString()),o.doubleCell(this.ps.getMsg("Reports system:"),this.ps.getMsg(s.descriptionKey)+" "+s.descriptionDetail)),s.userId?c.append(o.doubleCell(this.ps.getMsg("User:"),s.userId)):s.user&&c.append(o.doubleCell(this.ps.getMsg("User:"),s.user)),s.sequences>0?(s.sessions.length>1&&c.append(o.doubleCell(this.ps.getMsg("Projects:"),s.sessions.length)),c.append(o.doubleCell(this.ps.getMsg("Sequences:"),s.sequences),o.doubleCell(this.ps.getMsg("Activities done:"),s.activitiesDone),o.doubleCell(this.ps.getMsg("Activities played at least once:"),s.playedOnce+"/"+s.reportable+" ("+i.getPercent(s.ratioPlayed/100)+")")),s.activitiesDone>0&&(c.append(o.doubleCell(this.ps.getMsg("Activities solved:"),s.activitiesSolved+" ("+i.getPercent(s.ratioSolved/100)+")")),s.actScore>0&&c.append(o.doubleCell(this.ps.getMsg("Partial score:"),i.getPercent(s.partialScore/100)+" "+this.ps.getMsg("(out of played activities)")),o.doubleCell(this.ps.getMsg("Global score:"),i.getPercent(s.globalScore/100)+" "+this.ps.getMsg("(out of all project activities)"))),c.append(o.doubleCell(this.ps.getMsg("Total time in activities:"),i.getHMStime(1e3*s.time)),o.doubleCell(this.ps.getMsg("Actions done:"),s.actions))),r.push(c),s.sessions.forEach(function(e){if(e.sequences.length>0){var a=t("<table/>",{class:"JCDetailed"});r.push(t("<p/>").html(s.sessions.length>1?n.ps.getMsg("Project")+" "+e.projectName:"")),a.append(t("<thead/>").append(t("<tr/>").append(o.th(n.ps.getMsg("sequence")),o.th(n.ps.getMsg("activity")),o.th(n.ps.getMsg("OK")),o.th(n.ps.getMsg("actions")),o.th(n.ps.getMsg("score")),o.th(n.ps.getMsg("time"))))),e.sequences.forEach(function(e){var r=t("<tr/>").append(t("<td/>",{rowspan:e.activities.length}).html(e.sequence));e.activities.forEach(function(e){if(e.closed)r.append(o.td(e.name)),r.append(e.solved?o.td(n.ps.getMsg("YES"),"ok"):o.td(n.ps.getMsg("NO"),"no")),r.append(o.td(e.actions)),r.append(o.td(i.getPercent(e.precision/100))),r.append(o.td(i.getHMStime(1e3*e.time)));else{r.append(o.td(e.name,"incomplete"));for(var s=0;s<4;s++)r.append(o.td("-","incomplete"))}a.append(r),r=t("<tr/>")})}),a.append(t("<tr/>").append(o.td(n.ps.getMsg("Total:")),o.td(e.played+" ("+i.getPercent(e.ratioPlayed/100)+")"),o.td(e.solved+" ("+i.getPercent(e.ratioSolved/100)+")"),o.td(e.actions),o.td(i.getPercent(e.score/100)),o.td(i.getHMStime(1e3*e.time)))),r.push(a)}},this)):r.push(t("<p/>").html(this.ps.getMsg("No activities done!")))}return r}},{key:"enableCounter",value:function(t,e){this.counters[t]&&this.counters[t].setEnabled(e)}},{key:"doLayout",value:function(){var e=this;this.player.doLayout(),this.$msgBoxDiv&&window.setTimeout(function(){e.$msgBoxDivCanvas&&e.$msgBoxDivCanvas.remove();var n=e.$msgBoxDiv.outerWidth(),i=e.$msgBoxDiv.outerHeight();null!==e.$msgBoxDivCanvas&&e.msgBox.dim.widht===n&&e.msgBox.dim.height===i||(e.$msgBoxDivCanvas=t('<canvas width="'+n+'" height="'+i+'"/>'),e.msgBox.setBounds(new r.Rectangle(0,0,n+1,i)),e.msgBox.buildAccessibleElement(e.$msgBoxDivCanvas,e.$msgBoxDiv)),e.$msgBoxDiv.append(e.$msgBoxDivCanvas),e.updateContent()},0)}},{key:"fit",value:function(){return this.doLayout(),new r.Dimension(this.$div.width(),this.$div.height())}},{key:"setScreenFull",value:function(t){if(e&&e.enabled&&(!0===t&&!e.isFullscreen||!1===t&&!e.isFullScreen||!0!==t&&!1!==t)){var n=e.isFullscreen;e.toggle(this.player.$mainContainer.get(-1)),this.player.fullScreenChecked=!0,this.setSkinSizes(!n)}}},{key:"actionStatusChanged",value:function(t){t.name&&this.buttons[t.name]&&this.setEnabled(this.buttons[t.name],t.enabled)}},{key:"setEnabled",value:function(t,e){t&&e?t.removeAttr("disabled"):t&&t.attr("disabled",!0)}},{key:"equals",value:function(t){return t&&this.name===t.name&&this.ps===t.ps}},{key:"getMsgBox",value:function(){return null}}],[{key:"registerStyleSheet",value:function(t,e){var n=!1,r=i.getRootHead(e);r.__JClicID||(r.__JClicID="SK"+a.lastId++);var o=a.rootStyles[r.__JClicID];return o||(o=[],a.rootStyles[r.__JClicID]=o),o.indexOf(t)<0?(i.log("trace",'Stylesheet "'+t+'" has been registered for root node labeled as "'+r.__JClicID+'"'),o.push(t)):n=!0,n}},{key:"getSkin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("@"===(t=t||"default").charAt(0,1)&&".xml"===t.substr(-4)&&(t=t.substr(1,t.length-5)),t&&e){var r=a.skinStack.find(function(n){return n.name===t&&n.ps===e});if(r)return r}var o=a.CLASSES[t];if(!o){var s=e.project.mediaBag.getElement(t,!1);s&&s.data&&((n=Object.assign({},n,s.data)).skinId="JClic-"+t.replace(".xml","")),!e.zip&&"edu.xtec.jclic.skins.BasicSkin"===n.class&&n.image&&e.project.mediaBag.getElement(n.image,!1)&&e.project.mediaBag.getElement(n.image,!1).data?o=a.CLASSES.custom:(i.log("warn","Unknown skin class: "+t),o=a.CLASSES.default)}return new o(e,t,n)}}]),a}();return s.skinStack=[],s.rootStyles={},s.lastId=1,s.CLASSES={},Object.assign(s.prototype,{skinId:"JClicBasicSkin",$div:null,$playerCnt:null,name:"default",options:{},fileName:"",$waitPanel:null,$progress:null,currentProgress:-1,maxProgress:0,msgBox:null,$msgBoxDiv:null,$msgBoxDivCanvas:null,$dlgOverlay:null,$dlgMainPanel:null,$dlgBottomPanel:null,$infoHead:null,$copyBtn:null,$closeDlgBtn:null,$okDlgBtn:null,$cancelDlgBtn:null,_dlgOkValue:null,_dlgCancelValue:null,_isModalDlg:!1,$reportsPanel:null,buttons:{prev:null,next:null,return:null,reset:null,info:null,help:null,audio:null,about:null,fullscreen:null,close:null},counters:{actions:null,score:null,time:null},msgArea:{main:null,aux:null,mem:null},player:null,ps:null,waitCursorCount:0,basicCSS:".ID {width:100%; background-color:#3F51B5; display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.ID .JClicPlayerCnt {background-color:lightblue; margin:18px; -webkit-flex-grow:1; flex-grow:1; position:relative;}.ID .JClicPlayerCnt > div {position:absolute; width:100%; height:100%;}.ID button:not(.StockBtn) {background:transparent; padding:0; border:none;}.ID .unselectableText {-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select: none;}.ID .progressBar {width: 250px}",waitAnimCSS:".ID .waitPanel {display:-webkit-flex; display:flex; width:100%; height:100%; -webkit-justify-content:center; justify-content:center; -webkit-align-items:center; align-items:center;}.ID .animImgBox {position:relative; width:300px; height:300px; max-width:80%; max-height:80%;}.ID .animImgBox svg {position:absolute; width:100%; height:100%; animation-iteration-count:infinite; animation-timing-function:linear;}.ID #waitImgBig {animation-duration:0.8s; animation-name:rotate-right;}@keyframes rotate-right {from {transform:rotate(0);} to {transform:rotate(1turn);}}.ID #waitImgSmall {animation-duration:0.6s; animation-name:rotate-left;}@keyframes rotate-left {from {transform:rotate(0);} to {transform:rotate(-1turn);}}",waitImgBig:'<svg id="waitImgBig" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5" d="m 65.99,40.19 c -0.42,5.33 7.80,4.94 8.11,0.20 C 74.50,34.37 66.35,8.59 42.92,7.98 15.90,7.29 9.96,29.50 9.94,39.41 15.33,-1.66 68.61,7.048 65.99,40.19 Z" /></svg>',waitImgSmall:'<svg id="waitImgSmall" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5"d="m 57.00,39.43 c -0.28,-3.53 5.16,-3.27 5.37,-0.13 0.26,3.99 -5.13,21.04 -20.63,21.44 C 23.85,61.19 19.93,46.50 19.92,39.94 23.48,67.11 58.73,61.35 57.00,39.43 Z"/></svg>',reportsCSS:".ID .dlgDiv {background-color:#efefef; color:#757575; font-family:Roboto,sans-serif; font-size:10pt; line-height:normal;}.ID .dlgDiv a,a:visited,a:active,a:hover {text-decoration:none; color:inherit;}.ID .dlgMainPanel {padding:1em 2em; max-height:calc(100vh - 8em); max-width:calc(100vw - 2em); min-width:20em; overflow:auto;}.ID .dlgMainPanel .headTitle {font-size:2.5em; font-weight:bold; margin:auto;}.ID .dlgMainPanel .subTitle {font-size:1.4em; font-weight:bold; margin-bottom:0.5em;}.ID .dlgMainPanel p {font-size:1.1em; margin-bottom:0.5em;}.ID .dlgMainPanel table {table-layout:fixed; width:40em; margin:0.5em 0 1.7em 0; border-collapse:collapse;}.ID .dlgMainPanel select {min-width:20em; font-size:1.2em; font-family:Roboto,sans-serif; color:#757575;}.ID .dlgMainPanel input {margin-left:1em; font-size:1.2em; font-family:Roboto,sans-serif; border-color:lightgray;}.ID .infoHead {padding:1em 0em 0.5em;}.ID .JCGlobalResults td {padding:0.4em; border-bottom:1px solid #b6b6b6;}.ID .JCGlobalResults td:first-child {font-weight:600; width:14em;}.ID .JCDetailed td,th {border-bottom:1px solid #b6b6b6; padding:0.3em 0.4em; vertical-align:top; text-align:center; overflow:hidden; text-overflow:ellipsis;}.ID .JCDetailed thead {font-weight:600;}.ID .JCDetailed th:first-child {width:7em;}.ID .JCDetailed th:nth-last-child(4) {width:4em;}.ID .JCDetailed th:nth-last-child(-n+3) {width:4.1em; text-align:right;}.ID .JCDetailed td:nth-last-child(-n+3) {text-align:right;}.ID .JCDetailed .ok {color:#4bae4f; font-weight:600;}.ID .JCDetailed .no {color:#f34235; font-weight:600;}.ID .JCDetailed tr:last-child {font-weight:bold;}.ID .JCDetailed .incomplete {font-style:italic;}.ID .dlgBottomPanel {height:3.5em; background-color:white; padding:0.5em; font-weight:bold; text-align:right; border-top:1px solid #eee; position:relative;}.ID .dlgBottomPanel .smallPopup {background-color:#222; color:#ddd; padding:0.5em; font-size:0.9em; position:absolute; right:6em; top:1em;}.ID .dlgBottomPanel button {display:inline-block; padding:10px; cursor:pointer; line-height:0;}.ID .dlgBottomPanel button:hover {background-color:#eee; border-radius:80px;}.ID .dlgBottomPanel button:active {background-color:#b3e5fc;}",closeDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',okDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',copyIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',appLogo:'<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(.02081 0 0-.02081 5 62.33)"><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1999 519 3 11 999-266 999-266z" fill="none" stroke="#9d6329" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1998 519 3 11 999-266 999-266" fill="#f89c0e"/><path d="m357 2850l1000-268-267-992-1000 266 267 994z" fill="none" stroke="#86882b" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/>\n<path d="m357 2850l1000-268-267-992-1000 266 267 994" fill="#d9e70c"/>\n</g></svg>',halfMedia:{width:376,height:282},twoThirdsMedia:{width:420,height:315}}),s}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(27),r=n(74),o=n(14),s=n(10),a=n(118);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,h=6==t,f=5==t||h,p=e||a;return function(e,a,d){for(var g,v,y=o(e),m=r(y),b=i(a,d,3),w=s(m.length),k=0,x=n?p(e,w):c?p(e,0):void 0;w>k;k++)if((f||k in m)&&(v=b(g=m[k],k,y),t))if(n)x[k]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:x.push(g)}else if(l)return!1;return h?-1:u||l?l:x}}},function(t,e,n){var i=n(0),r=n(28),o=n(6);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";(function(t){var i=n(310),r=n(309),o=n(176);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function m(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return z(F(e,t.length-n),t,n,i)}function w(t,e,n,i){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function k(t,e,n,i){return w(t,e,n,i)}function x(t,e,n,i){return z(q(e),t,n,i)}function A(t,e,n,i){return z(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function C(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,c,u=t[r],l=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=h}return function(t){var e=t.length;if(e<=_)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=_));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),u=this.slice(i,r),l=t.slice(e,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function E(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function O(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function P(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=V(t[o]);return r}function T(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,i,o){return o||R(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,o){return o||R(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:F(new c(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(57))},function(t,e,n){var i=n(190),r=n(0),o=n(97)("metadata"),s=o.store||(o.store=new(n(187))),a=function(t,e,n){var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};t.exports={store:s,map:a,has:function(t,e,n){var i=a(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=a(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){a(n,i,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,n){"use strict";if(n(12)){var i=n(42),r=n(5),o=n(6),s=n(0),a=n(86),c=n(112),u=n(27),l=n(49),h=n(56),f=n(18),p=n(47),d=n(33),g=n(10),v=n(185),y=n(53),m=n(35),b=n(24),w=n(72),k=n(7),x=n(14),A=n(121),C=n(52),S=n(21),_=n(51).f,E=n(119),O=n(55),P=n(8),T=n(31),I=n(96),j=n(89),B=n(116),M=n(63),R=n(92),D=n(50),N=n(117),L=n(195),V=n(11),F=n(22),q=V.f,z=F.f,U=r.RangeError,H=r.TypeError,G=r.Uint8Array,$=Array.prototype,W=c.ArrayBuffer,J=c.DataView,Y=T(0),Z=T(2),K=T(3),Q=T(4),X=T(5),tt=T(6),et=I(!0),nt=I(!1),it=B.values,rt=B.keys,ot=B.entries,st=$.lastIndexOf,at=$.reduce,ct=$.reduceRight,ut=$.join,lt=$.sort,ht=$.slice,ft=$.toString,pt=$.toLocaleString,dt=P("iterator"),gt=P("toStringTag"),vt=O("typed_constructor"),yt=O("def_constructor"),mt=a.CONSTR,bt=a.TYPED,wt=a.VIEW,kt=T(1,function(t,e){return _t(j(t,t[yt]),e)}),xt=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),At=!!G&&!!G.prototype.set&&o(function(){new G(1).set({})}),Ct=function(t,e){var n=d(t);if(n<0||n%e)throw U("Wrong offset!");return n},St=function(t){if(k(t)&&bt in t)return t;throw H(t+" is not a typed array!")},_t=function(t,e){if(!(k(t)&&vt in t))throw H("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return Ot(j(t,t[yt]),e)},Ot=function(t,e){for(var n=0,i=e.length,r=_t(t,i);i>n;)r[n]=e[n++];return r},Pt=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Tt=function(t){var e,n,i,r,o,s,a=x(t),c=arguments.length,l=c>1?arguments[1]:void 0,h=void 0!==l,f=E(a);if(void 0!=f&&!A(f)){for(s=f.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&c>2&&(l=u(l,arguments[2],2)),e=0,n=g(a.length),r=_t(this,n);n>e;e++)r[e]=h?l(a[e],e):a[e];return r},It=function(){for(var t=0,e=arguments.length,n=_t(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!G&&o(function(){pt.call(new G(1))}),Bt=function(){return pt.apply(jt?ht.call(St(this)):St(this),arguments)},Mt={copyWithin:function(t,e){return L.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(St(this),arguments)},filter:function(t){return Et(this,Z(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return X(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(St(this),arguments)},lastIndexOf:function(t){return st.apply(St(this),arguments)},map:function(t){return kt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(St(this),arguments)},reduceRight:function(t){return ct.apply(St(this),arguments)},reverse:function(){for(var t,e=St(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return K(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(St(this),t)},subarray:function(t,e){var n=St(this),i=n.length,r=y(t,i);return new(j(n,n[yt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?i:y(e,i))-r))}},Rt=function(t,e){return Et(this,ht.call(St(this),t,e))},Dt=function(t){St(this);var e=Ct(arguments[1],1),n=this.length,i=x(t),r=g(i.length),o=0;if(r+e>n)throw U("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Nt={entries:function(){return ot.call(St(this))},keys:function(){return rt.call(St(this))},values:function(){return it.call(St(this))}},Lt=function(t,e){return k(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return Lt(t,e=m(e,!0))?h(2,t[e]):z(t,e)},Ft=function(t,e,n){return!(Lt(t,e=m(e,!0))&&k(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)};mt||(F.f=Vt,V.f=Ft),s(s.S+s.F*!mt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Ft}),o(function(){ft.call({})})&&(ft=pt=function(){return ut.call(this)});var qt=p({},Mt);p(qt,Nt),f(qt,dt,Nt.values),p(qt,{slice:Rt,set:Dt,constructor:function(){},toString:ft,toLocaleString:Bt}),Pt(qt,"buffer","b"),Pt(qt,"byteOffset","o"),Pt(qt,"byteLength","l"),Pt(qt,"length","e"),q(qt,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,c){var u=t+((c=!!c)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=r[u],y=d||{},m=d&&S(d),b=!d||!a.ABV,x={},A=d&&d.prototype,E=function(t,n){q(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[h](n*e+i.o,xt)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,xt)}(this,n,t)},enumerable:!0})};b?(d=n(function(t,n,i,r){l(t,d,u,"_d");var o,s,a,c,h=0,p=0;if(k(n)){if(!(n instanceof W||"ArrayBuffer"==(c=w(n))||"SharedArrayBuffer"==c))return bt in n?Ot(d,n):Tt.call(d,n);o=n,p=Ct(i,e);var y=n.byteLength;if(void 0===r){if(y%e)throw U("Wrong length!");if((s=y-p)<0)throw U("Wrong length!")}else if((s=g(r)*e)+p>y)throw U("Wrong length!");a=s/e}else a=v(n),o=new W(s=a*e);for(f(t,"_d",{b:o,o:p,l:s,e:a,v:new J(o)});h<a;)E(t,h++)}),A=d.prototype=C(qt),f(A,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&R(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,i,r){var o;return l(t,d,u),k(n)?n instanceof W||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new y(n,Ct(i,e),r):void 0!==i?new y(n,Ct(i,e)):new y(n):bt in n?Ot(d,n):Tt.call(d,n):new y(v(n))}),Y(m!==Function.prototype?_(y).concat(_(m)):_(y),function(t){t in d||f(d,t,y[t])}),d.prototype=A,i||(A.constructor=d));var O=A[dt],P=!!O&&("values"==O.name||void 0==O.name),T=Nt.values;f(d,vt,!0),f(A,bt,u),f(A,wt,!0),f(A,yt,d),(c?new d(1)[gt]==u:gt in A)||q(A,gt,{get:function(){return u}}),x[u]=d,s(s.G+s.W+s.F*(d!=y),x),s(s.S,u,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){y.of.call(d,1)}),u,{from:Tt,of:It}),"BYTES_PER_ELEMENT"in A||f(A,"BYTES_PER_ELEMENT",e),s(s.P,u,Mt),D(u),s(s.P+s.F*At,u,{set:Dt}),s(s.P+s.F*!P,u,Nt),i||A.toString==ft||(A.toString=ft),s(s.P+s.F*o(function(){new d(1).slice()}),u,{slice:Rt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){A.toLocaleString.call([1,2])})),u,{toLocaleString:Bt}),M[u]=P?O:T,i||P||f(A,dt,T)}}else t.exports=function(){}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},s={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=0===r.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(175).Readable}catch(t){e.nodestream=!1}}).call(this,n(36).Buffer)},function(t,e,n){var i=n(8)("unscopables"),r=Array.prototype;void 0==r[i]&&n(18)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var i=n(55)("meta"),r=n(7),o=n(24),s=n(11).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(6)(function(){return c(Object.preventExtensions({}))}),l=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!o(t,i)&&l(t),t}}},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(3)],void 0===(r=function(t){var e=function(){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.ctx=i,this.dim=new t.Dimension(i.canvas.width,i.canvas.height),this.origin=new t.Point,this.dest=new t.Point,this.relativePos=new t.Point}return o(e,[{key:"moveBy",value:function(e,n){this.moveTo(t.Point(this.dest.x+e,this.dest.y+n))}},{key:"moveTo",value:function(e,n){if(this.active&&(n||!this.dest.equals(e))){this.bgRect&&(this.bgImg?this.ctx.putImageData(this.bgImg,0,0,this.bgRect.pos.x,this.bgRect.pos.y,this.bgRect.dim.width,this.bgRect.dim.height):this.parent&&this.parent.updateContent()),this.dest.moveTo(e);var i=new t.Point(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y);this.bgRect=new t.Rectangle(i,this.bx?this.bx.dim:new t.Dimension);var r=new t.Point(e.x-this.relativePos.x,e.y-this.relativePos.y);this.bgRect.add(new t.Rectangle(r,this.bx?this.bx.dim:new t.Dimension)),this.bgRect.grow(10,10),null!==this.bx?(this.bx.moveTo(new t.Point(e.x-this.relativePos.x,e.y-this.relativePos.y)),this.bx.setTemporaryHidden(!1),this.bx.update(this.ctx,null),this.bx.setTemporaryHidden(!0)):(this.drawLine(),this.linePainted=!0)}}},{key:"begin",value:function(t,e){this.active&&this.end(),this.origin.moveTo(t),this.dest.moveTo(t),this.linePainted=!1,this.active=!0,e&&(this.bx=e,this.relativePos.moveTo(t.x-e.pos.x,t.y-e.pos.y),this.bx.setFocused(!0),this.bx.setTemporaryHidden(!0),this.linePainted=!1,this.parent.invalidate().update());try{this.bgImg=this.ctx.getImageData(0,0,this.dim.width,this.dim.height)}catch(t){this.bgImg=null}this.bgRect=null,e&&this.moveTo(t,!0)}},{key:"end",value:function(){this.active&&(this.active=!1,this.linePainted=!1,this.bgRect=null,this.bgImg=null,this.bx&&(this.bx.setFocused(!1),this.bx.moveTo(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y),this.bx.setTemporaryHidden(!1),this.bx=null,this.relativePos.moveTo(0,0)),this.ctx.clearRect(0,0,this.dim.width,this.dim.height),this.parent.invalidate().update())}},{key:"drawLine",value:function(){if(this.compositeOp!==n?(this.ctx.strokeStyle=this.xorColor,this.ctx.globalCompositeOperation=this.compositeOp):this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.origin.x,this.origin.y),this.ctx.lineTo(this.dest.x,this.dest.y),this.ctx.stroke(),this.arrow){var e=Math.atan2(this.origin.x-this.dest.x,this.dest.x-this.origin.x),i=new t.Point(this.dest.x-this.arrowLength*Math.cos(e+this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(e+this.arrowAngle));this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),i.moveTo(this.dest.x-this.arrowLength*Math.cos(e-this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(e-this.arrowAngle)),this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke()}this.compositeOp!==n&&(this.ctx.globalCompositeOperation=n)}}]),e}(),n="source-over";return Object.assign(e.prototype,{bgImg:null,bgRect:null,origin:null,dest:null,arrow:!1,active:!1,linePainted:!1,arrowLength:10,arrowAngle:Math.PI/6,lineColor:"black",xorColor:"white",compositeOp:"difference",DEFAULT_COMPOSITE_OP:n,relativePos:null,bx:null,ctx:null,dim:null,parent:null,lineWidth:1.5}),e}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2),n(3)],void 0===(r=function(t,e,n){var i=e.settings.BoxBase,r=function(){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.parent=t||null}return s(r,[{key:"setProperties",value:function(i){var r=this;return e.attrForEach(i.get(0).attributes,function(t,i){switch(t){case"shadow":case"transparent":r[t]=e.getBoolean(i,!1);break;case"margin":r[t]=Number(i);break;case"borderStroke":r.borderStroke=new n.Stroke(Number(i));break;case"markerStroke":r.markerStroke=new n.Stroke(Number(i))}}),i.children().each(function(i,o){var s=t(o);switch(o.nodeName){case"font":r.font=(new n.Font).setProperties(s);break;case"gradient":r.bgGradient=(new n.Gradient).setProperties(s);break;case"color":r.textColor=e.checkColor(s.attr("foreground"),r.textColor),r.backColor=e.checkColor(s.attr("background"),r.backColor),r.shadowColor=e.checkColor(s.attr("shadow"),r.shadowColor),r.inactiveColor=e.checkColor(s.attr("inactive"),r.inactiveColor),r.alternativeColor=e.checkColor(s.attr("alternative"),r.alternativeColor),r.borderColor=e.checkColor(s.attr("border"),r.borderColor)}}),this}},{key:"get",value:function(t){return this.hasOwnProperty(t)||null===this.parent?this[t]:this.parent.get(t)}},{key:"set",value:function(t,e){return this[t]=e,this}},{key:"getOwn",value:function(t){return this.hasOwnProperty(t)?this[t]:null!==this.parent?this.parent.getOwn(t):("object"===o(this[t])?this[t]=e.cloneObject(r.prototype[t]):this[t]=r.prototype[t],this[t])}},{key:"getCSS",value:function(t,e,n,i){var r=this.get("font");(t=r.toCss(t)).color=n?this.get("backColor"):i?this.get("alternativeColor"):this.get("textColor");var o=this.get("transparent");t["background-color"]=o?"transparent":e?this.get("inactiveColor"):n?this.get("textColor"):this.get("backColor");var s=this.get("bgGradient");if(s&&!o&&(t["background-image"]=s.getCss()),1===this.shadow){var a=Math.max(1,Math.round(r.size/10)),c=this.get("shadowColor");t["text-shadow"]=a+"px "+a+"px 3px "+c}return t}},{key:"prepareText",value:function(t,r,o,s){var a=[],c=this.get("font"),u=c.getHeight(),l=0,h=r.trim().split("\n");t.font=c.cssFont();for(var f=0;f<h.length;f++){var p=h[f].trim(),d=t.measureText(p).width;if(d>o){for(var g=0,v=0,y=0;y<p.length;y++)if(e.isSeparator(p[y])){var m=t.measureText(p.substr(0,y).trim()).width;if(m>o)break;g=y,v=m}if(g>0)h.splice(f+1,0,p.substr(g+1).trim()),p=h[f]=p.substr(0,g).trim(),d=v;else if(c.size>i.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,r,o,s)}if(a.push({text:p,size:new n.Dimension(d,u)}),(l+=u)>s&&c.size>i.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,r,o,s)}return a}}]),r}();return Object.assign(r.prototype,{parent:null,default:i,font:new n.Font,dynFontSize:0,resetFontCounter:0,backColor:i.BACK_COLOR,bgGradient:null,textColor:i.TEXT_COLOR,shadowColor:i.SHADOW_COLOR,borderColor:i.BORDER_COLOR,inactiveColor:i.INACTIVE_COLOR,alternativeColor:i.ALTERNATIVE_COLOR,shadow:!1,transparent:!1,dontFill:!1,textMargin:i.AC_MARGIN,borderStroke:new n.Stroke(i.BORDER_STROKE_WIDTH),markerStroke:new n.Stroke(i.MARKER_STROKE_WIDTH)}),r.prototype.defaultBoxBase=new r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var r=n(111),o=n(71);o.inherits=n(60);var s=n(174),a=n(110);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r(p,this)}function p(t){t.end()}},function(t,e,n){var i=n(17);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(27),r=n(197),o=n(121),s=n(4),a=n(10),c=n(119),u={},l={};(e=t.exports=function(t,e,n,h,f){var p,d,g,v,y=f?function(){return t}:c(t),m=i(n,h,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=a(t.length);p>b;b++)if((v=e?m(s(d=t[b])[0],d[1]):m(t[b]))===u||v===l)return v}else for(g=y.call(t);!(d=g.next()).done;)if((v=r(g,m,d.value,e))===u||v===l)return v}).BREAK=u,e.RETURN=l},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var i=n(5),r=n(11),o=n(12),s=n(8)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(209),r=n(134).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(4),r=n(208),o=n(134),s=n(135)("IE_PROTO"),a=function(){},c=function(){var t,e=n(137)("iframe"),i=o.length;for(e.style.display="none",n(133).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(33),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(209),r=n(134);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(103),n(3),n(30),n(68),n(141),n(2)],void 0===(r=function(t,e,n,i,r,a,c){e||(e=window.screenfull);var u=function(u){function l(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o,s,u)),f="";if(n.Font.loadGoogleFonts(h.cssFonts),h.$ctrlCnt=t("<div/>",{class:"JClicCtrlCnt unselectableText",role:"navigation"}),h.$div.append(h.$ctrlCnt),f=o.getMsg("Previous activity"),h.buttons.prev=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t(c.getSvg(h.prevIcon,h.iconWidth,h.iconHeight,h.iconFill))).on("click",function(t){h.ps&&h.ps.actions.prev.processEvent(t)}),h.$ctrlCnt.append(h.buttons.prev),h.msgBox=new r,h.msgBox.role="message",h.$msgBoxDiv=t("<div/>",{class:"JClicMsgBox"}).click(function(){return h.msgBox.playMedia(o),!1}),h.$ctrlCnt.append(h.$msgBoxDiv),f=o.getMsg("Next activity"),h.buttons.next=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t(c.getSvg(h.nextIcon,h.iconWidth,h.iconHeight,h.iconFill))).on("click",function(t){h.ps&&h.ps.actions.next.processEvent(t)}),h.$ctrlCnt.append(h.buttons.next),!1!==h.ps.options.counters&&!1!==u.counters){f=o.getMsg("Reports");var p=t("<button/>",{class:"JClicCountCnt","aria-label":f}).on("click",function(t){h.ps&&h.ps.actions.reports.processEvent(t)});t.each(i.prototype.counters,function(e,n){f=o.getMsg(e),h.counters[e]=new a(e,t("<div/>",{class:"JClicCounter",title:f,"aria-label":f}).css({"background-image":"url("+c.svgToURI(h[e+"Icon"],h.counterIconWidth,h.counterIconHeight,h.counterIconFill)+")",color:h.counterIconFill}).html("000").appendTo(p))}),h.$ctrlCnt.append(p)}if(!0!==h.ps.options.info&&!0!==u.info||(f=o.getMsg("Information"),h.buttons.info=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t(c.getSvg(h.infoIcon,h.iconWidth,h.iconHeight,h.iconFill))).on("click",function(t){h.ps&&h.ps.actions.info.processEvent(t)}),h.$ctrlCnt.append(h.buttons.info)),!0!==h.ps.options.reportsBtn&&!0!==u.reportsBtn||(f=o.getMsg("Reports"),h.buttons.about=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t(c.getSvg(h.reportsIcon,h.iconWidth,h.iconHeight,h.iconFill))).on("click",function(t){h.ps&&h.ps.actions.reports.processEvent(t)}),h.$ctrlCnt.append(h.buttons.about)),e&&e.enabled&&(f=o.getMsg("Toggle full screen"),h.buttons.fullscreen=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t("<img/>",{src:c.svgToURI(h.fullScreenIcon,h.iconWidth,h.iconHeight,h.iconFill)})).on("click",function(){h.setScreenFull(null)}),h.$ctrlCnt.append(h.buttons.fullscreen)),"function"==typeof h.ps.options.closeFn){f=o.getMsg("Close");var d=h.ps.options.closeFn;h.buttons.close=t("<button/>",{class:"JClicBtn",title:f,"aria-label":f}).append(t(c.getSvg(h.closeIcon,h.iconWidth,h.iconHeight,h.iconFill))).on("click",function(){c.log("info","Closing the player"),d()}),h.$ctrlCnt.append(h.buttons.close)}var g=null;return t.each(h.buttons,function(t,e){!e||"function"==typeof e[0].focus&&"function"==typeof e[0].blur||(null===g&&(g=function(){return c.log("error",'"blur" and "focus" not defined for SVG objects in Explorer/Edge')}),e[0].focus=e[0].blur=g)}),h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,i),o(l,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return""+s(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.mainCSS:"half"===t?this.mainCSSHalf:"twoThirds"===t?this.mainCSSTwoThirds:"")}},{key:"doLayout",value:function(){s(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"doLayout",this).call(this),this.buttons.fullscreen&&(this.buttons.fullscreen.find("img").get(-1).src=c.svgToURI(this[e.isFullscreen?"fullScreenExitIcon":"fullScreenIcon"],this.iconWidth,this.iconHeight,this.iconFill))}},{key:"getMsgBox",value:function(){return this.msgBox}},{key:"enableMainButtons",value:function(t){this.$ctrlCnt.find(".JClicBtn,.JClicCountCnt").attr("tabindex",t?"0":"-1")}}]),l}();return Object.assign(u.prototype,{skinId:"JClicDefaultSkin",$ctrlCnt:null,margin:18,msgBoxHeight:60,countersWidth:60,countersHeight:20,mainCSS:".ID .JClicCtrlCnt {margin:0 9px 18px 9px; display:-webkit-flex; display:flex; -webkit-flex-direction:row; flex-direction:row; -webkit-align-items:center; align-items:center;}.ID .JClicCountCnt {display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.ID .JClicMsgBox {height:60px; -webkit-flex-grow:1; flex-grow:1; background-color:lightblue;}.ID .JClicBtn {cursor:pointer; line-height:0;}.ID .JClicBtn:disabled {cursor:inherit; opacity:0.3;}.ID .JClicCounter {width:40px; height:20px; padding-left:20px; color:white; cursor:pointer; font-family:Roboto,Sans-serif; font-size:18px; text-align:center; background-repeat:no-repeat; background-position:left}",mainCSSHalf:".ID .JClicPlayerCnt {margin:9px;}.ID .JClicCtrlCnt {margin:0 4px 9px 4px;}.ID .JClicCtrlCnt button svg,img {width:18px; height:18px;}.ID .JClicMsgBox {height:30px;}.ID .JClicCounter {width:20px; height:10px; margin-left:-15px; transform:scale(0.5);}",mainCSSTwoThirds:".ID .JClicPlayerCnt {margin:12px;}.ID .JClicCtrlCnt {margin: 0 6px 12px 6px;}.ID .JClicCtrlCnt button svg,img {width:24px; height:24px;}.ID .JClicMsgBox {height:40px;}.ID .JClicCounter {width:27px; height:13px; margin-left:-10px; transform:scale(0.666);}",cssFonts:["Roboto"],iconWidth:36,iconHeight:36,iconFill:"#FFFFFF",prevIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>',nextIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>',fullScreenIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',fullScreenExitIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',closeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',infoIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></svg>',reportsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>',counterIconWidth:18,counterIconHeight:18,counterIconFill:"#FFFFFF",timeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>',scoreIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',actionsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"/></svg>'}),i.CLASSES.default=u,u}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2),n(3)],void 0===(r=function(t,e,n){var i=function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.reset(t,e)}return o(i,[{key:"reset",value:function(t,e){this.nCols=t,this.nRows=e,this.nCells=e*t,this.initiated=!1,this.shapeData=[];for(var i=0;i<this.nCells;i++)this.shapeData[i]=new n.Shape}},{key:"setProperties",value:function(n){var r=this;return e.attrForEach(n.get(0).attributes,function(t,n){switch(t){case"class":r.className=n;break;case"cols":r.nCols=Number(n);break;case"rows":r.nRows=Number(n);break;case"baseWidthFactor":case"toothHeightFactor":case"scaleX":case"scaleY":r[t]=Number(n);break;case"randomLines":case"showEnclosure":r[t]=e.getBoolean(n,!0)}}),n.children("enclosing:first").each(function(e,n){t(n).children("shape:first").each(function(t,e){var n=i.readShapeData(e,r.scaleX,r.scaleY);r.enclosing=n,r.showEnclosure=!0,r.hasRemainder=!0})}),n.children("shape").each(function(t,e){r.shapeData[t]=i.readShapeData(e,r.scaleX,r.scaleY)}),this.shapeData.length>0&&(this.nCells=this.shapeData.length),this}},{key:"buildShapes",value:function(){}},{key:"getShape",value:function(t,e){return this.initiated||this.buildShapes(),t>=this.nCells||null===this.shapeData[t]?null:this.shapeData[t].getShape(e)}},{key:"getShapeData",value:function(t){return t>=0&&t<this.shapeData.length?this.shapeData[t]:null}},{key:"getEnclosingShapeData",value:function(){return new n.Rectangle(0,0,1,1)}},{key:"getRemainderShape",value:function(t){if(!this.hasRemainder)return null;this.initiated||this.buildShapes();for(var e=this.getEnclosingShapeData(),i=e?e.getShape(t):new n.Rectangle,r=0;r<this.nCells;r++)this.shapeData[r]&&i.add(this.shapeData[r].getShape(t),!1);return i}}],[{key:"getShaper",value:function(t,n,r){var o=i.CLASSES[(t||"").replace(/^edu\.xtec\.jclic\.shapers\./,"@")];return o||e.log("error","Unknown shaper: "+t),o?new o(n,r):null}},{key:"readShapeData",value:function(e,i,r){var o=[],s=null;return t.each(e.textContent.split("|"),function(t,e){var a=e.split(":"),c=a.length>1?a[1].split(","):null;switch(c&&(c=c.map(function(t,e){return t/(e%2?r:i)})),a[0]){case"rectangle":s=new n.Rectangle(c[0],c[1],c[2],c[3]);break;case"ellipse":s=new n.Ellipse(c[0],c[1],c[2],c[3]);break;default:o.push(new n.PathStroke(a[0],c))}}),!s&&o.length>0?new n.Path(o):s}}]),i}();return i.CLASSES={},Object.assign(i.prototype,{className:"Shaper",nCols:0,nRows:0,nCells:0,shapeData:null,initiated:!1,baseWidthFactor:1/3,toothHeightFactor:1/6,randomLines:!1,scaleX:1,scaleY:1,enclosing:null,showEnclosure:!1,rectangularShapes:!1,hasRemainder:!1}),i}.apply(e,i))||(t.exports=r)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";for(var i=n(9),r=n(40),o=n(79),s=n(20),a=new Array(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;a[254]=a[254]=1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function l(){s.call(this,"utf-8 encode")}e.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(c):new Array(c),s=0,o=0;s<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e}(t)},e.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,o,s=t.length,c=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)c[n++]=r;else if((o=a[r])>4)c[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(u,s),u.prototype.processChunk=function(t){var n=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var s=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}(n),c=n;s!==n.length&&(r.uint8array?(c=n.subarray(0,s),this.leftOver=n.subarray(s,n.length)):(c=n.slice(0,s),this.leftOver=n.slice(s,n.length))),this.push({data:e.utf8decode(c),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(l,s),l.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=l},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports={}},function(t,e,n){var i=n(0),r=n(34),o=n(6),s=n(131),a="["+s+"]",c=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=o(function(){return!!s[t]()||"âÂ"!="âÂ"[t]()}),c=r[t]=a?e(h):s[t];n&&(r[n]=c),i(i.P+i.F*a,"String",r)},h=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=l},function(t,e,n){var i=n(11).f,r=n(24),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(3),n(68),n(45)],void 0===(r=function(t,e,n,i,r){var l=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.document?this.document.numTargets:0}}]),n}();Object.assign(l.prototype,{ev:null,checkButtonText:null,prevScreen:!1,prevScreenText:null,prevScreenStyle:null,prevScreenMaxTime:-1});var h=function(n){function l(t,e,n){a(this,l);var i=c(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,e,n));return i.targets=[],i}return u(l,e.Panel),s(l,[{key:"setDocContent",value:function(e,n){var r=this;e.empty().css(n.style.default.css).css({display:"flex","flex-direction":"column"});var o=t("<div/>").css({"flex-grow":1,overflow:"auto"}),s=t("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(n.style.default.css),a=null,c=[];return n.p.forEach(function(e){var o=t("<p/>").css({margin:0}),u=!0;if(e.style?(a=n.style[e.style].css,o.css(a)):a=null,e.Alignment){var l=Number(e.Alignment);o.css({"text-align":1===l?"center":2===l?"right":"left"})}e.elements.forEach(function(e){var s=t("<span/>");switch(e.objectType){case"text":e.attr?(s.html(e.text),e.attr.style&&s.css(n.style[e.attr.style].css),e.attr.css&&s.css(e.attr.css),o.append(s)):o.append(e.text);break;case"cell":var l=i.createCell(s.css({position:"relative"}),e);s.css({display:"inline-block","vertical-align":"middle"}),e.mediaContent&&s.on("click",function(t){return t.preventDefault(),r.ps.stopMedia(1),l.playMedia(r.ps),!1}),o.append(s);break;case"target":if(r.showingPrevScreen){s.text(e.text),o.append(s);break}var h=e,f=null;if("no_info"!==h.infoMode&&h.popupContent){f=t("<span/>").css({position:"absolute","padding-top":"2pt",display:"none"});var p=i.createCell(f,h.popupContent);h.popupContent.mediaContent&&f.on("click",function(t){return t.preventDefault(),r.ps.stopMedia(1),p?p.playMedia(r.ps):h.popupContent.mediaContent&&r.ps.playMedia(h.popupContent.mediaContent),!1}),h.$popup=f,c.push({p:o,span:f,box:p})}s=r.$createTargetElement(h,s),h.num=r.targets.length,h.pos=h.num,r.targets.push(h),s&&(s.css(n.style.default.css),a&&s.css(a),r.targetsMarked?h.attr?(h.attr.style||(h.attr.style="target"),s.css(n.style[h.attr.style].css),h.attr.css&&s.css(h.attr.css)):n.style.target&&s.css(n.style.target.css):h.targetStatus="HIDDEN",null!==f&&"onDemand"===h.infoMode&&s.keydown(function(t){t.key===h.popupKey?(t.preventDefault(),r.showPopup(f,h.popupMaxTime,h.popupDelay)):"Escape"===t.key&&(t.preventDefault(),r.showPopup(null))})),f&&s?h.isList?o.append(s).append(f):o.append(f).append(s):s&&o.append(s),h.$p=o}u=!1}),u&&o.html("&nbsp;"),s.append(o)}),e.append(o.append(s)),this.act.checkButtonText&&!this.showingPrevScreen&&(this.$checkButton=t("<button/>",{class:"StockBtn"}).html(this.act.checkButtonText).css({width:"100%","flex-shrink":0}).on("click",function(){return r.evaluatePanel()}),e.append(this.$checkButton)),c.forEach(function(t){return t.span.css({"margin-top":t.p.css("font-size")})}),this.act.ev&&this.act.ev.init(this.act.project.settings.locales),e}},{key:"$createTargetElement",value:function(t,e){return e.text(t.text),t.$span=e,e}},{key:"initActivity",value:function(){this.act.prevScreen?this.preInitActivity():this.startActivity()}},{key:"startActivity",value:function(){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"initActivity",this).call(this),this.setAndPlayMsg("initial","start"),this.setDocContent(this.$div,this.act.document),this.playing=!0}},{key:"preInitActivity",value:function(){var e=this;if(this.act.prevScreen){var n=function(){return e.showingPrevScreen=!1,e.$div.unbind("click"),e.prevScreenTimer&&(clearTimeout(e.prevScreenTimer),e.prevScreenTimer=null),e.startActivity(),!0};if(this.showingPrevScreen=!0,this.$div.empty(),this.act.prevScreenText){this.act.prevScreenStyle||(this.act.prevScreenStyle=new r),this.$div.css(this.act.prevScreenStyle.getCSS()).css("overflow","auto");var i=t("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(this.act.prevScreenStyle.getCSS()).append(this.act.prevScreenText);this.$div.append(i)}else this.setDocContent(this.$div,this.act.document);this.enableCounters(!0,!1,!1),this.ps.setCounterValue("time",0),this.ps.setMsg(this.act.messages.previous),this.act.prevScreenMaxTime>0&&(this.ps.setCountDown("time",this.act.prevScreenMaxTime),this.prevScreenTimer=setTimeout(n,1e3*this.act.prevScreenMaxTime)),this.$div.on("click",n),this.ps.playMsg()}}},{key:"evaluatePanel",value:function(){return this.finishActivity(!0),!0}},{key:"finishActivity",value:function(t){this.$checkButton&&this.$checkButton.prop("disabled",!0),this.targets.forEach(function(t){t.$comboList&&t.$comboList.attr("disabled",!0)}),this.showPopup(null),o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){return this.playing}},{key:"showPopup",value:function(t,e,n){var i=this;this.$currentPopup&&(this.$currentPopup.css({display:"none"}),this.$currentPopup=null,this.currentPopupTimer&&(window.clearTimeout(this.currentPopupTimer),this.currentPopupTimer=0)),this.popupWaitTimer&&(window.clearTimeout(this.popupWaitTimer),this.popupWaitTimer=0),n?this.popupWaitTimer=window.setTimeout(function(){i.showPopup(t,e)},1e3*n):t&&(t.css({display:""}),t.click(),this.$currentPopup=t,e&&(this.currentPopupTimer=window.setTimeout(function(){t.css({display:"none"}),i.$currentPopup===t&&(i.$currentPopup=null,i.currentPopupTimer=0)},1e3*e)))}}]),l}();return Object.assign(h.prototype,{targets:null,targetsMarked:!0,$checkButton:null,prevScreenTimer:null,$currentPopup:null,currentPopupTimer:0,popupWaitTimer:0}),l.Panel=h,l}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(59),n(3)],void 0===(r=function(t,e,n){var i=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),o(i,[{key:"buildShapes",value:function(){for(var t=1/this.nCols,e=1/this.nRows,i=0;i<this.nRows;i++)for(var r=0;r<this.nCols;r++)this.shapeData[i*this.nCols+r]=new n.Rectangle(new n.Point(r*t,i*e),new n.Dimension(t,e));this.initiated=!0}}]),i}();return Object.assign(i.prototype,{rectangularShapes:!0}),e.CLASSES["@Rectangular"]=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(75),n(69),n(100),n(3),n(2)],void 0===(r=function(t,e,n,i,r,a){var c=function(c){function u(t,e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,t,e,n));return o.clear(),"number"==typeof i&&(o.idLoc=i,o.idAss=0,o.idOrder=0),r&&o.setBounds(r),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,e),o(u,[{key:"getCurrentContent",value:function(){return this.isAlternative()?this.altContent:this.content}},{key:"getContent",value:function(){return this.content||this.setContent(new n),this.content}},{key:"clear",value:function(){this.content=null,this.altContent=null,this.idOrder=-1,this.setInactive(!0),this.hasHostedComponent||this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(""),this.tmpTrans&&(this.tmpTrans=!1),this.invalidate()}},{key:"isEquivalent",value:function(t,e){return null!==t&&null!==this.content&&this.content.isEquivalent(t.content,e)}},{key:"isCurrentContentEquivalent",value:function(t,e){return null!==t&&null!==this.getCurrentContent()&&this.getCurrentContent().isEquivalent(t.getCurrentContent(),e)}},{key:"exchangeLocation",value:function(t){var e=new r.Point(this.pos),n=this.idLoc;this.moveTo(t.pos),t.moveTo(e),this.idLoc=t.idLoc,t.idLoc=n}},{key:"copyContent",value:function(t){this.idOrder=t.idOrder,this.idAss=t.idAss,this.content=t.content,this.altContent=t.altContent,this.content&&(this.content.bb&&this.setBoxBase(this.content.bb),null!==this.content.border&&t.hasBorder()!==this.content.border&&this.setBorder(this.content.border)),this.setInactive(t.isInactive()),this.setInverted(t.isInverted()),this.setAlternative(t.isAlternative()),this.setHostedComponent(t.getHostedComponent()),this.hasHostedComponent=t.hasHostedComponent,this.setHostedMediaPlayer(t.hostedMediaPlayer),this.hostedMediaPlayer&&this.hostedMediaPlayer.setVisualComponentVisible(!this.isInactive()&&this.isVisible()),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"exchangeContent",value:function(t){var e=new u(this.getParent(),this.getContainerX(),this.boxBase);e.copyContent(this),this.copyContent(t),t.copyContent(e)}},{key:"setTextContent",value:function(t){t||(t=""),this.content||(this.content=new n),this.content.text=t,this.content.mediaContent=null,this.content.img=null,this.setHostedComponent(null),this.setInactive(!1),this.checkHostedComponent(),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"setDefaultIdAss",value:function(){this.idAss=null===this.content?-1:this.content.id}},{key:"isAtPlace",value:function(){return this.idOrder===this.idLoc}},{key:"setContent",value:function(e,n){if(e instanceof i){if(n<0&&(n=this.idOrder),n>=e.getNumCells())return;e.bb!==this.boxBase&&this.setBoxBase(e.bb),e=e.getActiveBoxContent(n)}if(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.content=e,e){if(e.animatedGifFile&&!this.specialShape){var r="url("+e.animatedGifFile+")",o=t("<span/>").css({"background-image":r,"background-position":"center","background-repeat":"no-repeat"});o.data("background-image",r),null!==e.imgClip&&o.css({"background-origin":"border-box","background-position":-e.imgClip.pos.x+"px "+-e.imgClip.pos.y+"px"}),this.setHostedComponent(o)}e.bb!==this.boxBase&&this.setBoxBase(e.bb),e.innerHtmlText&&this.setHostedComponent(t("<div/>").html(e.innerHtmlText)),e.hasOwnProperty("border")&&this.hasBorder()!==e.border&&this.setBorder(e.border),this.setInactive(!1),e.amp&&this.setHostedMediaPlayer(e.amp),this.checkHostedComponent(),this.checkAutoStartMedia()}else this.clear();this.invalidate(),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"setAltContent",value:function(t,e){t instanceof i&&(e<0&&(e=this.idOrder),t=t.getActiveBoxContent(e)),this.altContent=t,this.checkHostedComponent(),this.isAlternative()&&this.hostedMediaPlayer&&this.setHostedMediaPlayer(null),this.$accessibleElement&&(this.$accessibleElement.html(this.toString()),this.$accessibleElement.prop("disabled",!0))}},{key:"setCurrentContent",value:function(t){this.isAlternative()?this.setAltContent(t):this.setContent(t),this.invalidate()}},{key:"switchToAlt",value:function(){return!(this.isAlternative()||!this.altContent||this.altContent.isEmpty())&&(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.setAlternative(!0),this.tmpTrans=!1,this.checkHostedComponent(),this.checkAutoStartMedia(),this.$accessibleElement&&this.$accessibleElement.html(this.toString()),!0)}},{key:"checkHostedComponent",value:function(){if(!this.hasHostedComponent){var t=this.getCurrentContent(),e=this.getBoxBaseResolve();!this.isInactive()&&t&&t.innerHtmlText&&(e.getCSS()["text-align"]=t.txtAlign.h.replace("middle","center"))}}},{key:"checkAutoStartMedia",value:function(){var t=this.getContent();t&&t.mediaContent&&t.mediaContent.autoStart&&t.amp&&t.amp.playNow(this)}},{key:"updateContent",value:function(t,e){var n=this.getCurrentContent(),i=this.getBoxBaseResolve();if(this.isInactive()||!n||this.dim.width<2||this.dim.height<2)return!0;if(e&&!this.intersects(e))return!1;var o=null;if(n.img&&!this.tmpTrans)try{if(n.imgClip){var s=n.imgClip.getBounds(),c=n.img;if(!n.imgClip.isRect()){var u=document.createElement("canvas");u.width=s.pos.x+s.dim.width,u.height=s.pos.y+s.dim.height;var l=u.getContext("2d");n.imgClip.clip(l),l.drawImage(n.img,0,0),c=u}t.drawImage(c,Math.max(0,s.pos.x),Math.max(0,s.pos.y),Math.min(c.width,s.dim.width),Math.min(c.height,s.dim.height),this.pos.x,this.pos.y,this.dim.width,this.dim.height)}else{var h=n.img.naturalWidth||this.dim.width,f=n.img.naturalHeight||this.dim.height,p=!1,d=1;a.settings.COMPRESS_IMAGES&&this.dim.width>0&&this.dim.height>0&&(h>this.dim.width||f>this.dim.height)&&(h*=d=Math.min(this.dim.width/h,this.dim.height/f),f*=d,p=!0);var g="left"===n.imgAlign.h?0:"right"===n.imgAlign.h?this.dim.width-h:(this.dim.width-h)/2,v="top"===n.imgAlign.v?0:"bottom"===n.imgAlign.v?this.dim.height-f:(this.dim.height-f)/2;p?t.drawImage(n.img,this.pos.x+g,this.pos.y+v,h,f):t.drawImage(n.img,this.pos.x+g,this.pos.y+v),n.avoidOverlapping&&n.text&&(o=new r.Rectangle(Math.max(0,g),Math.max(0,v),Math.min(this.dim.width,h),Math.min(this.dim.height,f)))}}catch(t){a.log("warn",'Unable to draw image "'+n.imgName+'": '+t.message)}if(n.text&&n.text.length>0){var y=this.pos.x,m=this.pos.y,b=this.dim.width,w=this.dim.height;if(o){for(var k=[0,o.pos.x,o.pos.x+o.dim.width,b],x=[0,o.pos.y,o.pos.y+o.dim.height,w],A=[new r.Rectangle(k[0],x[0],k[3],x[1]),new r.Rectangle(k[0],x[2],k[3],x[3]-x[2]),new r.Rectangle(k[0],x[0],k[1],x[3]),new r.Rectangle(k[2],x[0],k[3]-k[2],x[3])],C=A[0],S=C.dim.width*C.dim.height,_=1;_<A.length;_++){var E=A[_].dim.width*A[_].dim.height;if(E>S-1){if(Math.abs(E-S)<=1){var O=!1;switch(_){case 1:O="bottom"===n.txtAlign.v;break;case 2:O="left"===n.txtAlign.h;break;case 3:O="right"===n.txtAlign.h}if(!O)continue}S=E,C=A[_]}}y+=C.pos.x,m+=C.pos.y,b=C.dim.width,w=C.dim.height}var P=Math.max(5,b-2*i.textMargin),T=Math.max(5,w-2*i.textMargin),I=i.prepareText(t,n.text,P,T);t.font=i.font.cssFont(),t.textBaseline="hanging";for(var j=i.font.getHeight(),B=j*I.length,M=m+i.textMargin+("top"===n.txtAlign.v?0:"bottom"===n.txtAlign.v?T-B:(T-B)/2),R=0;R<I.length;R++,M+=j){var D=y+i.textMargin+("left"===n.txtAlign.h?0:"right"===n.txtAlign.h?P-I[R].size.width:(P-I[R].size.width)/2);if(i.shadow){var N=Math.max(1,i.font.size/10);t.fillStyle=i.shadowColor,t.fillText(I[R].text,D+N,M+N)}t.fillStyle=this.isInverted()?i.backColor:this.isAlternative()?i.alternativeColor:i.textColor,t.fillText(I[R].text,D,M)}}return!0}},{key:"getDescription",value:function(){return this.content?this.content.getDescription():""}},{key:"toString",value:function(){return("cell"!==this.role?a.getMsg(this.role):"")+(this.getCurrentContent()||"-").toString()}},{key:"playMedia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getCurrentContent();return!(!n||!n.mediaContent)&&(a.log("debug","Playing: "+n.mediaContent.toString()),t.playMedia(n.mediaContent,this,e),!0)}},{key:"setHostedMediaPlayer",value:function(t){var e=this.hostedMediaPlayer;this.hostedMediaPlayer=t,e&&e!==t&&e.linkTo(null),t&&t.linkTo(this)}},{key:"setBounds",value:function(t,e,n,i){"number"==typeof t&&(t=new r.Rectangle(t,e,n,i)),this.equals(t)||(s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"setBounds",this).call(this,t),this.hostedMediaPlayer&&this.hostedMediaPlayer.checkVisualComponentBounds(this))}},{key:"setHostedComponentBounds",value:function(t){if(this.$hostedComponent){s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"setHostedComponentBounds",this).call(this,t);var e=this.getCurrentContent();if(t&&e&&e.animatedGifFile&&e.img){var n=e.img,i=Math.max(n.naturalWidth,this.dim.width),r=Math.max(n.naturalHeight,this.dim.height),o=1,a="";if(e.imgClip){var c=e.imgClip.getBounds();(this.dim.width<c.dim.width||this.dim.height<c.dim.height)&&(a=i*(o=Math.min(this.dim.width/c.dim.width,this.dim.height/c.dim.height))+"px "+r*o+"px"),this.$hostedComponent.css({"background-position":-e.imgClip.pos.x*o+"px "+-e.imgClip.pos.y*o+"px","background-size":a})}else(this.dim.width<i||this.dim.height<r)&&(a=i*(o=Math.min(this.dim.width/i,this.dim.height/r))+"px "+r*o+"px"),this.$hostedComponent.css({"background-size":a})}}}},{key:"buildAccessibleElement",value:function(e,n,i,r){var o=this;if(a.settings.CANVAS_HITREGIONS){this.$accessibleElement&&this.$accessibleElement.remove();var s=e.get(-1);if(s.width>0&&s.height>0){var c=Math.round(1e5*Math.random()),u=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement=t("<button/>",{tabindex:u?-1:0,id:"AE"+c,disabled:u}).html(this.toString()).click(function(i){if(i.originalEvent&&(0!==i.originalEvent.pageX||0!==i.originalEvent.pageY))return!0;a.log("debug","Click on accessible element: "+o.toString());var s=t.Event(r||"click"),c=o.getBounds(),u=e.offset();return s.pageX=u.left+c.pos.x+c.dim.width/2,s.pageY=u.top+c.pos.y+c.dim.height/2,n.trigger(s),!1}),(i||e).append(this.$accessibleElement);var l=this.$accessibleElement.get(-1);try{var h=s.getContext("2d");this.shape.preparePath(h),h.addHitRegion({id:"REG"+c,control:l}),a.settings.CANVAS_HITREGIONS_FOCUS&&h.drawFocusIfNeeded(l)}catch(t){a.log("error","Unable to build accessible element for canvas in: "+this.toString()+" ("+t+")")}}}return this.$accessibleElement}}],[{key:"createCell",value:function(e,n){if(n&&n.dimension){var i=new u,o=t('<canvas width="'+n.dimension.width+'" height="'+n.dimension.height+'"/>'),s=new r.Rectangle(0,0,n.dimension.width,n.dimension.height);return i.container=new r.Container,i.container.$div=e,i.setContent(n),i.setBounds(s),e.append(o),i.update(o.get(-1).getContext("2d"),s),i}}}]),u}();return Object.assign(c.prototype,{idOrder:-1,idLoc:-1,idAss:-1,pos0:null,content:null,altContent:null,hasHostedComponent:!1,hostedMediaPlayer:null,isBackground:!1}),c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(3),n(2),n(45),n(77)],void 0===(r=function(t,e,n,i,r){var s=function(){function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),void 0!==t&&(this.id=t),this.imgAlign={h:"middle",v:"middle"},this.txtAlign={h:"middle",v:"middle"}}return o(s,[{key:"setProperties",value:function(o,s){var a=this;return n.attrForEach(o.get(0).attributes,function(t,i){switch(t){case"id":case"item":a[t]=Number(i);break;case"width":case"height":null===a.dimension&&(a.dimension=new e.Dimension(0,0)),a.dimension[t]=Number(i);break;case"txtAlign":case"imgAlign":a[t]=a.readAlign(i);break;case"hAlign":a.txtAlign=a.readAlign(i+",center"),a.imgAlign=a.readAlign(i+",center");break;case"border":case"avoidOverlapping":a[t]=n.getBoolean(i);break;case"image":a.imgName=n.nSlash(i)}}),o.children().each(function(e,n){var o=t(n);switch(n.nodeName){case"style":a.bb=new i(null).setProperties(o);break;case"media":a.mediaContent=(new r).setProperties(o);break;case"p":null===a.text?a.text="":a.text+="\n",a.text+=n.textContent}}),s&&this.realizeContent(s),this}},{key:"readAlign",value:function(t){var e={h:"center",v:"center"};if(t){var n=t.split(",");e.h=n[0].replace("middle","center"),e.v=n[1].replace("middle","center")}return e}},{key:"isEmpty",value:function(){return null===this.text&&null===this.img}},{key:"isEquivalent",value:function(t,e){if(t===this)return!0;var n=!1;return null!==t&&(n=this.isEmpty()&&t.isEmpty()?this.id===t.id:(null===this.text?null===t.text:e?this.text===t.text:this.text.toLocaleLowerCase()===t.text.toLocaleLowerCase())&&(null===this.mediaContent?null===t.mediaContent:this.mediaContent.isEquivalent(t.mediaContent))&&this.img===t.img&&(null===this.imgClip?null===t.imgClip:this.imgClip.equals(t.imgClip))),n}},{key:"setTextContent",value:function(t){null!==t?(this.text=t,this.checkHtmlText()):(this.text=null,this.innerHtmlText=null)}},{key:"checkHtmlText",value:function(){if(this.innerHtmlText=null,n.startsWith(this.text,"<html>",!0)){var t=this.text.trim(),e=t.toLocaleLowerCase();if(-1===e.indexOf("<body")){var i=e.indexOf("</html>");i>=0&&(this.innerHtmlText=t.substr(6,i))}}}},{key:"setImgContent",value:function(t,e,n){this.img=t,this.imgName=null,this.imgClip=e,n&&(this.animatedGifFile=n)}},{key:"prepareMedia",value:function(t){!this.amp&&this.mediaContent&&"PLAY_VIDEO"===this.mediaContent.mediaType&&(this.amp=t.getActiveMediaPlayer(this.mediaContent),this.amp.realize())}},{key:"realizeContent",value:function(t){var e=this;null!==this.imgName&&this.imgName.length>0&&(this.mbe=t.getElement(this.imgName,!0),this.mbe&&this.mbe.build(function(){e.img=e.mbe.data,e.animatedGifFile=e.mbe.animated?e.mbe.getFullPath():null})),null!==this.mediaContent&&(null!==this.imgName||null!==this.text&&0!==this.text.length||(this.img=this.mediaContent.getIcon(),this.animatedGifFile=null)),this.checkHtmlText(t)}},{key:"getDescription",value:function(){var t=this.text&&this.text.length>0?this.text:"";return this.imgName&&(t=t+(t.length>0?" ":"")+n.getMsg("image")+" "+this.imgName),this.imgClip&&(t=t+(t.length>0?" ":"")+this.imgClip.toString()),this.mediaContent&&(t=t+(t.length>0?" ":"")+this.mediaContent.getDescription()),t}},{key:"toString",value:function(){var t=this.text&&this.text.length>0?this.text:"";return this.imgName&&(t=t+(t.length>0?" ":"")+n.getMsg("image")+" "+this.imgName),this.imgClip&&(t=t+(t.length>0?" ":"")+n.getMsg("image fragment")),t}}]),s}();return Object.assign(s.prototype,{bb:null,dimension:null,border:null,text:null,imgName:null,imgClip:null,mediaContent:null,imgAlign:null,txtAlign:null,avoidOverlapping:!1,id:-1,item:-1,img:null,animatedGifFile:null,innerHtmlText:null,amp:null,mbe:null}),s.EMPTY_CONTENT=new s,s}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(285),t.exports={Promise:i}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(36).Buffer)},function(t,e,n){var i=n(26),r=n(8)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(26);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(3),n(45)],void 0===(r=function(t,e,n){var i=function(t){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return r.container=e,r.parent=t,r.boxBase=n,r.shape=r,r.specialShape=!1,r.visible=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e.Rectangle),o(i,[{key:"setParent",value:function(t){this.parent=t}},{key:"getParent",value:function(){return this.parent}},{key:"end",value:function(){}},{key:"setContainer",value:function(t){this.container=t,this.$hostedComponent&&this.container&&this.container.$div&&(this.$hostedComponent.detach(),this.container.$div.append(this.$hostedComponent))}},{key:"getContainerX",value:function(){return this.container}},{key:"getContainerResolve",value:function(){for(var t=this;null===t.container&&null!==t.parent;)t=t.parent;return t.container}},{key:"invalidate",value:function(t){var e=this.getContainerResolve();e&&e.invalidate(t)}},{key:"setBoxBase",value:function(t){this.boxBase=t,this.invalidate()}},{key:"getBoxBaseResolve",value:function(){for(var t=this;!t.boxBase&&t.parent;)t=t.parent;return t.boxBase||n.prototype.defaultBoxBase}},{key:"setShape",value:function(t){this.shape=t,this.specialShape=!0,this.invalidate(),s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setBounds",this).call(this,t.getBounds()),this.invalidate()}},{key:"getShape",value:function(){return this.shape}},{key:"contains",value:function(t){return this.shape===this?s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"contains",this).call(this,t):this.shape.contains(t)}},{key:"setBounds",value:function(t,n,r,o){if("number"==typeof t&&(t=new e.Rectangle(t,n,r,o)),!this.equals(t)){var a=!this.dim.equals(t.dim);return this.specialShape?(a&&(this.shape.scaleBy(new e.Dimension(t.dim.width/this.dim.width,t.dim.height/this.dim.height)),this.setShape(this.shape)),this.pos.equals(t.pos)||this.shape.moveTo(t.pos),this.setShape(this.shape)):s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setBounds",this).call(this,t),this.$hostedComponent&&this.setHostedComponentBounds(a),this}}},{key:"moveTo",value:function(t,n){"number"==typeof t&&(t=new e.Point(t,n)),this.setBounds(new e.Rectangle(this).moveTo(t))}},{key:"moveBy",value:function(t,n){this.setBounds(new e.Rectangle(this).moveBy(t,n))}},{key:"setSize",value:function(t,n){this.setBounds(new e.Rectangle(this.pos,new e.Dimension(t,n)))}},{key:"hasBorder",value:function(){return this.border}},{key:"setBorder",value:function(t){t||this.invalidate(),this.border=t,t&&this.invalidate()}},{key:"isVisible",value:function(){return this.visible}},{key:"setVisible",value:function(t){this.visible=t,this.setHostedComponentVisible(),this.invalidate()}},{key:"setHostedComponentVisible",value:function(){this.$hostedComponent&&this.$hostedComponent.css("visibility",this.visible?"visible":"hidden")}},{key:"isTemporaryHidden",value:function(){return this.temporaryHidden}},{key:"setTemporaryHidden",value:function(t){this.temporaryHidden=t}},{key:"isInactive",value:function(){return this.inactive}},{key:"setInactive",value:function(t){if(this.inactive=t,this.$hostedComponent)this.setHostedComponentColors(),this.setHostedComponentVisible();else{if(this.$accessibleElement){var e=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement.prop({disabled:e,tabindex:e?-1:0})}this.invalidate()}}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(t){this.inverted=t,this.$hostedComponent?this.setHostedComponentColors():this.invalidate()}},{key:"isMarked",value:function(){return this.marked}},{key:"setMarked",value:function(t){t||this.invalidate(),this.marked=t,this.$hostedComponent?(this.setHostedComponentColors(),this.setHostedComponentBorder()):t&&this.invalidate()}},{key:"isFocused",value:function(){return this.focused}},{key:"setFocused",value:function(t){t||this.invalidate(),this.focused=t,t&&this.invalidate(),this.$hostedComponent&&this.$hostedComponent.css("z-index",this.focused?20:2)}},{key:"isAlternative",value:function(){return this.alternative}},{key:"setAlternative",value:function(t){this.alternative=t,this.invalidate()}},{key:"update",value:function(t,e){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(e&&!this.shape.intersects(e))return!1;var n=this.getBoxBaseResolve();return n.transparent||n.dontFill||this.tmpTrans||(n.bgGradient&&!n.bgGradient.hasTransparency()||(t.fillStyle=this.inactive?n.inactiveColor:this.inverted?n.textColor:n.backColor,this.shape.fill(t,e)),n.bgGradient&&(t.fillStyle=n.bgGradient.getGradient(t,this.shape.getBounds()),this.shape.fill(t,e)),t.fillStyle="black"),this.$hostedComponent||this.updateContent(t,e),this.drawBorder(t),!0}},{key:"updateContent",value:function(t,e){}},{key:"drawBorder",value:function(t){if(this.border||this.marked){var n=this.getBoxBaseResolve();t.strokeStyle=n.borderColor,n[this.marked?"markerStroke":"borderStroke"].setStroke(t),this.marked&&(t.globalCompositeOperation="xor"),this.shape.stroke(t),this.marked&&(t.globalCompositeOperation="source-over"),t.strokeStyle="black",e.Stroke.prototype.setStroke(t)}}},{key:"getBorderBounds",value:function(){var t=new e.Rectangle(this.getBounds());if(this.border||this.marked){var n=this.getBoxBaseResolve()[this.marked?"markerStroke":"borderStroke"].lineWidth;t.moveBy(-n/2,-n/2),t.dim.width+=n,t.dim.height+=n}return t}},{key:"setHostedComponent",value:function(t){this.$hostedComponent&&this.$hostedComponent.detach(),this.$hostedComponent=t,this.$hostedComponent&&(this.setContainer(this.container),this.setHostedComponentColors(),this.setHostedComponentBorder(),this.setHostedComponentBounds(!0),this.setHostedComponentVisible(),this.setFocused(this.focused))}},{key:"getHostedComponent",value:function(){return this.$hostedComponent}},{key:"setHostedComponentColors",value:function(){if(this.$hostedComponent){var t=this.getBoxBaseResolve().getCSS(null,this.inactive,this.inverted,this.alternative);this.$hostedComponent.data("background-image")&&t["background-image"]&&(t["background-image"]=this.$hostedComponent.data("background-image")+","+t["background-image"]),this.$hostedComponent.css(t)}}},{key:"setHostedComponentBorder",value:function(){if(this.$hostedComponent&&(this.border||this.marked)){var t=this.getBoxBaseResolve();this.$hostedComponent.css({"border-width":t.get(this.marked?"markerStroke":"borderStroke").lineWidth+"px","border-style":"solid","border-color":t.get("borderColor")})}}},{key:"setHostedComponentBounds",value:function(t){if(this.$hostedComponent){var e=this.getBounds(),n=this.border||this.marked?this.getBoxBaseResolve().get(this.marked?"markerStroke":"borderStroke").lineWidth:0;this.$hostedComponent.css({position:"absolute",width:e.dim.width-2*n+"px",height:e.dim.height-2*n+"px",top:e.pos.y+"px",left:e.pos.x+"px"})}}}]),i}();return Object.assign(i.prototype,{parent:null,container:null,boxBase:null,border:!1,shape:null,specialShape:!1,visible:!0,temporaryHidden:!1,tmpTrans:!1,inactive:!1,inverted:!1,alternative:!1,marked:!1,focused:!1,accessibleText:"",role:"cell",$accessibleElement:null,accessibleAlwaysActive:!1,$hostedComponent:null}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(2)],void 0===(r=function(t){var e=function(){function e(t,n){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=t,void 0===n?"undefined":o(n)){case"string":this.sequence=n;break;case"number":this.actNum=n}}return s(e,[{key:"setProperties",value:function(e){return this.id=e.attr("id"),this.action=e.attr("action")||"JUMP",this.sequence=t.nSlash(e.attr("tag")),this.projectPath=t.nSlash(e.attr("project")),this}}]),e}();return Object.assign(e.prototype,{id:null,action:void 0,actNum:-1,sequence:void 0,projectPath:void 0}),e}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(3),n(2)],void 0===(r=function(t,e,n){var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mediaType=e,n&&(this.mediaFileName=n)}return o(t,[{key:"setProperties",value:function(t){var i=this;return n.attrForEach(t.get(0).attributes,function(t,r){switch(t){case"type":i.mediaType=r;break;case"file":i.mediaFileName=n.nSlash(r);break;case"params":i.externalParam=n.nSlash(r);break;case"pFrom":i.absLocationFrom=r;break;case"buffer":i.recBuffer=Number(r);break;case"level":case"from":case"to":case"length":i[t]=Number(r);break;case"px":case"py":null===i.absLocation&&(i.absLocation=new e.Point(0,0)),"px"===t?i.absLocation.x=Number(r):i.absLocation.y=Number(r);break;case"stretch":case"free":case"catchMouseEvents":case"loop":case"autostart":i[t]=n.getBoolean(r)}}),this}},{key:"isEquivalent",value:function(t){return this.mediaType===t.mediaType&&(this.mediaFileName===t.mediaFileName||null!==this.mediaFileName&&null!==t.mediaFileName&&this.mediaFileName.toLocaleLowerCase()===t.mediaFileName.toLocaleLowerCase())&&this.from===t.from&&this.to===t.to&&this.recBuffer===t.recBuffer}},{key:"getDescription",value:function(){var t=""+this.mediaType;return this.mediaFileName?t=t+" "+this.mediaFileName+(this.from>=0?" from:"+this.from:"")+(this.to>=0?" to:"+this.to:""):this.externalParam&&(t=t+" "+this.externalParam),t}},{key:"toString",value:function(){return this.mediaType+(this.mediaFileName?" "+this.mediaFileName:"")}},{key:"getIcon",value:function(){var e=null;switch(this.mediaType){case"PLAY_AUDIO":case"PLAY_RECORDED_AUDIO":e="audio";break;case"RECORD_AUDIO":e="mic";break;case"PLAY_VIDEO":e="movie";break;case"PLAY_MIDI":e="music";break;case"URL":e="url";break;default:e="default"}return e?t.ICONS[e]:null}}]),t}();Object.assign(i.prototype,{mediaType:"UNKNOWN",level:1,mediaFileName:null,externalParam:null,from:-1,to:-1,length:3,recBuffer:0,stretch:!1,free:!1,absLocation:null,absLocationFrom:null,catchMouseEvents:!1,loop:!1,autoStart:!1});return i.ICONS={},t.each({default:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOC44IDEyTDI4IDhIMTB2MzRoNFYyOGgxMS4ybC44IDRoMTRWMTJ6Ij48L3BhdGg+PC9zdmc+Cg==",audio:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41IDNjMC0xLjc3LTEuMDItMy4yOS0yLjUtNC4wM3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2LjcxdjIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3oiPjwvcGF0aD48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PC9zdmc+Cg==",movie:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgtM2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",mic:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiAxNGMxLjY2IDAgMi45OS0xLjM0IDIuOTktM0wxNSA1YzAtMS42Ni0xLjM0LTMtMy0zUzkgMy4zNCA5IDV2NmMwIDEuNjYgMS4zNCAzIDMgM3ptNS4zLTNjMCAzLTIuNTQgNS4xLTUuMyA1LjFTNi43IDE0IDYuNyAxMUg1YzAgMy40MSAyLjcyIDYuMjMgNiA2LjcyVjIxaDJ2LTMuMjhjMy4yOC0uNDggNi0zLjMgNi02LjcyaC0xLjd6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",music:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgM3YxMC41NWMtLjU5LS4zNC0xLjI3LS41NS0yLS41NS0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRWN2g0VjNoLTZ6Ij48L3BhdGg+PC9zdmc+Cg==",url:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcuOTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTN6bTYuOS0yLjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgyYy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOXoiPjwvcGF0aD48L3N2Zz4K"},function(t,e){var n=new Image;n.src=e,i.ICONS[t]=n}),i}.apply(e,i))||(t.exports=r)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(36).Buffer)},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),s=(u=n.slice()).length,c=0;c<s;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){t.exports=r;var i=n(81).EventEmitter;function r(){i.call(this)}n(60)(r,i),r.Readable=n(308),r.Writable=n(303),r.Duplex=n(302),r.Transform=n(301),r.PassThrough=n(300),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===i.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(27),s=n(48);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,a,c=arguments[1];return r(this),(e=void 0!==c)&&r(c),void 0==t?new this:(n=[],e?(i=0,a=o(c,arguments[2],2),s(t,!1,function(t){n.push(a(t,i++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";t.exports=n(42)||!n(6)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(5)[t]})},function(t,e,n){for(var i,r=n(5),o=n(18),s=n(55),a=s("typed_array"),c=s("view"),u=!(!r.ArrayBuffer||!r.DataView),l=u,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,c,!0)):l=!1;t.exports={ABV:u,CONSTR:l,TYPED:a,VIEW:c}},function(t,e,n){"use strict";var i=n(5),r=n(0),o=n(17),s=n(47),a=n(43),c=n(48),u=n(49),l=n(7),h=n(6),f=n(92),p=n(65),d=n(130);t.exports=function(t,e,n,g,v,y){var m=i[t],b=m,w=v?"set":"add",k=b&&b.prototype,x={},A=function(t){var e=k[t];o(k,t,"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(y||k.forEach&&!h(function(){(new b).entries().next()}))){var C=new b,S=C[w](y?{}:-0,1)!=C,_=h(function(){C.has(1)}),E=f(function(t){new b(t)}),O=!y&&h(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});E||((b=e(function(e,n){u(e,b,t);var i=d(new m,e,b);return void 0!=n&&c(n,v,i[w],i),i})).prototype=k,k.constructor=b),(_||O)&&(A("delete"),A("has"),v&&A("get")),(O||S)&&A(w),y&&k.clear&&delete k.clear}else b=g.getConstructor(e,t,v,w),s(b.prototype,n),a.NEED=!0;return p(b,t),x[t]=b,r(r.G+r.W+r.F*(b!=m),x),y||g.setStrong(b,t,v),b}},function(t,e,n){var i=n(5).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(4),r=n(15),o=n(8)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},function(t,e,n){"use strict";var i=n(18),r=n(17),o=n(6),s=n(34),a=n(8);t.exports=function(t,e,n){var c=a(t),u=n(s,c,""[t]),l=u[0],h=u[1];o(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,l),i(RegExp.prototype,c,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){"use strict";var i=n(4);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(8)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){var i=n(7),r=n(26),o=n(8)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(26);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(23),r=n(10),o=n(53);t.exports=function(t){return function(e,n,s){var a,c=i(e),u=r(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(28),r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(42)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(59),n(3)],void 0===(r=function(t,e,n){var i=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),o(i,[{key:"buildShapes",value:function(){for(var t=[],e=[],i=0;i<=this.nRows;i++)t[i]=[],e[i]=[];for(var r=0;r<this.nRows;r++)for(var o=0;o<this.nCols;o++)t[r][o]=0===r?0:1+(this.randomLines?Math.round(9*Math.random()):r+o)%2,e[r][o]=0===o?0:1+(this.randomLines?Math.round(9*Math.random()):o+r+1)%2,o===this.nCols-1&&(e[r][o+1]=0),r===this.nRows-1&&(t[r+1][o]=0);for(var s=1/this.nCols,a=1/this.nRows,c=0;c<this.nRows;c++)for(var u=0;u<this.nCols;u++){var l=s*u,h=a*c,f=new n.Path([new n.PathStroke("M",[l,h])]);this.hLine(f,t[c][u],l+0,h+0,s,a,!1),this.vLine(f,e[c][u+1],l+s,h+0,s,a,!1),this.hLine(f,t[c+1][u],l+s,h+a,s,a,!0),this.vLine(f,e[c][u],l+0,h+a,s,a,!0),f.addStroke(new n.PathStroke("X")),f.calcEnclosingRect(),this.shapeData[c*this.nCols+u]=f}this.initiated=!0}},{key:"hLine",value:function(t,e,i,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i+o*c,r]));else{var l=i+(o-o*this.baseWidthFactor)/2*c,h=o*this.baseWidthFactor*c;t.addStroke(new n.PathStroke("L",[l,r]));var f=s*this.toothHeightFactor*u;t.addStroke(new n.PathStroke("L",[l,r+f])),t.addStroke(new n.PathStroke("L",[l+h,r+f])),t.addStroke(new n.PathStroke("L",[l+h,r])),t.addStroke(new n.PathStroke("L",[i+o*c,r]))}}},{key:"vLine",value:function(t,e,i,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new n.PathStroke("L",[i,r+s*c]));else{var l=r+(s-s*this.baseWidthFactor)/2*c,h=s*this.baseWidthFactor*c;t.addStroke(new n.PathStroke("L",[i,l]));var f=o*this.toothHeightFactor*u;t.addStroke(new n.PathStroke("L",[i+f,l])),t.addStroke(new n.PathStroke("L",[i+f,l+h])),t.addStroke(new n.PathStroke("L",[i,l+h])),t.addStroke(new n.PathStroke("L",[i,r+s*c]))}}}]),i}();return e.CLASSES["@JigSaw"]=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(249),n(245),n(244),n(2)],void 0===(r=function(t,e,n,i,r){var a=function(){function a(t){s(this,a),this.ps=t,this.sessions=[],this.started=new Date,this.initiated=!1,this.info=new c(this)}return o(a,[{key:"getInfo",value:function(){return this.info.recalc()}},{key:"getProperty",value:function(t,e){return e}},{key:"getBooleanProperty",value:function(t,e){var n=this.getProperty(t,!0===e?"true":"false");return null===t?e:"true"===n}},{key:"getGroups",value:function(){return Promise.reject("No groups defined!")}},{key:"getUsers",value:function(t){return Promise.reject("No users defined in "+t)}},{key:"getUserData",value:function(t){return Promise.reject("Unknown user!")}},{key:"getGroupData",value:function(t){return Promise.reject("Unknown group!")}},{key:"userBased",value:function(){return null===this.bUserBased&&(this.bUserBased=this.getBooleanProperty("USER_TABLES",!1)),this.bUserBased}},{key:"promptForNewGroup",value:function(){return Promise.reject("Remote creation of groups not yet implemented!")}},{key:"promptForNewUser",value:function(){return Promise.reject("Remote creation of users not yet implemented!")}},{key:"promptGroupId",value:function(){var e=this;return new Promise(function(n,i){e.userBased()?e.getGroups().then(function(r){if(!r||r.length<1)i("No groups defined!");else{var o=0,s=t("<select/>").attr({size:Math.max(3,Math.min(15,r.length))});r.forEach(function(e){return s.append(t("<option/>").attr({value:e.id}).text(e.name))}),s.change(function(t){o=t.target.selectedIndex}),e.ps.skin.showDlg(!0,{main:[t("<h2/>",{class:"subtitle"}).html(e.ps.getMsg("Select group:")),s],bottom:[e.ps.skin.$okDlgBtn,e.ps.skin.$cancelDlgBtn]}).then(function(){n(r[o].id)}).catch(i)}}).catch(i):i("This system does not manage users!")})}},{key:"promptUserId",value:function(e){var i=this;return new Promise(function(r,o){if(null===i.userId||e)if(i.userBased()){var s=t("<input/>",{type:"password",size:8,maxlength:64});if(i.getBooleanProperty("SHOW_USER_LIST",!0))i.promptGroupId().then(function(e){i.getUsers(e).then(function(a){if(!a||a.length<1)o("Group "+e+" has no users!");else{var c=-1,u=t("<select/>").attr({size:Math.max(3,Math.min(15,a.length))});a.forEach(function(e){return u.append(t("<option/>").attr({value:e.id}).text(e.name))}),u.change(function(t){c=t.target.selectedIndex}),i.ps.skin.showDlg(!0,{main:[t("<h2/>",{class:"subtitle"}).html(i.ps.getMsg("Select user:")),u,t("<h2/>",{class:"subtitle"}).html(i.ps.getMsg("Password:")).append(s)],bottom:[i.ps.skin.$okDlgBtn,i.ps.skin.$cancelDlgBtn]}).then(function(){c>=0?a[c].pwd&&n.Decrypt(a[c].pwd)!==s.val()?(window.alert(i.ps.getMsg("Incorrect password")),o("Incorrect password")):(i.userId=a[c].id,r(i.userId)):o("No user has been selected")}).catch(o)}}).catch(o)}).catch(o);else{var a=t("<input/>",{type:"text",size:8,maxlength:64});i.ps.skin.showDlg(!0,{main:[t("<div/>").css({"text-align":"right"}).append(t("<h2/>",{class:"subtitle"}).html(i.ps.getMsg("User:")).append(a)).append(t("<h2/>",{class:"subtitle"}).html(i.ps.getMsg("Password:")).append(s))],bottom:[i.ps.skin.$okDlgBtn,i.ps.skin.$cancelDlgBtn]}).then(function(){i.getUserData(a.val()).then(function(t){t.pwd&&n.Decrypt(t.pwd)!==s.val()?(window.alert(i.ps.getMsg("Incorrect password")),o("Incorrect password")):(i.userId=t.id,r(i.userId))}).catch(o)}).catch(o)}}else o("This system does not manage users!");else r(i.userId)})}},{key:"getData",value:function(){this.info.recalc();var t={started:this.started.toISOString(),descriptionKey:this.descriptionKey,descriptionDetail:this.descriptionDetail,projects:this.info.numSessions,sequences:this.info.numSequences,activitiesDone:this.info.nActivities,playedOnce:this.info.nActPlayed,reportable:this.info.reportableActs,ratioPlayed:Math.round(100*this.info.ratioPlayed),activitiesSolved:this.info.nActSolved,ratioSolved:Math.round(100*this.info.ratioSolved),actScore:this.info.nActScore,partialScore:Math.round(100*this.info.partialScore),globalScore:Math.round(100*this.info.globalScore),time:Math.round(this.info.tTime/10)/100,actions:this.info.nActions,sessions:[]};return this.userId?t.userId=this.userId:this.SCORM&&(t.user=this.SCORM.studentName+(""===this.SCORM.studentId?"":" ("+this.SCORM.studentId+")")),this.sessions.forEach(function(e){e.getInfo().numSequences>0&&t.sessions.push(e.getData(!1,!1))}),t}},{key:"init",value:function(t){return t||(t=this.ps.options),this.userId=r.getVal(t.user),this.sessionKey=r.getVal(t.key),this.sessionContext=r.getVal(t.context),this.groupCodeFilter=r.getVal(t.groupCodeFilter),this.userCodeFilter=r.getVal(t.userCodeFilter),!1!==t.SCORM&&(this.SCORM=i.getSCORM(this),null!==this.SCORM&&this.descriptionKey===a.prototype.descriptionKey&&(this.descriptionKey=this.SCORM.getScormType())),this.initiated=!0,r.log("debug","Basic Reporter initialized"),Promise.resolve(!0)}},{key:"end",value:function(){return r.log("debug","Basic Reporter ending"),this.endSession(),Promise.resolve(!0)}},{key:"endSequence",value:function(){this.currentSession&&(this.currentSession.endSequence(),this.info.valid=!1)}},{key:"endSession",value:function(){this.endSequence(),this.currentSession=null}},{key:"newGroup",value:function(t){throw"No database!"}},{key:"newUser",value:function(t){throw"No database!"}},{key:"newSession",value:function(t){this.endSession(),this.currentSession=new e(t),this.sessions.push(this.currentSession),this.info.valid=!1}},{key:"newSequence",value:function(t){this.currentSession&&(this.currentSession.newSequence(t),this.info.valid=!1,this.SCORM&&this.SCORM.commitInfo())}},{key:"newActivity",value:function(t){this.currentSession&&(this.currentSession.newActivity(t),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentSession&&(this.currentSession.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentSession&&(this.currentSession.newAction(t,e,n,i),this.info.valid=!1)}},{key:"getCurrentSequenceInfo",value:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceInfo()}},{key:"getCurrentSequenceTag",value:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceTag()}}],[{key:"getReporter",value:function(t,e){var n=null;return null===t&&(t="Reporter",e.options.hasOwnProperty("reporter")&&(t=e.options.reporter)),a.CLASSES.hasOwnProperty(t)?n=new a.CLASSES[t](e):r.log("error","Unknown reporter class: %s",t),n}}]),a}();Object.assign(a.prototype,{info:null,ps:null,SCORM:null,userId:null,sessionKey:null,sessionContext:null,groupCodeFilter:null,userCodeFilter:null,descriptionKey:"Results are not currently being saved",descriptionDetail:"",started:null,sessions:[],currentSession:null,initiated:!1,bUserBased:null,MAX_USERID_PROMPT_ATTEMPTS:3});var c=function(){function t(e){s(this,t),this.rep=e}return o(t,[{key:"clear",value:function(){this.numSessions=this.numSequences=this.nActivities=this.reportableActs=this.nActSolved=this.nActPlayed=this.nActScore=this.nActions=this.ratioSolved=this.ratioPlayed=this.tScore=this.tTime=this.partialScore=this.globalScore=0,this.valid=!1}},{key:"recalc",value:function(){var t=this;return this.valid||(this.clear(),this.rep.sessions.forEach(function(e){var n=e.getInfo();t.reportableActs+=n.sReg.reportableActs,n.numSequences>0&&(t.numSessions++,t.numSequences+=n.numSequences,n.nActivities>0&&(t.nActivities+=n.nActivities,t.nActPlayed+=n.sReg.actNames.length,t.nActSolved+=n.nActSolved,t.nActions+=n.nActions,n.nActScore>0&&(t.tScore+=n.tScore*n.nActScore,t.nActScore+=n.nActScore),t.tTime+=n.tTime))}),this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.reportableActs>0&&(this.ratioPlayed=this.nActPlayed/this.reportableActs),this.partialScore=this.tScore/(100*this.nActScore),this.globalScore=this.partialScore*this.ratioPlayed),this.valid=!0),this}}]),t}();return Object.assign(c.prototype,{rep:null,valid:!1,numSessions:0,numSequences:0,nActivities:0,reportableActs:0,nActSolved:0,nActPlayed:0,nActScore:0,nActions:0,ratioSolved:0,ratioPlayed:0,tScore:0,partialScore:0,tTime:0,globalScore:0}),a.Info=c,a.CLASSES={Reporter:a},a}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(45),n(69),n(59),n(3),n(2)],void 0===(r=function(t,e,n,i,r,s){var a=function(){function a(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t&&(this.id=t),this.activeBoxContentArray=[],this.ncw=Math.max(1,e),this.nch=Math.max(1,n)}return o(a,[{key:"setProperties",value:function(r,o){var a=this,c=!1;if(s.attrForEach(r.get(0).attributes,function(t,e){switch(t){case"id":a.id=e;break;case"image":a.imgName=s.nSlash(e);break;case"rows":a.nch=Number(e);break;case"columns":c=!0;case"cols":a.ncw=Number(e);break;case"cellWidth":a.w=Number(e);break;case"cellHeight":a.h=Number(e);break;case"border":a.border=s.getBoolean(e)}}),c){var u=this.ncw;this.ncw=this.nch,this.nch=u}r.children().each(function(r,s){var c=t(s);switch(s.nodeName){case"style":a.bb=new e(null).setProperties(c);break;case"shaper":var u=c.attr("class"),l=Math.max(1,c.attr("cols")),h=Math.max(1,c.attr("rows"));a.shaper=i.getShaper(u,l,h),a.shaper.setProperties(c);break;case"ids":s.textContent.split(" ").forEach(function(t,e){a.activeBoxContentArray[e]=new n(Number(t))});break;case"cell":a.activeBoxContentArray.push((new n).setProperties(c,o))}});var l=this.activeBoxContentArray.length;if(0===l&&this.shaper&&this.shaper.nCells>0&&(l=this.shaper.nCells,this.getActiveBoxContent(l-1)),l>0){for(var h=!0,f=0;f<l;f++){var p=this.getActiveBoxContent(f);if(-1!==p.id||-1!==p.item||!p.isEmpty()){h=!1;break}}if(h)for(var d=0;d<l;d++)this.getActiveBoxContent(d).id=d}return this.bb&&this.activeBoxContentArray.forEach(function(t){t.bb&&(t.bb.parent=a.bb)}),this}},{key:"prepareMedia",value:function(t){this.activeBoxContentArray.forEach(function(e){return e.prepareMedia(t)})}},{key:"getTotalWidth",value:function(){return this.w*this.ncw}},{key:"getTotalHeight",value:function(){return this.h*this.nch}},{key:"getNumCells",value:function(){return this.activeBoxContentArray.length}},{key:"isEmpty",value:function(){return 0===this.activeBoxContentArray.length}},{key:"getShaper",value:function(){return null===this.shaper&&(this.shaper=i.getShaper("@Rectangular",this.ncw,this.nch)),this.shaper}},{key:"getBoxBase",value:function(){return null===this.bb&&(this.bb=new e),this.bb}},{key:"addActiveBoxContent",value:function(t){this.activeBoxContentArray.push(t),0!==this.ncw&&0!==this.nch||(this.ncw=this.nch=1)}},{key:"getActiveBoxContent",value:function(t){if(t>=this.activeBoxContentArray.length)for(var e=this.activeBoxContentArray.length;e<=t;e++)this.activeBoxContentArray.push(new n);return this.activeBoxContentArray[t]}},{key:"getActiveBoxContentWith",value:function(t,e){return this.activeBoxContentArray.find(function(n){return n.id===t&&n.item===e})}},{key:"setImgContent",value:function(t,e,i){e&&this.setShaper(e),"@Holes"===this.shaper.className&&(this.shaper.hasRemainder=!0),this.ncw=this.shaper.nCols,this.nch=this.shaper.nRows;var o=t.elements[this.imgName];t&&this.imgName&&o&&o.ready?(this.img=o.data,o.animated&&(this.animatedGifFile=o.getFullPath()),this.w=this.img.width/this.ncw,this.h=this.img.height/this.nch,i&&(this.w=Math.round(this.w),this.h=Math.round(this.h))):(this.img=null,this.w=Math.max(this.w,10),this.h=Math.max(this.h,10));for(var s=new r.Rectangle(0,0,this.w*this.ncw,this.h*this.nch),a=0;a<this.shaper.nCells;a++)this.getActiveBoxContent(a).setImgContent(this.img,this.shaper.getShape(a,s),this.animatedGifFile);this.shaper.hasRemainder&&(this.backgroundContent=new n,this.backgroundContent.setImgContent(this.img,this.shaper.getRemainderShape(s)))}},{key:"setTextContent",value:function(t,e,n){this.ncw=Math.max(1,e),this.nch=Math.max(1,n);for(var i=this.ncw*this.nch,r=0;r<i;r++)this.getActiveBoxContent(r).setTextContent(r>=t.length||null===t[r]?"":t[r])}},{key:"setIds",value:function(t){for(var e=0;e<t.length&&e<this.activeBoxContentArray.length;e++)this.getActiveBoxContent(e).id=t[e]}},{key:"setCellsAttribute",value:function(t,e){this.activeBoxContentArray.forEach(function(n){return n[t]=e})}},{key:"avoidAllIdsNull",value:function(t){this.activeBoxContentArray.every(function(t){return-1===t.id})&&(t=Math.max(1,t),this.activeBoxContentArray.forEach(function(e,n){e.id=n%t}))}}]),a}();return Object.assign(a.prototype,{id:"primary",imgName:null,img:null,animatedGifFile:null,ncw:1,nch:1,w:s.settings.DEFAULT_GRID_ELEMENT_SIZE,h:s.settings.DEFAULT_GRID_ELEMENT_SIZE,border:!0,bb:null,shaper:null,backgroundContent:null,activeBoxContentArray:null,defaultIdValue:-1}),a}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(257),n(256),n(253),n(13),n(2),n(3)],void 0===(r=function(t,e,n,i,r,s,a){var c=function(){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.settings=new e(this),this.activitySequence=new n(this),this._activities={},this.mediaBag=new i(this)}return o(c,[{key:"setProperties",value:function(e,n,i,r){var o=this;n&&(this.path=n,n.file?this.basePath=n:this.basePath=s.getBasePath(n)),this.zip=i,this.name=e.attr("name"),this.version=e.attr("version"),this.type=e.attr("type"),this.code=e.attr("code"),this.settings.setProperties(e.children("settings")),this.activitySequence.setProperties(e.children("sequence")),this.mediaBag.setProperties(e.children("mediaBag")),this.reportableActs=0,this._activities={};var c=e.children("activities").children("activity"),u=this.mediaBag.getElementsOfType("font");return u.length>0&&(r.ownFonts=(r.ownFonts||[]).concat(u)),a.Font.checkTree(c,r),c.each(function(e,n){var i=t(n);o._activities[s.nSlash(i.attr("name"))]=i,"true"===i.children("settings").attr("report")&&o.reportableActs++}),this}},{key:"getActivity",value:function(t){return r.getActivity(this._activities[s.nSlash(t)],this)}},{key:"realize",value:function(t){null===this.skin&&null!==this.settings.skinFileName&&this.settings.skinFileName.length>0&&(this.skin=this.mediaBag.getSkinElement(this.settings.skinFileName,t)),this.settings.eventSounds.realize(t,this.mediaBag),this.mediaBag.buildAll("font",null,t)}},{key:"end",value:function(){}}]),c}();return Object.assign(c.prototype,{name:"unknown",version:"0.1.3",type:null,code:null,settings:null,activitySequence:null,_activities:null,reportableActs:0,mediaBag:null,skin:null,basePath:"",path:null,zip:null}),c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(258),n(2)],void 0===(r=function(t,e,n){var i=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t&&(this.elements=Object.assign({},this.elements,t.elements),this.enabled=t.enabled)}return o(i,[{key:"setProperties",value:function(i){var r=this;return this.enabled=n.getTriState(i.attr("enabled"),this.enabled),i.children().each(function(n,i){var o=i.getAttribute("id");r.elements[o]=new e(o),r.elements[o].setProperties(t(i))}),this}},{key:"realize",value:function(e,n){t.each(this.elements,function(t,i){return i.realize(e,n)})}},{key:"play",value:function(t){if(this.globalEnabled&&this.enabled){var e=this.elements[t];e&&e.enabled&&e.play()}}}]),i}();return i.MEDIA={start:"data:audio/mp3;base64,//NAxAARGk5RdUEQANIEZEBAPGPyIAAYAKMY/6EaQn8hP+c/yEb//kITU7oc9Cf6nPnPoT/8nQhCKEEEnDizkAwM8ThYH1Bj/EAYEhyUGghyivv7fn0vtsLdYI0CiTQE+aaqfH3BW37/80LEFhl6nvZfj1ACplLtsfx19gOQfBp7iHeEWRj8WxiLLI6khikjEI9IvsePycfERCSpPJ9s95IbO1O/tRX70XQiOGX+n+hmeb+aMirKxN/IibInf//G3K9PVym7NoL/W2usCkcMT5T/80DEDBcivuJd0lADkXMLoGxcA7ENhPlAY8LMK280iLkhQq80ojkRQCwz/rEsTjjTlMPMu3RWZ2c3dmONON0NVDzDzDzP79Y9PFg9v//oqi4hHyp+7HGl2b///I8VcYAAls9qrCT1Mv/zQsQKFsrCvlzLRNa/FN/jd/HUrGLUa8tKonzDK8+t55alG5sbKYilBExD8Id1ugmp+eKIdSplGpaoxNZiznEU/J9KJmUsqBzPVjJ/+Aif//71QCdv+gE7f//6gICqPAAci1sbgH8/G//zQMQKFfF2qb9ZaAKU9PlY3uHFsAqAXfgZvyyhtTM2fC1zH/8+tFlslODFHjTHsClFqSTfprRCxdzMcppQ8yHsbbEkzpoLvZFBnWt1GBa/+8se/+SPdQe//FIIsAAAba7YbC65AQAf//NCxA0XMh6xv5OIAEIz0mVENAJ0DbwIQjpGYFNAvTSI1ePBuh+MwYk+xib0DA/K5YQadIk+o0Z0UyLmiv+h5bMD1Ro3/3/TSUggmu/+v/7KNL03CcLAh//5dpCqkltAAAqFFpldqAHI//NAxAwXGl7aXYxoABm/nTyF8EwhIPY/DSOKUIQ2WXUzAlFDQXzyRCXBUNUk33XoqQNhyeltWFUL6CKTImv7/vSZNZw0MP6v/v2oFQ5EUR7/1SVyb//E7FkIn9f9NXWQAg47vXRBbzv/80LEChbaYs5f2IAC9rPHK1z/yygqmvwSoaAGvNLr9jCagdVUGyxOpVqpp79lJPf9ZNEttWXTUvf/9azMUgOcZrZPMThF00d7//v///9SnpUlpJJJJJFeLhp3///yKi4QAHWdrdQE07P/80DEChTJvrI+Ro6Oalhjl3DYQyyMpMHHcIbTFNlqYvp6GKBJBYZ89G+PKyt/Q4oCbx9z9b//80CTA+F3zTlSqOz6G0PoVCIItC3/CnwN/xZAvcr/99VSIAEKz7+UABhWz01LyctXJv/zQsQRE5nOvl4WFHISWA9Ybn87+VaIKzA0kk7n33/KHo6qv1QKoNjMTHtX//ocaRCuGg2MP8jbueS9WIWU3NPcenOEv/CbcsVAKiIkATNv/9QAb60qFitrzbcZQ+ixX7169gCfAOpwHf/zQMQeE+Fasl4T0HJRrdobjyh8XBKr80WAqJQaiQPhY7vmJ4///ppkOhOaLMDbgVOwVdYt0SgqM/4hBQO+qglKQAFQM0aPnrrVvpRJLyCYt2amWVGBpcJrSl6ypI4hgoMQk5Di+Yv3//NCxCkP+IpANGYehC+92dkrPJ/1a+z+3/r/sL/6f+6G7BotKqkVeDWsJLMDPP8pf2a4///Jf+VgHuRkfn85h7MIeAY9RE3ZM3IRTyUaGvCJpep52lDPb0nCY5xRqRkEWzDKgw+8Ftdp//NAxEUS42YhgAhHHAG9ZCQjo0VONppYbQStB6qWUv5f591O8bze0/3y//62eUqnWzSn9vNsnOBzK8TN6urr6bcxGukbeqNZjuyIMO5FREnqzI6SVZVcahzgpCwMa561B4M8zjedy6v/80LEVBI7ViYoCEsdN5b7kv/+Rsub5P/X6yz0/JdhcZdZl+/hII/xFYdTSmc0ck3O0055fkc2R+ZgsyZsEagnMwRqkK1xle//6iZh/ITJmiF/yEKT4QyEKEP8hMQl/mNYxv+hn/lKZyn/80DEZxEbPiWICEc9StmmMZW0r1KXR/qYxnX0UpWMZAxQFqoapnCiQwqxihWDAQEBAQEKE6mZGZGTTMiMjTWZHa/aZkZlTRGXojIzL///////8yP85/5k1lspGrWRyNWCggYME4kGJf/zQsR9EkNiDAAARN1MNUkqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQMSQDcslQAoAR1mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",click:"data:audio/mp3;base64,//NAxAASsyJgIUEQAY///gX8///yfyHO/8hCEafoRp3nPQgAAEUAABBCEIT//QhCKQhNGyEIQhCNITU5//OQhCN7f/yEZQAAIynOc5CEIhGnABGY/4gAIQZ4h4h4d3Z2Z9Jba5XWhWP/80LEEBhJOxcfiUAC9BEda+oiKFQsViiMpvHFC98pLjySjUNeKoYxMpwIT21HmHlEhx83A9K5vDAuZUQxzq7nJPgEVWKQZ1Iu5oJH3UpGObWV/MfAgLC4Z/yhP/ULKnqHd/syOQenhOL/80DEChZpZs7rzBgAT3bBWub0T/xNtn9nY5bvQdCA0TvnpXNC7EJ3iRPtebJ//7xK4IAqIii2AKbfkBAJxATDLN7wiUGv6VANBNjqQwGCayGoaBAJaNC79/z5wP2IuJbfZsNFgBVo7P/zQsQLF0lGxvRJhlQVDyEmYldHXJGadquTRs6aYmq9VY1hqqt6xmqts2zGTvGNrl+u1IMBHREJREbkpaFQkFRoa2FYSDvBp6DwSf1lgFqfkQ0JcRCYlKxKg0eEw8sKqgaEogGBH3EZpv/zQMQJEyEudaoIBoAf+HV2UBjoOsP2/IwrkezQ1Y4e2wVxgxlVAqDQUSRUBRU6LrBY1lvxEdUBWBIOnZWOCrvlVnTsltWNOqPP4seUBcKgKpW44m3GkHLjaBS4ohHZdTGi6FXXVo6+//NCxBcNYAYyWAhEAJ3U+j3uXdl1z1Du30fCySCGablvUTrhwggLTomAAmrWsmWY9ym89ZcvlwX/zf+a95ZLwXOar/LNrJ60LUl25Hs58yKRWIjSbt9DCIs0UtF/TOlm2cyNTpKysuCB//NAxD0Rw1YliAhHPdmd9nYYQOsGCgAfmqIAXlnhbNZeUBQvyL/y6NlP/r1LLlEiSPL/7lE9SirM5zxZEwCseMDL330yrtl8/8jJs6mt5dTloYsvNSGbmTkYQhpVpRpCG1yr9YSfr1b/80LEURFLZiWQCEc8v/rLXPzys+Z9z8v+H9qyCMpGLn3bla9qtcxYZXk9cbOUjb8t0q2ytz79ImM1R0ht3QdWK11myihIpt8SZBRAlbWq3CDpDKWUte/VHgJDH6k+lsqSPbRj+pHWWrL/80DEZxKjYh2ICIfhxIKhMBeLPjgKlFRIKjCxIKjCukkFAKCSCxFtgTAQFIkisqIg2EngUVFg8FQCQUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsR3EnAF9kgARgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",actionOk:"data:audio/mp3;base64,//NAxAAT+gKmPUFoAI81KAANYQZECuQAASjAD820006kC+buYDgGEGEKIcsCYAUQYA6JeI2JmS5wcY5yXL6b1IJpp6kG////9X+h/oaaaadAvpvBA5/9QIDQQOQ+cbQllsQQAKTggvn/80LECxdCcupdjFACwA8cFoNFZuosRJUe3E48kEhWIRueePjSdR4T9XMQ4SwB/BZ1GQNAtHHOPzOFryImV2zlb//rZV/6MYp56IY00sPgvi5vp1NN///3Q4ZlSUVV6wAAHLn//b/+Bv3/80DEChbo7s5fmGgA8cDgPEdPslrmVdkwdsV66+p2vZktFECYbF0sxMc6XTyGfU7omIDWqTLdIdocopcSHkqkN/1OLnGEiTI5lQIHz6F//h8+Aw////SWn6Ai////RQCALJttttthGP/zQsQJFgLXBl+PUAJpUBpuDr/a/Bn7vbuBpTSaJu9C26HLGnV05pymMa+52rjwoQl9HX5xkseQEWn/zR+C+CGcTN1IQsr/O/6N///////zyotv//Ulb+WNu/4a/G/DAGASAsBQ86QpAv/zQMQNFyqWqFWaUACorGJ3w70JwQXdB1Iw8FBR6w8BkLlXmCwSQKbRFEDGyFEFw/LiWNeT8eOSG/++3///5oEpv5wrF/RmoYsz////+yuLZ55GT//yosfyqj5gugANMBv///+Bt0Bw//NCxAsWul7hv49QAIAcsuZ3XnIKHgXVwYS+wjbgGuEvA8WjfAsaQmNk2QkZh5517ceH7uZegsm5y///0VTDzzDz09dev/6IIMKcL8i/5CSjE3/oqRMBZpmk7R/RgAAbjwkkcZrZNKRG//NAxAwW4j6pudpoAwwbDspelxARGBQ5l21KTHGz7RkyVSuLZ5l3/S9SQ1CutfuvPzIvF4HUFzRXNkiXJVH+pv//mvMTVRJGyT6S29LRao2Wqj///UbLJxLHVPBVD9SWyADnc5p6REf/80LECxb6Uoxe3A7SY0MyGLYtINLEx4dXVEEvywRGZ7pcZEtrkjRpam6yOArCCRZNX/W3WOoGKq04z/0I/nt/UCYZf6GfovMahvTn21oZ7KnY4oNhuRFQuLsBID8cKC5qSQAC9j29EzH/80DECxNZYoT+xuAyRLbuBA8WRBNAN0Eq+mboAV7G62xjgCvi7cM0Ov1kOELDyoy/75RGdB8iaMZJ//S9SaPWe8oonsV4o5NO40K5FG2xNQZo78WcFOwcZjQQYvlIW6mGkh0f0ZiOBv/zQsQYE8jiVBDfVogDF7hUFzGQhTgpeTFkKEeXlL8syjVHZ03ZCDR2nSxR7Pq7np3LRaHB9adBZ07r018kdy3tjTX1KiSqekjtoMGlaAKNEYCZkOHzpZziA0FmwmEDZhMwfvxGWFAY3P/zQMQkE5DaRAjW1ohECprRK1TRrKRtJsNpyJrNfLvndF7g+gSnAyt351B5obyX8r/u//////rqgBmlYGs01hNdBQpEQyNoHhEMuUtgytPS01oLy0hu6NVNabzryYxwzfIqvKPaRFls//NCxDAQ+FYw8gjSKH7tHbMxfJlUtVpIB16SI0SEXBsf68/+/L//zfLll/nmj7F/1pcpZ/+Z3Ur5Eq5WpbM9MfPljxeb9Lamv/nXIuOSkVXJVRmzRxLpVUlMiBhOahamKCgmCgSwVXHX//NAxEgRU1YcAABGvSNI0Nzzp5SNpUj5aE3ZUqAvIkhEnnq1D3/yxFqrceAgEVIho8WKlhKVGBUJHjzvOh0JndVbtdYykkFQmdDoaDqCIaLKTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqr/80LEXRFYBf5ICEYAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",actionError:"data:audio/mp3;base64,//M4xAAUuVJUAUgYARcXFz4DgFAeKHAeChiIie7u+iaIibgYuAYGcTz3OIhf/Xd38v+J6J7u+gGBiw8P8PDw8PDHRw8/+O6GADo/h78BEQz8HAHh5+v+A4A6H/8AAEfIiZmZBXlicwVCsWj1//M4xAwYWvL/H4goAHY5EADTzSBEDUpfz/OhTMPGC+NAMWAgfAcAgHFSjhZD1PCRAUQFBjMUxMhGGuOVyndnXzvlH2dGLp+jbHsUykMTTFkX/+ror2841v+k//+MIOdv/GUVmvrpkGSqAYta//M4xAkXMsLmN89oAg/iwxc/bCcqY374+ZYv8ms1WUWQHQlTUFCJgbIjvMcd6K1m71G+ttB9Pt32bR6OptTZxtV0l/ov20P3b9/1/1f0dSCkh7FjKTdSRbQKiRLyBKFroXi7uP0CAvGOAWNk//M4xAsXwr7a/mPUwS+O1HXtgEWD0qvqiuk8xOG4QoqkAU5eFUIMYl8WHoK3Hcq2dx5p5fTjLvlFtLucF2SuaciHhslc4JhNnm5XU2pCS6c3n6+3/9GyFsk+xwWUQmSTumm7e5ggAEWsUBor//M4xAsXCrLXHntO7NUoPTkrtfAzt+Vmc1QDhdvOk4mMiMaxzG9AERpgbNKfJVp0/lfOvjfl9SWj5XpoXfIYVep7R0WTaUAGDj1IkMHy1Oyrfnfq2e37/22fJduLdKpFmVawABglJaFVG03L//M4xA0XurK+5HnLTJeQXpCP4L6DAO1L6jOnPOCx/wVBu4nAIHEgOCbXJbP5R/74hGiwND1iw7BYtTsqM6viJ1aoa14o/kdXwsdo2K6nxravl7al1/t+rUDz4J+IDtW7bbVAX+3gDwiUL8lI//M4xA0Xgq7qVnoO+zaBvGmHeGt1WGsEPh7RWPKQT82FEhiWLGeUlRHjRERFE6UUhhATy9J5Lcv+PM+axpVIkaHDqqvi+yUHdjW3sp2vTv+rav9F/Kt+Lm9QJFdnwrvt7SXHLLMAFKoGoNaO//M4xA4UurLyXkDFT5XYo5iQ9ckoWFh61037WowPpb5NVRWlrUmVVqxmNV/b6q+xuJVfY1VVXfDHvnL7TGOFMb6ifdZf0etaP//lZH6FbyuK5MUAYWLKUvoamjS5tZpdNnrWz2ASUXdsckcS//M4xBoUcVJ4IisMydfHkiAUZzmoyajzSOzOf1T9qlFq+ORkFFeC//HxXOxf/PKPG/CNxYO4+WKbl+Lv4VBQU6KKhP/K/+vK3+WXVv/9SobSZ1b/lb9SshjN9S/Upahjf/LMahjv6qx/DpAR//M4xCcS40IEABDN5DMaqqrVVVjWLGPjH7GpWZ/7dqr47Eq/7HQds4duAxGfzkjUTpoLSIv///qn///YxTAwQIGhyP/u7O/3P2eqNZ2k4so4sp2NFAYhnZ2couBNTEFNRTMuOTkuNVVVVVVV//M4xDoKqz1wDACNy1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",finishedOk:"data:audio/mp3;base64,//NAxAAQiXIEAUIQAPnfO/OdyAYGehP/U5Gqd+c/8785zoBi3QhCMpCVP+SpwM6AYGODH/8TvB+sPiMP5cMCcPygIAg7/lAff4IAgcBCD6ofD4diQbC0WaISi0SB3EAzA8WZgeALXg3/80LEGBoDGyZfglACgsRODRuWFcnMLm+eQEhRVQz5IePy5Icm/2Yn5GLY58hG3/J0JyAkq54WhVHosmkTmr//OYkIx+aejta5yObVf////fbcgJP/8oP//L/+w6tzSgKyRVuaO6jleQb/80DEDBdLJs4/2FABfMefV3NU1/Pu+MiMj5TGccdZM7mtR9poqDaj269WQ7clU5//OzTSgSRYFoL8eoeaaxhw+u9lq/9jn/NY7/3VPohqW+///////5ELQ+cqSm8F1QfSAHmkZP3Rz//zQsQJFgHCul9ZUACtuzlS2auXefrUxQUkTU+etjYpBz++SrehymLQlDIbPScu+uppsoFMTf/5uSiO7kpKKo1ONQ6/NbKkDv8iJj3OE/xEHRQl1Hv//4UPLBeWtoFTaaAttttstQEAgP/zQMQNF1PXDl+BUAJQhUAPuz0DJsKELcVBuf+NDz79ceCoSE/meeYSBfk6fQt91kZOYYxE3/+2YwtnyQxn////0JHMY+w/H5OSN/////zDGf5+p7///////kjSQxXTFGTyENw7gapG//NCxAoVUeLUAYKYABCegFrFga4BpxsoJJHKbdSSNc9rTRNTiRTtofSWUkUt1o19fWkoiIJAGaRYixFlM4yQ2FK7pDOlX6q0Ty0TFQNc910f521f//sEw5VqWAAa0xN/4IJysXXPUXWj//NAxBAYQc7CX9RQAD7L1moNjonkAxWFww4nWd9JCeciFDR6QsKgKiayKccZU7pWdi9jnzTd7C9HzWNZFE6VNY70udouzEPUInt/WdLG0YKntR5SDn/rBWjQpBIJjCnEADG403RAjmT/80LEChYx1rpfU2gCXkzXRRXSZBTHSfAUM4JVGmSJvr92ZalqJzOtY1C+n3qXd7ojHpJVph9KfTv2QF00S62UsnjyUkk+pbH0Uf+akuloBUN9eziVT/Kbf//1pSuJ/YIvIGDjaERizGT/80DEDRciBtzLgWgAnyaG0C1lwTMAJBpi0QiX27oskt/p2pJGx1aanoWQ9R1FMw1JVmtN1vSNE2ZKcL4kwhTIv+7hPkVpum9/54qQNoCB5od9Wc/WVZltv//9olVqRkBpkMgFbWp6pf/zQsQLFGGq0jfYOAJYZ33eO8O4ay/WUDUrPXKa0BSIWhEPEua1Jvfvd1CxL/0T7nGsppoSEjjaf6tN1ZTTR0SRqRO/+K/Ou/9CwVOnmrcSdMqBpY56yFdrrd+BUSsXF/De07+HriXkC//zQMQVEyIO7l9IOAINDw83zXmx47coMuc54Km6W6HL5VI1dHUoFS9CrJ/FZBL1apo8Bec67a3b/1JDQt4iEv/niXtWlQKNhcSXFrNXq9RoxmJPGjO8N0UWAZDR6hQZVGYs4HkcGtuz//NCxCMcqvMKX4VQAp6GEjERDVO0nICRTDDitdHYkPnkRhZTDzS5o/yvFTPc9GLCuTkX7OXt7fseehISK578TUFArC8lNQ06n//2Gg/Jy48bb9TWcmmH//93/Fyy29rQUkjgEwC74QXH//NAxAwTWb76X8xoAtGYil8Sf13FyrazOOzs66VgJUPYvJbKXWr+myS2SrPPf1KWiiiyOpLSWjRTZFlalf//omqn///Bl/gqd4NSP1sCtUboQAq2KfAZcuompqTyWlosplpidkw4Y4D/80LEGRRiJrZdUqAAgAJMBywG+KiSmxrWtlKfMj6SV386x0gTt/1OtvvS0CizI+umWkl/XUbP1ESayKkktX93dfzztT61SAEkgBQEjccjkciAYAa39zxcaPCYCFY9Q550fgIUwErGSDn/80DEIxwS+tZfhWgDSkw83gvvZTK1Iko2tI9rLpf1mZ+b1tMy4Nm06mXyUQY9ZLXyQUJTs9RmYhzjd0y+bppJEj+8v/+81fqQYzTN1ppIW/////+pA0UgaXaVuC5FVLzhMlMyKAyi3P/zQsQNF/I62AGBiABLhOwsg1FMBUmAa4LK0kU0GslRZGmpJb+3on0EzNJjN/Rt+6CJfdTUtj6KkvV+iRcjyBCdC2XzhNFUvstzFYtImJ1Ff9ZRIj59h0HQICe1It//pYprEApJJFaBDP/zQMQJFHJu5l/GaALvVEYd0Zlq2t/CXLznyPVFYKIeRsUnRSrZNn/r6CnqdQ5i8i3q1bKfpGtS0UV2JMeKP6knf2Nf0VaLGLbf//rR0WRKyF4MhrBplw9IE232uwC4QyFzCiYsW86d//NCxBIT0nLqXgpUxo9sRW7llTyJzaqvmIaPi3VgsG/mt9ykwfCQIU3OOY04ehw7/ppOC+OfQ45TbwRmsdOf9V//3NEgtEX//4aVAAFRFv32vuC0ePWVlkuksMhlhMTeSZcTTa6TL1tX//NAxB4T0m7aXgNUnlF5nDuaJdERvfmX6mCXNcKxO/V1USAU/9yGy3Aqp/1gZFJn/1f/82RAAwvUf/9n/4aVAAEIF91+vwCeBTp6TCmP9INghMQii720i+pAnlzzrUX1IHQtju2swb//80LEKRQCbtJeAJqGnOo/ai6SKYMAWbN+pyk9BZgJk//uSoi1brV+z//mZmmHNKZ13/4fAAEADstllgF/v972towZ0QXK8AA+PC5cN0PRTdbHW9k5M9zgqso/zibfk+1ZC/skJF/61jz/80DENROyfrpeA9qODemqMKr/rUHwRS1Nq9SKD//rZIcRZmT//kUEALSZ3D//6vAmzqOlAm8FwxbwFiX8VRMT/DEsPCqRbOw8Q1mIxxtBkkSi3qAOVm6F2/FRWYSyB/bF4bP/YoK6TP/zQsRBE7JuiRpulMRYCzO1V/Bgm+3///oVNQABURf9/bgBP/8U9MW42GQb/AyP4bURvzzGIYvAhJL0x3ooCTlFLZYWlmfqPt+PdVErEQz3RZKDyTFf60vWSP/2GMeX/qsr/+oxmB0RAP/zQMROEzJqxl4CWpcBmBvv9vwBTX/L98zdfopM4GlbpJtgUn1eHHhe8yxjmqcdp+upQEuTdtU3X9x6VTAMv2qIoiG/VYg/GN7/nhJgfH2Qf0qSKab/9STkueh1IDkmklAH5fflAZLq//NCxFwT8m7CXgPall7BM4igvw7JyAbmlbrY2Zmc95UkokD/dw4U/VNjZq2TcStZukKgZTDVrng8v/mRTZa8Yre35WIl+v9boo3/1pprJU2wFQAyBI5tJABr9/77Z/CdRCLoRWqEYrN6//NAxGgUEnKcfgPaq4nSU+eNbpg1JSTemhOK12Eir1L/WdGRPphACdmzWMj7GIgg/nV/2MkNzYiH1f+MUXviFwhf5ESNESoACMgKy22UAf/oZWmPclPEoiClH5cGwN0IZce9FABAWFr/80LEchQJ8p2+BhqSJMm0Y97b+IcHG7exHP1o1ozptGFJY96zeDFv2jvm5WapBNLZ6npCx39f9//xJxaUAGauYYNH0NxP49ytAzAugiwASDuCaDUpRXKKAro0F7oKjNigqK2bCimismz/80DEfRPCbrJeUYsW2bJs07zhUJE83J52vOGiuPNiokv/+//8tONhddJC82Fk8VX//+//+L/+X8vgX38/zyBLzXnwocMyMyN5mLPJsiIzhs/AZfSMyzTJX/zT7ykZlXbe+/dxn2i68f/zQsSJFBiqZBYAXknZ3GPTCDzzqqXjKRMJwaRC8G6IQU2nG4n4GGmXKsyZrv9S/Pz0LNbNUKz3/+L//YfmT5sn3CfNUKp/vzCv+a/PzXF+sMhBLEGQyJlrOq0Ao4kKJILAayo7MqEZp//zQMSUEvNmFAAIzcjp0sip/9jKz0mW6zFUj/RP6r+xkUjlR2Mj/dbbIrGRyodjWKh2MrGEVYys5TKUSGhweBQ8NIQysZWMrlRxEYLh0SRVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//NCxKMQi2IeUAhHXVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NAxLwR22HQAAgKnVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",finishedError:"data:audio/mp3;base64,/+MgxAAT5BX8AUEoAP///mNkc/////1Oc/6noc/9f///85/0O///r/kI2jf+pCf/Of/6HP/znOc7znPkIQgfFzvIRjhwOChCEIQOB8Ph853yHOc/zvEA4AAAAABF/UgSPmQKhhYBw4f/4yLECxVpXpgBmYgAKgCEXoz6Bj24G4gxlPDKhgAUoFxwtiGufjWFsGbKgF+Fh4noT/8i5uaFcZgLm1i2k0Mbam8ZAiwbYX0nExHIEEx2FBBP9J3S5vA6wAAltAA+pUwHS9e7B4EtiwD/4yDEERexdr1fz2ABlQrFTFPgXqqjQRzMFqGEeDUkEbrrMjtB+lU/tcuj+umyBDN1q/2GlFesgKLdHTqWo7RktruiRwdRlfa8J/BPRN+XHtgb0Y/AzC/2cZdiQgBuTa69W4S8bMAAXP/jIsQNF0k6wVZ5xSYzp4BvjV+T2Udd8R2+On01SiRpX5PGv6QjYpD1nBt8VZ0skMc9QHq1CpqJlnhoqVPKPHZYGqnIypEyWPAo8SPz0OhX//QJmyvHu/o8qM/6CtXSAhKu34FZMGcPy//jIMQLFcmeyX5pRy5R0BZEoNVh/FruKTVBRcR5rUTQpGyFqJx7CzcOcPjqoGcWJjOrcdzfsGXZAsFs2WdUKwcLiEIhWFB7w0GpuTa0XaMGgcqzrQsz/+kNKkIAFLvgP/OonDe+4DCL/+MixA4XgpK9XsKG9sYelKU8J/UGwRrm0l9/tjMjWMAOthrqK45iONNBfxi+hbllz+raE/If6Y91Y8jnb49Kxn0WeTT6ihhKnGOj8LGIiWQHuOogUc/66H/hHf+ZgAISpdgBncq6Fj3n/+MgxAwWYfa9fnqHEiCLPLVweu/9CIz6wGZbXVpry1Kg57ZhtwxXKh82K2giB2guGug/OyF9W1JuQftstdzJ1LPcEKLR5hTreUz/iBxskEVBY+CqAyCgQoz+yuNqlTn/4AmceACjmEH/4yLEDROBjtGfTFACEdnXxxr0lwp2+ghopgB4IjWCiAiL1Fns+pLqPWoKx2ncfG0InzW1JerftHxMpxQ801HHziUMvQeK6+SzxEliW+qFqaEByyhgQELpGQIgqtQ3JzIWch4kp17kEgX/4yDEGxrBdpwBmcgA2HbmH2R4LIKeMtsKwjCc/PT00y9l+qMGDIckAycFqvMfuJz7iPxLEzFQo5sngfD9d/3Lh+njFJYublz8Q5Rf////T2+4Yc+Lz9NurVqf9g+AKTd3AE4qU1E2vP/jIsQLFHFG1N/MMAKBuH8oS/ikp9KqlSqkwegTJgTLjeYlyndKcQSsCSPJJQRk9HC1Mj+l42THqWrK1khp0NFfwKks86SKw6IipGbLX60JBY92Jgpy/gAfjbqATePy62LBPlndI3QLQ//jIMQVEzHK0D5ITaKR7RryvYmOsx1fbM6V2JJnbpavk1iJiS8JPqV6qgWaY6uxhvzoBzN51ktGpofVlW2syZxMO0b3qgp3fgAeIb4DIseOluSeSAlQn7hrzAjZSZuJ1hX4vsT7jPQ//+MixCMTSZ7MPlmQ9/X6VzdY3edjF975aHZclh+kp0dpLevY334aVbI8HpNcncwNu/n4iv+WjdUp78AD9ctNSZuODC31N8HTqGeWmtBbEAMsHqNC8I2hSomoRqXy9S0ceUx3G2Xy1HlX/+MgxDETia7EHnnS35XKZuzIM1elCplWUbSZUyasFtQGBXZtvjOkd7fyKgXdgAP2BBZD9S9RP5NG79jO2pTIwZr7J8G1gzEtzOp2ieBOgOaBuVOqMyrSjT9MjQyjbxO0deP52eZM5EX/4yLEPRPR9rgeeccSHPRatU3MJQt+RHNLSiTFR+5aqgXbiAQBNtgMw1oA6FmGT6BBFIiJwdNzPHg4GwWjwaEZMdZCYHjSgwh4y0x3apZUmcmPvrb6vn+zvD/t5itoX1ejvi2HXytG9Pf/4yDESRRRirQZT1gDn6MGwmcJJfWqPBUiBf4SQhy0VHhgDRhoxv1ZsAhtWpzFYcHZOFihgb4zFC60dOmrlmXJiSomyBZ2YpiZigYKoIYAIGkiMAiwM8MMgCyIACjNhTPqzAnwKNMoKP/jIsRSJSlqhAma0AChCECX2WopEOPhhoiCKtdUFCCgKJA0W01lY2TxupC5HD8td2jhciVYlirC37fwM/kcmq9jHKMSipK977GKSz039KNFCnN8BxNkyKQ7PaifSU06ZWbLXIRrxeNesv/jIMQZFAk6zD/MMAKWQS5DeCUx/Y3lI4WvyH8L5+c/sB9iWul3X4R9zz7SwOgUyMBtTkhABBIUn1CLs///////9YC1KgVL/IbU4pxAdm9RCY22Fl3QDjRdhcbGgh/GwR2i7lo1CmY0/+MixCMT0ZasGMPKX2VNy3/JfvZB7an/a3fEB8Ky4hh6gJUlR8Y0bs8ZsysdHzOS5lQSpSjDL8SjagVdQAPkgaNhAzDy0U7Ny7ewjcdcD9uihn7LI+uRtxwzNFzBvzo+Dh1KUoG4nLxM/+MgxC8TQaK0HnnHLvdpTPyNVqWq8ps87Xc4tp+84odaBg0EhAGhAEm9SAVb+0XZfMCMzNKdBLCfWT9Cl5ZjyQd6VlAraiTVvTti91RulyZBkwXuoV3YXmOkKVn5U0rzPNMp1ltR6t7/4yLEPRQ5lqwYw1ETceczuhocBflPuWRyT5NPfTibxXsKc3HAHohRMAuHFwWYsiboQoSDQaBHij2BTtI1iU2jto6ycFqsuHDPAswsJlcSaDHBypOCRwT6zM81yPX/lTY4KIGgWSGQ4+n/4yDESBLppsg+SYaW///sUgodAxFs3LEahGcMIGORNKMFqJMRseA8gjpVF3QapN5RoQOoQ0DWBwiRkkW4R+n8dpREBICTA00IFzMpEJUo25plEqklOrq6VWSDH6/u3crqCEL0P4bJIP/jIsRXE9ECWADD0lknZeEGlVUAgUCFiDzDzCj4WjRpT2WWWUGKhkz4qKC1QsK/ioqLN9ISFhURmfWKi3//////////QDIVFBIHgZFaTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqv/jIMRjEaCVZAp5hlCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"},Object.assign(i.prototype,{elements:{start:new e("start",i.MEDIA.start),click:new e("click",i.MEDIA.click),actionOk:new e("actionOk",i.MEDIA.actionOk),actionError:new e("actionError",i.MEDIA.actionError),finishedOk:new e("finishedOk",i.MEDIA.finishedOk),finishedError:new e("finishedError",i.MEDIA.finishedError)},enabled:n.DEFAULT,globalEnabled:!0}),i}.apply(e,i))||(t.exports=r)},function(t,e){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in e){for(i=0;i<t.length;i++)o[n[0][i]]=t[i];return o}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(t){var n=r.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](i&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[r.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var i=o[t];i&&e.addEventListener(i,n,!1)},off:function(t,n){var i=o[t];i&&e.removeEventListener(i,n,!1)},raw:r};r?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(e[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[r.fullscreenEnabled])}}}),n?t.exports=s:window.screenfull=s):n?t.exports=!1:window.screenfull=!1}()},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var i=n(9);var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";var i=n(70),r=n(163),o=n(162),s=n(161);o=n(162);function a(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=a},function(t,e,n){t.exports=!n(167)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=s;var i=n(46),r=n(71);function o(t){this.afterTransform=function(e,n){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&t.push(n);r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}r.inherits=n(60),r.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("not implemented")},s.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";(function(e,i){t.exports=p;var r=n(111),o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r,s=n(36).Buffer;p.WritableState=f;var a=n(71);a.inherits=n(60);var c,u={deprecate:n(305)};!function(){try{c=n(82)}catch(t){}finally{c||(c=n(81).EventEmitter)}}();var l;s=n(36).Buffer;function h(){}function f(t,e){l=l||n(46),t=t||{},this.objectMode=!!t.objectMode,e instanceof l&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:s,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,s=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?r(o,i):o(i);t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,s);else{var a=y(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||v(t,n),i?o(g,t,n,a,s):g(t,n,a,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this),this.corkedRequestsFree.next=new w(this)}function p(t){if(l=l||n(46),!(this instanceof p||this instanceof l))return new p(t);this._writableState=new f(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),c.call(this)}function d(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function g(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),b(t,e)}function v(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;d(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var a=n.chunk,c=n.encoding,u=n.callback;if(d(t,e,!1,e.objectMode?1:a.length,a,c,u),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function m(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var n=y(e);return n&&(0===e.pendingcb?(m(t,e),e.finished=!0,t.emit("finish")):m(t,e)),n}function w(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}a.inherits(p,c),f.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(f.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},p.prototype.write=function(t,e,n){var i=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),s.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=h),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r(e,n)}(this,n):function(t,e,n,i){var o=!0;if(!s.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!e.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),r(i,a),o=!1}return o}(this,i,t,n)&&(i.pendingcb++,o=function(t,e,n,i,r){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new s(e,n)),e}(e,n,i),s.isBuffer(n)&&(i="buffer");var o=e.objectMode?1:n.length;e.length+=o;var a=e.length<e.highWaterMark;a||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest=new function(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}(n,i,r),c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else d(t,e,!1,o,n,i,r);return a}(this,i,t,e,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},p.prototype._write=function(t,e,n){n(new Error("not implemented"))},p.prototype._writev=null,p.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,b(t,e),n&&(e.finished?r(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)}}).call(this,n(80),n(173).setImmediate)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(this,n(80))},function(t,e,n){"use strict";var i=n(5),r=n(12),o=n(42),s=n(86),a=n(18),c=n(47),u=n(6),l=n(49),h=n(33),f=n(10),p=n(185),d=n(51).f,g=n(11).f,v=n(117),y=n(65),m="prototype",b="Wrong index!",w=i.ArrayBuffer,k=i.DataView,x=i.Math,A=i.RangeError,C=i.Infinity,S=w,_=x.abs,E=x.pow,O=x.floor,P=x.log,T=x.LN2,I=r?"_b":"buffer",j=r?"_l":"byteLength",B=r?"_o":"byteOffset";function M(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,u=c>>1,l=23===e?E(2,-24)-E(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=_(t))!=t||t===C?(r=t!=t?1:0,i=c):(i=O(P(t)/T),t*(o=E(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?l/o:l*E(2,1-u))*o>=2&&(i++,o/=2),i+u>=c?(r=0,i=c):i+u>=1?(r=(t*o-1)*E(2,e),i+=u):(r=t*E(2,u-1)*E(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function R(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,c=n-1,u=t[c--],l=127&u;for(u>>=7;a>0;l=256*l+t[c],c--,a-=8);for(i=l&(1<<-a)-1,l>>=-a,a+=e;a>0;i=256*i+t[c],c--,a-=8);if(0===l)l=1-s;else{if(l===o)return i?NaN:u?-C:C;i+=E(2,e),l-=s}return(u?-1:1)*i*E(2,l-e)}function D(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function N(t){return[255&t]}function L(t){return[255&t,t>>8&255]}function V(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function F(t){return M(t,52,8)}function q(t){return M(t,23,4)}function z(t,e,n){g(t[m],e,{get:function(){return this[n]}})}function U(t,e,n,i){var r=p(+n);if(r+e>t[j])throw A(b);var o=t[I]._b,s=r+t[B],a=o.slice(s,s+e);return i?a:a.reverse()}function H(t,e,n,i,r,o){var s=p(+n);if(s+e>t[j])throw A(b);for(var a=t[I]._b,c=s+t[B],u=i(+r),l=0;l<e;l++)a[c+l]=u[o?l:e-l-1]}if(s.ABV){if(!u(function(){w(1)})||!u(function(){new w(-1)})||u(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var G,$=(w=function(t){return l(this,w),new S(p(t))})[m]=S[m],W=d(S),J=0;W.length>J;)(G=W[J++])in w||a(w,G,S[G]);o||($.constructor=w)}var Y=new k(new w(2)),Z=k[m].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||c(k[m],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else w=function(t){l(this,w,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[j]=e},k=function(t,e,n){l(this,k,"DataView"),l(t,w,"DataView");var i=t[j],r=h(e);if(r<0||r>i)throw A("Wrong offset!");if(r+(n=void 0===n?i-r:f(n))>i)throw A("Wrong length!");this[I]=t,this[B]=r,this[j]=n},r&&(z(w,"byteLength","_l"),z(k,"buffer","_b"),z(k,"byteLength","_l"),z(k,"byteOffset","_o")),c(k[m],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return D(U(this,4,t,arguments[1]))},getUint32:function(t){return D(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,N,e)},setUint8:function(t,e){H(this,1,t,N,e)},setInt16:function(t,e){H(this,2,t,L,e,arguments[2])},setUint16:function(t,e){H(this,2,t,L,e,arguments[2])},setInt32:function(t,e){H(this,4,t,V,e,arguments[2])},setUint32:function(t,e){H(this,4,t,V,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,q,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,F,e,arguments[2])}});y(w,"ArrayBuffer"),y(k,"DataView"),a(k[m],s.VIEW,!0),e.ArrayBuffer=w,e.DataView=k},function(t,e,n){"use strict";var i=n(15);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},function(t,e,n){var i=n(5),r=n(115).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n(26)(s);t.exports=function(){var t,e,n,u=function(){var i,r;for(c&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){r.call(i,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i,r,o,s=n(27),a=n(204),c=n(133),u=n(137),l=n(5),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,v=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){m.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},p=function(t){delete y[t]},"process"==n(26)(h)?i=function(t){h.nextTick(s(m,t,1))}:g&&g.now?i=function(t){g.now(s(m,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(41),r=n(194),o=n(63),s=n(23);t.exports=n(125)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(14),r=n(53),o=n(10);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);u>a;)e[a++]=t;return e}},function(t,e,n){var i=n(423);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(72),r=n(8)("iterator"),o=n(63);t.exports=n(28).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(11),r=n(56);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(63),r=n(8)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(93),r=n(34);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){"use strict";var i=n(52),r=n(56),o=n(65),s={};n(18)(s,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(42),r=n(0),o=n(17),s=n(18),a=n(63),c=n(124),u=n(65),l=n(21),h=n(8)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,v,y){c(n,e,d);var m,b,w,k=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",A="values"==g,C=!1,S=t.prototype,_=S[h]||S["@@iterator"]||g&&S[g],E=_||k(g),O=g?A?k("entries"):E:void 0,P="Array"==e&&S.entries||_;if(P&&(w=l(P.call(new t)))!==Object.prototype&&w.next&&(u(w,x,!0),i||"function"==typeof w[h]||s(w,h,p)),A&&_&&"values"!==_.name&&(C=!0,E=function(){return _.call(this)}),i&&!y||!f&&!C&&S[h]||s(S,h,E),a[e]=E,a[x]=p,g)if(m={values:A?E:k("values"),keys:v?E:k("keys"),entries:O},y)for(b in m)b in S||o(S,b,m[b]);else r(r.P+r.F*(f||C),e,m);return m}},function(t,e,n){var i=n(33),r=n(34);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),c=i(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var i=n(33),r=n(34);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var i=n(7),r=n(132).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(t,e,n){var i=n(7),r=n(4),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(27)(Function.call,n(22).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(5).document;t.exports=i&&i.documentElement},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(97)("keys"),r=n(55);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(5),r=n(28),o=n(42),s=n(210),a=n(11).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(7),r=n(5).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){"use strict";n.r(e);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var r={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},o=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||r,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,i({prefix:this.prefix+":"+e+":"},this.options))},t}());var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var i=n.observers[t].indexOf(e);i>-1&&n.observers[t].splice(i,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})},t}();function a(t){return null==t?"":""+t}function c(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return r()?{}:{obj:t,k:i(o.shift())}}function u(t,e,n){var i=c(t,e,Object);i.obj[i.k]=n}function l(t,e){var n=c(t,e),i=n.obj,r=n.k;if(i)return i[r]}function h(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function p(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return f[t]}):t}var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}var v=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.data=n||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return g(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(o=t.split(".")),l(this.data,o)},e.prototype.addResource=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(i=e,e=(s=t.split("."))[1]),this.addNamespaces(e),u(this.data,s,i),r.silent||this.emit("added",t,e,n,i)},e.prototype.addResources=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(i=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=l(this.data,s)||{};i?function t(e,n,i){for(var r in n)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(e[r]=n[r]):t(e[r],n[r],i):e[r]=n[r];return e}(a,n,r):a=d({},a,n),u(this.data,s,a),o.silent||this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?d({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(s),y={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,i,r))}),e}},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}var k=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,s,a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r=n,s=a,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"].forEach(function(t){r[t]&&(s[t]=r[t])}),a.options=i,void 0===a.options.keySeparator&&(a.options.keySeparator="."),a.logger=o.create("translator"),a}return w(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),t=o.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t,e){var n=this;if("object"!==(void 0===e?"undefined":b(e))&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=this.extractFromKey(t[t.length-1],e),o=r.key,s=r.namespaces,a=s[s.length-1],c=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){var l=e.nsSeparator||this.options.nsSeparator;return a+l+o}return o}var h=this.resolve(t,e),f=h&&h.res,p=h&&h.usedKey||o,d=Object.prototype.toString.apply(f),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(f&&("string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(d)<0&&(!g||"[object Array]"!==d)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";if(i){var v="[object Array]"===d?[]:{};for(var y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var w=""+p+i+y;v[y]=this.translate(w,m({},e,{joinArrays:!1,ns:s})),v[y]===w&&(v[y]=f[y])}f=v}}else if(g&&"[object Array]"===d)(f=f.join(g))&&(f=this.extendTranslation(f,t,e));else{var k=!1,x=!1;this.isValidLookup(f)||void 0===e.defaultValue||(k=!0,f=e.defaultValue),this.isValidLookup(f)||(x=!0,f=o);var A=e.defaultValue&&e.defaultValue!==f&&this.options.updateMissing;if(x||k||A){this.logger.log(A?"updateKey":"missingKey",c,a,o,A?e.defaultValue:f);var C=[],S=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&S&&S[0])for(var _=0;_<S.length;_++)C.push(S[_]);else"all"===this.options.saveMissingTo?C=this.languageUtils.toResolveHierarchy(e.lng||this.language):C.push(e.lng||this.language);var E=function(t,i){n.options.missingKeyHandler?n.options.missingKeyHandler(t,a,i,A?e.defaultValue:f,A,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,a,i,A?e.defaultValue:f,A,e),n.emit("missingKey",t,a,i,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&e.count?C.forEach(function(t){n.pluralResolver.getPluralFormsOfKey(t,o).forEach(function(e){return E([t],e)})}):E(C,o))}f=this.extendTranslation(f,t,e,h),x&&f===o&&this.options.appendNamespaceToMissingKey&&(f=a+":"+o),x&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},e.prototype.extendTranslation=function(t,e,n,i){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(m({},n,{interpolation:m({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=m({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return void 0!==t&&null!==t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=y.handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,r=void 0,o=void 0,s=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(i)){var a=e.extractFromKey(t,n),c=a.key;r=c;var u=a.namespaces;e.options.fallbackNS&&(u=u.concat(e.options.fallbackNS));var l=void 0!==n.count&&"string"!=typeof n.count,h=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,f=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);u.forEach(function(t){e.isValidLookup(i)||(s=t,f.forEach(function(r){if(!e.isValidLookup(i)){o=r;var s=c,a=[s];if(e.i18nFormat&&e.i18nFormat.addLookupKeys)e.i18nFormat.addLookupKeys(a,c,r,t,n);else{var u=void 0;l&&(u=e.pluralResolver.getSuffix(r,n.count)),l&&h&&a.push(s+u),h&&a.push(s+=""+e.options.contextSeparator+n.context),l&&a.push(s+=u)}for(var f=void 0;f=a.pop();)e.isValidLookup(i)||(i=e.getResource(r,t,f,n))}}))})}}),{res:i,usedKey:r,usedLng:o,usedNS:s}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,i)},e}(s);function x(t){return t.charAt(0).toUpperCase()+t.slice(1)}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=o.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=x(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=function(t){t&&(n.isWhitelisted(t)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),i.forEach(function(t){r.indexOf(t)<0&&o(n.formatLanguageCode(t))}),r},t}();var C=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],S={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}};var _=function(){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.languageUtils=e,this.options=i,this.logger=o.create("pluralResolver"),this.rules=(n={},C.forEach(function(t){t.lngs.forEach(function(e){n[e]={numbers:t.nr,plurals:S[t.fc]}})}),n)}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getPluralFormsOfKey=function(t,e){var n=this,i=[],r=this.getRule(t);return r?(r.numbers.forEach(function(r){var o=n.getSuffix(t,r);i.push(""+e+o)}),i):i},t.prototype.getSuffix=function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var s=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():s():"v2"===this.options.compatibilityJSON||2===i.numbers.length&&1===i.numbers[0]?s():2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}(),E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=o.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||p),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?h(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?h(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?h(e.nestingPrefix):e.nestingPrefixEscaped||h("$t("),this.nestingSuffix=e.nestingSuffix?h(e.nestingSuffix):e.nestingSuffixEscaped||h(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){var i=this,r=void 0,o=void 0,s=void 0;function c(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(i.formatSeparator)<0)return l(e,t);var r=t.split(i.formatSeparator),o=r.shift().trim(),s=r.join(i.formatSeparator).trim();return i.format(l(e,o),s,n)};for(this.resetRegExp(),s=0;(r=this.regexpUnescape.exec(t))&&(o=u(r[1].trim()),t=t.replace(r[0],o),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;r=this.regexp.exec(t);){if(void 0===(o=u(r[1].trim())))if("function"==typeof this.options.missingInterpolationHandler){var h=this.options.missingInterpolationHandler(t,r);o="string"==typeof h?h:""}else this.logger.warn("missed to pass in variable "+r[1]+" for interpolating "+t),o="";else"string"!=typeof o&&(o=a(o));if(o=this.escapeValue?c(this.escape(o)):c(o),t=t.replace(r[0],o),this.regexp.lastIndex=0,++s>=this.maxReplaces)break}return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,r=void 0,o=E({},n);function s(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var i=n.join(",");i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),e&&(o=E({},e,o))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(o.applyPostProcessor=!1;i=this.nestingRegexp.exec(t);){if((r=e(s.call(this,i[1].trim(),o),o))&&i[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=a(r)),r||(this.logger.warn("missed to resolve "+i[1]+" for nesting "+t),r=""),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t},t}(),P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}var j=function(t){function e(n,i,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.backend=n,a.store=i,a.languageUtils=r.languageUtils,a.options=s,a.logger=o.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,s.backend,s),a}return I(e,t),e.prototype.queueLoad=function(t,e,n){var i=this,r=[],o=[],s=[],a=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var s=t+"|"+e;i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?o.indexOf(s)<0&&o.push(s):(i.state[s]=1,n=!1,o.indexOf(s)<0&&o.push(s),r.indexOf(s)<0&&r.push(s),a.indexOf(e)<0&&a.push(e)))}),n||s.push(t)}),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:r,pending:o,toLoadLanguages:s,toLoadNamespaces:a}},e.prototype.loaded=function(t,e,n){var i=this,r=t.split("|"),o=T(r,2),s=o[0],a=o[1];e&&this.emit("failedLoading",s,a,e),n&&this.store.addResourceBundle(s,a,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){var r,o,u,l,h,f;r=n.loaded,o=a,l=c(r,[s],Object),h=l.obj,f=l.k,h[f]=h[f]||[],u&&(h[f]=h[f].concat(o)),u||h[f].push(o),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(i.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,s=arguments[5];return t.length?this.backend[n](t,e,function(a,c){a&&c&&i<5?setTimeout(function(){r.read.call(r,t,e,n,i+1,2*o,s)},o):s(a,c)}):s(null,{})},e.prototype.load=function(t,e,n){var i=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(function(t){i.loadOne(t)})},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),t.forEach(function(t){e.forEach(function(e){n.loadOne(t+"|"+e,"re")})})},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=T(i,2),o=r[0],s=r[1];this.read(o,s,"read",null,null,function(i,r){i&&e.logger.warn(n+"loading namespace "+s+" for language "+o+" failed",i),!i&&r&&e.logger.log(n+"loaded namespace "+s+" for language "+o,r),e.loaded(t,i,r)})},e.prototype.saveMissing=function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,P({},o,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,i)},e}(s);function B(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}function L(){}var V=new(function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=D(this,t.call(this));if(r.options=B(n),r.services={},r.logger=o,r.modules={external:[]},i&&!r.isInitialized&&!n.isClone){var s;if(!r.options.initImmediate)return s=r.init(n,i),D(r,s);setTimeout(function(){r.init(n,i)},0)}return r}return N(e,t),e.prototype.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=R({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,B(e)),this.format=this.options.interpolation.format,n||(n=L),!this.options.isClone){this.modules.logger?o.init(i(this.modules.logger),this.options):o.init(null,this.options);var r=new A(this.options);this.store=new v(this.options.resources,this.options);var s=this.services;s.logger=o,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new _(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new O(this.options),s.backendConnector=new j(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))}),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new k(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var a=function(){t.changeLanguage(t.options.lng,function(e,i){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),n(e,i)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};if(this.language)i(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return i(t)});this.options.preload&&this.options.preload.forEach(function(t){return i(t)}),this.services.backendConnector.load(n,this.options.ns,e)}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&y.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,i=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(i){!function(t,i){n.translator.changeLanguage(i),i&&(n.emit("languageChanged",i),n.logger.log("languageChanged",i)),e&&e(t,function(){return n.t.apply(n,arguments)})}(i,t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,i=function t(e,i){for(var r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var a=R({},i);return"object"!==(void 0===i?"undefined":M(i))&&(a=n.options.overloadTranslationOptionHandler([e,i].concat(o))),a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,n.t(e,a)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],i=t.filter(function(t){return n.indexOf(t)<0});if(!i.length)return e();this.options.preload=n.concat(i),this.loadResources(e)},e.prototype.dir=function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,r=R({},this.options,n,{isClone:!0}),o=new e(r);return["store","services","language"].forEach(function(e){o[e]=t[e]}),o.translator=new k(o.services,o.options),o.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.emit.apply(o,[t].concat(n))}),o.init(r,i),o.translator.options=o.options,o},e}(s));n.d(e,"changeLanguage",function(){return F}),n.d(e,"cloneInstance",function(){return q}),n.d(e,"createInstance",function(){return z}),n.d(e,"dir",function(){return U}),n.d(e,"exists",function(){return H}),n.d(e,"getFixedT",function(){return G}),n.d(e,"init",function(){return $}),n.d(e,"loadLanguages",function(){return W}),n.d(e,"loadNamespaces",function(){return J}),n.d(e,"loadResources",function(){return Y}),n.d(e,"off",function(){return Z}),n.d(e,"on",function(){return K}),n.d(e,"setDefaultNamespace",function(){return Q}),n.d(e,"t",function(){return X}),n.d(e,"use",function(){return tt});e.default=V;var F=V.changeLanguage.bind(V),q=V.cloneInstance.bind(V),z=V.createInstance.bind(V),U=V.dir.bind(V),H=V.exists.bind(V),G=V.getFixedT.bind(V),$=V.init.bind(V),W=V.loadLanguages.bind(V),J=V.loadNamespaces.bind(V),Y=V.loadResources.bind(V),Z=V.off.bind(V),K=V.on.bind(V),Q=V.setDefaultNamespace.bind(V),X=V.t.bind(V),tt=V.use.bind(V)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(3),n(2),n(75),n(142)],void 0===(r=function(t,e,n,i,r){var s={MIN_CELL_SIZE:12,DEFAULT_CELL_SIZE:20,MIN_INTERNAL_MARGIN:2},a={NORMAL:0,INVERTED:1,HIDDEN:2,LOCKED:4,MARKED:8,TRANSPARENT:16},c=function(t){function r(t,n,i,o,a,c,u,l,h,f){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,n,i));return p.pos.x=o,p.pos.y=a,p.nCols=Math.max(1,c),p.nRows=Math.max(1,u),p.cellWidth=Math.max(l,s.MIN_CELL_SIZE),p.cellHeight=Math.max(h,s.MIN_CELL_SIZE),p.dim.width=l*p.nCols,p.dim.height=h*p.nRows,p.setChars(" "),p.preferredBounds=new e.Rectangle(p.pos,p.dim),p.setBorder(f),p.cursorTimer=new e.Timer(function(){return p.blink(0)},500,!1),p.cursorEnabled=!1,p.useCursor=!1,p.wildTransparent=!1,p.cursor=new e.Point,p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),o(r,[{key:"setChars",value:function(t){this.chars=[],this.answers=[],this.attributes=[];for(var e=0;e<this.nRows;e++){var n=e<t.length?t[e]:"";this.chars[e]=n.split(""),this.answers[e]=[],this.attributes[e]=[];for(var i=0;i<this.nCols;i++)i>=n.length&&(this.chars[e][i]=" "),this.answers[e][i]=this.chars[e][i],this.attributes[e][i]=a.NORMAL}}},{key:"randomize",value:function(){for(var t=0;t<this.nRows;t++)for(var e=0;e<this.nCols;e++)this.chars[t][e]===this.wild&&(this.chars[t][e]=this.randomChars.charAt(Math.floor(Math.random()*this.randomChars.length)))}},{key:"setCellAttributes",value:function(t,e){var n=a.LOCKED;this.wildTransparent?n|=a.TRANSPARENT:n|=a.INVERTED|a.HIDDEN;for(var i=0;i<this.nRows;i++)for(var r=0;r<this.nCols;r++)t&&this.chars[i][r]===this.wild?this.attributes[i][r]=n:(this.attributes[i][r]=a.NORMAL,e&&(this.chars[i][r]=" "))}},{key:"setCellLocked",value:function(t,e,n){t>=0&&t<this.nCols&&e>=0&&e<this.nRows&&(this.attributes[e][t]=n?a.LOCKED|(this.wildTransparent?a.TRANSPARENT:a.INVERTED|a.HIDDEN):a.NORMAL)}},{key:"getItemFor",value:function(t,n){if(!this.isValidCell(t,n))return null;for(var i=new e.Point,r=!1,o=!1,s=0;s<t;s++)0!=(this.attributes[n][s]&a.LOCKED)?r||(o&&i.x++,r=!0):(o=!0,r=!1);r=!1,o=!1;for(var c=0;c<n;c++)0!=(this.attributes[c][t]&a.LOCKED)?r||(o&&i.y++,r=!0):(o=!0,r=!1);return i}},{key:"setCursorEnabled",value:function(t){this.cursorEnabled=t,!0===t?this.startCursorBlink():this.stopCursorBlink()}},{key:"startCursorBlink",value:function(){this.useCursor&&this.cursorEnabled&&this.cursorTimer&&!this.cursorTimer.isRunning()&&(this.blink(1),this.cursorTimer.start())}},{key:"stopCursorBlink",value:function(){this.cursorTimer&&this.cursorTimer.isRunning()&&(this.cursorTimer.stop(),this.blink(-1))}},{key:"moveCursor",value:function(t,e,n){if(this.useCursor){var i=this.findNextCellWithAttr(this.cursor.x,this.cursor.y,n?a.LOCKED:a.NORMAL,t,e,!1);this.cursor.equals(i)||this.setCursorAt(i.x,i.y,n)}}},{key:"findFreeCell",value:function(t,n,i){var r=null;if(t&&(0!==n||0!==i))for(var o=new e.Point(t);null===r&&(o.x+=n,o.y+=i,!(o.x<0||o.x>=this.nCols||o.y<0||o.y>=this.nRows));)this.getCellAttribute(o.x,o.y,a.LOCKED)||(r=o);return r}},{key:"findNextCellWithAttr",value:function(t,n,i,r,o,s){for(var a=new e.Point(t+r,n+o);a.x<0?(a.x=this.nCols-1,a.y>0?a.y--:a.y=this.nRows-1):a.x>=this.nCols&&(a.x=0,a.y<this.nRows-1?a.y++:a.y=0),a.y<0?(a.y=this.nRows-1,a.x>0?a.x--:a.x=this.nCols-1):a.y>=this.nRows&&(a.y=0,a.x<this.nCols-1?a.x++:a.x=0),(a.x!==t||a.y!==n)&&this.getCellAttribute(a.x,a.y,i)!==s;)a.x+=r,a.y+=o;return a}},{key:"setCursorAt",value:function(t,e,n){this.stopCursorBlink(),this.isValidCell(t,e)&&(this.cursor.x=t,this.cursor.y=e,this.useCursor=!0,n&&this.getCellAttribute(t,e,a.LOCKED)?this.moveCursor(1,0,n):this.cursorEnabled&&this.startCursorBlink())}},{key:"setUseCursor",value:function(t){this.useCursor=t}},{key:"getCursor",value:function(){return this.cursor}},{key:"countCharsLike",value:function(t){for(var e=0,n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.chars[n][i]===t&&e++;return e}},{key:"getNumCells",value:function(){return this.nRows*this.nCols}},{key:"countCoincidences",value:function(t){var e=0;if(this.answers)for(var n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.isCellOk(i,n,t)&&e++;return e}},{key:"isCellOk",value:function(t,e,n){var i=!1;if(this.isValidCell(t,e)){var r=this.chars[e][t];if(r!==this.wild){var o=this.answers[e][t];(r===o||!n&&r.toUpperCase()===o.toUpperCase())&&(i=!0)}}return i}},{key:"getLogicalCoords",value:function(t){if(!this.contains(t))return null;var n=Math.floor((t.x-this.pos.x)/this.cellWidth),i=Math.floor((t.y-this.pos.y)/this.cellHeight);return this.isValidCell(n,i)?new e.Point(n,i):null}},{key:"isValidCell",value:function(t,e){return t<this.nCols&&e<this.nRows&&t>=0&&e>=0}},{key:"setCharAt",value:function(t,e,n){this.isValidCell(t,e)&&(this.chars[e][t]=n,this.repaintCell(t,e))}},{key:"getCharAt",value:function(t,e){return this.isValidCell(t,e)?this.chars[e][t]:" "}},{key:"getStringBetween",value:function(t,e,n,i){var r="";if(this.isValidCell(t,e)&&this.isValidCell(n,i)){var o=n-t,s=i-e;if(0===o||0===s||Math.abs(o)===Math.abs(s)){var a=Math.max(Math.abs(o),Math.abs(s));a>0&&(o/=a,s/=a);for(var c=0;c<=a;c++)r+=this.getCharAt(t+o*c,e+s*c)}}return r}},{key:"setAttributeBetween",value:function(t,e,n,i,r,o){if(this.isValidCell(t,e)&&this.isValidCell(n,i)){var s=n-t,a=i-e;if(0===s||0===a||Math.abs(s)===Math.abs(a)){var c=Math.max(Math.abs(s),Math.abs(a));c>0&&(s/=c,a/=c);for(var u=0;u<=c;u++)this.setAttribute(t+s*u,e+a*u,r,o)}}}},{key:"setAttribute",value:function(t,e,n,i){this.isValidCell(t,e)&&(this.attribute!==a.MARKED||i||this.repaintCell(t,e),this.attributes[e][t]&=~n,this.attributes[e][t]|=i?n:0,(n!==a.MARKED||i)&&this.repaintCell(t,e))}},{key:"setAllCellsAttribute",value:function(t,e){for(var n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.setAttribute(i,n,t,e)}},{key:"getCellAttribute",value:function(t,e,n){return!!this.isValidCell(t,e)&&0!=(this.attributes[e][t]&n)}},{key:"getCellRect",value:function(t,n){return new e.Rectangle(this.pos.x+t*this.cellWidth,this.pos.y+n*this.cellHeight,this.cellWidth,this.cellHeight)}},{key:"getCellBorderBounds",value:function(t,e){var n=this.getCellAttribute(t,e,a.MARKED);if(!this.border&&!n)return this.getCellRect(t,e);var i=this.getBoxBaseResolve(),r=n?i.markerStroke:i.borderStroke;return this.getCellRect(t,e).grow(r.lineWidth,r.lineWidth)}},{key:"repaintCell",value:function(t,e){this.container&&this.container.invalidate(this.getCellBorderBounds(t,e)).update()}},{key:"getPreferredSize",value:function(){return this.preferredBounds.dim}},{key:"getMinimumSize",value:function(){return new e.Dimension(s.MIN_CELL_SIZE*this.nCols,s.MIN_CELL_SIZE*this.nRows)}},{key:"getScaledSize",value:function(t){return new e.Dimension(n.roundTo(t*this.preferredBounds.dim.width,this.nCols),n.roundTo(t*this.preferredBounds.dim.height,this.nRows))}},{key:"setBounds",value:function(t,e,n,i){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setBounds",this).call(this,t,e,n,i),this.cellWidth=this.dim.width/this.nCols,this.cellHeight=this.dim.height/this.nRows}},{key:"updateContent",value:function(t,n){var i=this.getBoxBaseResolve();t.font=i.font.cssFont(),t.textBaseline="hanging",i.prepareText(t,"W",this.cellWidth-2*s.MIN_INTERNAL_MARGIN,this.cellHeight-2*s.MIN_INTERNAL_MARGIN);for(var r=[],o=(this.cellHeight-i.font.getHeight())/2,c=0;c<this.nRows;c++)for(var u=0;u<this.nCols;u++){if(this.getCellBorderBounds(u,c).intersects(n)){var l=this.attributes[c][u];if(0==(l&a.TRANSPARENT)){var h=0!=(l&a.INVERTED),f=0!=(l&a.MARKED),p=this.useCursor&&this.cursor.x===u&&this.cursor.y===c,d=this.getCellRect(u,c);if(t.fillStyle=p&&this.cursorBlink?i.inactiveColor:h?i.textColor:i.backColor,d.fill(t),t.strokeStyle="black",0==(l&a.HIDDEN)&&(r[0]=this.chars[c][u],r[0])){var g=d.pos.x+(this.cellWidth-t.measureText(r[0]).width)/2,v=d.pos.y+o;if(i.shadow){var y=Math.max(1,i.font.size/10);t.fillStyle=i.shadowColor,t.fillText(r[0],g+y,v+y)}t.fillStyle=h?i.backColor:this.isAlternative()?i.alternativeColor:i.textColor,t.fillText(r[0],g,v)}(this.border||f)&&(t.strokeStyle=i.borderColor,i[f?"markerStroke":"borderStroke"].setStroke(t),f&&(t.globalCompositeOperation="xor"),d.stroke(t),f&&(t.globalCompositeOperation="source-over")),t.strokeStyle="black",e.Stroke.prototype.setStroke(t)}}}return!0}},{key:"blink",value:function(t){this.useCursor&&(this.cursorBlink=1===t||-1!==t&&!this.cursorBlink,this.repaintCell(this.cursor.x,this.cursor.y))}},{key:"end",value:function(){this.cursorTimer&&(this.cursorTimer.stop(),this.cursorTimer=null)}}],[{key:"createEmptyGrid",value:function(t,e,n,i,o,s){var a=new r(t,e,o.bb,n,i,o.ncw,o.nch,o.w,o.h,o.border);return a.wild=o.wild,a.randomChars=o.randomChars,a.wildTransparent=s,a}}]),r}();return Object.assign(c.prototype,{nRows:1,nCols:1,chars:null,answers:null,attributes:null,cellWidth:20,cellHeight:20,preferredBounds:null,wild:r.prototype.wild,randomChars:r.prototype.randomChars,cursorEnabled:!1,useCursor:!1,cursor:null,cursorBlink:!1,cursorTimer:null,wildTransparent:!1}),c.defaults=s,c.flags=a,c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3)],void 0===(r=function(t,e,n,i,r,l){var h=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),n}();Object.assign(h.prototype,{useIdAss:!1});var f=function(h){function f(t,e,n){return a(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,e,n))}return u(f,e.Panel),s(f,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildVisualComponents",this).call(this),this.clear();var e=this.act.abc.primary,i=this.act.abc.secondary,r=this.act.abc.solvedPrimary;if(e&&i){if(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),i.imgName&&(i.setImgContent(this.act.project.mediaBag,null,!1),!i.animatedGifFile||i.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBgB=t("<span/>").css({"background-image":"url("+i.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),r&&r.imgName&&r.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var s=[e,i];r&&s.push(r),this.act.acp.generateContent(e.nch,e.ncw,s,!1)}this.bgA=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bgB=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,i),this.bgA.setContent(e,r||null),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.setContent(i),this.$animatedBgB&&this.bgB.setCellAttr("tmpTrans",!0),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}}},{key:"initActivity",value:function(){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB){var t=[];this.act.scramble.primary&&t.push(this.bgA),this.act.scramble.secondary&&t.push(this.bgB),t.length>0&&this.shuffle(t,!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}}},{key:"updateContent",value:function(t){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateContent",this).call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){if(this.$canvas&&this.$canvas.remove(),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"setBounds",this).call(this,e),this.bgA||this.bgB){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgA){var n=this.bgA.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"})}if(this.$animatedBgB&&this.bgB){var i=this.bgB.getBounds();this.$animatedBgB.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null,n=void 0,i=void 0;if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new l.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new l.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var s=!1,a=!1,c=!1,u=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;s=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var h=this.bc.origin;if(this.bc.end(),(n=this.bgA?this.bgA.findActiveBox(h):null)?i=this.bgB?this.bgB.findActiveBox(e):null:(i=this.bgB?this.bgB.findActiveBox(h):null)&&(n=this.bgA?this.bgA.findActiveBox(e):null,c=!0),n&&i&&-1!==n.idAss&&-1!==i.idAss&&this.act.abc.secondary){var f=!1,p=n.getDescription(),d=i.getDescription(),g=this.act.abc.secondary.getActiveBoxContent(n.idOrder);(n.idOrder===i.idOrder||i.getContent().isEquivalent(g,!0))&&(f=!0,n.idAss=-1,i.idAss=-1,this.act.abc.solvedPrimary?(n.switchToAlt(this.ps),a=a||n.playMedia(this.ps,u)):(a=c?a||n.playMedia(this.ps,u):a||i.playMedia(this.ps,u),n.clear()),i.clear(),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var v=this.bgB?this.bgB.countCellsWithIdAss(-1):0;this.ps.reportNewAction(this.act,"MATCH",p,d,f,v),f&&v===this.bgB.getNumCells()?this.finishActivity(!0):a||this.playEvent(f?"actionOk":"actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(s)break;if(this.ps.stopMedia(1),n=this.bgA?this.bgA.findActiveBox(e):null,i=this.bgB?this.bgB.findActiveBox(e):null,n&&(!this.act.useOrder||n.idOrder===this.currentItem)||!this.act.useOrder&&i&&-1!==i.idAss){this.act.dragCells?this.bc.begin(e,n||i):this.bc.begin(e),(a=a||(n||i).playMedia(this.ps,u))||this.playEvent("click");var y=n?this.bgA:this.bgB;y&&y.$accessibleDiv&&(y=n?this.bgB:this.bgA)&&y.$accessibleDiv&&y.$accessibleDiv.focus()}}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}u.forEach(function(t){return t()}),t.preventDefault()}}}]),f}();return Object.assign(f.prototype,{bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),h.Panel=f,e.CLASSES["@associations.SimpleAssociation"]=h,h}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(){var t=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.id=e),n&&(this.$div=n)}return r(t,[{key:"getDisplayValue",value:function(){var t=this.countDown>0?this.countDown-this.value:this.value;return this.displayDiffFrom&&(t-=this.displayDiffFrom.value),Math.max(0,Math.min(this.MAX_DISPLAY_VALUE,t))}},{key:"refreshDisplay",value:function(){this.$div&&this.$div.html(this.enabled?(this.getDisplayValue()+1e3).toString().substr(1):"000")}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.$div&&(this.refreshDisplay(),this.$div.css("opacity",this.enabled?1:.3)))}},{key:"setCountDown",value:function(t){this.countDown!==(this.countDown=t)&&this.refreshDisplay()}},{key:"incValue",value:function(){this.value++,this.enabled&&this.refreshDisplay()}},{key:"setValue",value:function(t){this.enabled&&this.value!==(this.value=t)&&this.refreshDisplay()}}]),t}();return Object.assign(t.prototype,{id:"",$div:null,value:0,countDown:0,enabled:!0,MAX_DISPLAY_VALUE:999,displayDiffFrom:null}),t}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2),n(45)],void 0===(r=function(t,e,n){var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.bb=new n(null),this.text=[]}return o(i,[{key:"setProperties",value:function(i){var r=this;e.attrForEach(i.get(0).attributes,function(t,n){switch(t){case"rows":r.ncw=Number(n);break;case"columns":r.nch=Number(n);break;case"cellWidth":r.w=Number(n);break;case"cellHeight":r.h=Number(n);break;case"border":r.border=e.getBoolean(n);break;case"wild":case"randomChars":r[t]=n}}),i.children("style:first").each(function(e,i){r.bb=(new n).setProperties(t(i))}),i.find("text:first > row").each(function(t,e){return r.text.push(e.textContent)});for(var o=this.text.length;o<this.nch;o++)this.text[o]="";return this}},{key:"countWildChars",value:function(){var t=0;if(this.text)for(var e=0;e<this.nch;e++)for(var n=0;n<this.ncw;n++)this.text[e].charAt(n)===this.wild&&t++;return t}},{key:"getNumChars",value:function(){return this.ncw*this.nch}},{key:"setCharAt",value:function(t,e,n){t>=0&&t<this.ncw&&e>=0&&e<this.nch&&(this.text[e]=this.text[e].substring(0,t)+n+this.text[e].substring(t+1))}}]),i}();return Object.assign(i.prototype,{ncw:1,nch:1,w:20,h:20,border:!1,bb:null,text:null,wild:"*",randomChars:e.settings.RANDOM_CHARS}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(2)],void 0===(r=function(t){var e=function(){function e(t){s(this,e),this.project=t}return o(e,[{key:"setProperties",value:function(t){return this.className=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),this}},{key:"init",value:function(){}},{key:"generateContent",value:function(t,n,i,r){return this.process(new e.ActiveBagContentKit(t,n,i,r))}},{key:"process",value:function(t){return!1}}],[{key:"getProvider",value:function(n,i){var r=null;if(n&&i){var o=(n.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),s=e.CLASSES[o];s?(r=new s(i)).setProperties(n):t.log("error","Unknown AutoContentProvider class: "+o)}return r}}]),e}();return Object.assign(e.prototype,{project:null}),e.ActiveBagContentKit=function(){return function t(e,n,i,r){s(this,t),this.nRows=e,this.nCols=n,this.content=i,this.useIds=r}}(),e.CLASSES={"@tagreplace.TagReplace":e},e}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(76),n(254)],void 0===(r=function(t,e,n){var i=function(i){function r(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),o(r,[{key:"setProperties",value:function(e){var i=this;return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setProperties",this).call(this,e),e.children("jump").each(function(e,r){var o=(new n).setProperties(t(r));"upper"===o.id?i.upperJump=o:"lower"===o.id&&(i.lowerJump=o)}),this}},{key:"resolveJump",value:function(t,e){var n=this;return t>=0&&e>=0&&(null!==this.upperJump&&t>this.upperJump.threshold&&(this.upperJump.time<=0||e<this.upperJump.time)?n=this.upperJump:null!==this.lowerJump&&(t<this.lowerJump.threshold||this.lowerJump.time>0&&e>this.lowerJump.time)&&(n=this.lowerJump)),n}}]),r}();return Object.assign(i.prototype,{upperJump:null,lowerJump:null}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(259)],void 0===(r=function(t,e){var n=function(){function n(t,i,r){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.mc=t,this.ps=r,t.mediaType){case"RECORD_AUDIO":n.AUDIO_BUFFERS&&(this.clearAudioBuffer(t.recBuffer),n.AUDIO_BUFFERS[t.recBuffer]=new e(t.length));case"PLAY_RECORDED_AUDIO":this.useAudioBuffer=!0;break;case"PLAY_AUDIO":case"PLAY_VIDEO":this.mbe=i.getElement(t.mediaFileName,!0)}}return o(n,[{key:"realize",value:function(){var e=this;this.mbe&&this.mbe.build(function(n){n.data&&n.data.pause&&!n.data.paused&&!n.data.ended&&n.data.currentTime&&n.data.pause(),"video"!==n.type&&"anim"!==n.type||!n.data||(e.$visualComponent=t(n.data),e.$visualComponent.css("z-index",20))})}},{key:"playNow",value:function(e){var i=this;if(this.useAudioBuffer){if(n.AUDIO_BUFFERS){var r=n.AUDIO_BUFFERS[this.mc.recBuffer];r&&("RECORD_AUDIO"===this.mc.mediaType?r.record():r.play())}}else this.mbe&&this.mbe.build(function(){if(i.mbe.data){var e=!1,n=t(i.mbe.data);n.off(),i.mc.to>0&&n.on("timeupdate",function(){e&&i.mbe.data.currentTime>=i.mc.to/1e3&&(n.off("timeupdate"),i.mbe.data.pause())}),e=!0,i.mbe.data.paused||i.mbe.data.ended||!i.mbe.data.currentTime||i.mbe.data.pause(),i.mbe.data.currentTime=i.mc.from>0?i.mc.from/1e3:0,i.mbe.data.play()}})}},{key:"play",value:function(t){this.stopAllAudioBuffers(),this.playNow(t)}},{key:"stop",value:function(){this.useAudioBuffer?this.stopAudioBuffer(this.mc.recBuffer):this.mbe&&this.mbe.data&&this.mbe.data.pause&&!this.mbe.data.paused&&!this.mbe.data.ended&&this.mbe.data.currentTime&&this.mbe.data.pause()}},{key:"clear",value:function(){this.stop(),this.useAudioBuffer&&this.clearAudioBuffer(this.mc.recBuffer)}},{key:"clearAudioBuffer",value:function(t){n.AUDIO_BUFFERS&&t>=0&&t<n.AUDIO_BUFFERS.length&&n.AUDIO_BUFFERS[t]&&(n.AUDIO_BUFFERS[t].clear(),n.AUDIO_BUFFERS[t]=null)}},{key:"clearAllAudioBuffers",value:function(){var t=this;n.AUDIO_BUFFERS&&n.AUDIO_BUFFERS.forEach(function(e,n){return t.clearAudioBuffer(n)})}},{key:"countActiveBuffers",value:function(){return n.AUDIO_BUFFERS?n.AUDIO_BUFFERS.reduce(function(t,e){return t+e?1:0},0):0}},{key:"stopAllAudioBuffers",value:function(){n.AUDIO_BUFFERS&&n.AUDIO_BUFFERS.forEach(function(t){return t?t.stop():null})}},{key:"stopAudioBuffer",value:function(t){n.AUDIO_BUFFERS&&t>=0&&t<n.AUDIO_BUFFERS.length&&n.AUDIO_BUFFERS[t]&&n.AUDIO_BUFFERS[t].stop()}},{key:"checkVisualComponentBounds",value:function(t){}},{key:"setVisualComponentVisible",value:function(t){}},{key:"linkTo",value:function(t){this.bx=t,this.bx&&this.$visualComponent&&this.bx.setHostedComponent(this.$visualComponent)}}]),n}();return n.REC_ENABLED="undefined"!=typeof MediaRecorder&&"undefined"!=typeof navigator,n.REC_ENABLED&&(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),n.AUDIO_BUFFERS=n.REC_ENABLED?[]:null,Object.assign(n.prototype,{mc:null,ps:null,bx:null,$visualComponent:null,useAudioBuffer:!1,mbe:null}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function s(t,e,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};var c=!!window.FontFace;function u(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,s=0;s<n.length;s+=1)if(i[r]===n[s]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function d(t,e,n){function i(){a&&r&&o&&(a(s),a=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=!0,s=null,a=n||null;c?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,s=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),l(t,"head",e)}function g(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=u(t,"script",{src:e}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function v(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,b(t)}}function m(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function k(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function A(t){return t.a+t.f}function C(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function _(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,i)}E(t,"inactive")}function E(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,A(n)):t.h[e]())}function O(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){l(t.c,"body",t.a)}function T(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+C(t)+";font-weight:"+t.f+"00;"}function I(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function j(t,e,n,i,r,o,s){this.v=t,this.B=e,this.c=n,this.a=i,this.s=s||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.m=new O(this.c,this.s),t=T(t=new k(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=t,t=T(t=new k(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=t,t=T(t=new k("serif",A(this.a))),this.j.a.style.cssText=t,t=T(t=new k("sans-serif",A(this.a))),this.m.a.style.cssText=t,P(this.g),P(this.h),P(this.j),P(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise(function(i,r){!function o(){a()-n>=e.f?r():t.fonts.load(function(t){return C(t)+" "+t.f+"00 300px "+x(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(t,n){r=setTimeout(n,e.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var B={D:"serif",C:"sans-serif"},M=null;function R(){if(null===M){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);M=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return M}function D(t,e,n){for(var i in B)if(B.hasOwnProperty(i)&&e===t.f[B[i]]&&n===t.f[B[i]])return!0;return!1}function N(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=R()&&D(t,n,i)),e?a()-t.A>=t.w?R()&&D(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?L(t,t.v):L(t,t.B):function(t){setTimeout(s(function(){N(this)},t),50)}(t):L(t,t.v)}function L(t,e){setTimeout(s(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),e(this.a)},t),0)}function V(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}j.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),N(this)};var F=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),E(t,"active")):_(t.a))}function z(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function U(t,e,n,i,r){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,a=i||{};if(0===n.length&&o)_(e.a);else{e.f+=n.length,o&&(e.j=o);var c,u=[];for(c=0;c<n.length;c++){var l=n[c],h=a[l.c],p=e.a,d=l;if(p.g&&f(p.f,[p.a.c("wf",d.c,A(d).toString(),"loading")]),E(p,"fontloading",d),p=null,null===F)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);F=d?42<parseInt(d[1],10):!g}else F=!1;p=F?new I(s(e.g,e),s(e.h,e),e.c,l,e.s,h):new j(s(e.g,e),s(e.h,e),e.c,l,e.s,t,h),u.push(p)}for(c=0;c<u.length;c++)u[c].start()}},0)}function H(t,e){this.c=t,this.a=e}function G(t,e){this.c=t,this.a=e}V.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),E(e,"fontactive",t),this.m=!0,q(this)},V.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,A(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),f(e.f,i,r)}E(e,"fontinactive",t),q(this)},z.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),E(t,"loading")}(e);var i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(t.a,n,t.c),o=new V(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){U(t,o,e,n,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},H.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var r=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(r["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var c=o[a].fontfamily;void 0!=o[a].fontStyle&&void 0!=o[a].fontWeight?(i=o[a].fontStyle+o[a].fontWeight,s.push(new k(c,i))):s.push(new k(c))}t(s)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},G.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new v;for(e=0,n=i.length;e<n;e++)d(this.c,i[e],y(s));var a=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var c=i[1].split(","),u=0;u<c.length;u+=1)a.push(new k(i[0],c[u]));else a.push(new k(i[0]));m(s,function(){t(a,o)})};var $="https://fonts.googleapis.com/css";var W={latin:"BESbswy","latin-ext":"Ã§Ã¶Ã¼ÄÅ",cyrillic:"Ð¹ÑÐ",greek:"Î±Î²Î£",khmer:"ááá",Hanuman:"ááá"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Y={i:"i",italic:"i",n:"n",normal:"n"},Z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function X(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){var e=new v,n=this.c,i=new function(t,e){this.c=t||$,this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new function(t){this.f=t,this.a=[],this.c={}}(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var l;if((l=a[u]).match(/^[\w-]+$/))if(null==(f=Z.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":Y[l],null==(f=f[1])||""==f)f="4";else var h=J[f],f=h||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&s.push(l)}0<s.length&&(o=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=W[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=W[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new k(r,o[i]))}}(o),d(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),y(e)),m(e,function(){t(o.a,o.c,Q)})},X.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var o=e[r],s=e[r+1],a=0;a<s.length;a++)i.push(new k(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,o=n.fonts.length;r<o;++r){var s=n.fonts[r];i.a.push(new k(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var et=new z(window);et.a.c.custom=function(t,e){return new G(e,t)},et.a.c.fontdeck=function(t,e){return new tt(e,t)},et.a.c.monotype=function(t,e){return new H(e,t)},et.a.c.typekit=function(t,e){return new X(e,t)},et.a.c.google=function(t,e){return new K(e,t)};var nt={load:s(et.load,et)};void 0===(i=function(){return nt}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){(function(e){t.exports=function(){if("undefined"==typeof document||!document.addEventListener)return null;var n,i,r,o={};return o.copy=function(){var t=!1,e=null,n=!1;function i(){t=!1,e=null,n&&window.getSelection().removeAllRanges(),n=!1}return document.addEventListener("copy",function(n){if(t){for(var i in e)n.clipboardData.setData(i,e[i]);n.preventDefault()}}),function(r){return new Promise(function(o,s){t=!0,"string"==typeof r?e={"text/plain":r}:r instanceof Node?e={"text/html":(new XMLSerializer).serializeToString(r)}:r instanceof Object?e=r:s("Invalid data type. Must be string, DOM node, or an object mapping MIME types to strings."),function t(e){try{if(document.execCommand("copy"))i(),o();else{if(e)throw i(),new Error("Unable to copy. Perhaps it's not available in your browser?");!function(){var t=document.getSelection();if(!document.queryCommandEnabled("copy")&&t.isCollapsed){var e=document.createRange();e.selectNodeContents(document.body),t.removeAllRanges(),t.addRange(e),n=!0}}(),t(!0)}}catch(t){i(),s(t)}}(!1)})}}(),o.paste=(r=!1,document.addEventListener("paste",function(t){if(r){r=!1,t.preventDefault();var e=n;n=null,e(t.clipboardData.getData(i))}}),function(t){return new Promise(function(e,o){r=!0,n=e,i=t||"text/plain";try{document.execCommand("paste")||(r=!1,o(new Error("Unable to paste. Pasting only works in Internet Explorer at the moment.")))}catch(t){r=!1,o(new Error(t))}})}),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(function(n){function i(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(s,this),i(a,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)})}function s(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(s,this),i(a,this))}this._state=!0,this._value=t,c.call(this)}catch(t){a.call(this,t)}}function a(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds.length;e>t;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}var l=r.immediateFn||"function"==typeof e&&e||function(t){setTimeout(t,1)},h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r(function(i,r){o.call(n,new function(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}(t,e,i,r))})},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new r(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(o,t)},n)}t[o]=s,0==--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var i=0,r=t.length;r>i;i++)t[i].then(e,n)})},void 0!==t&&t.exports?t.exports=r:n.Promise||(n.Promise=r)}(this),o.copy=function(t){return new Promise(function(e,n){if("string"!=typeof t&&!("text/plain"in t))throw new Error("You must provide a text/plain type.");var i="string"==typeof t?t:t["text/plain"],r=window.clipboardData.setData("Text",i);r?e():n(new Error("Copying was rejected."))})},o.paste=function(){return new Promise(function(t,e){var n=window.clipboardData.getData("Text");n?t(n):e(new Error("Pasting was rejected."))})}),o}()}).call(this,n(173).setImmediate)},function(t,e,n){var i,r,o;o=function(){var t,e,n=document,i=n.getElementsByTagName("head")[0],r=!1,o="push",s="readyState",a="onreadystatechange",c={},u={},l={},h={};function f(t,e){for(var n=0,i=t.length;n<i;++n)if(!e(t[n]))return r;return 1}function p(t,e){f(t,function(t){return!e(t)})}function d(e,n,i){e=e[o]?e:[e];var r=n&&n.call,s=r?n:i,a=r?e.join(""):n,v=e.length;function y(t){return t.call?t():c[t]}function m(){if(!--v)for(var t in c[a]=1,s&&s(),l)f(t.split("|"),y)&&!p(l[t],y)&&(l[t]=[])}return setTimeout(function(){p(e,function e(n,i){return null===n?m():(i||/^https?:\/\//.test(n)||!t||(n=-1===n.indexOf(".js")?t+n+".js":t+n),h[n]?(a&&(u[a]=1),2==h[n]?m():setTimeout(function(){e(n,!0)},0)):(h[n]=1,a&&(u[a]=1),void g(n,m)))})},0),d}function g(t,r){var o,c=n.createElement("script");c.onload=c.onerror=c[a]=function(){c[s]&&!/^c|loade/.test(c[s])||o||(c.onload=c[a]=null,o=1,h[t]=2,r())},c.async=1,c.src=e?t+(-1===t.indexOf("?")?"?":"&")+e:t,i.insertBefore(c,i.lastChild)}return d.get=g,d.order=function(t,e,n){!function i(r){r=t.shift(),t.length?d(r,i):d(r,e,n)}()},d.path=function(e){t=e},d.urlArgs=function(t){e=t},d.ready=function(t,e,n){var i,r=[];return!p(t=t[o]?t:[t],function(t){c[t]||r[o](t)})&&f(t,function(t){return c[t]})?e():(i=t.join("|"),l[i]=l[i]||[],l[i][o](e),n&&n(r)),d},d.done=function(t){d([null],t)},d},void 0!==t&&t.exports?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){"use strict";var i={};function r(){try{return new window.XMLHttpRequest}catch(t){}}i._getBinaryFromXHR=function(t){return t.response||t.responseText};var o=window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:r;i.getBinaryContent=function(t,e){try{var n=o();n.open("GET",t,!0),"responseType"in n&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(r){var o,s;if(4===n.readyState)if(200===n.status||0===n.status){o=null,s=null;try{o=i._getBinaryFromXHR(n)}catch(t){s=new Error(t)}e(s,o)}else e(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText),null)},n.send()}catch(t){e(new Error(t),null)}},t.exports=i},function(t,e,n){"use strict";var i=n(152);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(9);function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";var i=n(151);function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(9).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(9),r=n(40),o=n(152),s=n(265),a=n(264),c=n(150);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new c(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var i=n(39),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(c),s=0,o=0;s<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return c(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,a=e||t.length,u=new Array(2*a);for(i=0,n=0;n<a;)if((r=t[n++])<128)u[i++]=r;else if((o=s[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&t[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return c(u,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=n(20);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(279)},function(t,e,n){"use strict";var i=n(20),r=n(105);function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(9).inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(20);function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(20);function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";(function(e){var i=n(9),r=n(283),o=n(20),s=n(170),a=n(40),c=n(70),u=null;if(a.nodestream)try{u=n(282)}catch(t){}function l(t,n){return new c.Promise(function(r,o){var a=[],c=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",function(t,e){a.push(t),n&&n(e)}).on("error",function(t){a=[],o(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(u,function(t,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,a),l);r(t)}catch(t){o(t)}a=[]}).resume()})}function h(t,e,n){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=e,this._mimeType=n,i.checkSupport(s),this._worker=t.pipe(new r(s)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){i.delay(e,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=h}).call(this,n(36).Buffer)},function(t,e,n){var i=n(108),r=n(78).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(296);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var i=n(9),r=n(40),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,s,a,c,u,l=[],h=0,f=t.length,p=f,d="string"!==i.getTypeOf(t);h<t.length;)p=f-h,d?(e=t[h++],n=h<f?t[h++]:0,r=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,r=h<f?t.charCodeAt(h++):0),s=e>>2,a=(3&e)<<4|n>>4,c=p>1?(15&n)<<2|r>>6:64,u=p>2?63&r:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(c)+o.charAt(u));return l.join("")},e.decode=function(t){var e,n,i,s,a,c,u=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=o.indexOf(t.charAt(u++))<<2|(s=o.indexOf(t.charAt(u++)))>>4,n=(15&s)<<4|(a=o.indexOf(t.charAt(u++)))>>2,i=(3&a)<<6|(c=o.indexOf(t.charAt(u++))),h[l++]=e,64!==a&&(h[l++]=n),64!==c&&(h[l++]=i);return h}},function(t,e,n){"use strict";t.exports=o;var i=n(109),r=n(71);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(60),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var i=n(304).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(306),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(57))},function(t,e,n){"use strict";(function(e){t.exports=d;var i=n(111),r=n(176),o=n(36).Buffer;d.ReadableState=p;n(81);var s,a=function(t,e){return t.listeners(e).length};!function(){try{s=n(82)}catch(t){}finally{s||(s=n(81).EventEmitter)}}();o=n(36).Buffer;var c=n(71);c.inherits=n(60);var u,l,h=n(307),f=void 0;function p(t,e){l=l||n(46),t=t||{},this.objectMode=!!t.objectMode,e instanceof l&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=n(172).StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function d(t){if(l=l||n(46),!(this instanceof d))return new d(t);this._readableState=new p(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),s.call(this)}function g(t,e,n,r,s){var a=function(t,e){var n=null;o.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(a)t.emit("error",a);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,m(t)}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!s){var c=new Error("stream.push() after EOF");t.emit("error",c)}else if(e.endEmitted&&s){c=new Error("stream.unshift() after end event");t.emit("error",c)}else{var u;!e.decoder||s||r||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),s||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,s?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&m(t))),function(t,e){e.readingMore||(e.readingMore=!0,i(w,t,e))}(t,e)}else s||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}f=h&&h.debuglog?h.debuglog("stream"):function(){},c.inherits(d,s),d.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new o(t,e),e=""),g(this,n,t,e,!1)},d.prototype.unshift=function(t){return g(this,this._readableState,t,"",!0)},d.prototype.isPaused=function(){return!1===this._readableState.flowing},d.prototype.setEncoding=function(t){return u||(u=n(172).StringDecoder),this._readableState.decoder=new u(t),this._readableState.encoding=t,this};var v=8388608;function y(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=v?t=v:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function m(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i(b,t):b(t))}function b(t){f("emit readable"),t.emit("readable"),A(t)}function w(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function k(t){f("readable nexttick read 0"),t.read(0)}function x(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;if(f("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function C(t,e){var n,i=e.buffer,r=e.length,s=!!e.decoder,a=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(a)n=i.shift();else if(!t||t>=r)n=s?i.join(""):1===i.length?i[0]:o.concat(i,r),i.length=0;else{if(t<i[0].length)n=(h=i[0]).slice(0,t),i[0]=h.slice(t);else if(t===i[0].length)n=i.shift();else{n=s?"":new o(t);for(var c=0,u=0,l=i.length;u<l&&c<t;u++){var h=i[0],f=Math.min(t-c,h.length);s?n+=h.slice(0,f):h.copy(n,c,0,f),f<h.length?i[0]=h.slice(f):i.shift(),c+=f}}}return n}function S(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,i(_,e,t))}function _(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}d.prototype.read=function(t){f("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?S(this):m(this),null;if(0===(t=y(t,e))&&e.ended)return 0===e.length&&S(this),null;var i,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),(e.ended||e.reading)&&f("reading or ended",r=!1),r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=y(n,e)),null===(i=t>0?C(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&S(this),null!==i&&this.emit("data",i),i},d.prototype._read=function(t){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(t,n){var o=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,f("pipe count=%d opts=%j",s.pipesCount,n);var c=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr?l:d;function u(t){f("onunpipe"),t===o&&d()}function l(){f("onend"),t.end()}s.endEmitted?i(c):o.once("end",c),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(o);t.on("drain",h);var p=!1;function d(){f("cleanup"),t.removeListener("close",y),t.removeListener("finish",m),t.removeListener("drain",h),t.removeListener("error",v),t.removeListener("unpipe",u),o.removeListener("end",l),o.removeListener("end",d),o.removeListener("data",g),p=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||h()}function g(e){f("ondata"),!1===t.write(e)&&(1!==s.pipesCount||s.pipes[0]!==t||1!==o.listenerCount("data")||p||(f("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++),o.pause())}function v(e){f("onerror",e),b(),t.removeListener("error",v),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",m),b()}function m(){f("onfinish"),t.removeListener("close",y),b()}function b(){f("unpipe"),o.unpipe(t)}return o.on("data",g),t._events&&t._events.error?r(t._events.error)?t._events.error.unshift(v):t._events.error=[v,t._events.error]:t.on("error",v),t.once("close",y),t.once("finish",m),t.emit("pipe",o),s.flowing||(f("pipe resume"),o.resume()),t},d.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},d.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&m(this):i(k,this))}return n},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i(x,t,e))}(this,t)),this},d.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},d.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",function(){if(f("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){(f("wrapped data"),e.decoder&&(r=e.decoder.write(r)),!e.objectMode||null!==r&&void 0!==r)&&((e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause())))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},i},d._fromList=C}).call(this,n(80))},function(t,e,n){t.exports=n(82)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(311),i.prototype.loadAsync=n(267),i.support=n(40),i.defaults=n(164),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(70),t.exports=i},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){var i=n(48);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(72),r=n(179);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(54),r=n(23),o=n(73).f;t.exports=function(t){return function(e){for(var n,s=r(e),a=i(s),c=a.length,u=0,l=[];c>u;)o.call(s,n=a[u++])&&l.push(t?[n,s[n]]:s[n]);return l}}},function(t,e,n){var i=n(10),r=n(129),o=n(34);t.exports=function(t,e,n,s){var a=String(o(t)),c=a.length,u=void 0===n?" ":String(n),l=i(e);if(l<=c||""==u)return a;var h=l-c,f=r.call(u,Math.ceil(h/u.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},function(t,e,n){"use strict";var i=n(94),r=n(7),o=n(10),s=n(27),a=n(8)("isConcatSpreadable");t.exports=function t(e,n,c,u,l,h,f,p){for(var d,g,v=l,y=0,m=!!f&&s(f,p,3);y<u;){if(y in c){if(d=m?m(c[y],y,n):c[y],g=!1,r(d)&&(g=void 0!==(g=d[a])?!!g:i(d)),g&&h>0)v=t(e,n,d,o(d.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}y++}return v}},function(t,e,n){var i=n(51),r=n(95),o=n(4),s=n(5).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(33),r=n(10);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var i=n(47),r=n(43).getWeak,o=n(4),s=n(7),a=n(49),c=n(48),u=n(31),l=n(24),h=n(62),f=u(5),p=u(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,i){a(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=i&&c(i,n,t[o],t)});return i(u.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).has(t):n&&l(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?g(t).set(e,n):i[t._i]=n,t},ufstore:g}},function(t,e,n){"use strict";var i,r=n(31)(0),o=n(17),s=n(43),a=n(206),c=n(186),u=n(7),l=n(6),h=n(62),f=s.getWeak,p=Object.isExtensible,d=c.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,"WeakMap"),t,e)}},m=t.exports=n(87)("WeakMap",v,y,c,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(g),7).get(g)})&&(a((i=c.getConstructor(v,"WeakMap")).prototype,y),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=m.prototype,n=e[t];o(e,t,function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(189),r=n(62);t.exports=n(87)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i=n(11).f,r=n(52),o=n(47),s=n(27),a=n(49),c=n(48),u=n(125),l=n(194),h=n(50),f=n(12),p=n(43).fastKey,d=n(62),g=f?"_s":"size",v=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,i){a(t,l,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=i&&c(i,n,t[u],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),i=v(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(t){d(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(d(this,e),t)}}),f&&i(l.prototype,"size",{get:function(){return d(this,e)[g]}}),l},def:function(t,e,n){var i,r,o=v(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(189),r=n(62);t.exports=n(87)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){var i=n(4),r=n(7),o=n(113);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){n(12)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(91)})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(14),r=n(53),o=n(10);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),c=r(e,s),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?s:r(u,s))-c,s-a),h=1;for(c<a&&a<c+l&&(h=-1,c+=l-1,a+=l-1);l-- >0;)c in n?n[a]=n[c]:delete n[a],a+=h,c+=h;return n}},function(t,e,n){var i=n(15),r=n(14),o=n(74),s=n(10);t.exports=function(t,e,n,a,c){i(e);var u=r(t),l=o(u),h=s(u.length),f=c?h-1:0,p=c?-1:1;if(n<2)for(;;){if(f in l){a=l[f],f+=p;break}if(f+=p,c?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:h>f;f+=p)f in l&&(a=e(a,l[f],f,u));return a}},function(t,e,n){var i=n(4);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(128),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),c=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<c?u*(r/c/s+1/o-1/o)*c*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?u*(1/0):u*n}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(7),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var i=n(26);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(5).parseFloat,r=n(64).trim;t.exports=1/i(n(131)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(5).parseInt,r=n(64).trim,o=n(131),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var i=n(15),r=n(7),o=n(204),s=[].slice,a={};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),c=function(){var i=n.concat(s.call(arguments));return this instanceof c?function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)}(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e,n){"use strict";var i=n(54),r=n(95),o=n(73),s=n(14),a=n(74),c=Object.assign;t.exports=!c||n(6)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=s(t),c=arguments.length,u=1,l=r.f,h=o.f;c>u;)for(var f,p=a(arguments[u++]),d=l?i(p).concat(l(p)):i(p),g=d.length,v=0;g>v;)h.call(p,f=d[v++])&&(n[f]=p[f]);return n}:c},function(t,e,n){var i=n(23),r=n(51).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(11),r=n(4),o=n(54);t.exports=n(12)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,c=0;a>c;)i.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var i=n(24),r=n(23),o=n(96)(!1),s=n(135)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),c=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){e.f=n(8)},function(t,e,n){t.exports=!n(12)&&!n(6)(function(){return 7!=Object.defineProperty(n(137)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(66)],void 0===(r=function(t,e,n){var i=function(t){function e(t){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,n),e}(),r=function(t){function e(t,n,i){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return u(e,n.Panel),o(e,[{key:"$createTargetElement",value:function(t,e){return null}},{key:"startActivity",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startActivity",this).call(this),this.$div.find(".JClicTextDocument").attr("contenteditable","true").attr("spellcheck","false")}},{key:"evaluatePanel",value:function(){var t=this.$div.find(".JClicTextDocument").text().trim(),e=this.act.document.getRawText(),n=this.act.ev.checkText(t,e);return this.ps.reportNewAction(this.act,"WRITE",t,e,n,this.targets.length),n?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(t){return this.$div.find(".JClicTextDocument").attr("contenteditable","false"),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"finishActivity",this).call(this,t)}}]),e}();return i.Panel=r,e.CLASSES["@text.Complete"]=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(99)],void 0===(r=function(t,e){var n=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.key="jclic_"+(new Date).toISOString()+"#"+Math.ceil(1e3*Math.random()),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"init",value:function(t){return void 0!==t&&null!==t||(t=this.ps.options),"local"===t.storage&&(this.storage=window.localStorage,this.descriptionKey="Reporting to local storage"),e.prototype.init.call(this,t)}},{key:"saveCurrentReport",value:function(){var t=this;window.setTimeout(function(){t.storage.setItem(t.key,JSON.stringify(t.getData()))},0)}},{key:"endSequence",value:function(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"endSequence",this).call(this),this.saveCurrentReport()}},{key:"endActivity",value:function(t,e,i){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"endActivity",this).call(this,t,e,i),this.saveCurrentReport()}}]),n}();return Object.assign(n.prototype,{storage:window.sessionStorage,descriptionKey:"Reporting to session storage",descriptionDetail:"(browser session)",key:null}),e.CLASSES.SessionStorageReporter=n,n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(99),n(2)],void 0===(r=function(t,e,n){var i=function(i){function c(t){a(this,c);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return e.tasks=[],e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,e),o(c,[{key:"getProperty",value:function(t,e){return null!==this.dbProperties&&this.dbProperties.hasOwnProperty(t)?this.dbProperties[t]:e}},{key:"addTask",value:function(t){this.processingTasks?null===this.waitingTasks?this.waitingTasks=[t]:this.waitingTasks.push(t):this.tasks.push(t)}},{key:"flushTasksPromise",value:function(){var t=this;if(this.processingTasks||null===this.currentSessionId||0===this.tasks.length||null===this.serviceUrl)return this.processingTasks&&(this.forceFlush=!0),Promise.resolve(!0);this.processingTasks=!0;for(var e=new r("multiple"),i=0;i<this.tasks.length;i++)e.appendData(this.tasks[i].$bean);return n.log("debug","Reporting:",e.$bean[0]),new Promise(function(n,i){t.transaction(e.$bean).done(function(e,i,r){t.failCount=0,t.waitingTasks?(t.tasks=t.waitingTasks,t.waitingTasks=null):(t.forceFlush=!1,t.tasks=[]),t.forceFlush&&t.tasks.length>0?(t.forceFlush=!1,t.processingTasks=!1,t.flushTasksPromise().then(function(){n(!0)})):(t.forceFlush=!1,n(!0),t.processingTasks=!1)}).fail(function(e,n,r){++t.failCount>t.maxFails&&t.stopReporting().then(),i("Error reporting results to "+t.serviceUrl+" ["+n+" "+r+"]"),t.processingTasks=!1})})}},{key:"init",value:function(e){var i=this;void 0!==e&&null!==e||(e=this.ps.options),s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"init",this).call(this,e),this.initiated=!1,this.stopReporting(),this.serverPath=e.path||this.DEFAULT_SERVER_PATH,this.descriptionDetail=this.serverPath;var o=e.service||this.DEFAULT_SERVER_SERVICE;n.startsWith(o,"/")||(o="/"+o);var a=e.protocol||this.DEFAULT_SERVER_PROTOCOL;this.serviceUrl=a+"://"+this.serverPath+o;var u=new r("get_properties");return new Promise(function(n,r){i.transaction(u.$bean).done(function(o,s,a){i.dbProperties={},t(o).find("param").each(function(e,n){var r=t(n);i.dbProperties[r.attr("name")]=r.attr("value")}),i.promptUserId(!1).then(function(t){i.userId=t;var r=e.lap||i.getProperty("TIME_LAP",i.DEFAULT_TIMER_LAP);i.timerLap=Math.min(30,Math.max(1,parseInt(r))),i.timer=window.setInterval(function(){return i.flushTasksPromise().then()},1e3*i.timerLap),i.beforeUnloadFunction=function(t){if(null!==i.serviceUrl&&(i.tasks.length>0||i.processingTasks)){i.flushTasksPromise().then();var e=i.ps.getMsg("Please wait until the results of your activities are sent to the reports system");return t&&(t.returnValue=e),e}},window.addEventListener("beforeunload",i.beforeUnloadFunction),i.initiated=!0,n(!0)}).catch(function(t){i.stopReporting(),r("Error getting the user ID: "+t)})}).fail(function(t,e,n){i.stopReporting(),r("Error initializing reports service "+i.serviceUrl+" ["+e+" "+n+"]")})})}},{key:"newSession",value:function(t){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newSession",this).call(this,t),this.serviceUrl&&null!==this.userId&&(this.currentSessionId=null)}},{key:"createDBSession",value:function(e){var n=this;return null===this.currentSessionId||e?new Promise(function(e,i){n.initiated&&null!==n.userId&&null!==n.currentSession?n.flushTasksPromise().then(function(){n.currentSessionId=null;var o=new r("add session");o.setParam("project",n.currentSession.projectName),o.setParam("activities",Number(n.currentSession.reportableActs)),o.setParam("time",Number(n.currentSession.started)),o.setParam("code",n.currentSession.code),o.setParam("user",n.userId),o.setParam("key",n.sessionKey),o.setParam("context",n.sessionContext),n.transaction(o.$bean).done(function(i,r,o){n.currentSessionId=t(i).find('param[name="session"]').attr("value"),e(n.currentSessionId)}).fail(function(t,e,r){n.stopReporting(),i("Error creating new reports session in "+n.serviceUrl+" ["+e+" "+r+"]")})}):i("Unable to start session in remote server!")}):Promise.resolve(this.currentSessionId)}},{key:"end",value:function(){return this.reportActivity(!0),this.stopReporting().then(s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"end",this).call(this))}},{key:"transaction",value:function(e){return null===this.serviceUrl?null:t.ajax({method:"POST",url:this.serviceUrl,data:'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(e.get(0)).replace("minactions","minActions").replace("reportactions","reportActions"),contentType:"text/xml",dataType:"xml"})}},{key:"getGroups",value:function(){var e=this;return new Promise(function(n,i){if(e.userBased()){var o=new r("get groups");e.transaction(o.$bean).done(function(e,i,r){var o=[];t(e).find("group").each(function(e,n){var i=t(n);o.push({id:i.attr("id"),name:i.attr("name")})}),n(o)}).fail(function(t,n,r){i("Error retrieving groups list from "+e.serviceUrl+" ["+n+" "+r+"]")})}else i("This system does not manage users!")})}},{key:"getUsers",value:function(e){var n=this;return new Promise(function(i,o){if(n.userBased()){var s=new r("get users");void 0!==e&&null!==e&&s.setParam("group",e),n.transaction(s.$bean).done(function(e,n,r){var o=[];t(e).find("user").each(function(e,n){var i=t(n),r={id:i.attr("id"),name:i.attr("name")};i.attr("pwd")&&(r.pwd=i.attr("pwd")),o.push(r)}),i(o)}).fail(function(t,e,i){o("Error retrieving users list from "+n.serviceUrl+" ["+e+" "+i+"]")})}else o("This system does not manage users!")})}},{key:"getUserData",value:function(e){var n=this;return new Promise(function(i,o){if(n.userBased()){var s=new r("get user data");void 0!==e&&null!==e?s.setParam("user",e):o("Invalid user ID"),n.transaction(s.$bean).done(function(e,r,o){var s=t(e).find("user");if(1!==s.length)alert(n.ps.getMsg("Invalid user")),i("Invalid user ID");else{var a={id:s.attr("id"),name:s.attr("name")};s.attr("pwd")&&(a.pwd=s.attr("pwd")),i(a)}}).fail(function(t,e,i){o("Error retrieving user data from "+n.serviceUrl+" ["+e+" "+i+"]")})}else o("This system does not manage users!")})}},{key:"stopReporting",value:function(){var t=this,e=null;return this.timer>=0&&(window.clearInterval(this.timer),this.timer=-1),this.beforeUnloadFunction&&(window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.beforeUnloadFunction=null),this.initiated&&(e=this.flushTasksPromise().then(function(){t.serviceUrl=null,t.descriptionDetail=t.serverPath+" ("+t.ps.getMsg("not connected")+")",t.initiated=!1})),e||Promise.resolve(!0)}},{key:"reportActivity",value:function(t){var e=this;if(this.lastActivity){this.lastActivity.closed||this.lastActivity.closeActivity();var n=this.actCount++,i=this.lastActivity;this.createDBSession(!1).then(function(){var o=new r("add activity");o.setParam("session",e.currentSessionId),o.setParam("num",n),o.appendData(i.$getXML()),e.addTask(o),t&&e.flushTasksPromise().then()})}null!==this.currentSession&&null!==this.currentSession.currentSequence&&this.currentSession.currentSequence.currentActivity!==this.lastActivity?this.lastActivity=this.currentSession.currentSequence.currentActivity:this.lastActivity=null}},{key:"newActivity",value:function(t){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"newActivity",this).call(this,t),this.reportActivity(!1)}},{key:"endActivity",value:function(t,e,n){s(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"endActivity",this).call(this,t,e,n),this.reportActivity(!0)}}]),c}();Object.assign(i.prototype,{descriptionKey:"Reporting to remote server",descriptionDetail:"(not connected)",serverPath:"",beforeUnloadFunction:null,currentSessionId:"",lastActivity:null,actCount:0,serviceUrl:null,dbProperties:null,tasks:null,waitingTasks:null,processingTasks:!1,forceFlush:!1,timer:-1,timerLap:5,failCount:0,maxFails:5,DEFAULT_SERVER_PATH:"localhost:9000",DEFAULT_SERVER_SERVICE:"/JClicReportService",DEFAULT_SERVER_PROTOCOL:document&&document.location&&"http:"===document.location.protocol?"http":"https",DEFAULT_TIMER_LAP:20});var r=function(){function e(n,i){a(this,e),this.$bean=t("<bean/>").attr({id:n}),i&&this.appendData(i)}return o(e,[{key:"appendData",value:function(t){t&&this.$bean.append(t)}},{key:"setParam",value:function(e,n){void 0!==n&&null!==n&&this.appendData(t("<param/>").attr({name:e,value:n}))}}]),e}();return Object.assign(r.prototype,{$bean:null}),i.ReportBean=r,e.CLASSES.TCPReporter=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(45),n(19),n(139),n(75),n(68),n(3),n(2)],void 0===(r=function(t,e,n,i,r,l,h,f,p){var d=p.settings,g=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.tgc.getNumChars()-this.tgc.countWildChars()}},{key:"needsKeyboard",value:function(){return!0}}]),n}();Object.assign(g.prototype,{upperCase:!0,checkCase:!0,wildTransparent:!1});var v=function(n){function p(t,e,n){return a(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t,e,n))}return u(p,e.Panel),s(p,[{key:"clear",value:function(){this.grid&&(this.grid.end(),this.grid=null),this.bb&&(this.bb.end(),this.bb=null)}},{key:"createBoxBag",value:function(e){var n=this,r=new i(null,this,null),o=new l(r,this,this.icoBB);o.setBounds(0,0,this.LABEL_WIDTH,this.act.abc[e].h);var s=t("<button/>",{class:"StockBtn"}).css({width:this.LABEL_WIDTH,height:this.act.abc[e].h,"background-image":"url("+("acrossClues"===e?this.hIcon:this.vIcon)+")","background-repeat":"no-repeat","background-position":"center","border-radius":6,"z-index":10}).click(function(){n.advance="acrossClues"===e?"ADVANCE_RIGHT"===n.advance?"NO_ADVANCE":"ADVANCE_RIGHT":"ADVANCE_DOWN"===n.advance?"NO_ADVANCE":"ADVANCE_DOWN",n.setBtnStatus()}).on("keypress",function(t){" "===String.fromCharCode(t.charCode||t.keyCode)&&t.stopPropagation()}).appendTo(this.$div);o.setHostedComponent(s),r.addBox(o);var a=new h(r,null,null,e,new f.Rectangle(this.LABEL_WIDTH+this.act.margin,0,this.act.abc[e].w,this.act.abc[e].h));return r.addBox(a),r.setBoxBase(this.act.abc[e].bb),"acrossClues"===e?(this.hClue=a,this.hClueBtn=o):(this.vClue=a,this.vClueBtn=o),r}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.tgc,e=this.act.abc.acrossClues,n=this.act.abc.downClues;if(e.imgName&&e.setImgContent(this.act.project.mediaBag,null,!1),n.imgName&&n.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(0,0,this.act.abc,!1),t){this.grid=r.createEmptyGrid(null,this,this.act.margin,this.act.margin,t,this.act.wildTransparent),this.bb=new i(null,this,null);var s=this.createBoxBag("acrossClues"),a=this.createBoxBag("downClues");"AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?a.moveTo(new f.Point(s.dim.width+this.act.margin,0)):a.moveTo(new f.Point(0,s.dim.height+this.act.margin)),this.bb.addBox(s),this.bb.addBox(a),this.grid.setVisible(!0),this.bb.setVisible(!0)}}},{key:"initActivity",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.numLetters=this.act.getMinNumActions(),this.grid.setCellAttributes(!0,!0),this.grid.setCursorEnabled(!0),this.setCursorAt(0,0),this.advance="ADVANCE_RIGHT",this.setBtnStatus(),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.$div.attr("tabindex",0),this.$div.focus(),this.playing=!0)}},{key:"getCurrentScore",value:function(){return this.grid?this.grid.countCoincidences(this.act.checkCase):0}},{key:"updateContent",value:function(t){if(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"updateContent",this).call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new f.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(n,t),this.bb.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.grid&&this.bb&&!this.getBounds().equals(t)?i.layoutDouble(t,this.grid,this.bb,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){this.$canvas&&(this.$canvas.remove(),this.$canvas=null),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"setBounds",this).call(this,e),this.grid&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())}},{key:"processEvent",value:function(t){if(this.playing)switch(t.type){case"click":var e=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,n=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,i=new f.Point(e-this.$div.offset().left,n-this.$div.offset().top),r=[];if(this.ps.stopMedia(1),this.grid.contains(i)){var o=this.grid.getLogicalCoords(i);if(null!==o&&(this.setCursorAt(o.x,o.y),d.TOUCH_DEVICE)){var s="ADVANCE_DOWN"===this.advance,a=window.prompt((s?"Vertical":"Horizontal")+" word:","");this.writeChars(a)}}else if(this.hClue.contains(i))this.hClue.playMedia(this.ps,r);else{if(!this.vClue.contains(i))break;this.vClue.playMedia(this.ps,r)}this.update(),r.forEach(function(t){return t()});break;case"keypress":var c=t.charCode||t.keyCode;c&&this.grid.getCursor()&&(t.preventDefault(),this.writeChars(String.fromCharCode(c)));break;case"keydown":var u=0,l=0;switch(t.keyCode){case d.VK.RIGHT:u=1;break;case d.VK.LEFT:u=-1;break;case d.VK.DOWN:l=1;break;case d.VK.UP:l=-1}(u||l)&&(t.preventDefault(),this.moveCursor(u,l),this.update())}}},{key:"moveCursor",value:function(t,e){this.grid&&(this.grid.moveCursor(t,e,!0),this.cursorPosChanged())}},{key:"setCursorAt",value:function(t,e){this.grid.setCursorAt(t,e,!0),this.cursorPosChanged()}},{key:"cursorPosChanged",value:function(){var t=this.grid.getCursor();if(null!==t&&null!==this.bb){var e=this.grid.getItemFor(t.x,t.y);null!==e&&(this.hClue.setContent(this.act.abc.acrossClues.getActiveBoxContentWith(t.y,e.x)),this.vClue.setContent(this.act.abc.downClues.getActiveBoxContentWith(t.x,e.y)))}}},{key:"writeChars",value:function(t){if(t&&t.length>0)for(var e=0;e<t.length;e++){var n=this.grid.getCursor(),i=t.charAt(e);this.act.upperCase&&(i=i.toLocaleUpperCase()),this.grid.setCharAt(n.x,n.y,i);var r=this.grid.isCellOk(n.x,n.y,this.act.checkCase),o=this.getCurrentScore();this.ps.reportNewAction(this.act,"WRITE",i,"X:"+n.x+" Y:"+n.y,r,o),o===this.numLetters?(this.grid.setCursorEnabled(!1),this.grid.stopCursorBlink(),this.finishActivity(!0)):(this.playEvent("click"),"ADVANCE_DOWN"===this.advance?this.moveCursor(0,1):"ADVANCE_RIGHT"===this.advance&&this.moveCursor(1,0))}this.update()}},{key:"setBtnStatus",value:function(){this.hClueBtn&&this.hClueBtn.setInactive("ADVANCE_RIGHT"!==this.advance),this.vClueBtn&&this.vClueBtn.setInactive("ADVANCE_DOWN"!==this.advance)}}]),p}();return Object.assign(v.prototype,{LABEL_WIDTH:40,grid:null,bb:null,numLetters:0,advance:"NO_ADVANCE",hClue:null,vClue:null,hClueBtn:null,vClueBtn:null,events:["click","keydown","keypress"],hIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiPjwvcGF0aD48L3N2Zz4K",vIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgOGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+Cg==",icoSize:{w:36,h:36},icoBB:(new n).set("backColor","#4285F4").set("inactiveColor","#70A2F6").set("dontFill",!0)}),g.Panel=v,e.CLASSES["@textGrid.CrossWord"]=g,g}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3),n(139)],void 0===(r=function(t,e,n,i,r,l,h){var f=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.clues.length}},{key:"helpSolutionAllowed",value:function(){return!0}},{key:"hasRandom",value:function(){return!0}}]),n}();Object.assign(f.prototype,{clues:null,clueItems:null,scramble:{primary:!1,secondary:!1}});var p=function(f){function p(t,e,n){a(this,p);var i=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t,e,n));return i.resolvedClues=[],i}return u(p,e.Panel),s(p,[{key:"clear",value:function(){this.grid&&(this.grid.end(),this.grid=null),this.bgAlt&&(this.bgAlt.end(),this.bgAlt=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildVisualComponents",this).call(this),this.clear();var e=this.act.tgc,i=this.act.abc.secondary;i&&(i.imgName&&(i.setImgContent(this.act.project.mediaBag,null,!1),!i.animatedGifFile||i.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+i.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(0,0,[i],!1)),e&&(this.grid=h.createEmptyGrid(null,this,this.act.margin,this.act.margin,e,!1),i&&(this.bgAlt=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,i),this.$animatedBg&&this.bgAlt.backgroundBox&&(this.bgAlt.backgroundBox.tmpTrans=!0)),this.grid.setVisible(!0))}},{key:"initActivity",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.grid.randomize(),this.grid.setAllCellsAttribute(h.flags.INVERTED,!1),this.resolvedClues=Array(this.act.clueItems.length).fill(!1),this.bgAlt&&(this.bgAlt.setContent(this.act.abc.secondary),this.$animatedBg&&this.bgAlt.clearAllBoxes(),this.act.scramble.secondary&&this.shuffle([this.bgAlt],!0,!0),this.bgAlt.setVisible(null!==this.$animatedBg)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"updateContent",this).call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(n,t),this.bgAlt&&this.bgAlt.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.grid||this.getBounds().equals(t)?t:this.bgAlt?i.layoutDouble(t,this.grid,this.bgAlt,this.act.boxGridPos,this.act.margin):i.layoutSingle(t,this.grid,this.act.margin)}},{key:"setBounds",value:function(e){if(this.$canvas&&this.$canvas.remove(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"setBounds",this).call(this,e),this.grid){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgAlt){var n=this.bgAlt.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}}},{key:"getCurrentScore",value:function(){return this.resolvedClues.reduce(function(t,e){return e?++t:t},0)}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null;if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new l.Point;else{var n=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,i=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new l.Point(n-this.$div.offset().left,i-this.$div.offset().top)}var r=!1,o=!1,s=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;r=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var a=this.grid.getLogicalCoords(this.bc.origin),c=this.grid.getLogicalCoords(this.bc.dest);this.bc.end();var u=this.grid.getStringBetween(a.x,a.y,c.x,c.y);if(null!==u&&u.length>0){for(var f=!1,p=0;p<this.act.clues.length;p++)if(u===this.act.clues[p]){f=!0;break}var d=this.resolvedClues[p];if(f&&!d&&(this.resolvedClues[p]=!0,this.grid.setAttributeBetween(a.x,a.y,c.x,c.y,h.flags.INVERTED,!0),null!==this.bgAlt)){var g=this.act.clueItems[p];if(g>=0&&g<this.bgAlt.getNumCells()){var v=this.bgAlt.getActiveBox(this.act.clueItems[p]);v&&(v.setVisible(null===this.$animatedBg),o=v.playMedia(this.ps,s))}}if(d)f||o||this.playEvent("actionError");else{var y=this.getCurrentScore();this.ps.reportNewAction(this.act,"ACTION_SELECT",u,null,f,y),y===this.act.clues.length?this.finishActivity(!0):o||this.playEvent(f?"actionOK":"actionError"),this.invalidate()}}else this.playEvent("actionError");this.update()}else{if(r)break;this.ps.stopMedia(1),this.grid.contains(e)&&(this.playEvent("click"),this.bc.begin(e))}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}s.forEach(function(t){return t()}),t.preventDefault()}}}]),p}();return Object.assign(p.prototype,{grid:null,bgAlt:null,resolvedClues:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),f.Panel=p,e.CLASSES["@textGrid.WordSearch"]=f,f}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(3),n(140)],void 0===(r=function(t,e,n,i){var r=function(t){function e(t){a(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.useIdAss=!0,n}return u(e,i),o(e,[{key:"setProperties",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setProperties",this).call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.secondary.getNumCells())}},{key:"getMinNumActions",value:function(){return this.invAss?this.abc.secondary.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}}]),e}();Object.assign(r.prototype,{nonAssignedCells:0,useIdAss:!1});var l=function(t){function e(t,n,i){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return u(e,i.Panel),o(e,[{key:"buildVisualComponents",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildVisualComponents",this).call(this);var n=this.act.abc.primary,i=this.act.abc.secondary;n&&i&&(this.act.invAss&&(this.invAssCheck=Array(i.getNumCells()).fill(!1)),this.bgA.setDefaultIdAss(),this.act.nonAssignedCells=0,this.bgA.cells.forEach(function(e){-1===e.idAss&&(t.act.nonAssignedCells++,e.switchToAlt(t.ps))}))}},{key:"checkInvAss",value:function(){return!(!this.act.invAss||!this.invAssCheck)&&this.invAssCheck.every(function(t){return t})}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null,i=void 0,r=void 0;if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new n.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new n.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1,c=!1,u=!1,l=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var h=this.bc.origin;if(this.bc.end(),(i=this.bgA?this.bgA.findActiveBox(h):null)?r=this.bgB?this.bgB.findActiveBox(e):null:(r=this.bgB?this.bgB.findActiveBox(h):null)&&(i=this.bgA?this.bgA.findActiveBox(e):null,u=!0),i&&r&&-1!==i.idAss&&!r.isInactive()&&this.act.abc.secondary){var f=i.getDescription(),p=r.getDescription(),d=this.act.abc.secondary.getActiveBoxContent(i.idAss),g=!1;if((i.idAss===r.idOrder||r.getContent().isEquivalent(d,!0))&&(g=!0,i.idAss=-1,this.act.abc.solvedPrimary?(i.switchToAlt(this.ps),c=c||i.playMedia(this.ps,l)):(c=u?c||i.playMedia(this.ps,l):c||r.playMedia(this.ps,l),i.clear()),this.act.invAss&&(this.invAssCheck[r.idOrder]=!0,r.clear()),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem))),this.bgA){var v=this.bgA.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",f,p,g,v-this.act.nonAssignedCells),g&&(this.checkInvAss()||v===this.bgA.getNumCells())?this.finishActivity(!0):c||this.playEvent(g?"actionOk":"actionError")}}else if(this.bgB&&(u&&this.bgA&&this.bgA.contains(e)||!u&&this.bgB.contains(e))){var y=i?i.getDescription():r?r.getDescription():"null";this.ps.reportNewAction(this.act,"MATCH",y,"null",!1,this.bgB.countCellsWithIdAss(-1)),this.playEvent("actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;this.ps.stopMedia(1),i=this.bgA?this.bgA.findActiveBox(e):null,r=this.bgB?this.bgB.findActiveBox(e):null,(i&&-1!==i.idAss&&(!this.act.useOrder||i.idOrder===this.currentItem)||!this.act.useOrder&&r)&&(this.act.dragCells?this.bc.begin(e,i||r):this.bc.begin(e),(c=c||(i||r).playMedia(this.ps,l))||this.playEvent("click"));var m=i?this.bgA:this.bgB;m&&m.$accessibleDiv&&(m=i?this.bgB:this.bgA)&&m.$accessibleDiv&&m.$accessibleDiv.focus()}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}l.forEach(function(t){return t()}),t.preventDefault()}}}]),e}();return Object.assign(l.prototype,{invAssCheck:null}),r.Panel=l,e.CLASSES["@associations.ComplexAssociation"]=r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3),n(67)],void 0===(r=function(t,e,n,i,r,l,h){var f=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}}]),n}(),p=function(f){function p(t,e,n){return a(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t,e,n))}return u(p,e.Panel),s(p,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.secondary;if(t){if(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),e&&e.imgName&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var i=[t];e&&i.push(e),this.act.acp.generateContent(t.nch,t.ncw,i,!1)}var r=t.ncw,s=t.nch;"AB"===this.act.boxGridPos||"BA"===this.act.boxGridPos?r*=2:s*=2,this.bg=new n(null,this,t.bb,this.act.margin,this.act.margin,t.w*r,t.h*s,new h(r,s));var a=t.getNumCells();this.bg.setBorder(t.border),this.bg.setContent(t,null,0,0,a),this.bg.setContent(e||t,null,0,a,a);for(var c=0;c<2;c++)for(var u=0;u<a;u++){var l=this.bg.getActiveBox(c*a+u);l.idAss=u,l.setInactive(!0)}this.bg.setVisible(!0)}}},{key:"initActivity",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.bg||this.getBounds().equals(t)?t:i.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(e){this.$canvas&&this.$canvas.remove(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"setBounds",this).call(this,e),this.bg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildAccessibleComponents",this).call(this),this.bg.setCellAttr("accessibleAlwaysActive",!0),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null,n=void 0,i=void 0,r=[];if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new l.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new l.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":case"touchend":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),n=this.act.dragCells?this.bc.bx:this.bg?this.bg.findActiveBox(this.bc.origin):null,this.bc.end(),i=this.bg?this.bg.findActiveBox(e):null,n&&-1!==n.idAss&&i&&-1!==i.idAss)if(n!==i){var c=!1;n.idAss===i.idAss||n.getContent().isEquivalent(i.getContent(),!0)?(c=!0,n.idAss=-1,n.setInactive(!1),i.idAss=-1,i.setInactive(!1)):(n.setInactive(!0),this.act.dragCells?i.setInactive(!0):(i.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(e,n):this.bc.begin(e)));var u=i.playMedia(this.ps,r);if(this.bg){var h=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",n.getDescription(),i.getDescription(),c,h/2),c&&h===this.bg.getNumCells()?this.finishActivity(!0):u||this.playEvent(c?"actionOk":"actionError")}}else this.playEvent("CLICK"),n.setInactive(!0);else null!==n&&n.setInactive(!0);this.invalidate().update()}else{if(a)break;this.ps.stopMedia(1),(n=this.bg?this.bg.findActiveBox(e):null)&&-1!==n.idAss&&(n.playMedia(this.ps,r)||this.playEvent("click"),n.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(e,n):this.bc.begin(e))}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),p}();return Object.assign(p.prototype,{bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),f.Panel=p,e.CLASSES["@memory.MemoryGame"]=f,f}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3),n(67)],void 0===(r=function(t,e,n,i,r,l,h){var f=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),n}(),p=function(r){function f(t,e,n){return a(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,e,n))}return u(f,e.Panel),s(f,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null),this.parkBg&&(this.parkBg.end(),this.parkBg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;t&&(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0),this.hiddenBoxIndex=Math.floor(Math.random()*this.bg.getNumCells()),this.hiddenBox=this.bg.getActiveBox(this.hiddenBoxIndex),this.hiddenBox.setVisible(!1),this.parkBg=new n(null,this,t.bb,this.act.margin,this.act.margin,this.hiddenBox.dim.width,this.hiddenBox.dim.height,new h(1,1)),this.parkBg.setContent(t,null,this.hiddenBoxIndex,0,1),this.parkBg.setBorder(this.bg.hasBorder()),this.parkBg.setVisible(!0))}},{key:"initActivity",value:function(){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg){this.act.shuffles%2!=1&&this.act.shuffles++;for(var t=0;t<this.act.shuffles;t++){var e=this.bg.getCoord(this.hiddenBox),n=0===Math.floor(2*Math.random())?1:-1;0===Math.floor(2*Math.random())?(e.x+=n,(e.x<0||e.x>=this.bg.nCols)&&(e.x-=2*n)):(e.y+=n,(e.y<0||e.y>=this.bg.nRows)&&(e.y-=2*n));var i=this.bg.getActiveBoxWithIdLoc(e.y*this.bg.nCols+e.x);null!==i&&this.hiddenBox.exchangeLocation(i)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}}},{key:"updateContent",value:function(t){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateContent",this).call(this,t),this.bg&&this.parkBg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t),this.parkBg.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bg&&this.parkBg&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bg,this.parkBg,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){this.$canvas&&this.$canvas.remove(),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"setBounds",this).call(this,e),this.bg&&this.parkBg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new l.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];switch(t.type){case"click":this.ps.stopMedia(1);var i=this.bg.findActiveBox(e);if(i)if(i.isVisible()){var r=this.bg.getCoordDist(i,this.hiddenBox);if(Math.abs(r.x)+Math.abs(r.y)===1){var o=i.playMedia(this.ps,n),s=i.getDescription()+" ("+i.idOrder+")",a="("+this.hiddenBox.idLoc+")";i.exchangeLocation(this.hiddenBox);var c=i.idOrder===i.idLoc,u=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"SELECT",s,a,c,u),c&&u===this.bg.getNumCells()?(this.hiddenBox.setVisible(!0),this.parkBg.setVisible(!1),this.finishActivity(!0)):o||this.playEvent("click")}this.update()}else this.playEvent("actionError")}n.forEach(function(t){return t()}),t.preventDefault()}}}]),f}();return Object.assign(p.prototype,{bg:null,parkBg:null,hiddenBox:null,hiddenBoxIndex:-1,events:["click"]}),f.Panel=p,e.CLASSES["@puzzles.HolePuzzle"]=f,f}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3)],void 0===(r=function(t,e,n,i,r,l){var h=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),n}(),f=function(h){function f(t,e,n){return a(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,e,n))}return u(f,e.Panel),s(f,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;t&&(t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0))}},{key:"initActivity",value:function(){o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.bg||this.getBounds().equals(t)?t:i.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(e){this.$canvas&&this.$canvas.remove(),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"setBounds",this).call(this,e),this.bg&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null,n=void 0,i=void 0,r=[];if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new l.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new l.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),n=this.act.dragCells?this.bc.bx:this.bg.findActiveBox(this.bc.origin),this.bc.end(),i=this.bg.findActiveBox(e),n&&i){var c=n.getDescription()+" ("+n.idOrder+")",u="("+i.idLoc+")",h=n.idOrder===i.idLoc;this.bg.swapCellPositions(n,i,!0);var f=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"PLACE",c,u,h,f),h&&f===this.bg.getNumCells()?this.finishActivity(!0):this.playEvent(h?"actionOk":"actionError")}this.update()}else{if(a)break;this.ps.stopMedia(1),(n=this.bg.findActiveBox(e))&&(this.act.dragCells?this.bc.begin(e,n):this.bc.begin(e),n.playMedia(this.ps,r)||this.playEvent("click"))}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),f}();return Object.assign(f.prototype,{bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),h.Panel=f,e.CLASSES["@puzzles.ExchangePuzzle"]=h,h}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(44),n(3)],void 0===(r=function(t,e,n,i,r,l){var h=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),n}(),f=function(h){function f(t,e,n){return a(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,e,n))}return u(f,e.Panel),s(f,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;if(t){t.imgName&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bgA=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgB=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgA.setContent(t),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0);var e=this.bgA.getBackgroundActiveBox(),i=this.bgB.getBackgroundActiveBox();e&&i&&i.exchangeContent(e)}}},{key:"initActivity",value:function(){o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateContent",this).call(this),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new l.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){this.$canvas&&this.$canvas.remove(),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"setBounds",this).call(this,e),(this.bgA||this.bgB)&&(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new r(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&(this.bgB.setCellAttr("accessibleAlwaysActive",!0),this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown")))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null,n=void 0,i=void 0,r=[];if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new l.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new l.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),n=this.act.dragCells?this.bc.bx:this.bgA.findActiveBox(this.bc.origin),i=this.bgB.findActiveBox(e),this.bc.end(),n&&i&&i.isInactive()){var c=!1,u=n.getDescription()+" ("+n.idOrder+")",h="("+i.idOrder+")",f=this.act.abc.primary.getActiveBoxContent(i.idOrder);n.getContent().isEquivalent(f,!0)&&(c=!0,n.exchangeContent(i),n.setVisible(!1),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var p=this.bgA.countInactiveCells();this.ps.reportNewAction(this.act,"PLACE",u,h,c,p),c&&p===this.bgA.getNumCells()?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;this.ps.stopMedia(1),!(n=this.bgA.findActiveBox(e))||n.isInactive()||this.act.useOrder&&n.idOrder!==this.currentItem||(this.act.dragCells?this.bc.begin(e,n):this.bc.begin(e),n.playMedia(this.ps,r)||this.playEvent("click"),this.bgB.$accessibleDiv&&this.bgB.$accessibleDiv.focus())}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),f}();return Object.assign(f.prototype,{bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),h.Panel=f,e.CLASSES["@puzzles.DoublePuzzle"]=h,h}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(77),n(2)],void 0===(r=function(t,e,n,i){var r=function(t){function n(t){a(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.menuElements=[],e.includeInReports=!1,e.reportActions=!1,e}return u(n,e),n}(),l=function(r){function l(t,e,n){a(this,l);var i=c(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,e,n));return e.lastProjectSkin=null,i}return u(l,e.Panel),o(l,[{key:"buildVisualComponents",value:function(){var e=this;this.firstRun&&s(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildVisualComponents",this).call(this);var r,o,a,c=t("<div/>").css((a="auto",(o="overflow-y")in(r={width:"100%","max-height":"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex","flex-wrap":"wrap","overflow-y":"auto","place-content":"center"})?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r));this.act.menuElements.forEach(function(r){var o=r.description||r.caption||"JClic",s=t("<button/>",{class:"StockBtn",title:o,"aria-label":o}).css({"min-width":"80px","max-width":"200px","min-height":"80px",margin:"4px",padding:"4px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}),a=l.icons[r.icon||"@ico00.png"],u=t("<img/>",{src:a||""}).css({"max-width":"180px","max-height":"100px",margin:"4px"});a||e.act.project.mediaBag.getElement(r.icon,!0).getFullPathPromise().then(function(t){return u.attr("src",t)});s.append(u),s.append(t("<span/>").css({"max-width":"180px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}).html(r.caption)),s[0].addEventListener("click",function(t){var o=new n(r.projectPath?"RUN_CLIC_PACKAGE":"RUN_CLIC_ACTIVITY",r.sequence);r.projectPath&&(o.externalParam=r.projectPath),i.log("info","Launching "+(r.projectPath||"")+" "+(r.sequence||"")),e.ps.playMedia(o),t.preventDefault()}),c.append(s)}),this.$div.empty().append(c)}},{key:"setDimension",value:function(t){return t}},{key:"initActivity",value:function(){s(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.setAndPlayMsg("initial","start"),this.playing=!0}}]),l}();return l.icons={"@ico00.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB1UExURUxpcZVZAGyAAGyAAJVZAJVZAJVZAIhmAJVZAJVZAJVZAIhmAGyAAGyAAGyAAGyAAGyAAJVZAJVZAGyAAJVZANj+AP+ZAMFzAPWSALVsANyEAM57AJ66AOiLALXVAM3xAK1nAI6oAIabAJWwAMTnAKFgAGyAAIlz9xYAAAAVdFJOUwB9oCIiZpkRRKq7M4BVu9VmVd1EzJvdA7gAAAE0SURBVDjLjZPZkoMgEEVFFsHdZBQR3M38/ycOKQ1gJKnpV051nwtNEPyrsjBNom9AqNSapxn8CBRjXY+DmjXkbQSXeq9tWJe7ByhVberXqzCY8yGM6GVK9FQ4SpVUxAwnJ+A+2wkLBLLppYgJRgZIrcJYBKxvdLUdFzE4mHBzFNDUvKoVdFfI7YQ1q7gD7LowXNRwaM4R6AzQEXNRWZrPT2jLA9YaQOIXQHV0WIbFvKZImPNGmLCMCwY0lJQQS6vAzEXFjY7Of5iORXwKySHe8+kWWwVeGQUnmW3QTMgDONUbhQ+ABAZwozkTqH1Ox8za3Jz3drLZDMABquuM9nFaKXZpwfFpp+j0ZiHJ21pifiIkQ++Lix+9nc+Z5/tQwrt2fxEBvN8vooQJLgTDX74xSi6z/wAoQC7hWsslMgAAAABJRU5ErkJggg==","@ico01.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcfzZt/rfw/pycvrcv/3UrJqf/QAAAP/hxPvOov9sbPqFhYmN/f7nz3V4+/3ky/+AgPrIl11g/P/Klf+Kiv9XV//q1vtHR/rCim1w//pcXISI//tfX5WY/VNT///Dh/86OvwhISUl/js7+klM+vq6e8H/VfEAAAABdFJOUwBA5thmAAABGElEQVQ4y62T23aCMBBFiU48iQlELoJW7b3//4udBIi0MqsvDU+w95yEGSiK/15YrlVhd1+C8Nk05+ribzcvCJlXklBV3u/8pToLAnMk3kiCh0Hkz4LA/NSC+YcgANTWYP4OqVGmtmAuC2St2Mn4EMbq9TaPvABpDborD+OB0QqG8hbo3HTNAikFCtEZBTcMx+t+ewC2U4IyMAFUTgVd5nukHYlrqYcxSBlw15k/gTlXx/ySPT5NLOkyP7IQq0PoOd/wSZLgmLtD5AMLsS70ZbnZEL+LTQmZv6aEQIkrpTUlwWX+FhNCyNzaOiVkHgXODyHzFr87ye/3g+NxGrTgJ6zNa8nXJ04zf4Ew88ylr8KM/At//sB88w0/sBcK3bRRzgAAAABJRU5ErkJggg==","@ico02.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcQAAAP///8zMzJmZmfrdwP/hxPvOov3UrP3JlvzZt/zlzf/p0/zBh/rDjUN28cYAAAABdFJOUwBA5thmAAAAyklEQVQ4y6WT6w6DIAxG/YS2XHTv/7grLshF0C1r+KE5n6fFpMvybQHt6bldbXfQcazNsTD4MdCV+S+AQcBUBYa5M4BfHrcB8oNA08HLg0EeAiwOuGtBzoE0Mje4AO4S7QwhgDhlZrcISiNoqxzFoGbSb5Uyozhs4ckdD4M+OfQtUmeKcUsGnaQEyoSp/6YJIr2LXAPqp4OH4BzJtUXyZy7iBwbl8eSDALUc/Z/Sv1DxHfVm5ao5hjtIme+YbOnJMdlj/vCJoB5HX97wIgms7CtjdwAAAABJRU5ErkJggg==","@ico03.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpcQAAAPrdwP/hxP7mz/8AAAAAmfvOov3UrAAA//3JlvzZtwCZAP8A//zCifq6e7UN6GsAAAABdFJOUwBA5thmAAABA0lEQVQ4y5WS2RbDIAhEHdyTJv3/vy2osVj1oR6zeYcBDcb8NV6v9fp1NV7mgq8cMs/cDWYHhrmomsM1pcj9pgS7FL3IZ6AI8nazsCiCnPOG3wf0QpArfDnoGATC6mwc9oi/AtMFgAFFLQhDCuZcQ0yAMghB+cuNUgJpSVM1zg7phGUFpv3VFdB5gqxolpwdTqYO5EaPJ57PgWOZWgvt0bl4u+LAbwmzv0Q7JxquJM2FSpwTBRHvRU7Mey/E16f4FwfeSkpUBD26CIQ+PMajODTmaw0Dr7/V1zRVQCNvAvNw6QbFb5iWwvRaWKE4Vh3H/6LxG+ueROfYdXXlb+zavg/++ADYLwfSmmk9oQAAAABJRU5ErkJggg==","@icofolder.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcffvhP///2VlZczMZv//zPf39+/nc8zMzDMzmZmZZrW1tbWttcl3sA0AAAABdFJOUwBA5thmAAAAgklEQVQ4y9WSQQ6AIAwEsVtFwf+/14JGbcHeTHSuO9kFQggfBE8BFwLR+mBwFGYSZvh53zjzZTdkLTXCkS/ViDHBCLe8Gla48qpkGEHl+8pdYJo0yOouPA2GhLLiCCyC28DIcAXZ0IfsVKS3BTGUMDas0E9NfkO/ovmQBv2v0BJ+xAaYuQX2hCJNtwAAAABJRU5ErkJggg=="},r.Panel=l,e.CLASSES["@panels.Menu"]=r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(3),n(67)],void 0===(r=function(t,e,n,i,r,l){var h=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"mustPauseSequence",value:function(){return!0}},{key:"getMinNumActions",value:function(){return 0}},{key:"hasRandom",value:function(){return!0}}]),n}(),f=function(h){function f(t,e,n){return a(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,e,n))}return u(f,e.Panel),s(f,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildVisualComponents",this).call(this),this.clear();var e=this.act.abc.primary,i=this.act.abc.secondary;if(e&&i){e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),i.imgName&&i.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(e.nch,e.ncw,[e,i],!1),this.bgA=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,e);var r="AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?e.getTotalWidth():i.w;this.bgB=new n(null,this,i.bb,this.act.margin,this.act.margin,r,i.h,new l(1,1)),this.bgA.setContent(e),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.getActiveBox(0).setInactive(!1),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}}},{key:"initActivity",value:function(){o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateContent",this).call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){if(this.$canvas&&this.$canvas.remove(),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"setBounds",this).call(this,e),this.bgA||this.bgB){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var n=this.bgA.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update()}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];switch(t.type){case"click":this.ps.stopMedia(1);var i=this.bgA.findActiveBox(e);if(i){var o=this.bgB.getActiveBox(0);-1===i.idAss||this.act.useOrder&&i.idOrder!==this.currentItem?(o.clear(),o.setInactive(!1)):(o.setContent(this.act.abc.secondary,i.idAss),o.playMedia(this.ps,n)||i.playMedia(this.ps,n)||this.playEvent("CLICK"),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)),this.ps.reportNewAction(this.act,"SELECT",i.getDescription(),o.getDescription(),!0,0),o.$accessibleElement&&o.$accessibleElement.focus()),this.update()}}n.forEach(function(t){return t()}),t.preventDefault()}}}]),f}();return Object.assign(f.prototype,{bgA:null,bgB:null,events:["click"]}),h.Panel=f,e.CLASSES["@panels.Explore"]=h,h}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(3)],void 0===(r=function(t,e,n,i,r){var l=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),s(n,[{key:"getMinNumActions",value:function(){return this.cellsToMatch}},{key:"hasRandom",value:function(){return!0}}]),n}();Object.assign(l.prototype,{nonAssignedCells:0,cellsToMatch:1});var h=function(l){function h(t,e,n){return a(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,t,e,n))}return u(h,e.Panel),s(h,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildVisualComponents",this).call(this),this.clear();var e=this.act.abc.primary,i=this.act.abc.solvedPrimary;if(e){if(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),i&&i.imgName&&i.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var r=[e];i&&(r.push(null),r.push(i)),this.act.acp.generateContent(e.nch,e.ncw,r,!1)}this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bg.setContent(e,i||null),this.bg.setAlternative(!1),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setDefaultIdAss(),this.act.nonAssignedCells=0,this.act.cellsToMatch=0;for(var s=this.bg.getNumCells(),a=0;a<s;a++){var c=this.bg.getActiveBox(a),u=c.idAss;1===u?this.act.cellsToMatch++:-1===u&&(this.act.nonAssignedCells++,c.switchToAlt(this.ps))}this.bg.setVisible(!0)}}},{key:"initActivity",value:function(){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.act.scramble.primary&&this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"updateContent",this).call(this,t)}},{key:"setDimension",value:function(t){return this.getBounds().equals(t)?t:i.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(e){var n=this;if(this.$canvas&&this.$canvas.remove(),o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"setBounds",this).call(this,e),this.bg){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var i=this.bg.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update(),setTimeout(function(){return n.bg?n.bg.buildAccessibleElements(n.$canvas,n.$div):null},0)}}},{key:"buildAccessibleComponents",value:function(){this.bg&&this.$canvas&&this.accessibleCanvas&&(o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=!1,i=[];switch(t.type){case"click":this.ps.stopMedia(1);var o=this.bg?this.bg.findActiveBox(e):null;if(o)if(-1!==o.idAss){var s=!1,a=o.getDescription();n=n||o.playMedia(this.ps,i),1!==o.idAss||this.act.useOrder&&o.idOrder!==this.currentItem||(s=!0,o.idAss=-1,o.switchToAlt(this.ps)?n=n||o.playMedia(this.ps,i):o.clear(),this.act.useOrder&&(this.currentItem=this.bg.getNextItem(this.currentItem,1)));var c=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"SELECT",a,null,s,c-this.act.nonAssignedCells),s&&c===this.act.cellsToMatch+this.act.nonAssignedCells?this.finishActivity(!0):n||this.playEvent(s?"actionOk":"actionError"),this.update()}else this.playEvent("actionError")}i.forEach(function(t){return t()}),t.preventDefault()}}}]),h}();return Object.assign(h.prototype,{bg:null,events:["click"]}),l.Panel=h,e.CLASSES["@panels.Identify"]=l,l}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(3)],void 0===(r=function(t,e,n,i,r){var l=function(t){function n(t){a(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.includeInReports=!1,e.reportActions=!1,e}return u(n,e),n}(),h=function(l){function h(t,e,n){return a(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,t,e,n))}return u(h,e.Panel),o(h,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildVisualComponents",this).call(this),this.clear();var e=this.act.abc.primary;e&&(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),e.animatedGifFile&&!e.shaper.rectangularShapes&&(this.$animatedBg=t("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(e.nch,e.ncw,[e],!1),this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bg.setContent(e),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setVisible(!0))}},{key:"initActivity",value:function(){s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}},{key:"updateContent",value:function(t){if(s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.getBounds().equals(t)?t:i.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(e){var n=this;if(this.$canvas&&this.$canvas.remove(),s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"setBounds",this).call(this,e),this.bg){if(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var i=this.bg.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update(),setTimeout(function(){return n.bg?n.bg.buildAccessibleElements(n.$canvas,n.$div):null},0)}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];this.ps.stopMedia(1);var i=this.bg.findActiveBox(e);i&&(i.playMedia(this.ps,n)||this.playEvent("click")),n.forEach(function(t){return t()}),t.preventDefault()}}}]),h}();return Object.assign(h.prototype,{bg:null,events:["click"]}),l.Panel=h,e.CLASSES["@panels.InformationScreen"]=l,l}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(19),n(3),n(2)],void 0===(r=function(t,e,n,i){var r=function(r){function s(t,e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,e),o(s,[{key:"addActiveBox",value:function(t){return t.idLoc=this.cells.length,t.idOrder=t.idLoc,this.addBox(t)}},{key:"getActiveBox",value:function(t){return this.getBox(t)}},{key:"getBackgroundActiveBox",value:function(){return this.getBackgroundBox()}},{key:"setContent",value:function(t,e,n,i,r){n||(n=0),i||(i=0),r||(r=this.cells.length);for(var o=0;o<r;o++){var s=this.getActiveBox(i+o);s.setContent(t,n+o),s.setAlternative(!1),e&&s.setAltContent(e,n+o)}if(null!==t.backgroundContent&&null!==this.getBackgroundActiveBox()){var a=this.getBackgroundActiveBox();a.setContent(t.backgroundContent),t.bb!==a.boxBase&&a.setBoxBase(t.bb)}}},{key:"findActiveBox",value:function(t){return this.findBox(t)}},{key:"clearAllBoxes",value:function(){this.cells.forEach(function(t){return t.clear()})}},{key:"clearAll",value:function(){this.clearAllBoxes(),null!==this.backgroundBox&&this.getBackgroundActiveBox().clear()}},{key:"countCellsAtPlace",value:function(){return this.cells.reduce(function(t,e){return e.isAtPlace()?++t:t},0)}},{key:"getActiveBoxWithIdLoc",value:function(t){return this.cells.find(function(e){return e.idLoc===t})||null}},{key:"cellIsAtEquivalentPlace",value:function(t,e){return t.isAtPlace()||t.isEquivalent(this.getActiveBoxWithIdLoc(t.idOrder),e)}},{key:"countCellsAtEquivalentPlace",value:function(t){var e=this;return this.cells.reduce(function(n,i){return e.cellIsAtEquivalentPlace(i,t)?++n:n},0)}},{key:"countCellsWithIdAss",value:function(t){return this.cells.reduce(function(e,n){return n.idAss===t?++e:e},0)}},{key:"setDefaultIdAss",value:function(){this.cells.map(function(t){return t.setDefaultIdAss()})}},{key:"scrambleCells",value:function(t,e){var i=this.cells.length;if(i>=2){for(var r=[],o=[],s=new n.Point,a=0;a<i;a++){var c=this.getActiveBox(a);r[a]=new n.Point(c.pos),o[a]=c.idLoc}for(var u=0;u<t;u++){var l=Math.floor(Math.random()*i),h=Math.floor(Math.random()*i);if(l!==h){s.moveTo(r[l]),r[l].moveTo(r[h]),r[h].moveTo(s);var f=o[l];o[l]=o[h],o[h]=f}}for(var p=0;p<i;p++){var d=this.getActiveBox(p),g=r[p].x,v=r[p].y;d.moveTo(new n.Point(g,v)),e&&this.fitCellsInArea([d]),d.idLoc=o[p]}}}},{key:"fitCellsInArea",value:function(t){var e=this,i=this.pos.x+this.dim.width,r=this.pos.y+this.dim.height;t.forEach(function(t){t.pos0||(t.pos0=new n.Point(t.pos));var o=Math.min(Math.max(t.pos.x,e.pos.x),i-t.dim.width),s=Math.min(Math.max(t.pos.y,e.pos.y),r-t.dim.height);o===t.pos.x&&s===t.pos.y||t.moveTo(new n.Point(o,s))})}},{key:"swapCellPositions",value:function(t,e,i){var r=new n.Point(e.pos),o=e.pos0,s=e.idLoc;e.moveTo(t.pos0||t.pos),e.pos0=t.pos0,e.idLoc=t.idLoc,t.moveTo(o||r),t.pos0=o,t.idLoc=s,i&&this.fitCellsInArea([t,e])}},{key:"resetIds",value:function(){this.cells.forEach(function(t,e){t&&(t.idOrder=e,t.idAss=e,t.idLoc=e)})}},{key:"getNextItem",value:function(t,e){e||(e=-12345);for(var n=t+1;n<this.cells.length;n++){var i=this.cells[n];if(!i)break;if(-12345!==e){if(e===i.idAss)break}else if(i.idAss>=0)break}return n}},{key:"buildAccessibleElements",value:function(e,n,r){var o=this;return i.settings.CANVAS_HITREGIONS&&(this.$accessibleDiv=""!==this.accessibleText?t("<div/>",{"aria-label":this.accessibleText,tabindex:0}):null,e.append(this.$accessibleDiv),this.cells.forEach(function(t){return t.buildAccessibleElement(e,n,o.$accessibleDiv,r)})),this.$accessibleDiv}}]),s}();return Object.assign(r.prototype,{$accessibleDiv:null}),r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(29),n(19),n(3),n(2),n(67)],void 0===(r=function(t,e,n,i,r,l,h){var f=function(t){function n(t){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,e),o(n,[{key:"setProperties",value:function(t){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setProperties",this).call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.answers.getNumCells())}},{key:"getMinNumActions",value:function(){return this.invAss?this.abc.answers.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}},{key:"hasRandom",value:function(){return!0}},{key:"needsKeyboard",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),n}();Object.assign(f.prototype,{nonAssignedCells:0,useIdAss:!0});var p=function(f){function p(t,e,n){return a(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t,e,n))}return u(p,e.Panel),o(p,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){var e=this;this.firstRun&&s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildVisualComponents",this).call(this),this.clear();var i=this.act.abc.primary,r=this.act.abc.answers,o=this.act.abc.solvedPrimary;if(i&&r){if(this.act.invAss&&(this.invAssCheck=Array(r.getNumCells()).fill(!1)),i.imgName&&(i.setImgContent(this.act.project.mediaBag,null,!1),!i.animatedGifFile||i.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=t("<span/>").css({"background-image":"url("+i.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),o&&o.imgName&&o.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var a=[i,r];o&&a.push(o),this.act.acp.generateContent(i.nch,i.ncw,a,!1)}this.bgA=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,i);var c=r.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(c=i.getTotalWidth()),this.bgB=new n(null,this,r.bb,this.act.margin,this.act.margin,c,r.h,new h(1,1)),this.$form=t("<form/>",{id:"form1",action:"#"}),this.$form.submit(function(t){t.preventDefault(),e.playing&&e.setCurrentCell(e.currentCell)}),this.$textField=t("<input/>",{type:"text",size:200}).css(r.bb.getCSS()).css({position:"absolute",top:0,left:0,border:0,padding:0,margin:0,"text-align":"center"}),this.$div.append(this.$form.append(this.$textField)),this.bgA.setContent(i,o||null),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.act.nonAssignedCells=0;for(var u=0;u<this.bgA.getNumCells();u++){var l=this.bgA.getActiveBox(u);-1===l.idAss&&(this.act.nonAssignedCells++,l.switchToAlt(this.ps))}this.bgA.setVisible(!0),this.bgB.setVisible(!1)}}},{key:"initActivity",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"activityReady",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"activityReady",this).call(this),this.setCurrentCell(0)}},{key:"updateContent",value:function(t){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"updateContent",this).call(this,t),this.bgA&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t||(t=new r.Rectangle(0,0,e.width,e.height)),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(e){if(this.$canvas&&this.$canvas.remove(),s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"setBounds",this).call(this,e),this.bgA||this.bgB){var n=e.clone();if("AUB"===this.act.boxGridPos?n.height-=this.bgB.pos.y+this.act.margin/2:"AB"===this.act.boxGridPos&&(n.width-=this.bgB.pos.x+this.act.margin/2),this.$canvas=t('<canvas width="'+n.dim.width+'" height="'+n.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.bgA&&this.$animatedBg){var i=this.bgA.getBounds();this.$animatedBg.css({left:i.pos.x,top:i.pos.y,width:i.dim.width+"px",height:i.dim.height+"px","background-size":i.dim.width+"px "+i.dim.height+"px"}),this.$canvas.insertAfter(this.$animatedBg)}else this.$div.prepend(this.$canvas);this.$textField&&this.$textField.css({top:this.bgB.pos.y,left:this.bgB.pos.x,width:this.bgB.dim.width,height:this.bgB.dim.height,zIndex:9}),this.invalidate().update()}}},{key:"checkInvAss",value:function(){return this.act.invAss&&this.invAssCheck&&this.invAssCheck.every(function(t){return t})}},{key:"setCurrentCell",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.playing){var n=null,i=!1;if(-1!==this.currentCell){var r=!1;if(n=this.bgA?this.bgA.getActiveBoxWithIdLoc(this.currentCell):null){n.setMarked(!1);var o=n.getDescription(),s=n.idAss,a=s>=0?this.act.abc.answers.getActiveBoxContent(s).text:"",c=this.$textField.val().trim();if(l.compareMultipleOptions(c,a,!1)){r=!0,n.idAss=-1;var u=a.indexOf("|");u>=0&&this.$textField.val(a.substring(0,u)),this.act.abc.solvedPrimary?(n.switchToAlt(this.ps),i=n.playMedia(this.ps,e)):n.clear(),this.act.invAss&&s>=0&&s<this.invAssCheck.length&&(this.invAssCheck[s]=!0),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem))}var h=this.bgA.countCellsWithIdAss(-1);if(c.length>0&&this.ps.reportNewAction(this.act,"WRITE",o,c,r,h),r&&(this.checkInvAss()||h===this.bgA.getNumCells()))return this.finishActivity(!0),this.$textField.prop("disabled",!0),void this.invalidate().update();!i&&c.length>0&&this.playEvent(r?"actionOk":"actionError")}}if(n=this.bgA?this.act.useOrder?this.bgA.getBox(this.currentItem):this.bgA.getActiveBoxWithIdLoc(t):null,this.bgA&&(!n||-1===n.idAss)){for(var f=0;f<this.bgA.getNumCells()&&-1===(n=this.bgA.getActiveBoxWithIdLoc(f)).idAss;f++);if(n&&-1===n.idAss)return this.finishActivity(!1),this.$textField.prop("disabled",!0),void this.invalidate().update()}n&&this.bgA&&this.bgA.getNumCells()>1&&n.setMarked(!0),n&&(this.currentCell=n.idLoc),this.$textField.val(""),this.$textField.focus(),this.invalidate().update(),n&&n.playMedia(this.ps,e)}}},{key:"processEvent",value:function(t){if(this.playing){var e=[];switch(t.type){case"click":t.preventDefault(),this.ps.stopMedia(1);var n=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);if(this.bgB.contains(n)){this.$textField.focus();break}var i=this.bgA?this.bgA.findActiveBox(n):null;i&&!i.isInactive()&&(i.getContent()&&null===i.getContent().mediaContent&&this.playEvent("CLICK"),this.setCurrentCell(i.idLoc,e));break;case"change":t.preventDefault(),this.setCurrentCell(this.currentCell,e)}return e.forEach(function(t){return t()}),!1}}}]),p}();return Object.assign(p.prototype,{$textField:null,invAssCheck:null,bgA:null,bgB:null,currentCell:-1,events:["click","change"]}),f.Panel=p,e.CLASSES["@text.WrittenAnswer"]=f,f}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(66)],void 0===(r=function(t,e,n){var i=function(t){function e(t){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,n),e}(),r=function(t){function e(t,n,i){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return u(e,n.Panel),o(e,[{key:"$createTargetElement",value:function(t,n){var i=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"$createTargetElement",this).call(this,t,n);var r="target"+("000"+(this.targets.length-1)).slice(-3);return n.bind("click",function(e){e.textTarget=t,e.idLabel=r,i.processEvent(e)}),n}},{key:"initActivity",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initActivity",this).call(this,this),this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),this.playing=!0}},{key:"countSolvedTargets",value:function(){return this.targets.length.reduce(function(t,e){return"SOLVED"===e.targetStatus?++t:t},0)}},{key:"evaluatePanel",value:function(){var t=this,e=0;return this.targets.forEach(function(n){var i="SOLVED"===n.targetStatus;i&&e++,n.checkColors(),t.ps.reportNewAction(t.act,"SELECT",n.text,n.pos,i,e)}),e===this.targets.length?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(t){return this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){if(!s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"processEvent",this).call(this,t)||t.timeStamp===this.lastTimeStamp)return!1;t.timeStamp&&(this.lastTimeStamp=t.timeStamp);var n=t.textTarget;switch(t.type){case"click":var i=void 0,r=void 0,o=!1;if(n?("SOLVED"===n.targetStatus?n.targetStatus="HIDDEN":(n.targetStatus="SOLVED",o=!0),i=n.text,r=n.pos,n.checkColors()):(i="unknown",r=0),!this.$checkButton){var a=this.countSolvedTargets();this.ps.reportNewAction(this.act,"SELECT",i,r,o,a),o&&a===this.targets.length?this.finishActivity(!0):this.playEvent(o?"actionOk":"actionError")}t.preventDefault()}return!0}}]),e}();return Object.assign(r.prototype,{targetsMarked:!1,lastTimeStamp:0}),i.Panel=r,e.CLASSES["@text.Identify"]=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(13),n(66),n(44),n(3)],void 0===(r=function(t,e,n,i,r){var l=function(t){function e(t){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,n),s(e,[{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}();Object.assign(l.prototype,{amongParagraphs:!1,bc:null});var h=function(e){function l(t,e,n){return a(this,l),c(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,e,n))}return u(l,n.Panel),s(l,[{key:"buildVisualComponents",value:function(){this.act.document.style.target.css.cursor="pointer",o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildVisualComponents",this).call(this)}},{key:"setBounds",value:function(e){this.$canvas&&this.$canvas.remove(),o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"setBounds",this).call(this,e),this.act.dragCells||(this.$canvas=t('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0,"pointer-events":"none"}),this.$div.append(this.$canvas),this.bc=new i(this,this.$canvas.get(-1).getContext("2d")),this.bc.compositeOp=this.bc.DEFAULT_COMPOSITE_OP,this.invalidate().update())}},{key:"$createTargetElement",value:function(t,e){var n=this;o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"$createTargetElement",this).call(this,t,e);var i="target"+("000"+(this.targets.length-1)).slice(-3);return e.addClass("JClicTextTarget").bind("click",function(e){e.textTarget=t,e.idLabel=i,n.processEvent(e)}),e}},{key:"swapTargets",value:function(e,n){var i=e.$span,r=n.$span,o=t("<span/>");o.insertAfter(r),r.detach(),r.insertAfter(i),i.detach(),i.insertAfter(o),o.remove();var s=e.pos,a=e.$p;e.pos=n.pos,e.$p=n.$p,n.pos=s,n.$p=a}},{key:"initActivity",value:function(){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents()}},{key:"startActivity",value:function(){var t=this;if(o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"startActivity",this).call(this),!this.showingPrevScreen){if("orderWords"!==this.act.type||this.act.amongParagraphs)this.shuffleTargets(this.targets,this.act.shuffles);else{var e=[],n=null,i=[];this.targets.forEach(function(t){null!==n&&n.$p!==t.$p&&(e.push(i),i=[]),i.push(t),n=t}),i.length>0&&e.push(i),e.forEach(function(e){return t.shuffleTargets(e,t.act.shuffles)})}this.playing=!0}this.setBounds(this)}},{key:"shuffleTargets",value:function(t,e){var n=t.length;if(n>1)for(var i=100,r=0;r<e;r++){var o=Math.floor(Math.random()*n),s=Math.floor(Math.random()*n);o!==s?this.swapTargets(t[o],t[s]):--i&&r++}}},{key:"setCurrentTarget",value:function(t){var e=this.act.document.getFullStyle("target").css;this.currentTarget&&this.currentTarget.$span&&this.currentTarget.$span.css(e),t&&t.$span&&t.$span.css({color:e["background-color"],"background-color":e.color}),this.currentTarget=t}},{key:"countSolvedTargets",value:function(){return this.targets.reduce(function(t,e){return e.num===e.pos?++t:t},0)}},{key:"evaluatePanel",value:function(){var t=this;this.bc&&this.bc.active&&this.bc.end(),this.setCurrentTarget(null);var e=0;return this.targets.forEach(function(n){var i=n.num===n.pos;n.targetStatus=i?"SOLVED":"WITH_ERROR",i&&e++,n.checkColors(),t.ps.reportNewAction(t.act,"PLACE",n.text,n.pos,i,e)}),e===this.targets.length?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(e){return t(".JClicTextTarget").css("cursor","pointer"),o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"finishActivity",this).call(this,e)}},{key:"processEvent",value:function(t){if(!o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"processEvent",this).call(this,t))return!1;var e=t.textTarget,n=null;if(this.bc&&this.playing&&!this.showingPrevScreen){if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new r.Point;else{var i=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new r.Point(i-this.$div.offset().left,s-this.$div.offset().top)}switch(t.type){case"click":if(e&&e!==this.currentTarget)if(this.currentTarget){if(this.bc&&this.bc.active&&this.bc.end(),this.swapTargets(e,this.currentTarget),this.setCurrentTarget(null),!this.$checkButton){var a=this.countSolvedTargets(),c=e.pos===e.num;this.ps.reportNewAction(this.act,"PLACE",e.text,e.pos,c,a),c&&a===this.targets.length?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}}else this.setCurrentTarget(e),this.bc.begin(n),this.playEvent("click");break;case"mousemove":this.bc.moveTo(n)}return t.preventDefault(),!0}}}]),l}();return Object.assign(h.prototype,{currentTarget:null,bc:null,events:["click","mousemove"]}),l.Panel=h,e.CLASSES["@text.Order"]=l,l}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i=[n(1),n(2),n(13),n(66)],void 0===(r=function(t,e,n,i){var r=function(t){function e(t){return a(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,i),s(e,[{key:"needsKeyboard",value:function(){return!0}}]),e}();Object.assign(r.prototype,{autoJump:!1,forceOkToAdvance:!1});var l=function(n){function r(t,e,n){return a(this,r),c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,n))}return u(r,i.Panel),s(r,[{key:"$createTargetElement",value:function(n,i){var r=this;i.addClass("JClicTextTarget");var o="target"+("000"+(this.targets.length-1)).slice(-3);return n.isList&&n.options&&n.options.length>0?(i=t("<select/>",{id:o,name:o}),""!==n.options[0].trim()&&t("<option selected/>",{value:"",text:""}).appendTo(i),n.options.forEach(function(e){return t("<option/>",{value:e,text:e}).appendTo(i)}),n.$comboList=i.bind("focus change",function(t){t.textTarget=n,r.processEvent(t)})):(n.currentText=n.iniText?n.iniText:e.fillString(n.iniChar,n.numIniChars),n.$span=i.text(n.currentText).attr({contenteditable:"true",id:o,autocomplete:"off",spellcheck:"false"}).bind("focus input blur",function(t){t.textTarget=n,r.processEvent(t)}).bind("keydown keyup",function(t){13===t.keyCode&&(t.preventDefault(),"keydown"===t.type&&(t.textTarget=n,t.type="blur",r.processEvent(t)))})),i}},{key:"evaluatePanel",value:function(){var t=this,e=0,n=this.targets.length;return this.targets.forEach(function(n){var i=t.act.ev.evalText(n.readCurrentText(),n.answers),r=t.act.ev.isOk(i);n.targetStatus=r?"SOLVED":"WITH_ERROR",r&&e++,t.markTarget(n,i),t.ps.reportNewAction(t.act,"WRITE",n.currentText,n.getAnswers(),r,e)}),e===n?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"checkTarget",value:function(t,n,i){var r=this.act.ev.evalText(t.currentText,t.answers),o=this.act.ev.isOk(r);if(t.targetStatus=o?"SOLVED":"WITH_ERROR",n)return o;this.markTarget(t,r);var s=this.countSolvedTargets(!1,!1);if(t.currentText.length>0&&this.ps.reportNewAction(this.act,"WRITE",t.currentText,t.getAnswers(),o,s),o&&s===this.targets.length)return this.finishActivity(!0),o;if(t.currentText.length>0&&this.playEvent(o?"actionOk":"actionError"),i&&0!==i){var a=t.num+i;a>=this.targets.length?a=0:a<0&&(a=this.targets.length-1);var c=this.targets[a];c.$span?(c.$span.focus(),e.setSelectionRange(c.$span.get(-1),0,0)):c.$comboList&&c.$comboList.focus()}return o}},{key:"countSolvedTargets",value:function(t,e){var n=this;return this.targets.reduce(function(i,r){return t&&(r.readCurrentText(),n.checkTarget(r,!e)),"SOLVED"===r.targetStatus?++i:i},0)}},{key:"markTarget",value:function(e,n){if(e.$comboList||this.act.ev.isOk(n))e.checkColors();else if(e.$span){for(var i=e.currentText,r=[],o=-1,s=-1,a=0;a<n.length&&a<i.length;a++)n[a]!==o&&(r[++s]="",o=n[a]),r[s]+=i.charAt(a);a<i.length&&(r[s]+=i.substr(a)),e.$span.empty(),o=n[0],r.forEach(function(n){t("<span/>").text(n).css(e.doc.style[0===o?"target":"targetError"].css).appendTo(e.$span),o^=1})}e.flagModified=!1}},{key:"activityReady",value:function(){o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"activityReady",this).call(this),t(".JClicTextTarget").css("white-space","normal"),this.targets.length>0&&this.targets[0].$span&&this.targets[0].$span.focus()}},{key:"finishActivity",value:function(t){return this.targets.forEach(function(t){t.$span?t.$span.removeAttr("contenteditable").blur():t.$comboList&&t.$comboList.attr("disabled","true").blur()}),o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){if(!o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"processEvent",this).call(this,t))return!1;var n=t.textTarget,i=null,s=0;switch(t.type){case"focus":n&&(n.$span&&n.$span.children().length>0?(i=n.$span,s=Math.min(n.currentText.length,e.getCaretCharacterOffsetWithin(i.get(-1))),i.empty(),i.text(n.currentText),e.setSelectionRange(i.get(-1),s,s),n.flagModified=!0):n.$comboList&&n.$comboList.css(n.doc.style.target.css),n.$popup&&("always"===n.infoMode||"onError"===n.infoMode&&"WITH_ERROR"===n.targetStatus)?this.showPopup(n.$popup,n.popupMaxTime,n.popupDelay):this.showPopup(null));break;case"blur":n.flagModified&&!this.$checkButton&&this.checkTarget(n,!1,1);break;case"input":if(n&&n.$span){var a=(i=n.$span).html();if(/(<br>|\n|\r)/.test(a))return a=a.replace(/(<br>|\n|\r)/g,""),i.html(a),n.currentText=i.text(),!this.$checkButton&&this.checkTarget(n,!1,1);if((a=i.text())!==n.currentText){n.flagModified=!0;var c=a.length-n.currentText.length;if(c>0){if(a.indexOf(n.iniChar)>=0){s=e.getCaretCharacterOffsetWithin(i.get(-1));for(var u=0;u<c;u++){var l=a.indexOf(n.iniChar);if(l<0)break;a=a.substr(0,l)+a.substr(l+1),l<s&&s--}i.text(a),e.setSelectionRange(i.get(-1),s,s)}a.length>n.maxLenResp&&(s=e.getCaretCharacterOffsetWithin(i.get(-1)),a=a.substr(0,n.maxLenResp),s=Math.min(s,a.length),i.text(a),e.setSelectionRange(i.get(-1),s,s))}else""===a&&(a=n.iniChar,i.text(a),e.setSelectionRange(i.get(-1),0,0));n.currentText=a}}break;case"change":if(n&&n.$comboList)return n.currentText=n.$comboList.val(),n.flagModified=!0,!this.$checkButton&&this.checkTarget(n,!1,1)}return!0}}]),r}();return Object.assign(l.prototype,{locked:!0}),r.Panel=l,n.CLASSES["@text.FillInBlanks"]=r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(143),n(2)],void 0===(r=function(t,e,n){var i=["+","-",String.fromCharCode(215),":"],r=String.fromCharCode(160),a=function(a){function c(t){s(this,c);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return e.opA=new c.Operator,e.opB=new c.Operator,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,e),o(c,[{key:"setProperties",value:function(e){var i=this;return e.children().each(function(e,r){var o=t(r),s="";switch(r.nodeName){case"operand":switch(o.attr("id")){case"A":i.opA.setProperties(o);break;case"B":i.opB.setProperties(o)}break;case"operations":i.use_add=n.getBoolean(o.attr("plus")),i.use_subst=n.getBoolean(o.attr("minus")),i.use_mult=n.getBoolean(o.attr("multiply")),i.use_div=n.getBoolean(o.attr("divide"));break;case"unknown":i.exp_abx=n.getBoolean(o.attr("result")),i.exp_xbc=n.getBoolean(o.attr("first")),i.exp_axc=n.getBoolean(o.attr("last")),i.exp_axbc=n.getBoolean(o.attr("operand")),i.exp_caxb=n.getBoolean(o.attr("inverse"));break;case"result":s=o.attr("from"),i.resultLimInf=n.getNumber("x"===s?0:s,i.resultLimInf),s=o.attr("to"),i.resultLimSup=n.getNumber("x"===s?0:s,i.resultLimSup),i.resultCarry=n.getBoolean(o.attr("notCarry"),i.resultCarry),i.resultNoDup=!n.getBoolean(o.attr("duplicates"),!i.resultNoDup);var a=o.attr("order");i.resultOrder="ascending"===a?"SORTASC":"descending"===a?"SORTDESC":"NOSORT",a=o.attr("condition"),i.opCond="firstBig"===a?"AGB":"lastBig"===a?"BGA":"INDIF"}}),this}},{key:"genNum",value:function(t,e,n,i){var r=!1;t.c=e.numDec;var o=0===t.c?1:1===t.c?10:100,s=e.limSup;-12345!==i&&i<s&&(s=i);var a=e.limInf;if(-12345!==n&&n>a&&(a=n),e.fromList>0&&(t.vf=e.lst[Math.floor(Math.random()*e.fromList)],r=!0),!r){var c=Math.floor(100*Math.random());e.wZero&&c<=10?(t.vf=0,r=!0):e.wOne&&c>10&&c<=20?(t.vf=1,r=!0):e.wMinusOne&&c>20&&c<=30&&(t.vf=-1,r=!0)}if(!r){if(a>s){var u=a;a=s,s=u}var l=Math.floor(s-a+1);l<0&&(l=1);var h=(Math.floor(Math.random()*l)+a)*o;o>1&&(h+=Math.floor(Math.random()*o)),t.vf=h/o}return!0}},{key:"genOp",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l=[],h=this.resultLimInf,f=this.resultLimSup,p=0;switch(this.use_add&&(l[p++]="SUM"),this.use_subst&&(l[p++]="REST"),this.use_mult&&(l[p++]="MULT"),this.use_div&&(l[p++]="DIV"),l[Math.floor(Math.random()*p)]){case"SUM":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,f),n=t.numA.vf<h?h-Math.floor(t.numA.vf):this.RES,i=f-Math.floor(t.numA.vf),this.opCond){case"AGB":(i===this.RES||i>t.numA.vf)&&(i=Math.floor(t.numA.vf));break;case"BGA":(n===this.RES||n<t.numA.vf)&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf+t.numB.vf,t.numR.vf>=h&&t.numR.vf<=f)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=0,this.resultCarry&&t.numA.vf>0&&t.numB.vf>0){for(r=2===t.numR.c?100:1===t.numR.c?10:1,a=c.DecFormat(Math.floor(t.numA.vf*r+.5),0,10).split(""),u=c.DecFormat(Math.floor(t.numB.vf*r+.5),0,10).split(""),e=0;e<10&&("0"===a[e]&&"0"===u[e]);e++);for(;e<10;e++)if(!((o=parseInt(a[e]))+(s=parseInt(u[e]))<10)){for(;o+s>9;)o>s?o=o>0?Math.floor(Math.random()*o):0:s=s>0?Math.floor(Math.random()*s):0;a[e]=o.toFixed(0),u[e]=s.toFixed(0)}t.numA.vf=parseInt(a.join(""))/r,t.numB.vf=parseInt(u.join(""))/r,t.numR.vf=Math.floor(t.numA.vf+t.numB.vf+.5)/r}break;case"REST":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,h,this.RES),n=t.numA.vf>f?Math.floor(t.numA.vf-f):this.RES,i=Math.floor(t.numA.vf-h),this.opCond){case"AGB":(i===this.RES||i>t.numA.vf)&&(i=Math.floor(t.numA.vf));break;case"BGA":(n===this.RES||n<t.numA.vf)&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf-t.numB.vf,t.numR.vf>=h&&t.numR.vf<=f)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=1,this.resultCarry&&t.numA.vf>0&&t.numB.vf>0&&t.numA.vf>=t.numB.vf){for(r=2===t.numR.c?100:1===t.numR.c?10:1,a=c.DecFormat(Math.floor(t.numA.vf*r+.5),0,10).split(""),u=c.DecFormat(Math.floor(t.numB.vf*r+.5),0,10).split(""),e=0;e<10&&"0"===u[e];e++);for(;e<10;e++)(o=parseInt(a[e]))>=(s=parseInt(u[e]))||(s=o>0?Math.floor(Math.random()*o):0,u[e]=s.toFixed(0));t.numA.vf=parseInt(a.join(""))/r,t.numB.vf=parseInt(u.join(""))/r,t.numR.vf=Math.floor(t.numA.vf-t.numB.vf+.5)/r}break;case"MULT":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),n=this.opB.limInf,i=this.opB.limSup,this.opCond){case"AGB":i>t.numA.vf&&(i=Math.floor(t.numA.vf));break;case"BGA":n<t.numA.vf&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf*t.numB.vf,t.numR.vf>=h&&t.numR.vf<=f)break}t.numR.c=t.numA.c+t.numB.c,t.op=2;break;case"DIV":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),n=this.opB.limInf,i=this.opB.limSup,this.opCond){case"AGB":i>t.numA.vf&&(i=Math.floor(t.numA.vf));break;case"BGA":n<t.numA.vf&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),0!==t.numB.vf&&Math.abs(t.numA.vf)>=Math.abs(t.numB.vf)&&(t.numR.vf=t.numA.vf/t.numB.vf)>=h&&t.numR.vf<=f)break}0===t.numB.vf&&(t.numB.vf=1),t.numR.vf=t.numA.vf/t.numB.vf,e=t.numA.c-t.numB.c,r=Math.pow(10,e),t.numA.vf*=r,t.numR.vf*=r,t.numR.vf=Math.floor(t.numR.vf),t.numA.vf=t.numR.vf*t.numB.vf,t.numA.vf/=r,t.numR.vf/=r,t.numR.c=e>0?e:0,t.op=3;break;default:return!1}return!0}},{key:"process",value:function(t){var e=t.nRows,n=t.nCols,o=t.content,s=t.useIds,a=void 0,u=void 0,l=void 0,h=void 0,f=[],p=[],d=void 0,g=void 0,v=this.exp_caxb,y="",m="",b="",w="",k=[],x=[],A=[],C=n,S=e,_=e*n,E=null;if(e<=0||n<=0||null===o||o.length<1||null===o[0])return!1;if(_<2)return!1;if(d=0,this.exp_abx&&(p[d++]="ABX"),this.exp_axc&&(p[d++]="AXC"),this.exp_xbc&&(p[d++]="XBC"),this.exp_axbc&&(p[d++]="AXBC"),0===d)return!1;for(a=0;a<_;a++){for(h=new c.Operacio,u=0;u<60&&(this.genOp(h),this.resultNoDup);u++){for(l=0;l<a&&h.numR.vf!==f[l].numR.vf;l++);if(l===a)break}f[a]=h}if(0!==this.resultOrder)for(a=_-1;a>0;a--)for(u=0;u<a;u++)("SORTASC"===this.resultOrder&&f[u].numR.vf>f[u+1].numR.vf||"SORTDESC"===this.resultOrder&&f[u].numR.vf<f[u+1].numR.vf)&&(h=f[u],f[u]=f[u+1],f[u+1]=h);for(a=0;a<_;a++)switch(g=p[Math.floor(Math.random()*d)],y=c.DecFormat(f[a].numA.vf,f[0].numA.c),m=c.DecFormat(f[a].numB.vf,f[0].numB.c),b=c.DecFormat(f[a].numR.vf,f[0].numR.c),w=i[f[a].op],A[a]=v?b+r+"="+r+y+r+w+r+m:y+r+w+r+m+r+"="+r+b,g){case"AXC":x[a]=m,k[a]=v?""+b+r+"="+r+y+r+w+r+"?":""+y+r+w+r+"?"+r+"="+r+b;break;case"XBC":x[a]=y,k[a]=v?""+b+r+"="+r+"?"+r+w+r+m:"?"+r+w+r+m+r+"="+r+b;break;case"AXBC":x[a]=w,k[a]=v?""+b+r+"="+r+y+r+"?"+r+m:""+y+r+"?"+r+m+r+"="+r+b;break;default:x[a]=b,k[a]=v?"?"+r+"="+r+y+r+w+r+m:""+y+r+w+r+m+r+"="}if(s){E=[];var O=[];for(l=0,a=0;a<_;a++){for(u=0;u<l&&x[a]!==O[u];u++);u===l?(O[l]=x[a],E[a]=l,l++):E[a]=u}for(x=[],a=0;a<l;a++)x[a]=O[a];if(S*C!==l){switch(l){case 6:S=3,C=2;break;case 8:S=4,C=2;break;case 9:S=3,C=3;break;case 10:S=5,C=2;break;case 12:S=4,C=3;break;case 14:S=7,C=2;break;case 15:S=5,C=5;break;case 16:S=4,C=4;break;case 18:S=3,C=6;break;case 20:S=5,C=4;break;default:S=l,C=1}}}return o[0].setTextContent(k,n,e),null!==E&&o[0].setIds(E),o.length>1&&null!==o[1]&&(o[1].setTextContent(x,C,S),o[1].getShaper().reset(C,S)),o.length>2&&null!==o[2]&&o[2].setTextContent(A,n,e),!0}}],[{key:"DecFormat",value:function(t,e,n){var i=t.toFixed(e);if(n){var r=i.indexOf(".");for(r<0&&(r=i.length);r<n;r++)i="0"+i}return i}}]),c}();return Object.assign(a.prototype,{opA:null,opB:null,use_add:!0,use_subst:!1,use_mult:!1,use_div:!1,exp_abx:!0,exp_axc:!1,exp_xbc:!1,exp_axbc:!1,exp_caxb:!1,resultLimInf:0,resultLimSup:9999,resultCarry:!1,resultNoDup:!1,resultOrder:"NOSORT",opCond:"INDIF"}),a.Operator=function(){function e(){s(this,e),this.limInf=13,this.limSup=17,this.lst=[]}return o(e,[{key:"setProperties",value:function(e){var i=this;return n.attrForEach(e.get(0).attributes,function(r,o){switch(r){case"decimals":i.numDec=Number(o);break;case"values":for(var s=o.split(" "),a=0;a<s.length;a++)i.lst[a]=Number(s[a]);i.fromList=i.lst.length;break;case"from":i.limInf=Number("x"===o?0:o);break;case"to":i.limSup=Number("x"===o?0:o)}e.children().each(function(e,r){var o=t(r);switch(r.nodeName){case"include":i.wZero=n.getBoolean(o.attr("zero")),i.wOne=n.getBoolean(o.attr("one")),i.wMinusOne=n.getBoolean(o.attr("minusOne"))}})}),this}}]),e}(),Object.assign(a.Operator.prototype,{limInf:0,limSup:10,numDec:0,wZero:!1,wOne:!1,wMinusOne:!1,fromList:0,lst:[]}),a.Num=function(){function t(){s(this,t),this.vf=0,this.c=0}return o(t,[{key:"format",value:function(){return a.DecFormat(this.vf,this.c)}}]),t}(),a.Operacio=function(){return function t(){s(this,t),this.numA=new a.Num,this.numB=new a.Num,this.numR=new a.Num,this.op=0}}(),e.CLASSES["@arith.Arith"]=a,a}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(59),n(98),n(3)],void 0===(r=function(t,e,n,i){var r=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"hLine",value:function(t,e,n,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n+o*c,r]));else{var l=n+(o-o*this.baseWidthFactor)/2*c,h=o*(this.baseWidthFactor/12)*c;t.addStroke(new i.PathStroke("L",[l,r]));var f=s*this.toothHeightFactor*u/8;t.addStroke(new i.PathStroke("B",[l+4*h,r,l+6*h,r-f,l+4*h,r-3*f])),t.addStroke(new i.PathStroke("B",[l+2*h,r-5*f,l+10*h,r-5*f,l+8*h,r-3*f])),t.addStroke(new i.PathStroke("B",[l+6*h,r-1*f,l+8*h,r,l+12*h,r])),t.addStroke(new i.PathStroke("L",[n+o*c,r]))}}},{key:"vLine",value:function(t,e,n,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n,r+s*c]));else{var l=r+(s-s*this.baseWidthFactor)/2*c,h=s*this.baseWidthFactor/12*c;t.addStroke(new i.PathStroke("L",[n,l]));var f=o*this.toothHeightFactor*u/8;t.addStroke(new i.PathStroke("B",[n,l+4*h,n-f,l+6*h,n-3*f,l+4*h])),t.addStroke(new i.PathStroke("B",[n-5*f,l+2*h,n-5*f,l+10*h,n-3*f,l+8*h])),t.addStroke(new i.PathStroke("B",[n-1*f,l+6*h,n,l+8*h,n,l+12*h])),t.addStroke(new i.PathStroke("L",[n,r+s*c]))}}}]),e}();return Object.assign(r.prototype,{baseWidthFactor:.75,toothHeightFactor:.6}),e.CLASSES["@ClassicJigSaw"]=r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(59),n(98),n(3)],void 0===(r=function(t,e,n,i){var r=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"hLine",value:function(t,e,n,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n+o*c,r]));else{var l=n+(o-o*this.baseWidthFactor)/2*c,h=o*this.baseWidthFactor*c;t.addStroke(new i.PathStroke("L",[l,r]));var f=s*this.toothHeightFactor*u;t.addStroke(new i.PathStroke("L",[l+h/2,r+f])),t.addStroke(new i.PathStroke("L",[l+h,r])),t.addStroke(new i.PathStroke("L",[n+o*c,r]))}}},{key:"vLine",value:function(t,e,n,r,o,s,a){var c=a?-1:1,u=1===e?1:-1;if(0===e)t.addStroke(new i.PathStroke("L",[n,r+s*c]));else{var l=r+(s-s*this.baseWidthFactor)/2*c,h=s*this.baseWidthFactor*c;t.addStroke(new i.PathStroke("L",[n,l]));var f=o*this.toothHeightFactor*u;t.addStroke(new i.PathStroke("L",[n+f,l+h/2])),t.addStroke(new i.PathStroke("L",[n,l+h])),t.addStroke(new i.PathStroke("L",[n,r+s*c]))}}}]),e}();return e.CLASSES["@TriangularJigSaw"]=r,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(59)],void 0===(r=function(t,e){var n=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,1,1));return i.nCols=t,i.nRows=e,i.showEnclosure=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"buildShapes",value:function(){this.nCells>0&&(this.initiated=!0)}},{key:"getEnclosingShapeData",value:function(){return this.showEnclosure?this.enclosing||function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getEnclosingShapeData",this).call(this):null}}]),n}();return e.CLASSES["@Holes"]=n,n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};i=[n(1),n(30),n(141),n(2),n(3),n(68)],void 0===(r=function(t,e,n,i,r,a){var c=function(c){function u(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i,r,o));s.$mainPanel=t("<div/>",{class:"JClicCustomMainPanel"}),s.$gridPanel=t("<div/>",{class:"JClicGridPanel"});for(var c=0;c<9;c++)s.$gridPanel.append(t("<div/>",{class:"JClicCell JClicCell"+(c+1)}));return s.$mainPanel.append(s.$gridPanel),s.$playerCnt.detach().addClass("JClicPlayerCell").appendTo(s.$mainPanel),s.$div.prepend(s.$mainPanel),o.buttons&&Object.keys(o.buttons.button).forEach(function(e){var n="about"===e?"reports":e,r=i.getMsg(s.msgKeys[n]||n);s.buttons[n]=t("<button/>",{class:"JClicBtn JClicTransform Btn-"+n,title:r,"aria-label":r,disabled:void 0===s.msgKeys[n]}).on("click",function(t){i.actions[n]&&i.actions[n].processEvent(t)}),s.$mainPanel.append(s.buttons[n])}),o.rectangle.messages&&(s.msgBox=new a,s.msgBox.role="message",s.$msgBoxDiv=t("<div/>",{class:"JClicMsgBox"}).click(function(){return s.msgBox.playMedia(i),!1}),s.$mainPanel.append(s.$msgBoxDiv)),!1!==s.ps.options.counters&&o.counters&&o.counters.counter&&t.each(e.prototype.counters,function(e,r){if(o.counters.counter[e]){var a=i.getMsg(e);s.counters[e]=new n(e,t("<div/>",{class:"JClicCounter JClicTransform Counter-"+e,title:a,"aria-label":a}).html("000").appendTo(s.$mainPanel))}}),o.progressAnimation&&(s.$progressAnimation=t("<div/>",{class:"JClicProgressAnimation JClicTransform"}),s.$mainPanel.append(s.$progressAnimation)),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,e),o(u,[{key:"enableMainButtons",value:function(t){this.$mainPanel.find(".JClicBtn").attr("tabindex",t?"0":"-1")}},{key:"_computeStyleSheets",value:function(){var t=this,e=this.options.dimension.preferredSize.width,n=this.options.dimension.preferredSize.height;this.twoThirdsMedia={width:e,height:n},this.halfMedia={width:Math.round(2*e/3),height:Math.round(2*n/3)};var o=this.options.rectangle.frame.left,s=o+this.options.rectangle.player.left,a=o+this.options.slicer.left,c=o+this.options.slicer.right,u=s+this.options.rectangle.player.width,l=o+this.options.rectangle.frame.width,h=this.options.rectangle.frame.top,f=h+this.options.rectangle.player.top,p=h+this.options.slicer.top,d=h+this.options.slicer.bottom,g=f+this.options.rectangle.player.height,v=h+this.options.rectangle.frame.height,y=this.ps.project.mediaBag.getElement(this.options.image,!0),m=y.data&&y.data.src?y.data.src:"",b=y.data?i.getImgClipUrl(y.data,new r.Rectangle(o,h,a-o,p-h)):"",w=y.data?i.getImgClipUrl(y.data,new r.Rectangle(a-o,h,c-a,p-h)):"",k=y.data?i.getImgClipUrl(y.data,new r.Rectangle(c,h,l-c,p-h)):"",x=y.data?i.getImgClipUrl(y.data,new r.Rectangle(o,p-h,a-o,d-p)):"",A=y.data?i.getImgClipUrl(y.data,new r.Rectangle(c-o,p-h,l-c,d-p)):"",C=y.data?i.getImgClipUrl(y.data,new r.Rectangle(o,d-h,a-o,v-d)):"",S=y.data?i.getImgClipUrl(y.data,new r.Rectangle(a-o,d-h,c-a,v-d)):"",_=y.data?i.getImgClipUrl(y.data,new r.Rectangle(c,d-h,l-c,v-d)):"",E="\n.ID .JClicCustomMainPanel {flex-grow:1;position:relative;background-color: "+i.checkColor(this.options.color.fill.value)+";}\n.ID .JClicGridPanel {position:absolute;width:100%;height:100%;display:grid;grid-template-columns:"+(a-o)+"px 1fr "+(l-c)+"px;grid-template-rows:"+(p-h)+"px 1fr "+(v-d)+"px;}\n.ID .JClicCell {background-repeat:no-repeat;background-size:contain;}\n.ID .JClicPlayerCell {position:absolute;top:"+(f-h)+"px;right:"+(l-u)+"px;bottom:"+(v-g)+"px;left:"+(s-o)+"px;}\n.ID .JClicCell1 {background-image:url("+b+");}\n.ID .JClicCell2 {background-image:url("+w+");background-repeat:repeat-x;}\n.ID .JClicCell3 {background-image:url("+k+");}\n.ID .JClicCell4 {background-image:url("+x+");background-repeat:repeat-y;}\n.ID .JClicCell5 {}\n.ID .JClicCell6 {background-image:url("+A+");background-repeat:repeat-y;}\n.ID .JClicCell7 {background-image:url("+C+");}\n.ID .JClicCell8 {background-image:url("+S+");background-repeat:repeat-x;}\n.ID .JClicCell9 {background-image:url("+_+");}",O="\n.ID .JClicGridPanel {grid-template-columns:"+Math.round((a-o)/2)+"px 1fr "+Math.round((l-c)/2)+"px;grid-template-rows:"+Math.round((p-h)/2)+"px 1fr "+Math.round((v-d)/2)+"px;}\n.ID .JClicPlayerCell {top:"+Math.round((f-h)/2)+"px;right:"+Math.round((l-u)/2)+"px;bottom:"+Math.round((v-g)/2)+"px;left:"+Math.round((s-o)/2)+"px;}\n.ID .JClicTransform {transform: scale(0.5);}",P="\n.ID .JClicGridPanel {grid-template-columns:"+Math.round(2*(a-o)/3)+"px 1fr "+Math.round(2*(l-c)/3)+"px;grid-template-rows:"+Math.round(2*(p-h)/3)+"px 1fr "+Math.round(2*(v-d)/3)+"px;}\n.ID .JClicPlayerCell {top:"+Math.round(2*(f-h)/3)+"px;right:"+Math.round(2*(l-u)/3)+"px;bottom:"+Math.round(2*(v-g)/3)+"px;left:"+Math.round(2*(s-o)/3)+"px;}\n.ID .JClicTransform {transform: scale(0.666);}";if(this.options.buttons){var T=this.options.buttons,I=30,j=30,B={};T.settings&&(T.settings.dimension&&(I=T.settings.dimension.width||I,j=T.settings.dimension.height||j),T.settings.offset&&Object.assign(B,T.settings.offset)),Object.keys(this.options.buttons.button).forEach(function(t){var e=T.button[t],n="about"===t?"reports":t,i=I,r=j,o=B;e.settings&&(e.settings.dimension&&(i=e.settings.dimension.width||i,r=e.settings.dimension.height||r),e.settings.offset&&(o=Object.assign({},B,e.settings.offset)));var s=e.point.pos.left,c=s<a?"left:"+s:"right:"+(l-s-i),u=s<a?"left:"+Math.round(s/2-i/4):"right:"+Math.round((l-s-i)/2-i/4),h=s<a?"left:"+Math.round(2*s/3-i/6):"right:"+Math.round(2*(l-s-i)/3-i/6),f=e.point.pos.top,d=f<p?"top:"+f:"bottom:"+(v-f-r),g=f<p?"top:"+Math.round(f/2-r/4):"bottom:"+Math.round((v-f-r)/2-r/4),y=f<p?"top:"+Math.round(2*f/3-r/6):"bottom:"+Math.round(2*(v-f-r)/3-r/6),b=e.point.source.left,w=e.point.source.top;E+=".ID .Btn-"+n+" {position:absolute;"+c+"px;"+d+"px;width:"+i+"px;height:"+r+"px;background:url("+m+") !important;background-position:-"+b+"px -"+w+"px !important;}\n",O+=".ID .Btn-"+n+" {"+u+"px;"+g+"px;}\n",P+=".ID .Btn-"+n+" {"+h+"px;"+y+"px;}\n",o.active&&(E+=".ID .Btn-"+n+":active {background-position:-"+(b+o.active.right)+"px -"+(w+o.active.down)+"px !important;}\n"),o.over&&(E+=".ID .Btn-"+n+":hover {background-position:-"+(b+o.over.right)+"px -"+(w+o.over.down)+"px !important;}\n"),o.disabled&&(E+=".ID .Btn-"+n+":disabled {background-position:-"+(b+o.disabled.right)+"px -"+(w+o.disabled.down)+"px !important;}\n")})}if(this.options.counters&&this.options.counters.settings){var M=this.options.counters,R=35,D=20;M.settings.dimension&&M.settings.dimension.counter&&(R=M.settings.dimension.counter.width||R,D=M.settings.dimension.counter.height||D);var N=37,L=14;M.settings.dimension&&M.settings.dimension.label&&(N=M.settings.dimension.label.width||N,L=M.settings.dimension.label.height||L);var V="black";M.style&&M.style.color&&M.style.color.foreground&&(V=i.checkColor(M.style.color.foreground.value||V));var F=L-4,q="Roboto";M.style&&M.style.font&&M.style.font.label&&(F=Math.max(8,M.style.font.label.size||F),q=(M.style.font.label.family||"Roboto")+",Roboto,sans-serif"),E+=".ID .JClicCounter {font-size:"+(D-2)+"px;color:"+V+"}\n",Object.keys(this.options.counters.counter).forEach(function(e){var n=M.counter[e],i=R,r=D,o=n.point.counter.left,s=n.point.label.left||o-Math.round((N-R)/2),c=o<a?"left:"+o:"right:"+(l-o-i),u=o<a?"left:"+Math.round(o/2-i/4):"right:"+Math.round((l-o-i)/2-i/4),h=o<a?"left:"+Math.round(2*o/3-i/6):"right:"+Math.round(2*(l-o-i)/3-i/6),f=n.point.counter.top,d=n.point.label.top||f-L,g=f<p?"top:"+f:"bottom:"+(v-f-r),y=f<p?"top:"+Math.round(f/2-r/4):"bottom:"+Math.round((v-f-r)/2-r/4),m=f<p?"top:"+Math.round(2*f/3-r/6):"bottom:"+Math.round(2*(v-f-r)/3-r/6);E+=".ID .Counter-"+e+" {position:absolute;"+c+"px;"+g+"px;width:"+i+"px;height:"+r+"px;line-height:"+r+"px;}\n",E+=".ID .Counter-"+e+':before {content:"'+t.ps.getMsg(e)+'";font-size:'+F+"px;font-family:"+q+";width:"+N+"px;height:"+L+"px;line-height:"+L+"px;position:absolute;top:"+(d-f)+"px;left:"+(s-o)+"px;}",O+=".ID .Counter-"+e+" {"+u+"px;"+y+"px;}\n",P+=".ID .Counter-"+e+" {"+h+"px;"+m+"px;}\n"})}if(this.options.progressAnimation){var z=this.options.progressAnimation,U=30,H=30;z.dimension&&(U=z.dimension.width||U,H=z.dimension.height||H);var G=z.point.pos.left,$=G<a?"left:"+G:"right:"+(l-G-U),W=G<a?"left:"+Math.round(G/2-U/4):"right:"+Math.round((l-G-U)/2-U/4),J=G<a?"left:"+Math.round(2*G/3-U/6):"right:"+Math.round(2*(l-G-U)/3-U/6),Y=z.point.pos.top,Z=Y<p?"top:"+Y:"bottom:"+(v-Y-H),K=Y<p?"top:"+Math.round(Y/2-H/4):"bottom:"+Math.round((v-Y-H)/2-H/4),Q=Y<p?"top:"+Math.round(2*Y/3-H/6):"bottom:"+Math.round(2*(v-Y-H)/3-H/6),X=z.point.source.left,tt=z.point.source.top;if(E+=".ID .JClicProgressAnimation {position:absolute;"+$+"px;"+Z+"px;width:"+U+"px;height:"+H+"px;background:url("+m+");background-position:-"+X+"px -"+tt+"px;}\n",O+=".ID .JClicProgressAnimation {"+W+"px;"+K+"px;}\n",P+=".ID .JClicProgressAnimation {"+J+"px;"+Q+"px;}\n",z.frames&&z.direction){var et=(z.step||U)*("right"===z.direction?1:"left"===z.direction?-1:0),nt=(z.step||H)*("down"===z.direction?1:"up"===z.direction?-1:0);E+="\n@keyframes anim {100% {background-position:"+-1*(X+et*z.frames)+"px "+-1*(tt+nt*z.frames)+"px;}}\n.ID .JClicProgressAnimation {animation: anim "+z.frames*z.delay+"ms steps("+z.frames+") infinite;}"}}if(this.options.rectangle.messages){var it=this.options.rectangle.messages,rt=o+it.left,ot=l-it.width-it.left-o,st=it.top<p?"top:"+it.top:"bottom:"+(v-it.height-it.top),at=it.top<p?"top:"+Math.round(it.top/2):"bottom:"+Math.round((v-it.height-it.top)/2),ct=it.top<p?"top:"+Math.round(2*it.top/3):"bottom:"+Math.round(2*(v-it.height-it.top)/3);E+=".ID .JClicMsgBox {position:absolute;left:"+rt+"px;right:"+ot+"px;height:"+it.height+"px;"+st+"px;}",O+=".ID .JClicMsgBox {left:"+Math.round(rt/2)+"px;right:"+Math.round(ot/2)+"px;height:"+Math.round(it.height/2)+"px;"+at+"px;}",P+=".ID .JClicMsgBox {left:"+Math.round(2*rt/3)+"px;right:"+Math.round(2*ot/3)+"px;height:"+Math.round(2*it.height/3)+"px;"+ct+"px;}"}this.cssVariants={default:this.mainCSS+E,half:O,twoThirds:P}}},{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.cssVariants||this._computeStyleSheets(),""+s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_getStyleSheets",this).call(this,t)+(this.cssVariants[t]||"")}},{key:"getMsgBox",value:function(){return this.msgBox}},{key:"setWaitCursor",value:function(t){s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"setWaitCursor",this).call(this,t),this.$progressAnimation&&this.$progressAnimation.css("animation-play-state",this.waitCursorCount>0?"running":"paused")}}]),u}();return Object.assign(c.prototype,{skinId:"JClicCustomSkin",imgName:null,mainCSS:".ID .JClicPlayerCnt {margin:0;}.ID .JClicBtn:focus {outline:0;}.ID .JClicCounter {font-family:Roboto,sans-serif;text-align:center;}",cssVariants:null,msgKeys:{next:"Next activity",prev:"Previous activity",info:"Information",help:"Help",reports:"Reports",audio:"Audio on/off",reset:"Reset activity"},$progressAnimation:null}),e.CLASSES.custom=c,c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30)],void 0===(r=function(t,e){var n=function(t){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.mainCSS:"")}}]),n}();return Object.assign(n.prototype,{skinId:"JClicEmptySkin",mainCSS:".ID .JClicPlayerCnt {margin:0;}"}),e.CLASSES.empty=n,n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30),n(58)],void 0===(r=function(t,e,n){var i=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,Object.assign({},i,{counters:!1,reportsBtn:!0})))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.skinCSS:"")}}]),e}();return Object.assign(i.prototype,{skinId:"JClicMiniSkin",iconWidth:18,iconHeight:18,iconFill:"#080808",counterIconFill:"#080808",margin:8,skinCSS:".ID {background-color:#F4F4F4;}.ID .JClicPlayerCnt {margin:4px;}.ID .JClicCtrlCnt {margin:0 2px 4px 2px;}.ID .JClicMsgBox {height:25px;}",mainCSSHalf:"",mainCSSTwoThirds:""}),e.CLASSES.mini=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30),n(58)],void 0===(r=function(t,e,n){var i=function(e){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,n,Object.assign({},r,{counters:!1,reportsBtn:!0})));return o.$ctrlCnt.detach().prependTo(o.$div),o.$msgBoxDiv.detach().appendTo(o.$div),t("<div/>").css({"flex-grow":1}).insertAfter(o.$ctrlCnt.children(":nth-child(2)")),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),o(i,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return""+function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.skinCSS:"half"===t?this.skinCSSHalf:"twoThirds"===t?this.skinCSSTwoThirds:"")}}]),i}();return Object.assign(i.prototype,{skinId:"JClicSimpleSkin",skinCSS:".ID {background-color:#888888;}.ID .JClicCtrlCnt {margin:9px;}.ID .JClicPlayerCnt {margin:0px 18px 18px;}.ID .JClicMsgBox {flex-grow:0; margin:0 18px 18px 18px;}",skinCSSHalf:".ID .JClicCtrlCnt {margin:4px;}.ID .JClicPlayerCnt {margin:0px 9px 9px;}.ID .JClicMsgBox {margin:0 9px 9px 9px;}",skinCSSTwoThirds:".ID .JClicCtrlCnt {margin:6px;}.ID .JClicPlayerCnt {margin:0px 12px 12px;}.ID .JClicMsgBox {margin:0 12px 12px 12px;}"}),e.CLASSES.simple=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30),n(58)],void 0===(r=function(t,e,n){var i=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.skinCSS:"")}}]),e}();return Object.assign(i.prototype,{skinId:"JClicBlueSkin",skinCSS:".ID {background-color:#1990FF;}"}),e.CLASSES.blue=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30),n(58)],void 0===(r=function(t,e,n){var i=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.skinCSS:"")}}]),e}();return Object.assign(i.prototype,{skinId:"JClicGreenSkin",iconFill:"#20640E",counterIconFill:"#20640E",skinCSS:".ID {background-color:#4AFF19;}"}),e.CLASSES.green=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(30),n(58)],void 0===(r=function(t,e,n){var i=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),o(e,[{key:"_getStyleSheets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getStyleSheets",this).call(this,t)+("default"===t?this.skinCSS:"")}}]),e}();return Object.assign(i.prototype,{skinId:"JClicOrangeSkin",skinCSS:".ID {background-color:#FF8B19;}"}),e.CLASSES.orange=i,i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r;i=[n(58),n(241),n(240),n(239),n(238),n(237),n(236),n(235),n(67),n(234),n(98),n(233),n(232),n(231),n(66),n(230),n(229),n(212),n(228),n(227),n(225),n(224),n(223),n(222),n(221),n(220),n(219),n(218),n(140),n(217),n(216),n(215),n(214),n(213)],void 0===(r=function(){return"Deep classes loaded!"}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(2)],void 0===(r=function(t){var e=function(){function e(t){s(this,e),this.player=t,this.sequenceStack=[]}return o(e,[{key:"storedElementsCount",value:function(){return this.sequenceStack.length}},{key:"clearHistory",value:function(){this.sequenceStack=[0]}},{key:"push",value:function(){if(null!==this.player.project&&null!==this.player.project.path){var t=this.player.project.activitySequence,e=t.currentAct;if(e>=0){if(this.sequenceStack.length>0){var n=this.sequenceStack[this.sequenceStack.length-1];if(n.projectPath===this.player.project.path&&n.activity===e)return}this.sequenceStack.push(new this.HistoryElement(this.player.project.path,t.getSequenceForElement(e),e,this.player.zip?this.player.zip.fullZipPath:null))}}}},{key:"pop",value:function(){if(this.sequenceStack.length>0){var e=this.sequenceStack.pop();e.projectPath===this.player.project.path&&t.isEquivalent(e.fullZipPath,this.player.zip?this.player.zip.fullZipPath:null)?this.player.load(null,e.activity,null):this.testMode&&null!==e.projectPath&&e.projectPath.length>0?t.log("info",'At this point, a jump to "'+e.projectPath+'" should be performed.'):this.player.load(e.fullZipPath||e.projectPath,e.activity,null)}return!0}},{key:"processJump",value:function(e,n){var i=!1;if(null!==e&&null!==this.player.project)switch(e.action){case"STOP":break;case"RETURN":if(this.sequenceStack.length>0||!this.player.options.returnAsExit){i=this.pop();break}case"EXIT":this.testMode?t.log("info","At this point, the program should exit."):this.player.exit(e.sequence);break;case"JUMP":if(e.sequence||e.projectPath)this.testMode&&null!==e.projectPath&&e.projectPath.length>0?t.log("info",'At this point, a jump to "'+e.projectPath+'" should be performed.'):i=this.jumpToSequence(e.sequence,e.projectPath?t.getPath(this.player.project.basePath,e.projectPath):null,n);else{var r=this.player.project.activitySequence.getElement(e.actNum,!0);null!==r&&(n&&this.push(),this.player.load(null,null,r.activityName),i=!0)}}return i}},{key:"jumpToSequence",value:function(e,n,i){if(t.isNullOrUndef(e)&&t.isNullOrUndef(n))return!1;if(t.isNullOrUndef(n)&&(n=this.player.project.path),this.sequenceStack.length>0){var r=this.sequenceStack[this.sequenceStack.length-1];if(!t.isNullOrUndef(e)&&n===r.projectPath){var o=e===r.sequence;if(n===this.player.project.path){var s=this.player.project.activitySequence.getElement(r.activity,!1);o=null!==s&&e===s.tag}if(o)return this.pop()}}return i&&this.push(),n===this.player.project.path?this.player.load(null,e,null):this.player.load(n,e,null),!0}}]),e}();return Object.assign(e.prototype,{player:null,sequenceStack:[],testMode:!1,HistoryElement:function t(e,n,i,r){s(this,t),this.projectPath=e,this.sequence=n,this.activity=i,this.fullZipPath=r}}),e}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2)],void 0===(r=function(t,e){var n=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.API=t,"function"==typeof t.Initialize?this.is2004=!0:(this.prefix="LMS",this.core="cmi.core."),this.reporter=e}return o(n,[{key:"initialize",value:function(){var n=this,i=!1;try{(i=this.API[this.prefix+"Initialize"](""))&&(this.studentId=this.getValue(this.core+(this.is2004?"learner_id":"student_id")),this.studentName=this.getValue(this.core+(this.is2004?"learner_name":"student_name")),this.setValue(this.core+"score.min",0),this.setValue(this.core+"score.max",100),t(window).on("unload",function(){n.commitInfo(),n.terminate(),n.API=null})),e.log("debug","SCORM initialized")}catch(t){e.log("error","Error initializing SCORM API: "+t.message)}return i}},{key:"terminate",value:function(){var t=!1;try{t=this.API[this.is2004?"Terminate":"LMSFinish"]("")}catch(t){e.log("error","Error terminating SCORM API: "+t.message)}return t}},{key:"commitInfo",value:function(){var t=this.reporter.getInfo(),n=Math.round(100*t.globalScore),i=this.getTimeExpression(t.tTime);this.setValue(this.core+"score.raw",n),this.setValue(this.core+"session_time",i),this.commit(),e.log("debug","SCORM results reported: "+n+" ("+i+")")}},{key:"commit",value:function(){var t=!1;try{t=this.API[this.prefix+"Commit"]("")}catch(t){e.log("error","Error commiting data to the SCORM API: ${ex.message}")}return t}},{key:"setValue",value:function(t,n){var i=!1;try{i=this.API[this.prefix+"SetValue"](t,n)}catch(i){e.log("error",'Error setting value "'+n+'" to "'+t+'" in SCORM API: '+i.message)}return i}},{key:"getValue",value:function(t){var n=!1;try{n=this.API[this.prefix+"GetValue"](t)}catch(n){e.log("error",'Error retrieving "'+t+'" from SCORM API: '+n.message)}return n}},{key:"getTimeExpression",value:function(t){var e=new Date(t),n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds();return this.is2004?"PT"+n+"H"+i+"M"+r+"S":("0000"+n).slice(-4)+":"+("00"+i).slice(-2)+":"+("00"+r).slice(-2)}},{key:"getScormType",value:function(){return"SCORM "+(this.is2004?"2004":"1.2")}}],[{key:"scanForAPI",value:function(t,e){return t.API_1484_11&&t.API_1184_11.Initialize&&t.API_1184_11.SetValue&&t.API_1184_11.Commit?t.API_1184_11:t.API&&t.API.LMSInitialize&&t.API.LMSSetValue&&t.API.LMSCommit?t.API:t.parent&&t.parent!==t&&e++<n.DISCOVER_MAX_TRIES?n.scanForAPI(t.parent,e):null}},{key:"getSCORM",value:function(t){var i=null;try{var r=n.scanForAPI(window,0);null===r&&window.opener&&(r=n.scanForAPI(window.opener,0)),r&&((i=new n(r,t)).initialize()||(i=null))}catch(t){i=null,e.log("warn","Unable to use SCORM: %s",t.toString())}return i}}]),n}();return Object.assign(n.prototype,{is2004:!1,reporter:null,prefix:"",core:"cmi.",API:null,studentId:"",studentName:""}),n.DISCOVER_MAX_TRIES=50,n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"Decrypt",value:function(e){if(null===e||0===e.length)return null;var n=t.decodify(e);return n===t.BLANK?"":n}},{key:"hexCharArrayToChar",value:function(t,e){for(var n=0,i=0;i<=3;i++){var r=Number.parseInt(t[e+i],16);if(isNaN(r))throw"Invalid expression!";n=16*n+r}return String.fromCharCode(n)}},{key:"hexCharArrayToInt",value:function(t,e){for(var n=0,i=0;i<=1;i++){var r=Number.parseInt(t[e+i],16);if(isNaN(r))throw"Invalid expression!";n=16*n+r}return n}},{key:"decodifyZerosField",value:function(t){var e="",n=Number.parseInt(t[0],32),i=0,r=0;for(r=0;0!==n;r++){for(;n>0;)e=e+t[3*r+1]+t[3*r+2],n--,i++;n=t.length>3*r+3?Number.parseInt(t[3*r+3],32):0}for(var o=3*r+1;o<t.length;o++)e+=t[o];return Number.parseInt(i,32)+e}},{key:"decompressZeros",value:function(e){e=t.decodifyZerosField(e);for(var n=Number.parseInt(e[0],32),i=2*n+1,r=!1,o="",s=0;s<n&&!r;s++){for(var a=t.hexCharArrayToInt(e,1+2*s).toString(2);a.length<8;)a="0"+a;for(var c=0;c<=7&&!r;c++)"1"===a[c]?o+="0":i<e.length?o+=e[i++]:r=!0}return o}},{key:"decodifyFromHex",value:function(e){for(var n="",i=0,r=0;i<e.length;r++){n+=t.hexCharArrayToChar(e,i),i+=4}return n}},{key:"unchangeOrder",value:function(t){for(var e=0,n=t.length-1,i=[],r=0;r<t.length;r++)i[r]="";for(var o=0;o<t.length;o++)i[o]=o%2==0?t[e++]:t[n--];return i.join("")}},{key:"codify",value:function(e){if(e.length>24)throw"Password is too large!";return t.changeOrder(t.compressZeros(t.codifyToHexWord(e)))}},{key:"decodify",value:function(e){try{return t.decodifyFromHex(t.decompressZeros(t.unchangeOrder(e)))}catch(t){return""}}}]),t}();return t.BLANK="___blank___##",t}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2)],void 0===(r=function(t,e){var n=function(){function n(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.type=t,this.source=e||null,this.dest=i||null,this.ok=r||!1,this.time=(new Date).valueOf()}return o(n,[{key:"$getXML",value:function(){var e={ok:this.ok,time:this.time};return this.type&&(e.type=this.type),this.source&&(e.source=this.source),this.dest&&(e.dest=this.dest),t("<action/>",e)}},{key:"setProperties",value:function(t){var n=this;e.attrForEach(t.get(0).attributes,function(t,i){switch(t){case"type":case"source":case"dest":n[t]=i;break;case"time":n[t]=Number(i);break;case"ok":n[t]=e.getBoolean(i,!1)}})}}]),n}();return Object.assign(n.prototype,{type:"unknown",source:null,dest:null,time:0,isOk:!1}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2),n(246)],void 0===(r=function(t,e,n){var i=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.name=t.name,this.code=t.code,this.actions=[],this.startTime=(new Date).valueOf(),this.minActions=t.getMinNumActions(),this.reportActions=t.reportActions}return o(i,[{key:"$getXML",value:function(){var e={start:this.startTime,time:this.totalTime,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions};this.name&&(e.name=this.name),this.code&&(e.code=this.code),this.closed||(e.closed=!1),this.reportActions&&(e.reportActions=!0);var n=t("<activity/>",e);return this.actions.forEach(function(t){n.append(t.$getXML())}),n}},{key:"getData",value:function(){var t={name:this.name,time:Math.round(this.totalTime/10)/100,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions,precision:this.getPrecision(),closed:this.closed};return this.code&&(t.code=this.code),t}},{key:"setProperties",value:function(i){var r=this;e.attrForEach(i.get(0).attributes,function(t,n){switch(t){case"name":case"code":r[t]=n;break;case"start":case"time":case"score":case"minActions":case"actions":r[t]=Number(n);break;case"solved":case"closed":case"reportActions":r[t]=e.getBoolean(n,!1)}}),i.children("action").each(function(e,i){var o=new n;o.setProperties(t(i)),r.actions.push(o)})}},{key:"newAction",value:function(t,e,i,r){this.closed||(this.lastAction=new n(t,e,i,r),this.actions.push(this.lastAction))}},{key:"getActionReg",value:function(t){return t>=this.actions.length?null:this.actions[t]}},{key:"closeActivity",value:function(){this.closed||(this.lastAction?this.totalTime=this.lastAction.time-this.startTime:this.totalTime=(new Date).valueOf()-this.startTime,this.closed=!0)}},{key:"getPrecision",value:function(){var t=0;return this.closed&&this.minActions>0&&this.numActions>0&&(t=this.solved?this.numActions<this.minActions?100:Math.round(100*this.minActions/this.numActions):Math.round(this.score*this.score*100/(this.minActions*this.numActions))),t}},{key:"endActivity",value:function(t,e,n){this.closed||(this.solved=n,this.numActions=e,this.score=t,this.closeActivity())}}]),i}();return Object.assign(i.prototype,{name:"",code:"",startTime:0,totalTime:0,actions:[],solved:!1,lastAction:null,score:0,minActions:0,closed:!1,reportActions:!1,numActions:0}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(247)],void 0===(r=function(t,e){var n=function(){function t(e){s(this,t),this.name=e.tag,this.description=e.description,this.activities=[],this.currentActivity=null,this.totalTime=0,this.closed=!1,this.info=new i(this)}return o(t,[{key:"getData",value:function(){var t={sequence:this.name,activities:[]};return this.activities.forEach(function(e){return t.activities.push(e.getData())}),t}},{key:"getInfo",value:function(){return this.info.recalc()}},{key:"endSequence",value:function(){this.currentActivity&&this.activities.length>0&&(this.currentActivity.closed||this.currentActivity.closeActivity(),this.totalTime=this.currentActivity.startTime+this.currentActivity.totalTime-this.activities[0].startTime,this.info.valid=!1)}},{key:"newActivity",value:function(t){this.closed||(this.currentActivity=new e(t),this.activities.push(this.currentActivity),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentActivity&&(this.currentActivity.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentActivity&&(this.currentActivity.newAction(t,e,n,i),this.info.valid=!1)}}]),t}();Object.assign(n.prototype,{name:"",description:"",activities:[],currentActivity:null,totalTime:0,closed:!1,info:null});var i=function(){function t(e){s(this,t),this.sqReg=e}return o(t,[{key:"clear",value:function(){this.nActivities=this.nActClosed=this.nActSolved=this.nActScore=0,this.ratioSolved=this.nActions=this.tScore=this.tTime=0,this.valid=!1}},{key:"recalc",value:function(){var t=this;return this.valid||(this.clear(),this.nActivities=this.sqReg.activities.length,this.nActivities>0&&(this.sqReg.activities.forEach(function(e){if(e.closed){t.nActClosed++,t.tTime+=e.totalTime,t.nActions+=e.numActions,e.solved&&t.nActSolved++;var n=e.getPrecision();n>=0&&(t.tScore+=n,t.nActScore++)}}),this.nActClosed>0&&(this.ratioSolved=this.nActSolved/this.nActClosed),this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore))),this.valid=!0),this}}]),t}();return Object.assign(i.prototype,{sqReg:null,valid:!1,nActivities:0,nActClosed:0,nActSolved:0,nActScore:0,ratioSolved:0,nActions:0,tScore:0,tTime:0}),n.Info=i,n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(2),n(101),n(248)],void 0===(r=function(t,e,n,i){var r=function(){function t(e,n){s(this,t),this.projectName=e.name,this.code=n||e.code,this.sequences=[],this.actNames=[],this.started=new Date,this.info=new a(this),this.reportableActs=e.reportableActs}return o(t,[{key:"getData",value:function(t,e){t&&this.info.recalc();var n={projectName:this.projectName,played:this.info.nActivities,ratioPlayed:Math.round(100*this.info.ratioPlayed),solved:this.info.nActSolved,ratioSolved:Math.round(100*this.info.ratioSolved),actions:this.info.nActions,score:this.info.tScore,time:Math.round(this.info.tTime/10)/100,sequences:[]};return this.sequences.forEach(function(t){var i=t.getData();(e||i.activities.length>0)&&n.sequences.push(i)}),n}},{key:"getInfo",value:function(){return this.info.recalc()}},{key:"end",value:function(){this.endSequence()}},{key:"endSequence",value:function(){this.currentSequence&&0===this.currentSequence.totalTime&&this.currentSequence.endSequence(),this.currentSequence=null,this.info.valid=!1}},{key:"newSequence",value:function(t){this.endSequence(),this.currentSequence=new i(t),this.sequences.push(this.currentSequence),this.info.valid=!1}},{key:"newActivity",value:function(t){this.currentSequence&&(-1===this.actNames.indexOf(t.name)&&this.actNames.push(t.name),this.currentSequence.newActivity(t),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentSequence&&(this.currentSequence.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentSequence&&(this.currentSequence.newAction(t,e,n,i),this.info.valid=!1)}},{key:"getCurrentSequenceTag",value:function(){return this.currentSequence?this.currentSequence.name:null}},{key:"getCurrentSequenceInfo",value:function(){return this.currentSequence?this.currentSequence.getInfo():null}}]),t}();Object.assign(r.prototype,{reportableActs:0,actNames:null,sequences:null,currentSequence:null,started:null,projectName:"",info:null,code:null});var a=function(){function t(e){s(this,t),this.sReg=e}return o(t,[{key:"clear",value:function(){this.numSequences=this.nActivities=this.nActSolved=this.nActScore=0,this.ratioSolved=this.ratioPlayed=this.nActions=this.tScore=this.tTime=0,this.valid=!1}},{key:"recalc",value:function(){var t=this;return this.valid||(this.clear(),this.sReg.sequences.forEach(function(e){var n=e.getInfo();n.nActivities>0&&(t.numSequences++,n.nActClosed>0&&(t.nActivities+=n.nActClosed,t.nActions+=n.nActions,n.nActScore>0&&(t.nActScore+=n.nActScore,t.tScore+=n.tScore*n.nActScore),t.tTime+=n.tTime,t.nActSolved+=n.nActSolved))}),this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore)),this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.sReg.reportableActs>0&&(this.ratioPlayed=this.sReg.actNames.length/this.sReg.reportableActs)),this.valid=!0),this}}]),t}();return Object.assign(a.prototype,{sReg:null,valid:!1,numSequences:0,nActivities:0,nActSolved:0,nActScore:0,ratioSolved:0,ratioPlayed:0,nActions:0,tScore:0,tTime:0}),r.Info=a,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(2),n(3),n(69),n(77),n(100)],void 0===(r=function(t,e,n,i,r,a){var c=function(){function n(){s(this,n),this.style={default:t.extend(!0,{},n.DEFAULT_DOC_STYLE)},this.p=[],this.boxesContent=new a,this.popupsContent=new a}return o(n,[{key:"setProperties",value:function(n,r){var o=this;return n.children("style").toArray().sort(function(t,e){var n=t.getAttribute("name"),i=t.getAttribute("base")||null,r=e.getAttribute("name"),o=e.getAttribute("base")||null;return"default"===n?-1:"default"===r?1:i===r?1:o===n?-1:i?o?0:1:-1}).forEach(function(e){var n=o.readDocAttributes(t(e));o.style[n.name]="default"===n.name?t.extend(!0,o.style.default,n):n}),n.find("section > p").each(function(n,s){var a={elements:[]};e.attrForEach(s.attributes,function(t,e){switch(t){case"style":a[t]=e;break;case"bidiLevel":case"Alignment":a[t]=Number(e)}}),t(s).children().each(function(n,s){var c=void 0,l=t(s);switch(s.nodeName){case"cell":c=(new i).setProperties(l,r);break;case"text":c={text:s.textContent.replace(/\t/g,"&#9;")};var h=o.readDocAttributes(l);t.isEmptyObject(h)||(c.attr=h);break;case"target":(c=new u(o,s.textContent.replace(/\t/g,"&#9;"))).setProperties(l,r),o.numTargets++;break;default:e.log("error",'Unknown object in activity document: "'+s.nodeName+'"')}c&&(c.objectType=s.nodeName,a.elements.push(c))}),o.p.push(a)}),this}},{key:"readDocAttributes",value:function(n){var i=this,r={},o={};return e.attrForEach(n.get(0).attributes,function(n,s){switch(n){case"background":s=e.checkColor(s,"white"),r[n]=s,o["background-color"]=s;break;case"foreground":s=e.checkColor(s,"black"),r[n]=s,o.color=s;break;case"family":o["font-family"]=s;case"name":case"style":r[n]=s;break;case"base":r[n]=s,i.style[s]&&(r=t.extend(!0,{},i.style[s],r),i.style[s].css&&(o=t.extend({},i.style[s].css,o)));break;case"bold":s=e.getBoolean(s),r[n]=s,o["font-weight"]=s?"bold":"normal";break;case"italic":s=e.getBoolean(s),r[n]=s,o["font-style"]=s?"italic":"normal";break;case"target":r[n]=e.getBoolean(s);break;case"size":r[n]=Number(s),o["font-size"]=s+"px";break;case"tabWidth":i.tabSpc=s,o["tab-size"]=i.tabSpc,o["white-space"]="pre-wrap";break;default:e.log("warn",'Unknown text attribute: "'+n+'" = "'+s+'"'),r[n]=s}}),t.isEmptyObject(o)||(r.css=o),r}},{key:"getRawText",value:function(){var e=t("<div/>");return this.p.forEach(function(n){var i=t("<p/>"),r=!0;n.elements.forEach(function(t){switch(t.objectType){case"text":case"target":i.append(t.text)}r=!1}),r&&i.html("&nbsp;"),e.append(i)}),e.text().trim()}},{key:"getFullStyle",value:function(e){var n=t.extend(!0,{},this.style.default);return t.extend(!0,n,this.style[e]?this.style[e]:{})}}]),n}();Object.assign(c.prototype,{tabSpc:12,lastBoxId:0,tmb:null,numTargets:0,targetType:"TT_FREE",boxesContent:null,popupsContent:null,style:null,p:null}),c.DEFAULT_DOC_STYLE={background:"white",foreground:"black",family:"Arial",size:17,css:{"font-family":"Arial,Helvetica,sans-serif","font-size":"17px","background-color":"white",color:"black"}};var u=function(){function n(t,e){s(this,n),this.doc=t,this.text=e,this.numIniChars=e.length,this.answers=[e],this.maxLenResp=this.numIniChars}return o(n,[{key:"reset",value:function(t){this.targetStatus=t||"NOT_EDITED",this.flagModified=!1}},{key:"setProperties",value:function(n,o){var s=this,a=!0;n.children().each(function(n,c){var u=t(c);switch(c.nodeName){case"answer":a&&(a=!1,s.answers=[]),null===s.answers&&(s.answers=[]),s.answers.push(c.textContent);break;case"optionList":u.children("option").each(function(t,e){s.isList=!0,null===s.options&&(s.options=[]),s.options.push(e.textContent)});break;case"response":s.iniChar=e.getVal(u.attr("fill"),s.iniChar).charAt(0),s.numIniChars=e.getNumber(u.attr("length"),s.numIniChars),s.maxLenResp=e.getNumber(u.attr("maxLength"),s.maxLenResp),s.iniText=e.getVal(u.attr("show"),s.iniText);break;case"info":s.infoMode=e.getVal(u.attr("mode"),"always"),s.popupDelay=e.getNumber(u.attr("delay"),s.popupDelay),s.popupMaxTime=e.getNumber(u.attr("maxTime"),s.popupMaxTime),u.children("media").each(function(e,n){s.onlyPlay=!0,s.popupContent=new i,s.popupContent.mediaContent=(new r).setProperties(t(n))}),s.popupContent||u.children("cell").each(function(e,n){s.popupContent=(new i).setProperties(t(n),o)});break;case"text":s.text=c.textContent.replace(/\t/g,"&#9;");var l=s.doc.readDocAttributes(t(c));t.isEmptyObject(l)||(s.attr=l)}})}},{key:"getAnswers",value:function(){return this.answers?this.answers.join("|"):""}},{key:"checkColors",value:function(){var t=this.$comboList||this.$span;if(t){var e=this.doc.style["WITH_ERROR"===this.targetStatus?"targetError":"HIDDEN"===this.targetStatus?"default":"target"];e&&e.css&&t.css(e.css)}}},{key:"readCurrentText",value:function(){return this.$span?this.currentText=this.$span.text():this.$comboList&&(this.currentText=this.$comboList.val()),this.currentText}}]),n}();return Object.assign(u.prototype,{doc:null,text:null,attr:null,isList:!1,numIniChars:1,iniChar:"_",maxLenResp:0,answers:null,options:null,iniText:null,infoMode:"no_info",popupKey:"F1",popupContent:null,popupDelay:0,popupMaxTime:0,onlyPlay:!1,$comboList:null,$span:null,$p:null,$popup:null,currentText:"",num:0,pos:0,targetStatus:"NOT_EDITED",flagModified:!1,parentPane:null}),c.TextTarget=u,c}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i=[n(1),n(2)],void 0===(r=function(t,e){var n=function(){function t(e){var n=this;u(this,t),this.className=e,this.collator=window.Intl&&window.Intl.Collator?new window.Intl.Collator:{compare:function(t,e){return n.checkCase?t===e:t.toUpperCase()===e.toUpperCase()}}}return s(t,[{key:"setProperties",value:function(t){var n=this;return e.attrForEach(t.get(0).attributes,function(t,i){switch(t){case"class":n.className=i;break;case"checkCase":case"checkAccents":case"checkPunctuation":case"checkDoubleSpaces":case"detail":n[t]=e.getBoolean(i);break;case"checkSteps":case"checkScope":n[t]=Number(i)}}),this}},{key:"init",value:function(t){this.initiated=!0}},{key:"checkText",value:function(t,e){var n=this;return e instanceof Array?e.some(function(e){return n._checkText(t,e)}):!!e&&this._checkText(t,e)}},{key:"_checkText",value:function(t,e){return!1}},{key:"evalText",value:function(t,e){return e instanceof Array||(e=[e]),this._evalText(t,e)}},{key:"_evalText",value:function(t,e){return[]}},{key:"isOk",value:function(t){return t&&t.length>0&&!t.some(function(t){return 0!==t})}}],[{key:"getEvaluator",value:function(n){var i=null;if(n){var r=n.attr("class"),o=t.CLASSES[r];o?(i=new o(r)).setProperties(n):e.log("error",'Unknown evaluator class: "'+r+'"')}return i}}]),t}();Object.assign(n.prototype,{className:null,initiated:!1,collator:null,checkCase:!1});var i=function(t){function e(t){return u(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return c(e,n),s(e,[{key:"init",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,[t]),window.Intl&&window.Intl.Collator&&(this.collator=new window.Intl.Collator(t,{sensitivity:this.checkAccents?this.checkCase?"case":"accent":"base",ignorePunctuation:!this.checkPunctuation}))}},{key:"_checkText",value:function(t,e){return 0===this.collator.compare(this.getClearedText(t),this.getClearedText(e))}},{key:"_evalText",value:function(t,e){return Array(t.length).fill(this._checkText(t,e[0])?0:1)}},{key:"getClearedText",value:function(t,e){if(this.checkPunctuation&&this.checkDoubleSpaces)return t;e||(e=Array(t.length).fill(!1));for(var n="",i=0,r=!1;i<t.length;i++){var o=t.charAt(i);this.PUNCTUATION.indexOf(o)>=0&&!this.checkPunctuation?(r?e[i]=!0:n+=" ",r=!0):" "===o?(this.checkDoubleSpaces||!r?n+=o:e[i]=!0,r=!0):(r=!1,n+=o)}return n}}]),e}();Object.assign(i.prototype,{checkAccents:!0,checkPunctuation:!0,checkDoubleSpaces:!1,PUNCTUATION:".,;:"});var r=function(t){function e(t){return u(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return c(e,i),s(e,[{key:"_evalText",value:function(t,n){if(!this.detail)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_evalText",this).call(this,t,n);for(var i=Array(t.length).fill(!1),r=this.getClearedText(t,i),s=Array(n.length),a=Array(n.length),c=Array(t.length),u=-1,l=-1,h=0;h<n.length;h++){a[h]=Array(t.length).fill(0);var f=this.compareSegment(r,r.length,n[h],n[h].length,a[h],!1);s[h]=this.countFlagsOk(a[h]),f&&(l=h,u=s[h])}if(-1===l)for(var p=0;p<n.length;p++)s[p]>u&&(u=s[p],l=p);for(var d=0,g=0;d<t.length;d++)c[d]=i[d]?0:a[l][g++];return c}},{key:"countFlagsOk",value:function(t){return t.reduce(function(t,e){return 0==e?++t:t},0)}},{key:"compareSegment",value:function(t,e,n,i,r,o){var s=0,a=0,c=0,u=!0,l=!0,h="",f="";if(0===e||0===i||null===t||null===n)return!1;for(;s<e;s++,a++)if(h=t.charAt(s),c=s,f=a>=0&&a<i?n.charAt(a):0,0===this.collator.compare(h,f))r[s]=0,u=!0;else if(l=!1,r[s]=1,!o&&u&&0!==f&&this.checkSteps>0&&this.checkScope>0){for(var p=2*this.checkSteps+1,d=[],g=0,v=0;v<p;v++)if(d[v]=0,!((g=a+Math.floor((v+1)/2)*(0!=(1&v)?1:-1))>=i)){var y=g<0?s-g:s;if(!(y>=e)){var m=Math.min(e-y,this.checkScope),b=g<0?0:g,w=Math.min(i-b,this.checkScope),k=Array(t.length-y).fill(0),x=this.compareSegment(t.substring(y),m,n.substring(b),w,k,!0);if(d[v]=this.countFlagsOk(k),x)break}}if(v===p){var A=this.checkSteps;for(v=0;v<p;v++)d[v]>d[A]&&(A=v);g=a+Math.floor((A+1)/2)*(0!=(1&A)?1:-1)}a=g,u=!1}return a!==i&&(l=!1,r[c]=1),l}}]),e}();return Object.assign(r.prototype,{detail:!0,checkSteps:3,checkScope:6}),n.CLASSES={"@BasicEvaluator":i,"@ComplexEvaluator":r},n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(2),n(3)],void 0===(r=function(t,e,n){var i=function(){function i(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t&&(this.basePath=t),n&&(this.fileName=e.nSlash(n),this.name=e.nSlash(n),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext&&this.checkAnimatedGif()),r&&(this.zip=r),this.timeout=Date.now()+e.settings.LOAD_TIMEOUT}return o(i,[{key:"setProperties",value:function(t){if(this.name=e.nSlash(t.attr("name")),this.fileName=e.nSlash(t.attr("file")),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext){var n=t.attr("animated");void 0===n?this.checkAnimatedGif():this.animated="true"===n}return"font"===this.type&&(this.fontName=this.name===this.fileName&&this.name.lastIndexOf(".")>0?this.name.substring(0,this.name.lastIndexOf(".")):this.name),this}},{key:"checkAnimatedGif",value:function(){var t=this,n=new XMLHttpRequest;n.addEventListener("load",function(){var i=new Uint8Array(n.response),r=i.length;if(71===i[0]&&73===i[1]&&70===i[2]&&56===i[3]){for(var o=0,s=r-3,a=0;o<s&&a<2;++o)if(0===i[o]&&33===i[o+1]&&249===i[o+2]){var c=o+4+i[o+3];if(c+1<r&&0===i[c]&&(44===i[c+1]||33===i[c+1])&&++a>1){t.animated=!0,e.log("debug","Animated GIF detected: "+t.fileName);break}}}else t.animated=!1}),this.getFullPathPromise().then(function(t){n.open("GET",t,!0),n.responseType="arraybuffer",n.send()})}},{key:"isEmpty",value:function(){return null===this.data}},{key:"getFileType",value:function(t){var n=null;for(var i in e.settings.FILE_TYPES)if(e.settings.FILE_TYPES[i].indexOf(t)>=0){n=i;break}return n}},{key:"build",value:function(i,r){var o=this;return i&&(this._whenReady||(this._whenReady=[]),this._whenReady.push(i)),this.data?this.ready&&this._onReady():this.getFullPathPromise().then(function(i){switch(o.type){case"font":var s="ttf"===o.ext?"truetype":"otf"===o.ext?"embedded-opentype":o.ext,a='@font-face{font-family:"'+o.fontName+'";src:url('+i+') format("'+s+'");}';e.appendStyleAtHead(a,r),o.data=new n.Font(o.name),o.ready=!0;break;case"image":o.data=new Image,t(o.data).on("load",function(){return o._onReady.call(o)}),o.data.src=i;break;case"audio":case"video":o.data=document.createElement(o.type),t(o.data).on("canplay",function(){return o._onReady.call(o)}),o.data.src=i,o.data.pause();break;case"anim":o.data=t('<object type"application/x-shockwave-flash" width="300" height="200" data="'+i+'"/>').get(-1),o.ready=!0;break;case"xml":t.get(i,null,null,"xml").done(function(t){var n=t?t.children||t.childNodes:null;o.data=n&&n.length>0?e.parseXmlNode(n[0]):null,o._onReady()}).fail(function(t){e.log("error","Error loading "+o.name+": "+t),o._onReady()});break;default:e.log("trace","Media currently not supported: "+o.name),o.ready=!0}o.ready&&o._onReady()}),this}},{key:"checkReady",value:function(){if(this.data&&!this.ready)switch(this.type){case"image":this.ready=!0===this.data.complete;break;case"audio":case"video":case"anim":this.ready=this.data.readyState>=1;break;default:this.ready=!0}return this.ready}},{key:"checkTimeout",value:function(){var t=Date.now()>this.timeout;return t&&e.log("warn","Timeout while loading: "+this.name),t}},{key:"_onReady",value:function(){var t=this;this.ready=!0,this._whenReady&&(this._whenReady.forEach(function(e){return e.call(t,t)}),this._whenReady=null)}},{key:"getFullPath",value:function(){return this._fullPath}},{key:"getFullPathPromise",value:function(){var t=this;return new Promise(function(n,i){e.getPathPromise(t.basePath,t.fileName,t.zip).then(function(e){t._fullPath=e,n(e)}).catch(i)})}}]),i}();return Object.assign(i.prototype,{name:"",fileName:"",fontName:"",basePath:"",zip:null,data:null,ready:!1,_whenReady:null,ext:"",type:null,timeout:0,animated:!1,_fullPath:null}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(252),n(30),n(2)],void 0===(r=function(t,e,n,i){var r=function(){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.project=t,this.elements={}}return o(r,[{key:"setProperties",value:function(n){var i=this;return n.children("media").each(function(n,r){var o=new e(i.project.basePath,null,i.project.zip);o.setProperties(t(r)),i.elements[o.name]=o}),this}},{key:"getElement",value:function(t,e){t=i.nSlash(t);var n=this.elements[t];return e&&!n&&(n=this.getElementByFileName(t,e)),n}},{key:"getElementByFileName",value:function(t,n){var r=null;if(t){for(var o in t=i.nSlash(t),this.elements)if(this.elements[o].fileName===t){r=this.elements[o];break}!r&&n&&((r=new e(this.project.basePath,null,this.project.zip)).name=t,r.fileName=t,r.ext=t.toLowerCase().split("#")[0].split(".").pop(),r.type=r.getFileType(r.ext),this.elements[r.name]=r)}return r}},{key:"getElementsOfType",value:function(e){var n=[];return t.each(this.elements,function(t,i){i.type===e&&n.push("font"===e?i.fontName:t)}),n}},{key:"buildAll",value:function(e,n,i){var r=0;return t.each(this.elements,function(t,o){e&&o.type!==e||(o.build(n,i),r++)}),r}},{key:"countWaitingElements",value:function(){var e=0,n=!0;return t.each(this.elements,function(t,r){!r.data||r.ready||r.checkReady()||r.checkTimeout()?e++:(i.log("debug","... waiting for: %s",t),n=!1)}),n?-1:e}},{key:"getSkinElement",value:function(t,e){return n.getSkin(t,e)}}]),r}();return Object.assign(r.prototype,{elements:null,project:null}),r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(76)],void 0===(r=function(t,e){var n=function(t){function n(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return o.threshold="number"==typeof i?i:-1,o.time="number"==typeof i?r:-1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"setProperties",value:function(t){return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setProperties",this).call(this,t),void 0!==t.attr("threshold")&&(this.threshold=t.attr("threshold")),void 0!==t.attr("time")&&(this.time=t.attr("time")),this}}]),n}();return Object.assign(n.prototype,{threshold:-1,time:-1}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(144),n(2)],void 0===(r=function(t,e,n){var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}return o(i,[{key:"setProperties",value:function(i){var r=this;return n.attrForEach(i.get(0).attributes,function(t,e){switch(t){case"id":r.tag=n.nSlash(e);break;case"name":r.activityName=e;break;case"description":case"navButtons":r[t]=e;break;case"delay":r[t]=Number(e)}}),i.children("jump").each(function(n,i){var o=(new e).setProperties(t(i));"forward"===o.id?r.fwdJump=o:"back"===o.id&&(r.backJump=o)}),this}}]),i}();return Object.assign(i.prototype,{tag:null,description:null,activityName:"",fwdJump:null,backJump:null,navButtons:"both",delay:0}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(76),n(255),n(144),n(2)],void 0===(r=function(t,e,n,i,r){var s=function(){function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.project=t,this.elements=[]}return o(s,[{key:"setProperties",value:function(e){var i=this;return e.children("item").each(function(e,r){return i.elements.push((new n).setProperties(t(r)))}),this}},{key:"getElementIndex",value:function(t){return null===t?-1:this.elements.indexOf(t)}},{key:"getElement",value:function(t,e){var n=null;return t>=0&&t<this.elements.length&&(n=this.elements[t],e&&(this.currentAct=t)),n}},{key:"getElementByTag",value:function(t,e){var n=null,i=-1;return t&&(t=r.nSlash(t),this.elements.some(function(e,r){return e.tag===t&&(n=e,i=r),-1!==i}),-1!==i&&e&&(this.currentAct=i)),n}},{key:"getCurrentAct",value:function(){return this.getElement(this.currentAct,!1)}},{key:"hasNextAct",value:function(t){var e=!1,n=this.getCurrentAct();if(n)if(null===n.fwdJump)e=!0;else switch(n.fwdJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e}},{key:"hasPrevAct",value:function(t){var e=!1,n=this.getCurrentAct();if(n)if(null===n.backJump)e=!0;else switch(n.backJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e}},{key:"getNavButtonsFlag",value:function(){var t="none",e=this.getCurrentAct();return e&&(t=e.navButtons),t}},{key:"getJump",value:function(t,n){var i=this.getCurrentAct(),r=null;if(i){var o=t?i.backJump:i.fwdJump;if(null===o){var s=this.currentAct+(t?-1:1);(s>=this.elements.length||s<0)&&(s=0),r=new e("JUMP",s)}else{var a=-1,c=-1;if(null!==n){var u=n.getCurrentSequenceInfo();null!==u&&(a=Math.round(u.tScore),c=Math.round(u.tTime/1e3))}r=o.resolveJump(a,c)}}return r}},{key:"getSequenceForElement",value:function(t){var e=null;if(t>=0&&t<this.elements.length)for(var n=t;null===e&&n>=0;n--)e=this.getElement(n,!1).tag;return e}},{key:"getElementByActivityName",value:function(t){var e=null;if(null!==t)for(var n=0;null===e&&n<this.elements.length;n++){var i=this.getElement(n,!1);i.activityName.toLowerCase()===t.toLowerCase()&&(e=i)}return e}},{key:"checkCurrentActivity",value:function(t){var e=this.getCurrentAct();if(null===e||e.activityName.toUpperCase()!==t.toUpperCase()){for(var r=0;r<this.elements.length;r++)if(this.getElement(r,!1).activityName.toUpperCase()===t.toUpperCase())return this.currentAct=r,!1;return(e=new n).activityName=t,e.fwdJump=new i("STOP"),e.backJump=new i("STOP"),this.elements.push(e),this.currentAct=this.elements.length-1,!1}return!0}}]),s}();return Object.assign(s.prototype,{elements:null,project:null,currentAct:-1}),s}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(102),n(2)],void 0===(r=function(t,e,n){var i=function(){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.project=t,this.languages=[],this.locales=[]}return o(i,[{key:"setProperties",value:function(i){var r=this;return i.children().each(function(n,i){switch(i.nodeName){case"title":r.title=i.textContent;break;case"description":r.description=i.textContent;break;case"language":r.languages.push(i.textContent);break;case"eventSounds":r.eventSounds=new e,r.eventSounds.setProperties(t(i));break;case"skin":r.skinFileName=t(i).attr("file")}}),this.languages.length>0&&window.Intl&&window.Intl.getCanonicalLocales&&(this.locales=[],this.languages.forEach(function(t){var e=/\(([a-z,A-Z,-]+)\)/.exec(t);if(e&&e.length>1)try{var i=window.Intl.getCanonicalLocales(e[1]);i&&(r.locales=r.locales.concat(i))}catch(e){n.log("error","Invalid language: "+t)}})),this}}]),i}();return Object.assign(i.prototype,{project:null,title:"Untitled",description:"",languages:null,locales:null,skinFileName:null,eventSounds:new e}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(2),n(145),n(77)],void 0===(r=function(t,e,n){var i=function(){function i(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.id=e,n&&(t.startsWith(n,"data:")?this.audio=new Audio(n):this.fileName=n)}return o(i,[{key:"setProperties",value:function(e){return this.fileName=e.attr("file"),this.enabled=t.getTriState(e.attr("enabled")),this}},{key:"realize",value:function(t,i){this.audio||null!==this.player||null===this.fileName||(this.player=new e(new n("PLAY_AUDIO",this.fileName),i,t),this.player.realize())}},{key:"play",value:function(){this.enabled&&(this.audio?(this.audio.currentTime=0,this.audio.play()):this.player&&this.player.play())}},{key:"stop",value:function(){this.enabled&&(this.audio?this.audio.pause():this.player&&this.player.stop())}}]),i}();return Object.assign(i.prototype,{fileName:null,enabled:t.DEFAULT,player:null,audio:null}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(2)],void 0===(r=function(t){var e=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.seconds=t),this.chunks=[]}return o(e,[{key:"play",value:function(){this.stop(),this.mediaPlayer?(this.mediaPlayer.currentTime=0,this.mediaPlayer.play()):this.playWhenFinished=!0}},{key:"stop",value:function(){this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():this.mediaPlayer&&!this.mediaPlayer.paused&&this.mediaPlayer.pause()}},{key:"record",value:function(){var e=this;this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():(this.stop(),this.mediaPlayer=null,navigator.getUserMedia({audio:!0},function(n){e.mediaRecorder=new MediaRecorder(n),e.mediaRecorder.ondataavailable=function(t){return e.chunks.push(t.data)},e.mediaRecorder.onerror=function(n){t.log("error","Error recording audio: "+n),e.mediaRecorder=null},e.mediaRecorder.onstart=function(){return t.log("debug","Recording audio started")},e.mediaRecorder.onstop=function(){t.log("debug","Recording audio finished"),e.timeoutID&&(window.clearTimeout(e.timeoutID),e.timeoutID=null);var n={};e.chunks.length>0&&e.chunks[0].type&&(n.type=e.chunks[0].type);var i=new Blob(e.chunks,n);e.chunks=[],e.mediaPlayer=document.createElement("audio"),e.mediaPlayer.src=URL.createObjectURL(i),e.mediaPlayer.pause(),e.mediaRecorder=null,e.playWhenFinished&&(e.playWhenFinished=!1,e.mediaPlayer.play())},e.mediaRecorder.onwarning=function(e){return t.log("warn","Warning recording audio: "+e)},e.playWhenFinished=!1,e.mediaRecorder.start(),e.timeoutID=window.setTimeout(function(){e.mediaRecorder&&e.mediaRecorder.stop()},1e3*e.seconds)},function(e){return t.log("error","Error recording audio: "+e)}))}},{key:"clear",value:function(){this.stop(),this.mediaPlayer=null}}]),e}();return e.MAX_RECORD_LENGTH=180,Object.assign(e.prototype,{seconds:20,mediaRecorder:null,chunks:null,mediaPlayer:null,timeoutID:null,playWhenFinished:!1}),e}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(145),n(2)],void 0===(r=function(t,e){var n=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.players=[]}return o(n,[{key:"createActiveMediaPlayer",value:function(n,i,r){var o=null;switch(n.mediaType){case"RECORD_AUDIO":if(n.length<=0||n.length>=e.settings.MAX_RECORD_LENGTH)break;case"PLAY_RECORDED_AUDIO":if(n.recBuffer<0||n.recBuffer>=10)break;case"PLAY_AUDIO":case"PLAY_MIDI":case"PLAY_VIDEO":o=new t(n,i,r)}return null!==o&&this.players.push(o),o}},{key:"getActiveMediaPlayer",value:function(t,e,n){return this.players.find(function(e){return e.mc===t||e.mc.isEquivalent(t)})||this.createActiveMediaPlayer(t,e,n)}},{key:"removeActiveMediaPlayer",value:function(t){var e=this.players.findIndex(function(e){return e.mc===t});e>=0&&(this.players[e].clear(),this.players.splice(e,1))}},{key:"realizeAll",value:function(){this.players.forEach(function(t){return t.realize()})}},{key:"stopAll",value:function(t){void 0===t&&(t=-1),this.players.forEach(function(e){(-1===t||null!==e.mc&&e.mc.level<=t)&&e.stop()})}},{key:"removeAll",value:function(){this.players.forEach(function(t){return t.clear()}),this.players.length=0,t.prototype.clearAllAudioBuffers()}}]),n}();return Object.assign(n.prototype,{players:[]}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";t.exports={version:"1.1.7 (2018-06-20)",languages:["en","ar","ast","bs","ca","ca_ES@valencia","cs","da","de","el","es","eu","fr","gl","he","it","ja","nl","pt","pt_BR","ru","tr","vec","zh_TW"],messages:{ar:{Version:"Ø§ÙØ¥ØµØ¯Ø§Ø±",time:"Ø§ÙÙÙØª",actions:"Ø§ÙÙØ­Ø§ÙÙØ§Øª",score:"Ø§ÙÙØªÙØ¬Ø©","Next activity":"Ø§ÙÙØ´Ø§Ø· Ø§ÙØªØ§ÙÙ","Previous activity":"Ø§ÙÙØ´Ø§Ø· Ø§ÙØ³Ø§Ø¨Ù","Restart activity":"Ø§Ø³ØªØ¦ÙÙ Ø§ÙÙØ´Ø§Ø·",Information:"Ø§ÙÙØ¹ÙÙÙØ©","Current results":"ØªÙØ§Ø±ÙØ± Ø§ÙÙØ³ØªØ®Ø¯Ù","User:":"Ø§ÙÙØ³ØªØ®Ø¯Ù:","Projects:":"Ø§ÙÙØ´Ø§Ø±ÙØ¹:",Project:"Ø§ÙÙØ´Ø±ÙØ¹:",sequence:"Ø§ÙØªØ³ÙØ³Ù",activity:"Ø§ÙÙØ´Ø§Ø·",OK:"ÙÙØ§ÙÙ","Total:":"Ø§ÙÙØ¬ÙÙØ¹:"},ast:{Version:"VersiÃ³n",time:"tiempu",actions:"intentos",score:"marcador","Next activity":"Xera siguiente","Previous activity":"Xera anterior","Restart activity":"Reaniciar xera",Information:"InformaciÃ³n","Results are not currently being saved":"L'informe nun ta rexistrÃ¡u en nenguna base de datos","Current results":"Informes d'usuariu","Session started:":"Entamu de sesiÃ³n:","Reports system:":"Sistema d'informes:","User:":"Usuariu:","Projects:":"Proyeutos:","Sequences:":"Secuencies:","Activities done:":"Xeres feches:","Activities solved:":"Xeres correctes:","Global score:":"PuntuaciÃ³n global:","Total time in activities:":"Tiempu total en xeres:","Actions done:":"Aiciones feches:","No activities done!":"Â¡Nenguna informaciÃ³n sobre xeres!",Project:"Proyeutu:",sequence:"Secuencia",activity:"Xera",OK:"OK",YES:"SI",NO:"NON","Total:":"Total:"},bs:{Version:"Verzija",time:"vrijeme",actions:"pokuÅ¡aji",score:"rezultat","Next activity":"SljedeÄa aktivnost","Previous activity":"Prethodna aktivnost","Restart activity":"Ponovno pokreni aktivnost",Information:"Informacije","Current results":"IzvjeÅ¡Äa korisnika","Session started:":"Sesija zapoÄeta:","User:":"Korisnik:","Projects:":"Projekti:","Activities done:":"UraÄene aktivnosti:","Activities solved:":"Aktivnosti ok:","Global score:":"Ukupan rezultat:","Total time in activities:":"Ukupno vrijeme aktivnosti:","Actions done:":"UraÄene aktivnosti:",Project:"Projekt:",sequence:"Sekvenca",activity:"Aktivnost",OK:"Uredu",YES:"DA",NO:"NE","Total:":"Ukupno:"},ca:{Version:"VersiÃ³",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segÃ¼ent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"InformaciÃ³","Results are not currently being saved":"Els resultats no s'estan desant","Current results":"Resultats actuals","Session started:":"Inici de sessiÃ³:","Reports system:":"Sistema d'informes:","User:":"Usuari/Ã ria:","Projects:":"Projectes:","Sequences:":"SeqÃ¼Ã¨ncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"PuntuaciÃ³ global:","(out of all project activities)":"(sobre totes les activitats del projecte)","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqÃ¼Ã¨ncia",activity:"activitat",OK:"OK",YES:"SÃ",NO:"NO","Total:":"Totals:","Select group:":"Seleccioneu el grup:","Select user:":"Seleccioneu l'usuari:",Cancel:"CancelÂ·la",Close:"Tanca","Copy data to clipboard":"Copia les dades al porta-retalls","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les dades s'han copiat en format HTML. Enganxeu-les a un full de cÃ lcul o a un editor de text enriquit.","The data has been copied to clipboard":"Les dades s'han copiat al porta-retalls","not connected":"no connectat","Please wait until the results of your activities are sent to the reports system":"Si us plau, espereu a que els resultats de les vostres activitats s'enviÃ¯n al servidor d'informes","Password:":"Contrasenya:","Incorrect password":"Contrasenya incorrecta","Invalid user":"Usuari/Ã ria incorrecte","Partial score:":"PuntuaciÃ³ parcial:","(out of played activities)":"(sobre les activitats fetes)","Activities played at least once:":"Activitats fetes almenys una vegada:",Reports:"Informes","Toggle full screen":"Commuta pantalla completa","JClic logo":"Logotip del JClic",message:"missatge","Activity panel":"Tauler d'activitats",cell:"celÂ·la",image:"imatge",source:"origen",target:"destÃ­","image fragment":"fragment d'imatge"},"ca_ES@valencia":{Version:"VersiÃ³",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segÃ¼ent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"InformaciÃ³","Results are not currently being saved":"Els resultats no s'estan alÃ§ant","Current results":"Resultats actuals","Session started:":"Inici de sessiÃ³:","Reports system:":"Sistema d'informes:","User:":"Usuari/Ã ria:","Projects:":"Projectes:","Sequences:":"SeqÃ¼Ã¨ncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"PuntuaciÃ³ global:","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqÃ¼Ã¨ncia",activity:"activitat",OK:"OK",YES:"SÃ",NO:"NO","Total:":"Totals:"},cs:{Version:"Verze",time:"Äas",actions:"pokusÅ¯",score:"skÃ³re","Next activity":"DalÅ¡Ã­ aktivita","Previous activity":"PÅedchozÃ­ aktivita","Restart activity":"Restartovat aktivitu",Information:"Informace","Results are not currently being saved":"ZprÃ¡va nenÃ­ zaregistrovÃ¡na v Å¾Ã¡dnÃ© DB","Current results":"UÅ¾ivatelskÃ¡ sestava","Session started:":"SezenÃ­ spuÅ¡tÄno:","Reports system:":"SystÃ©m zprÃ¡vy:","User:":"UÅ¾ivatel:","Projects:":"Projekty:","Sequences:":"Sekvence:","Activities done:":"DokonÄenÃ© aktivity:","Activities solved:":"Aktivity ok:","Global score:":"CelkovÃ© skÃ³re:","Total time in activities:":"CelkovÃ½ Äas aktivit:","Actions done:":"ProvedenÃ© akce:","No activities done!":"Nebyly nahlÃ¡Å¡eny Å¾Ã¡dnÃ© aktivity!",Project:"Projekt",sequence:"Sekvence",activity:"Aktivita",OK:"Ok",YES:"ANO",NO:"NE","Total:":"Celkem:"},da:{Version:"Version",time:"tid",actions:"forsÃ¸g",score:"score","Next activity":"NÃ¦ste aktivitet","Previous activity":"Forrige aktivitet","Restart activity":"Genstart aktivitet",Information:"Information","Current results":"Bruger rapport","User:":"Bruger:","Projects:":"Projekter:","Sequences:":"Sekvenser:","Activities done:":"Aktiviteter udfÃ¸rt:","Activities solved:":"Aktiviteter OK:","Global score:":"Global score:","No activities done!":"Ingen aktiviteter rapporteret!",Project:"Projekt",sequence:"Sequence",activity:"Aktivitet",OK:"Ok",YES:"JA",NO:"IKKE","Total:":"Total:"},de:{Version:"Version",time:"Zeit",actions:"Versuche",score:"Ergebnis","Next activity":"NÃ¤chste Ãbung","Previous activity":"Vorherige Ãbung","Restart activity":"Ãbung neu starten",Information:"Information","Results are not currently being saved":"Bericht in keiner Datenbank eingetragen","Current results":"Benutzerberichte","Session started:":"Sitzung gestartet:","Reports system:":"Report system:","User:":"User:","Projects:":"Projekte:","Sequences:":"Sequenzen:","Activities done:":"Beendete Ãbungen:","Activities solved:":"Korrekte Ãbungen:","Global score:":"Gesamtpunktezahl:","Total time in activities:":"Ãbungs-Gesamtzeit:","Actions done:":"DurchgefÃ¼hrte Aktionen:","No activities done!":"Keine Ãbungsberichte vorhanden!",Project:"Projekt",sequence:"Sequenz",activity:"Ãbung",OK:"OK",YES:"JA",NO:"NEIN","Total:":"Gesamt:"},el:{Version:"ÎÎºÎ´Î¿ÏÎ·",time:"ÏÏÏÎ½Î¿Ï",actions:"ÏÏÎ¿ÏÏÎ¬Î¸ÎµÎ¹ÎµÏ",score:"Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±","Next activity":"ÎÏÏÎ¼ÎµÎ½Î· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±","Previous activity":"Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±","Restart activity":"ÎÏÎ±Î½ÎµÎºÎºÎ¯Î½Î·ÏÎ· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±Ï",Information:"Î Î»Î·ÏÎ¿ÏÎ¿ÏÎ¯ÎµÏ","Results are not currently being saved":"Î Î±Î½Î±ÏÎ¿ÏÎ¬ Î´ÎµÎ½ ÎµÎ³Î³ÏÎ¬ÏÎ·ÎºÎµ ÏÏÎ¹Ï Î²Î¬ÏÎµÎ¹Ï Î´ÎµÎ´Î¿Î¼Î­Î½ÏÎ½","Current results":"ÎÎ½Î±ÏÎ¿ÏÎ­Ï ÏÏÎ®ÏÏÎ·","Session started:":"ÎÎ½Î±ÏÎ¾Î· ÏÏÎ½ÎµÎ´ÏÎ¯Î±Ï:","Reports system:":"Î£ÏÏÏÎ·Î¼Î± Î±Î½Î±ÏÎ¿ÏÏÎ½:","User:":"Î§ÏÎ®ÏÏÎ·Ï:","Projects:":"ÎÏÎ³Î±:","Sequences:":"ÎÎ»Î»Î·Î»Î¿ÏÏÎ¯ÎµÏ:","Activities done:":"ÎÎ»Î¿ÎºÎ»Î·ÏÏÎ¼Î­Î½ÎµÏ Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎµÏ:","Activities solved:":"ÎÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎµÏ, ÎµÎ½ÏÎ¬Î¾ÎµÎ¹:","Global score:":"Î£ÏÎ½Î¿Î»Î¹ÎºÎ® Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±:","Total time in activities:":"Î£ÏÎ½Î¿Î»Î¹ÎºÏÏ ÏÏÏÎ½Î¿Ï Î´ÏÎ±ÏÏÎ·ÏÎ¹Î¿ÏÎ®ÏÏÎ½:","Actions done:":"ÎÎ¹ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎ±Î½:","No activities done!":"ÎÎ¹Î± ÎºÎ±Î¼Î¼Î¯Î± Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ± Î´ÎµÎ½ Î­ÏÎµÎ¹ ÏÏÎ¿Î²Î»Î·Î¸ÎµÎ¯ Î±Î½Î±ÏÎ¿ÏÎ¬!",Project:"ÎÏÎ³Î¿",sequence:"ÎÎ»Î»Î·Î»Î¿ÏÏÎ¯Î±",activity:"ÎÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±",OK:"ÎÎ½ÏÎ¬Î¾ÎµÎ¹",YES:"ÎÎ±Î¯",NO:"ÏÏÎ¹","Total:":"Î£ÏÎ½Î¿Î»Î¿:"},es:{Version:"VersiÃ³n",time:"tiempo",actions:"acciones",score:"aciertos","Next activity":"Actividad siguiente","Previous activity":"Actividad anterior","Restart activity":"Reiniciar actividad",Information:"InformaciÃ³n","Results are not currently being saved":"Los resultados no se estÃ¡n guardando","Current results":"Resultados actuales","Session started:":"Inicio de sesiÃ³n:","Reports system:":"Sistema de informes:","User:":"Usuario/aria:","Projects:":"Proyectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades resueltas:","Global score:":"PuntuaciÃ³n global:","(out of all project activities)":"(sobre todas las actividades del proyecto)","Total time in activities:":"Tiempo total en las actividades:","Actions done:":"Acciones realizadas:","No activities done!":"Â¡No se ha realizado ninguna actividad!",Project:"Proyecto",sequence:"secuencia",activity:"actividad",OK:"OK",YES:"SI",NO:"NO","Total:":"Totales:","Select group:":"Seleccionar grupo:","Select user:":"Seleccionar usuario:",Cancel:"Cancelar",Close:"Cerrar","Copy data to clipboard":"Copiar datos al portapapeles","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Los datos se han copiado en formato HTML. Puedes pegarlos en una hoja de cÃ¡lculo o en un editor de texto rico.","The data has been copied to clipboard":"Los datos se han copiado al portapapeles","not connected":"no conectado","Please wait until the results of your activities are sent to the reports system":"Por favor, espera mientras los resultados de las actividades se envian al servidor de informes","Password:":"ContraseÃ±a:","Incorrect password":"ContraseÃ±a incorrecta","Invalid user":"Usuario incorrecto","Partial score:":"PuntuaciÃ³n parcial:","(out of played activities)":"(sobre las actividades realizadas)","Activities played at least once:":"Actividades realizadas al menos una vez:",Reports:"Informes","Toggle full screen":"Conmutar pantalla completa","JClic logo":"Logotipo de JClic",message:"mensaje","Activity panel":"Panel de actividad",cell:"celda",image:"imagen",source:"origen",target:"destino","image fragment":"fragmento de imagen"},eu:{Version:"Bertsioa",time:"denbora",actions:"saiakerak",score:"puntuazioa","Next activity":"Hurrengo jarduera","Previous activity":"Aurreko jarduera","Restart activity":"Jarduera berriro hasi",Information:"Informazioa","Results are not currently being saved":"Txostena ez dago ezein datu-basetan","Current results":"Erabiltzailearen txostenak","Session started:":"Saio-hasiera:","Reports system:":"Txosten-sistema:","User:":"Erabiltzailea:","Projects:":"Proiektuak:","Sequences:":"Sekuentziak:","Activities done:":"Burututako ekinzak:","Activities solved:":"Jarduera zuzenak:","Global score:":"Jarduera zuzenak:","Total time in activities:":"Jardueretan emandako denbora guztira:","Actions done:":"Burututako ekintzak:","No activities done!":"Ez da jardueren txostenik!",Project:"Proiektua",sequence:"Sekuentzia",activity:"Jarduera",OK:"Ados",YES:"BAI",NO:"EZ","Total:":"Guztira:"},fr:{Version:"Version",time:"temps",actions:"essais",score:"rÃ©sultat","Next activity":"ActivitÃ© suivante","Previous activity":"ActivitÃ© prÃ©cÃ©dente","Restart activity":"Recommencer l'activitÃ©",Information:"Information","Results are not currently being saved":"Le rapport n'est enregistrÃ© dans aucune base de donnÃ©es","Current results":"Rapports utilisateur","Session started:":"Session dÃ©marrÃ©e:","Reports system:":"Report systÃ¨me:","User:":"Utilisateur:","Projects:":"Projets:","Sequences:":"SÃ©quences:","Activities done:":"ActivitÃ©s faites:","Activities solved:":"ActivitÃ©s ok:","Global score:":"Score global:","(out of all project activities)":"(Hors de toutes les activitÃ©s du projet)","Total time in activities:":"Temps total sur les activitÃ©s:","Actions done:":"Actions faites:","No activities done!":"Pas d'activitÃ©s rapportÃ©es!",Project:"Projet",sequence:"sÃ©quence",activity:"activitÃ©",OK:"Ok",YES:"OUI",NO:"NON","Total:":"Total:","Select group:":"SÃ©lectionner un groupe:","Select user:":"SÃ©lectionner l'utilisateur:",Cancel:"Annuler",Close:"Fermer","Copy data to clipboard":"Copier les donnÃ©es dans le presse-papier","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les donnÃ©es ont Ã©tÃ© copiÃ©es au format HTML. Veuillez les coller dans une feuille de calcul ou dans un Ã©diteur de texte","The data has been copied to clipboard":"Les donnÃ©es sont copier dans le presse-papier","not connected":"Non connectÃ© ","Please wait until the results of your activities are sent to the reports system":"Veuillez patienter durant l'envoi de votre activitÃ© au rapport systÃ¨me","Password:":"Mot de passe: ","Incorrect password":"Mot de passe incorrect","Invalid user":"Utilisateur invalide","Partial score:":"Score partiel:","(out of played activities)":"(Hors activitÃ©s jouÃ©es)","Activities played at least once:":"Les activitÃ©s jouÃ© au moins une fois:",Reports:"Rapport","Toggle full screen":"Basculer en plein Ã©cran","JClic logo":"JClic logo",message:"message","Activity panel":"Groupe d'activitÃ©s",cell:"cellule",image:"image",source:"source",target:"cible","image fragment":"fragment d'image"},gl:{Version:"VersiÃ³n",time:"tempo",actions:"intentos",score:"acertos","Next activity":"Seguinte actividade","Previous activity":"Anterior actividade","Restart activity":"Reiniciar a actividade",Information:"InformaciÃ³n","Results are not currently being saved":"O informe non estÃ¡ rexistrado en ningunha base de datos","Current results":"Informes de usuario","Session started:":"Inicio de sesiÃ³n:","Reports system:":"Sistema de informes:","User:":"Usuario:","Projects:":"Proxectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"PuntuaciÃ³n global:","Total time in activities:":"Tempo total nas actividades:","Actions done:":"AcciÃ³ns efectuadas:","No activities done!":"Non hai informada ningunha actividade!",Project:"Proxecto",sequence:"secuencia",activity:"actividade",OK:"Correcta",YES:"SI",NO:"NON","Total:":"Total:"},he:{Version:"×××¨×¡×",time:"×××",actions:"× ×¡××× ××ª",score:"× ××§××","Next activity":"××¤×¢××××ª ××××","Previous activity":"××¤×¢××××ª ××§××××ª","Restart activity":"××ª×× ×¤×¢××××ª ××××©",Information:"××××¢","Results are not currently being saved":"×××××× ××× × ×¨×©×× ×××¡× × ×ª×× ×× ×××©××","Current results":"×××××ª ××©×ª××©","Session started:":"××¤×¢×× ××××:","Reports system:":"××¢×¨××ª ×××××ª:","User:":"××©×ª××©:","Projects:":"×¤×¨××××§×××:","Sequences:":"×¨×¦×¤××:","Activities done:":"×¤×¢××××××ª ×©×××©×××:","Activities solved:":"×¤×¢××××××ª ××××©×¨××ª:","Global score:":"× ××§×× ××××:","Total time in activities:":"××©× ××¤×¢××××××ª ×××¦×××¨:","Actions done:":"×¤×¢××××ª ×©×××¦×¢×:","No activities done!":"×× ××××× ×¤×¢××××××ª!",Project:"×¤×¨××××§×",sequence:"×¨×¦×£",activity:"×¤×¢××××ª",OK:"×××©××¨",YES:"××",NO:"××","Total:":"×¡× ×××:"},it:{Version:"Versione",time:"tempo",actions:"tentativi",score:"punteggio","Next activity":"AttivitÃ  successiva","Previous activity":"AttivitÃ  precedente","Restart activity":"Riavvia l'attivitÃ ",Information:"Informazioni","Results are not currently being saved":"Rapporto non registrato in alcun database","Current results":"Rapporti utente","Session started:":"Sessione avviata:","Reports system:":"Sistema dei rapporti:","User:":"Utente:","Projects:":"Progetti:","Sequences:":"Sequenze:","Activities done:":"AttivitÃ  eseguite:","Activities solved:":"AttivitÃ  ok:","Global score:":"Punteggio globale:","Total time in activities:":"Tempo totale nelle attivitÃ :","Actions done:":"Azioni compiute:","No activities done!":"Nessuna attivitÃ  a rapporto!",Project:"Progetto",sequence:"sequenza",activity:"attivitÃ ",OK:"Ok",YES:"SI",NO:"NO","Total:":"Totale:"},ja:{Version:"ãã¼ã¸ã§ã³",time:"æé",actions:"ã¢ã¯ã·ã§ã³",score:"ã¹ã³ã¢","Next activity":"æ¬¡ã®ã¢ã¯ãã£ããã£","Previous activity":"åã®ã¢ã¯ãã£ããã£","Restart activity":"ã¢ã¯ãã£ããã£ãåèµ·å",Information:"æå ±","Results are not currently being saved":"çµæã¯ãç¾å¨ä¿å­ããã¦ãã¾ãã","Current results":"ç¾å¨ã®çµæ","Session started:":"ã»ãã·ã§ã³ãéå§ãã¾ãã:","Reports system:":"ã¬ãã¼ã ã·ã¹ãã :","User:":"ã¦ã¼ã¶ã¼:","Projects:":"ãã­ã¸ã§ã¯ã:","Sequences:":"ã·ã¼ã±ã³ã¹:","Activities done:":"å®äºããã¢ã¯ãã£ããã£:","Activities solved:":"è§£æ±ºããã¢ã¯ãã£ããã£:","Global score:":"ã°ã­ã¼ãã« ã¹ã³ã¢:","(out of all project activities)":"(ãã¹ã¦ã®ãã­ã¸ã§ã¯ã ã¢ã¯ãã£ããã£ã®çµæ)","Total time in activities:":"ã¢ã¯ãã£ããã£æéã®åè¨:","Actions done:":"å®äºããã¢ã¯ã·ã§ã³:","No activities done!":"ã¢ã¯ãã£ããã£ã¯è¡ããã¦ãã¾ãã!",Project:"ãã­ã¸ã§ã¯ã",sequence:"ã·ã¼ã±ã³ã¹",activity:"ã¢ã¯ãã£ããã£",OK:"OK",YES:"ã¯ã",NO:"ããã","Total:":"åè¨:","Select group:":"ã°ã«ã¼ããé¸æ:","Select user:":"ã¦ã¼ã¶ã¼ãé¸æ:",Cancel:"ã­ã£ã³ã»ã«",Close:"éãã","Copy data to clipboard":"ãã¼ã¿ãã¯ãªãããã¼ãã«ã³ãã¼","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"ãã¼ã¿ã¯ HTML å½¢å¼ã§ã³ãã¼ããã¾ãããªãã ãã­ã¹ã ã¨ãã£ã¿ã¼ãã¹ãã¬ããã·ã¼ãã«è²¼ãä»ãã¦ãã ãã","The data has been copied to clipboard":"ã¯ãªãããã¼ãã«ãã¼ã¿ãã³ãã¼ããã¾ãã","not connected":"æ¥ç¶ããã¦ãã¾ãã","Please wait until the results of your activities are sent to the reports system":"ã¢ã¯ãã£ããã£ã®çµæãã¬ãã¼ã ã·ã¹ãã ã«éä¿¡ãããã¾ã§ãå¾ã¡ãã ãã","Password:":"ãã¹ã¯ã¼ã:","Incorrect password":"ãã¹ã¯ã¼ããæ­£ããããã¾ãã","Invalid user":"ç¡å¹ãªã¦ã¼ã¶ã¼","Partial score:":"é¨åã¹ã³ã¢:","(out of played activities)":"(ãã¬ã¤ããã¢ã¯ãã£ããã£ã®çµæ)","Activities played at least once:":"å°ãªãã¨ãä¸åº¦ãã¬ã¤ããã¢ã¯ãã£ããã£:",Reports:"ã¬ãã¼ã","Toggle full screen":"å¨ç»é¢ã®åãæ¿ã","JClic logo":"JClic ã­ã´",message:"ã¡ãã»ã¼ã¸","Activity panel":"ã¢ã¯ãã£ããã£ ããã«",cell:"ã»ã«",image:"ç»å",source:"ã½ã¼ã¹",target:"ã¿ã¼ã²ãã","image fragment":"ç»åãã©ã°ã¡ã³ã"},nl:{Version:"Versie",time:"tijd",actions:"pogingen",score:"punten","Next activity":"Volgende activiteit","Previous activity":"Vorige activiteit","Restart activity":"Herstart activiteit",Information:"Informatie","Results are not currently being saved":"Rapport niet geregistreerd in een DB","Current results":"Gebruikers rapport","Session started:":"Reeks gestart:","Reports system:":"Rapporteer systeem:","User:":"Gebruiker:","Projects:":"Projecten:","Sequences:":"Reeksen:","Activities done:":"Activiteiten klaar:","Activities solved:":"Activiteiten ok:","Global score:":"Puntentotaal:","Total time in activities:":"Totale tijd activiteiten:","Actions done:":"Einde activiteiten:","No activities done!":"Geen activiteiten gerapporteerd!",Project:"Project",sequence:"Volgorde",activity:"Activiteit",OK:"Ok",YES:"JA",NO:"NEE","Total:":"Totaal:"},pt:{Version:"VersÃ£o",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"Actividade seguinte","Previous activity":"Actividade anterior","Restart activity":"Reiniciar a actividade",Information:"InformaÃ§Ã£o","Results are not currently being saved":"O relatÃ³rio nÃ£o estÃ¡ registado em nenhuma base de dados","Current results":"RelatÃ³rios do utilizador","Session started:":"InÃ­cio da sessÃ£o:","Reports system:":"Sistema de relatÃ³rios:","User:":"Utilizador:","Projects:":"Projectos:","Sequences:":"SequÃªncias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"PontuaÃ§Ã£o global:","Total time in activities:":"Tempo total das actividades:","Actions done:":"AcÃ§Ãµes efectuadas:","No activities done!":"Nenhuma actividade registada!",Project:"Projecto",sequence:"sequÃªncia",activity:"Actividade",OK:"Correcta",YES:"sim",NO:"nÃ£o","Total:":"Total:"},pt_BR:{Version:"VersÃ£o",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"atividade seguinte","Previous activity":"atividade anterior","Restart activity":"Reiniciar a atividade",Information:"InformaÃ§Ã£o","Results are not currently being saved":"O relatÃ³rio nÃ£o estÃ¡ registrando em nenhuma base de dados","Current results":"relatÃ³rios de usuÃ¡rio","Session started:":"InÃ­cio da sessÃ£o:","Reports system:":"Sistema de relatÃ³rios:","User:":"UsuÃ¡rio:","Projects:":"Projetos:","Sequences:":"SequÃªncias:","Activities done:":"Atividades realizadas:","Activities solved:":"Atividades corretas:","Global score:":"PontuaÃ§Ã£o geral:","Total time in activities:":"Tempo total das atividades:","Actions done:":"AÃ§Ãµes efetuadas:","No activities done!":"Nenhuma atividade registrada!",Project:"Projeto",sequence:"sequÃªncia",activity:"atividade",OK:"Correta",YES:"sim",NO:"nÃ£o","Total:":"Total:"},ru:{Version:"ÐÐµÑÑÐ¸Ñ",time:"Ð²ÑÐµÐ¼Ñ",actions:"Ð¿Ð¾Ð¿ÑÑÐºÐ¸",score:"ÑÑÑÑ","Next activity":"Ð¡Ð»ÐµÐ´ÑÑÑÐµÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ","Previous activity":"ÐÑÐµÐ´ÑÐ´ÑÑÐµÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ","Restart activity":"ÐÐµÑÐµÐ·Ð°Ð¿ÑÑÐº Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ",Information:"ÐÐ½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ","Results are not currently being saved":"ÐÑÑÑÑ Ð½Ðµ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½ Ð² ÐÐ","Current results":"ÐÑÑÑÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ","Session started:":"Ð¡ÐµÑÑÐ¸Ñ Ð½Ð°ÑÐ°ÑÐ°:","Reports system:":"Ð¡Ð¸ÑÑÐµÐ¼Ð° Ð¾ÑÑÑÑÐ¾Ð²:","User:":"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ:","Projects:":"ÐÑÐ¾ÐµÐºÑÑ:","Sequences:":"ÐÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°ÑÐµÐ»ÑÐ½Ð¾ÑÑÐ¸:","Activities done:":"Ð¡Ð¾Ð²ÐµÑÑÐµÐ½Ð½ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ:","Activities solved:":"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ Ð² Ð¿Ð¾ÑÑÐ´ÐºÐµ:","Global score:":"ÐÐ±ÑÐ¸Ð¹ ÑÑÑÑ:","Total time in activities:":"ÐÐ±ÑÐµÐµ Ð²ÑÐµÐ¼Ñ Ð°ÐºÑÐ¸Ð²Ð½Ð¾ÑÑÐ¸:","Actions done:":"ÐÐ°Ð²ÐµÑÑÐµÐ½Ð¾ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹:","No activities done!":"ÐÐµÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð½ÑÑ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹!",Project:"ÐÑÐ¾ÐµÐºÑ",sequence:"ÐÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°ÑÐµÐ»ÑÐ½Ð¾ÑÑÑ",activity:"ÐÐºÑÐ¸Ð²Ð½Ð¾ÑÑÑ",OK:"ÐÐ",YES:"Ð´Ð°",NO:"Ð½ÐµÑ","Total:":"ÐÑÐ¾Ð³Ð¾:"},tr:{Version:"SÃ¼rÃ¼m",time:"zaman",actions:"Denemeler",score:"sonuÃ§","Next activity":"Bir sonraki etkinlik","Previous activity":"Bir Ã¶nceki etkinlik","Restart activity":"EtkinliÄi tekrar baÅlat",Information:"Bilgi","Results are not currently being saved":"Rapor herhangi bir veritabanÄ±nda kaydedilmedi","Current results":"KullanÄ±cÄ± raporlarÄ±","Session started:":"Oturum baÅlatÄ±ldÄ±","Reports system:":"Sistem raporu:","User:":"KullanÄ±cÄ±:","Projects:":"Projeler:","Sequences:":"Etkinlik dizisi","Activities done:":"Etkinlikler baÅlatÄ±lÄ±yor:","Activities solved:":"Etkinlikler tamam:","Global score:":"Genel sonuÃ§:","Total time in activities:":"Etkinlikde geÃ§irilen toplam zaman:","Actions done:":"Eylem gerÃ§ekleÅtiriliyor:","No activities done!":"Etkinlik raporu yok!",Project:"Proje",sequence:"Etkinlik dizisi",activity:"Etkinlik",OK:"Tamam",YES:"Evet",NO:"hiÃ§bir","Total:":"Toplam:"},vec:{Version:"Version",time:"tenpo",actions:"tentadivi",score:"pontexio","Next activity":"PrÃ²sima ativitÃ ","Previous activity":"AtivitÃ  presedente","Restart activity":"InvÃ¬a ativitÃ  da novo",Information:"Informasion","Results are not currently being saved":"Report no registrÃ  inte nisun database","Current results":"Reports utenti","Session started:":"Sesion inviada:","Reports system:":"SistÃ¨ma de report","User:":"Utente:","Projects:":"ProxÃ¨ti:","Sequences:":"Secuense:","Activities done:":"AtivitÃ  fate:","Activities solved:":"AtivitÃ  ok:","Global score:":"Pontexio global","Total time in activities:":"Tenpo total so Æe ativitÃ ","Actions done:":"Asion exeguÃ¬e","No activities done!":"No xÃ© stÃ  reportÃ  ativitÃ !",Project:"ProxÃ¨to:",sequence:"secuensa",activity:"AtivitÃ ",OK:"Ok",YES:"SI",NO:"NO","Total:":"Total:"},zh_TW:{Version:"çæ¬",time:"æé",actions:"åè©¦æ¬¡æ¸",score:"åæ¸","Next activity":"ä¸ä¸åæ´»å","Previous activity":"ä¸ä¸åæ´»å","Restart activity":"éè¨­æ´»å",Information:"ç¸éè³è¨","Results are not currently being saved":"åå ±å¨DBä¸­ç¡è¨»å","Current results":"ä½¿ç¨èå ±å","Session started:":"å·¥ä½éå§ï¼","Reports system:":"å ±åç³»çµ±:","User:":"ä½¿ç¨è:","Projects:":"å°æ¡ï¼","Sequences:":"é åºï¼","Activities done:":"æ´»åçµæ:","Activities solved:":"æ´»åå®æ:","Global score:":"ç¸½æç¸¾:","Total time in activities:":"æ´»åç¸½æé:","Actions done:":"æ´»åå®æï¼","No activities done!":"æ²ææ´»åå ±å",Project:"å°æ¡ï¼",sequence:"é åº",activity:"æ´»å",OK:"ç¢ºå®",YES:"æ¯",NO:"å¦","Total:":"ç¸½è¨ï¼"}}}},function(t,e,n){"use strict";var i,r;i=[n(138),n(261),n(2)],void 0===(r=function(t,e,n){return function(i){t.init({nsSeparator:!1,keySeparator:!1,fallbackLng:"en",lng:function(t,e,n){var i=-1,r=[];n&&r.push(n),window.navigator.languages&&(r=r.concat(window.navigator.languages)),window.navigator.language&&r.push(window.navigator.language),r.push(e||"en");for(var o=0;o<r.length;o++){var s=-1;for(var a in t)if(0===r[o].indexOf(t[a])&&(s=a,r[o]===t[a])){i=a;break}if(i>=0||(i=s)>=0)break}return t[i>=0?i:0]}(e.languages,"en",i.options.lang),resources:{en:{translation:{}},ca:{translation:e.messages.ca},"ca_ES@valencia":{translation:e.messages["ca_ES@valencia"]},es:{translation:e.messages.es}}},function(t,r){t?n.log("error",'Error initializing "i18next": '+t.message):(n.getMsg=i.getMsg=r,i.JClicVersion=e.version)})}}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=n(153),r=n(9),o=n(106),s=n(105),a=n(61),c=n(160),u=n(40);function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},t.exports=l},function(t,e,n){"use strict";var i=n(150);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(151);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(153),r=n(9),o=n(154),s=n(263),a=(n(61),n(40));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},function(t,e,n){"use strict";var i=n(9),r=n(70),o=n(61),s=(i=n(9),n(266)),a=n(161),c=n(79);function u(t){return new r.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new a);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new s(e);return n.load(t),n}).then(function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(t,e,n){"use strict";var i=n(9),r=n(20);function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(20),o=n(61),s=n(105),a=n(154),c=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},u=function(t,e,n,r,u,l){var h,f,p=t.file,d=t.compression,g=l!==o.utf8encode,v=i.transformTo("string",l(p.name)),y=i.transformTo("string",o.utf8encode(p.name)),m=p.comment,b=i.transformTo("string",l(m)),w=i.transformTo("string",o.utf8encode(m)),k=y.length!==p.name.length,x=w.length!==m.length,A="",C="",S="",_=p.dir,E=p.date,O={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var P=0;e&&(P|=8),g||!k&&!x||(P|=2048);var T,I,j=0,B=0;_&&(j|=16),"UNIX"===u?(B=798,j|=(T=p.unixPermissions,I=T,T||(I=_?16893:33204),(65535&I)<<16)):(B=20,j|=63&(p.dosPermissions||0)),h=E.getUTCHours(),h<<=6,h|=E.getUTCMinutes(),h<<=5,h|=E.getUTCSeconds()/2,f=E.getUTCFullYear()-1980,f<<=4,f|=E.getUTCMonth()+1,f<<=5,f|=E.getUTCDate(),k&&(C=c(1,1)+c(s(v),4)+y,A+="up"+c(C.length,2)+C),x&&(S=c(1,1)+c(s(b),4)+w,A+="uc"+c(S.length,2)+S);var M="";return M+="\n\0",M+=c(P,2),M+=d.magic,M+=c(h,2),M+=c(f,2),M+=c(O.crc32,4),M+=c(O.compressedSize,4),M+=c(O.uncompressedSize,4),M+=c(v.length,2),M+=c(A.length,2),{fileRecord:a.LOCAL_FILE_HEADER+M+v+A,dirRecord:a.CENTRAL_FILE_HEADER+c(B,2)+M+c(b.length,2)+"\0\0\0\0"+c(j,4)+c(r,4)+v+A+b}};function l(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(l,r),l.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=u(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=u(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return a.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(t,2)+c(t,2)+c(e,4)+c(n,4)+c(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},l.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},l.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=l},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var i=n(39),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,u,l,h,f){var p,d,g,v,y,m,b,w,k,x=f.bits,A=0,C=0,S=0,_=0,E=0,O=0,P=0,T=0,I=0,j=0,B=null,M=0,R=new i.Buf16(16),D=new i.Buf16(16),N=null,L=0;for(A=0;A<=15;A++)R[A]=0;for(C=0;C<c;C++)R[e[n+C]]++;for(E=x,_=15;_>=1&&0===R[_];_--);if(E>_&&(E=_),0===_)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(S=1;S<_&&0===R[S];S++);for(E<S&&(E=S),T=1,A=1;A<=15;A++)if(T<<=1,(T-=R[A])<0)return-1;if(T>0&&(0===t||1!==_))return-1;for(D[1]=0,A=1;A<15;A++)D[A+1]=D[A]+R[A];for(C=0;C<c;C++)0!==e[n+C]&&(h[D[e[n+C]]++]=C);if(0===t?(B=N=h,m=19):1===t?(B=r,M-=257,N=o,L-=257,m=256):(B=s,N=a,m=-1),j=0,C=0,A=S,y=l,O=E,P=0,g=-1,v=(I=1<<E)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){b=A-P,h[C]<m?(w=0,k=h[C]):h[C]>m?(w=N[L+h[C]],k=B[M+h[C]]):(w=96,k=0),p=1<<A-P,S=d=1<<O;do{u[y+(j>>P)+(d-=p)]=b<<24|w<<16|k|0}while(0!==d);for(p=1<<A-1;j&p;)p>>=1;if(0!==p?(j&=p-1,j+=p):j=0,C++,0==--R[A]){if(A===_)break;A=e[n+h[C]]}if(A>E&&(j&v)!==g){for(0===P&&(P=E),y+=S,T=1<<(O=A-P);O+P<_&&!((T-=R[O+P])<=0);)O++,T<<=1;if(I+=1<<O,1===t&&I>852||2===t&&I>592)return 1;u[g=j&v]=E<<24|O<<16|y-l|0}}return 0!==j&&(u[y+j]=A-P<<24|64<<16|0),f.bits=E,0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,c,u,l,h,f,p,d,g,v,y,m,b,w,k,x,A,C,S,_;n=t.state,i=t.next_in,S=t.input,r=i+(t.avail_in-5),o=t.next_out,_=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,g=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{d<15&&(p+=S[i++]<<d,d+=8,p+=S[i++]<<d,d+=8),b=g[p&y];e:for(;;){if(p>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))_[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}k=65535&b,(w&=15)&&(d<w&&(p+=S[i++]<<d,d+=8),k+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=S[i++]<<d,d+=8,p+=S[i++]<<d,d+=8),b=v[p&m];n:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,d<(w&=15)&&(p+=S[i++]<<d,(d+=8)<w&&(p+=S[i++]<<d,d+=8)),(x+=p&(1<<w)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=w,d-=w,x>(w=o-s)){if((w=x-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(A=0,C=f,0===h){if(A+=u-w,w<k){k-=w;do{_[o++]=f[A++]}while(--w);A=o-x,C=_}}else if(h<w){if(A+=u+h-w,(w-=h)<k){k-=w;do{_[o++]=f[A++]}while(--w);if(A=0,h<k){k-=w=h;do{_[o++]=f[A++]}while(--w);A=o-x,C=_}}}else if(A+=h-w,w<k){k-=w;do{_[o++]=f[A++]}while(--w);A=o-x,C=_}for(;k>2;)_[o++]=C[A++],_[o++]=C[A++],_[o++]=C[A++],k-=3;k&&(_[o++]=C[A++],k>1&&(_[o++]=C[A++]))}else{A=o-x;do{_[o++]=_[A++],_[o++]=_[A++],_[o++]=_[A++],k-=3}while(k>2);k&&(_[o++]=_[A++],k>1&&(_[o++]=_[A++]))}break}}break}}while(i<r&&o<a);i-=k=d>>3,p&=(1<<(d-=k<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var i=n(39),r=n(159),o=n(158),s=n(272),a=n(271),c=0,u=1,l=2,h=4,f=5,p=6,d=0,g=1,v=2,y=-2,m=-3,b=-4,w=-5,k=8,x=1,A=2,C=3,S=4,_=5,E=6,O=7,P=8,T=9,I=10,j=11,B=12,M=13,R=14,D=15,N=16,L=17,V=18,F=19,q=20,z=21,U=22,H=23,G=24,$=25,W=26,J=27,Y=28,Z=29,K=30,Q=31,X=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,d):y}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):y}function st(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?y:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ot(t))):y}function at(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=st(t,e))!==d&&(t.state=null),n):y}var ct,ut,lt=!0;function ht(t){if(lt){var e;for(ct=new i.Buf32(512),ut=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(u,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(l,t.lens,0,32,ut,0,t.work,{bits:5}),lt=!1}t.lencode=ct,t.lenbits=9,t.distcode=ut,t.distbits=5}function ft(t,e,n,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,e,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,e,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=st,e.inflateResetKeep=rt,e.inflateInit=function(t){return at(t,nt)},e.inflateInit2=at,e.inflate=function(t,e){var n,tt,et,nt,rt,ot,st,at,ct,ut,lt,pt,dt,gt,vt,yt,mt,bt,wt,kt,xt,At,Ct,St,_t=0,Et=new i.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return y;(n=t.state).mode===B&&(n.mode=M),rt=t.next_out,et=t.output,st=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,at=n.hold,ct=n.bits,ut=ot,lt=st,At=d;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=M;break}for(;ct<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(2&n.wrap&&35615===at){n.check=0,Et[0]=255&at,Et[1]=at>>>8&255,n.check=o(n.check,Et,2,0),at=0,ct=0,n.mode=A;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&at)<<8)+(at>>8))%31){t.msg="incorrect header check",n.mode=K;break}if((15&at)!==k){t.msg="unknown compression method",n.mode=K;break}if(ct-=4,xt=8+(15&(at>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=K;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&at?I:B,at=0,ct=0;break;case A:for(;ct<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(n.flags=at,(255&n.flags)!==k){t.msg="unknown compression method",n.mode=K;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=K;break}n.head&&(n.head.text=at>>8&1),512&n.flags&&(Et[0]=255&at,Et[1]=at>>>8&255,n.check=o(n.check,Et,2,0)),at=0,ct=0,n.mode=C;case C:for(;ct<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.head&&(n.head.time=at),512&n.flags&&(Et[0]=255&at,Et[1]=at>>>8&255,Et[2]=at>>>16&255,Et[3]=at>>>24&255,n.check=o(n.check,Et,4,0)),at=0,ct=0,n.mode=S;case S:for(;ct<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.head&&(n.head.xflags=255&at,n.head.os=at>>8),512&n.flags&&(Et[0]=255&at,Et[1]=at>>>8&255,n.check=o(n.check,Et,2,0)),at=0,ct=0,n.mode=_;case _:if(1024&n.flags){for(;ct<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.length=at,n.head&&(n.head.extra_len=at),512&n.flags&&(Et[0]=255&at,Et[1]=at>>>8&255,n.check=o(n.check,Et,2,0)),at=0,ct=0}else n.head&&(n.head.extra=null);n.mode=E;case E:if(1024&n.flags&&((pt=n.length)>ot&&(pt=ot),pt&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,pt,xt)),512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,n.length-=pt),n.length))break t;n.length=0,n.mode=O;case O:if(2048&n.flags){if(0===ot)break t;pt=0;do{xt=tt[nt+pt++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&pt<ot);if(512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=P;case P:if(4096&n.flags){if(0===ot)break t;pt=0;do{xt=tt[nt+pt++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&pt<ot);if(512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,xt)break t}else n.head&&(n.head.comment=null);n.mode=T;case T:if(512&n.flags){for(;ct<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(at!==(65535&n.check)){t.msg="header crc mismatch",n.mode=K;break}at=0,ct=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=B;break;case I:for(;ct<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}t.adler=n.check=it(at),at=0,ct=0,n.mode=j;case j:if(0===n.havedict)return t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=ct,v;t.adler=n.check=1,n.mode=B;case B:if(e===f||e===p)break t;case M:if(n.last){at>>>=7&ct,ct-=7&ct,n.mode=J;break}for(;ct<3;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}switch(n.last=1&at,ct-=1,3&(at>>>=1)){case 0:n.mode=R;break;case 1:if(ht(n),n.mode=q,e===p){at>>>=2,ct-=2;break t}break;case 2:n.mode=L;break;case 3:t.msg="invalid block type",n.mode=K}at>>>=2,ct-=2;break;case R:for(at>>>=7&ct,ct-=7&ct;ct<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if((65535&at)!=(at>>>16^65535)){t.msg="invalid stored block lengths",n.mode=K;break}if(n.length=65535&at,at=0,ct=0,n.mode=D,e===p)break t;case D:n.mode=N;case N:if(pt=n.length){if(pt>ot&&(pt=ot),pt>st&&(pt=st),0===pt)break t;i.arraySet(et,tt,nt,pt,rt),ot-=pt,nt+=pt,st-=pt,rt+=pt,n.length-=pt;break}n.mode=B;break;case L:for(;ct<14;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(n.nlen=257+(31&at),at>>>=5,ct-=5,n.ndist=1+(31&at),at>>>=5,ct-=5,n.ncode=4+(15&at),at>>>=4,ct-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=K;break}n.have=0,n.mode=V;case V:for(;n.have<n.ncode;){for(;ct<3;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.lens[Ot[n.have++]]=7&at,at>>>=3,ct-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ct={bits:n.lenbits},At=a(c,n.lens,0,19,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,At){t.msg="invalid code lengths set",n.mode=K;break}n.have=0,n.mode=F;case F:for(;n.have<n.nlen+n.ndist;){for(;yt=(_t=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,mt=65535&_t,!((vt=_t>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(mt<16)at>>>=vt,ct-=vt,n.lens[n.have++]=mt;else{if(16===mt){for(St=vt+2;ct<St;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(at>>>=vt,ct-=vt,0===n.have){t.msg="invalid bit length repeat",n.mode=K;break}xt=n.lens[n.have-1],pt=3+(3&at),at>>>=2,ct-=2}else if(17===mt){for(St=vt+3;ct<St;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}ct-=vt,xt=0,pt=3+(7&(at>>>=vt)),at>>>=3,ct-=3}else{for(St=vt+7;ct<St;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}ct-=vt,xt=0,pt=11+(127&(at>>>=vt)),at>>>=7,ct-=7}if(n.have+pt>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=K;break}for(;pt--;)n.lens[n.have++]=xt}}if(n.mode===K)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=K;break}if(n.lenbits=9,Ct={bits:n.lenbits},At=a(u,n.lens,0,n.nlen,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,At){t.msg="invalid literal/lengths set",n.mode=K;break}if(n.distbits=6,n.distcode=n.distdyn,Ct={bits:n.distbits},At=a(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ct),n.distbits=Ct.bits,At){t.msg="invalid distances set",n.mode=K;break}if(n.mode=q,e===p)break t;case q:n.mode=z;case z:if(ot>=6&&st>=258){t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=ct,s(t,lt),rt=t.next_out,et=t.output,st=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,at=n.hold,ct=n.bits,n.mode===B&&(n.back=-1);break}for(n.back=0;yt=(_t=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,mt=65535&_t,!((vt=_t>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(yt&&0==(240&yt)){for(bt=vt,wt=yt,kt=mt;yt=(_t=n.lencode[kt+((at&(1<<bt+wt)-1)>>bt)])>>>16&255,mt=65535&_t,!(bt+(vt=_t>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}at>>>=bt,ct-=bt,n.back+=bt}if(at>>>=vt,ct-=vt,n.back+=vt,n.length=mt,0===yt){n.mode=W;break}if(32&yt){n.back=-1,n.mode=B;break}if(64&yt){t.msg="invalid literal/length code",n.mode=K;break}n.extra=15&yt,n.mode=U;case U:if(n.extra){for(St=n.extra;ct<St;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.length+=at&(1<<n.extra)-1,at>>>=n.extra,ct-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;yt=(_t=n.distcode[at&(1<<n.distbits)-1])>>>16&255,mt=65535&_t,!((vt=_t>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(0==(240&yt)){for(bt=vt,wt=yt,kt=mt;yt=(_t=n.distcode[kt+((at&(1<<bt+wt)-1)>>bt)])>>>16&255,mt=65535&_t,!(bt+(vt=_t>>>24)<=ct);){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}at>>>=bt,ct-=bt,n.back+=bt}if(at>>>=vt,ct-=vt,n.back+=vt,64&yt){t.msg="invalid distance code",n.mode=K;break}n.offset=mt,n.extra=15&yt,n.mode=G;case G:if(n.extra){for(St=n.extra;ct<St;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}n.offset+=at&(1<<n.extra)-1,at>>>=n.extra,ct-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=K;break}n.mode=$;case $:if(0===st)break t;if(pt=lt-st,n.offset>pt){if((pt=n.offset-pt)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=K;break}pt>n.wnext?(pt-=n.wnext,dt=n.wsize-pt):dt=n.wnext-pt,pt>n.length&&(pt=n.length),gt=n.window}else gt=et,dt=rt-n.offset,pt=n.length;pt>st&&(pt=st),st-=pt,n.length-=pt;do{et[rt++]=gt[dt++]}while(--pt);0===n.length&&(n.mode=z);break;case W:if(0===st)break t;et[rt++]=n.length,st--,n.mode=z;break;case J:if(n.wrap){for(;ct<32;){if(0===ot)break t;ot--,at|=tt[nt++]<<ct,ct+=8}if(lt-=st,t.total_out+=lt,n.total+=lt,lt&&(t.adler=n.check=n.flags?o(n.check,et,lt,rt-lt):r(n.check,et,lt,rt-lt)),lt=st,(n.flags?at:it(at))!==n.check){t.msg="incorrect data check",n.mode=K;break}at=0,ct=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;ct<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<ct,ct+=8}if(at!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=K;break}at=0,ct=0}n.mode=Z;case Z:At=g;break t;case K:At=m;break t;case Q:return b;case X:default:return y}return t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=ct,(n.wsize||lt!==t.avail_out&&n.mode<K&&(n.mode<J||e!==h))&&ft(t,t.output,t.next_out,lt-t.avail_out)?(n.mode=Q,b):(ut-=t.avail_in,lt-=t.avail_out,t.total_in+=ut,t.total_out+=lt,n.total+=lt,n.wrap&&lt&&(t.adler=n.check=n.flags?o(n.check,et,lt,t.next_out-lt):r(n.check,et,lt,t.next_out-lt)),t.data_type=n.bits+(n.last?64:0)+(n.mode===B?128:0)+(n.mode===q||n.mode===D?256:0),(0===ut&&0===lt||e===h)&&At===d&&(At=w),At)},e.inflateEnd=function(t){if(!t||!t.state)return y;var e=t.state;return e.window&&(e.window=null),t.state=null,d},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?y:(n.head=e,e.done=!1,d):y},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==j?y:n.mode===j&&r(1,e,i,0)!==n.check?m:ft(t,e,i,i)?(n.mode=Q,b):(n.havedict=1,d):y},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(273),r=n(39),o=n(157),s=n(155),a=n(104),c=n(156),u=n(270),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,c,u,h,f,p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(d),p.next_out=0,p.avail_out=d),(n=i.inflate(p,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(f="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===l.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,f)),n===s.Z_BUF_ERROR&&!0===v&&(n=s.Z_OK,v=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==s.Z_STREAM_END&&(0!==p.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),u=p.next_out-c,h=o.buf2string(p.output,c),p.next_out=u,p.avail_out=d-u,u&&r.arraySet(p.output,p.output,c,u,0),this.onData(h)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),p.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var i=n(39),r=4,o=0,s=1,a=2;function c(t){for(var e=t.length;--e>=0;)t[e]=0}var u=0,l=1,h=2,f=29,p=256,d=p+1+f,g=30,v=19,y=2*d+1,m=15,b=16,w=7,k=256,x=16,A=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(d+2));c(P);var T=new Array(2*g);c(T);var I=new Array(512);c(I);var j=new Array(256);c(j);var B=new Array(f);c(B);var M,R,D,N=new Array(g);function L(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function V(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F(t){return t<256?I[t]:I[256+(t>>>7)]}function q(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function z(t,e,n){t.bi_valid>b-n?(t.bi_buf|=e<<t.bi_valid&65535,q(t,t.bi_buf),t.bi_buf=e>>b-t.bi_valid,t.bi_valid+=n-b):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function U(t,e,n){z(t,n[2*e],n[2*e+1])}function H(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function G(t,e,n){var i,r,o=new Array(m+1),s=0;for(i=1;i<=m;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=H(o[a]++,a))}}function $(t){var e;for(e=0;e<d;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<v;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*k]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function W(t){t.bi_valid>8?q(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function J(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function Y(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&J(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!J(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function Z(t,e,n){var i,r,o,s,a=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===i?U(t,r,e):(U(t,(o=j[r])+p+1,e),0!==(s=S[o])&&z(t,r-=B[o],s),U(t,o=F(--i),n),0!==(s=_[o])&&z(t,i-=N[o],s))}while(a<t.last_lit);U(t,k,e)}function K(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=y,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)Y(t,o,n);r=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Y(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,Y(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(o=0;o<=m;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<y;n++)(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)>d&&(o=d,g++),c[2*i+1]=o,i>u||(t.bl_count[o]++,s=0,i>=p&&(s=f[i-p]),a=c[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*i+1]+s)));if(0!==g){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>u||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),G(o,u,t.bl_count)}function Q(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):a<=10?t.bl_tree[2*A]++:t.bl_tree[2*C]++,a=0,o=r,0===s?(c=138,u=3):r===s?(c=6,u=3):(c=7,u=4))}function X(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<u)do{U(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(U(t,r,t.bl_tree),a--),U(t,x,t.bl_tree),z(t,a-3,2)):a<=10?(U(t,A,t.bl_tree),z(t,a-3,3)):(U(t,C,t.bl_tree),z(t,a-11,7));a=0,o=r,0===s?(c=138,u=3):r===s?(c=6,u=3):(c=7,u=4)}}c(N);var tt=!1;function et(t,e,n,r){z(t,(u<<1)+(r?1:0),3),function(t,e,n,r){W(t),r&&(q(t,n),q(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,o=new Array(m+1);for(n=0,i=0;i<f-1;i++)for(B[i]=n,t=0;t<1<<S[i];t++)j[n++]=i;for(j[n-1]=i,r=0,i=0;i<16;i++)for(N[i]=r,t=0;t<1<<_[i];t++)I[r++]=i;for(r>>=7;i<g;i++)for(N[i]=r<<7,t=0;t<1<<_[i]-7;t++)I[256+r++]=i;for(e=0;e<=m;e++)o[e]=0;for(t=0;t<=143;)P[2*t+1]=8,t++,o[8]++;for(;t<=255;)P[2*t+1]=9,t++,o[9]++;for(;t<=279;)P[2*t+1]=7,t++,o[7]++;for(;t<=287;)P[2*t+1]=8,t++,o[8]++;for(G(P,d+1,o),t=0;t<g;t++)T[2*t+1]=5,T[2*t]=H(t,5);M=new L(P,S,p+1,d,m),R=new L(T,_,0,g,m),D=new L(new Array(0),E,0,v,w)}(),tt=!0),t.l_desc=new V(t.dyn_ltree,M),t.d_desc=new V(t.dyn_dtree,R),t.bl_desc=new V(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,$(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var c,u,f=0;t.level>0?(t.strm.data_type===a&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return s;return o}(t)),K(t,t.l_desc),K(t,t.d_desc),f=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),K(t,t.bl_desc),e=v-1;e>=3&&0===t.bl_tree[2*O[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),c=t.opt_len+3+7>>>3,(u=t.static_len+3+7>>>3)<=c&&(c=u)):c=u=n+5,n+4<=c&&-1!==e?et(t,e,n,i):t.strategy===r||u===c?(z(t,(l<<1)+(i?1:0),3),Z(t,P,T)):(z(t,(h<<1)+(i?1:0),3),function(t,e,n,i){var r;for(z(t,e-257,5),z(t,n-1,5),z(t,i-4,4),r=0;r<i;r++)z(t,t.bl_tree[2*O[r]+1],3);X(t,t.dyn_ltree,e-1),X(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),Z(t,t.dyn_ltree,t.dyn_dtree)),$(t),i&&W(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(j[n]+p+1)]++,t.dyn_dtree[2*F(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){z(t,l<<1,3),U(t,k,P),function(t){16===t.bi_valid?(q(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i,r=n(39),o=n(275),s=n(159),a=n(158),c=n(104),u=0,l=1,h=3,f=4,p=5,d=0,g=1,v=-2,y=-3,m=-5,b=-1,w=1,k=2,x=3,A=4,C=0,S=2,_=8,E=9,O=15,P=8,T=286,I=30,j=19,B=2*T+1,M=15,R=3,D=258,N=D+R+1,L=32,V=42,F=69,q=73,z=91,U=103,H=113,G=666,$=1,W=2,J=3,Y=4,Z=3;function K(t,e){return t.msg=c[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function X(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-N?t.strstart-(t.w_size-N):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+D,p=u[o+s-1],d=u[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===d&&u[n+s-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=D-(f-o),o=f-D,i>s){if(t.match_start=e,s=i,i>=a)break;p=u[o+s-1],d=u[o+s]}}}while((e=h[e&l])>c&&0!=--r);return s<=t.lookahead?s:t.lookahead}function ot(t){var e,n,i,o,c,u,l,h,f,p,d=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-N)){r.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=d?i-d:0}while(--n);e=n=d;do{i=t.prev[--e],t.prev[e]=i>=d?i-d:0}while(--n);o+=d}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,h=t.strstart+t.lookahead,f=o,p=void 0,(p=u.avail_in)>f&&(p=f),n=0===p?0:(u.avail_in-=p,r.arraySet(l,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=s(u.adler,l,p,h):2===u.state.wrap&&(u.adler=a(u.adler,l,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=R)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+R-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<N&&0!==t.strm.avail_in)}function st(t,e){for(var n,i;;){if(t.lookahead<N){if(ot(t),t.lookahead<N&&e===u)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-N&&(t.match_length=rt(t,n)),t.match_length>=R)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=t.strstart<R-1?t.strstart:R-1,e===f?(et(t,!0),0===t.strm.avail_out?J:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:W}function at(t,e){for(var n,i,r;;){if(t.lookahead<N){if(ot(t),t.lookahead<N&&e===u)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-N&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===w||t.match_length===R&&t.strstart-t.match_start>4096)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-R,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=R-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return $}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return $}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,e===f?(et(t,!0),0===t.strm.avail_out?J:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:W}function ct(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function ut(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=S,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?V:H,t.adler=2===e.wrap?0:1,e.last_flush=u,o._tr_init(e),d):K(t,v)}function lt(t){var e,n=ut(t);return n===d&&((e=t.state).window_size=2*e.w_size,X(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0),n}function ht(t,e,n,i,o,s){if(!t)return v;var a=1;if(e===b&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>E||n!==_||i<8||i>15||e<0||e>9||s<0||s>A)return K(t,v);8===i&&(i=9);var c=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*B),this.dyn_dtree=new r.Buf16(2*(2*I+1)),this.bl_tree=new r.Buf16(2*(2*j+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(M+1),this.heap=new r.Buf16(2*T+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*T+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+R-1)/R),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=s,c.method=n,lt(t)}i=[new ct(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===u)return $;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return $;if(t.strstart-t.block_start>=t.w_size-N&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?J:Y):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),$)}),new ct(4,4,8,4,st),new ct(4,5,16,8,st),new ct(4,6,32,32,st),new ct(4,4,16,16,at),new ct(8,16,32,32,at),new ct(8,16,128,128,at),new ct(8,32,128,256,at),new ct(32,128,258,1024,at),new ct(32,258,258,4096,at)],e.deflateInit=function(t,e){return ht(t,e,_,O,P,C)},e.deflateInit2=ht,e.deflateReset=lt,e.deflateResetKeep=ut,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?v:(t.state.gzhead=e,d):v},e.deflate=function(t,e){var n,r,s,c;if(!t||!t.state||e>p||e<0)return t?K(t,v):v;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===G&&e!==f)return K(t,0===t.avail_out?m:v);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===V)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=F):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),nt(r,Z),r.status=H);else{var y=_+(r.w_bits-8<<4)<<8;y|=(r.strategy>=k||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(y|=L),y+=31-y%31,r.status=H,it(r,y),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===F)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=q)}else r.status=q;if(r.status===q)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.gzindex=0,r.status=z)}else r.status=z;if(r.status===z)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.status=U)}else r.status=U;if(r.status===U&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=H)):r.status=H),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,d}else if(0===t.avail_in&&Q(e)<=Q(n)&&e!==f)return K(t,m);if(r.status===G&&0!==t.avail_in)return K(t,m);if(0!==t.avail_in||0!==r.lookahead||e!==u&&r.status!==G){var b=r.strategy===k?function(t,e){for(var n;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===u)return $;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?J:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:W}(r,e):r.strategy===x?function(t,e){for(var n,i,r,s,a=t.window;;){if(t.lookahead<=D){if(ot(t),t.lookahead<=D&&e===u)return $;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=R&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=t.strstart+D;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);t.match_length=D-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=R?(n=o._tr_tally(t,1,t.match_length-R),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?J:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:W}(r,e):i[r.level].func(r,e);if(b!==J&&b!==Y||(r.status=G),b===$||b===J)return 0===t.avail_out&&(r.last_flush=-1),d;if(b===W&&(e===l?o._tr_align(r):e!==p&&(o._tr_stored_block(r,0,0,!1),e===h&&(X(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,d}return e!==f?d:r.wrap<=0?g:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==V&&e!==F&&e!==q&&e!==z&&e!==U&&e!==H&&e!==G?K(t,v):(t.state=null,e===H?K(t,y):d):v},e.deflateSetDictionary=function(t,e){var n,i,o,a,c,u,l,h,f=e.length;if(!t||!t.state)return v;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==V||n.lookahead)return v;for(1===a&&(t.adler=s(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(X(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,e,f-n.w_size,n.w_size,0),e=h,f=n.w_size),c=t.avail_in,u=t.next_in,l=t.input,t.avail_in=f,t.next_in=0,t.input=e,ot(n);n.lookahead>=R;){i=n.strstart,o=n.lookahead-(R-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+R-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=R-1,ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=R-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=c,n.wrap=a,d},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(276),r=n(39),o=n(157),s=n(104),a=n(156),c=Object.prototype.toString,u=0,l=-1,h=0,f=8;function p(t){if(!(this instanceof p))return new p(t);this.options=r.assign({level:l,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(s[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,d))!==u)throw new Error(s[n]);this._dict_set=!0}}function d(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(t,e){var n,s,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(l),a.next_out=0,a.avail_out=l),1!==(n=i.deflate(a,s))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==s||(this.onEnd(u),a.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=d,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},function(t,e,n){"use strict";var i={};(0,n(39).assign)(i,n(277),n(274),n(155)),t.exports=i},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(278),o=n(9),s=n(20),a=i?"uint8array":"array";function c(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(c,s),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new c("Deflate",t)},e.uncompressWorker=function(){return new c("Inflate",{})}},function(t,e,n){"use strict";var i=n(160),r=n(269);e.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,n){s++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(t){o.error(t)}return o}},function(t,e,n){"use strict";var i=n(165),r=n(163),o=n(61),s=n(106),a=n(20),c=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};c.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new a("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)c.prototype[u[h]]=l;t.exports=c},function(t,e,n){"use strict";var i=n(175).Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),n&&n(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}n(9).inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},function(t,e,n){"use strict";var i=n(20),r=n(9);function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,n){"use strict";(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(l),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;i=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}i=!1}t.exports=function(t){1!==u.push(t)||i||n()}}).call(this,n(57))},function(t,e,n){"use strict";var i=n(284);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==r&&p(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){i(function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=d(function(){e(r,i)});"error"===s.status&&i(s.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}t.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);this.state!==c?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(f,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},u.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(r),t)},u.reject=function(t){var e=new this(r);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,c=-1,u=new this(r);for(;++c<n;)l(t[c],c);return u;function l(t,r){e.resolve(t).then(function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(u,s))},function(t){i||(i=!0,o.reject(u,t))})}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=-1,a=new this(r);for(;++s<n;)c=t[s],e.resolve(c).then(function(t){i||(i=!0,o.resolve(a,t))},function(t){i||(i=!0,o.reject(a,t))});var c;return a}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){t.exports=n(78).document&&document.documentElement},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i,r,o,s=n(168),a=n(288),c=n(287),u=n(166),l=n(78),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},m=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete v[t]},"process"==n(286)(h)?i=function(t){h.nextTick(s(y,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=m,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",m,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(108);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(107)&&!n(167)(function(){return 7!=Object.defineProperty(n(166)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(108);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(293),r=n(292),o=n(291),s=Object.defineProperty;e.f=n(107)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(294),r=n(290);t.exports=n(107)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(78),r=n(169),o=n(168),s=n(295),a=function(t,e,n){var c,u,l,h=t&a.F,f=t&a.G,p=t&a.S,d=t&a.P,g=t&a.B,v=t&a.W,y=f?r:r[e]||(r[e]={}),m=y.prototype,b=f?i:p?i[e]:(i[e]||{}).prototype;for(c in f&&(n=e),n)(u=!h&&b&&void 0!==b[c])&&c in y||(l=u?b[c]:n[c],y[c]=f&&"function"!=typeof b[c]?n[c]:g&&u?o(l,i):v&&b[c]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((y.virtual||(y.virtual={}))[c]=l,t&a.R&&m&&!m[c]&&s(m,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var i=n(297),r=n(289);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){n(298),t.exports=n(169).setImmediate},function(t,e,n){t.exports=n(171)},function(t,e,n){t.exports=n(109)},function(t,e,n){t.exports=n(46)},function(t,e,n){t.exports=n(110)},function(t,e,n){var i=n(36),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(57))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,c=1,u={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[c]=r,i(c),c++},f.clearImmediate=p}function p(t){delete u[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(57),n(80))},function(t,e){},function(t,e,n){var i=function(){try{return n(82)}catch(t){}}();(e=t.exports=n(174)).Stream=i||e,e.Readable=e,e.Writable=n(110),e.Duplex=n(46),e.Transform=n(109),e.PassThrough=n(171)},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=u}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,c,u=8*o-r-1,l=(1<<u)-1,h=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),c=0,l=s>0?i-4:i,h=0;h<l;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;2===s&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,a[c++]=255&e);1===s&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e,n){"use strict";var i=n(61),r=n(9),o=n(20),s=n(165),a=n(164),c=n(106),u=n(281),l=n(280),h=n(79),f=n(268),p=function(t,e,n){var i,s=r.getTypeOf(e),l=r.extend(n||{},a);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(t=g(t)),l.createFolders&&(i=d(t))&&v.call(this,i,!0);var p="string"===s&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!p),(e instanceof c&&0===e.uncompressedSize||l.dir||!e||0===e.length)&&(l.base64=!1,l.binary=!0,e="",l.compression="STORE",s="string");var y=null;y=e instanceof c||e instanceof o?e:h.isNode&&h.isStream(e)?new f(t,e):r.prepareContent(t,e,l.binary,l.optimizedBinaryString,l.base64);var m=new u(t,y,l);this.files[t]=m},d=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:a.createFolders,t=g(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(y(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(y(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=v.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var a=n.comment||this.comment||"";e=l.generateWorker(this,n,a)}catch(t){(e=new o("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=m},function(t,e,n){"use strict";var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();i=[n(1),n(177),n(149),n(148),n(262),n(2),n(3),n(243),n(260),n(30),n(102),n(101),n(76),n(69),n(99)],void 0===(r=function(t,e,n,i,r,a,c,u,l,h,f,p,d,g,v){var y=function(y){function m(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return n=a.init(n),i.options=t.extend(Object.create(i.options),n),i.id="JC"+(65536+Math.round(65535*Math.random())).toString(16).toUpperCase().substr(1),i.$topDiv=e||t("<div/>"),i.$topDiv.css({"text-align":"initial"}),i.$topDiv.parent().is("td")&&i.$topDiv.css({width:i.options.width||"100%",height:i.options.height||"100%"}),i.$mainContainer=t("<div/>",{class:"JClicContainer",id:i.id}).css({width:"100%",height:"100%"}).appendTo(i.$topDiv),r(i),i.localFS=location&&"file:"===location.protocol,i.$div=t("<div/>",{class:"JClicPlayer"}),i.project=new p,i.activeMediaBag=new l,i.counterVal={score:0,actions:0,time:0},i.bgImageOrigin=new c.Point,i.buildActions(),i.history=new u(i),i.audioEnabled=i.options.audioEnabled,i.navButtonsAlways=i.options.navButtonsAlways,i.defaultSkin=h.getSkin(i.options.skin,i),i.setSkin(h.getSkin("@empty.xml",i)),i.initTimers(),a.log("info","JClicPlayer ready"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(m,c.Container),s(m,[{key:"getUniqueId",value:function(t){return this.id+"-"+t}},{key:"buildActions",value:function(){var e=this;this.actions={next:new c.Action("next",function(){return e.history.processJump(e.project.activitySequence.getJump(!1,e.reporter),!1)}),prev:new c.Action("prev",function(){return e.history.processJump(e.project.activitySequence.getJump(!0,e.reporter),!1)}),return:new c.Action("return",function(){return e.history.pop()}),reset:new c.Action("reset",function(){e.actPanel&&e.actPanel.act.canReinit()&&e.initActivity()}),help:new c.Action("help",function(){e.actPanel&&e.actPanel.showHelp()}),info:new c.Action("info",function(){e.actPanel&&e.actPanel.act.hasInfo()&&(e.actPanel.act.infoUrl?e.displayURL(e.act.infoUrl,!0):e.actPanel.act.infoCmd&&e.runCmd(e.actPanel.act.infoCmd))}),reports:new c.Action("reports",function(){return e.showReports()}),audio:new c.Action("audio",function(){e.audioEnabled=!e.audioEnabled,e.audioEnabled||e.stopMedia(),f.prototype.globalEnabled=e.audioEnabled})},t.each(this.actions,function(t,n){n.addStatusListener(function(t){e.skin&&e.skin.actionStatusChanged(t)})})}},{key:"reset",value:function(){a.log("info","Restoring player"),this.removeActivity(),this.end(),this.activeMediaBag=new l,this.history.clearHistory(),this.setSkin(null),this.setMsg(null),this.setCounterValue("score",0),this.setCounterValue("actions",0),this.setCounterValue("time",0),this.skin&&this.skin.setWaitCursor("reset")}},{key:"stop",value:function(){this.stopMedia(-1)}},{key:"end",value:function(){var t=null;return this.stopMedia(),this.closeHelpWindow(),this.reporter&&(t=this.reporter.end(),this.reporter=null),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null),this.project&&(this.project.end(),this.project=null),this.activeMediaBag&&this.activeMediaBag.removeAll(),t||Promise.resolve(!0)}},{key:"initReporter",value:function(){return this.reporter&&(this.reporter.end(),this.reporter=null),this.reporter=v.getReporter(null,this),this.reporter.init()}},{key:"initTimers",value:function(){var t=this;this.timer&&this.timer.stop(),this.timer=new c.Timer(function(){t.incCounterValue("time"),t.actPanel&&t.actPanel.act.maxTime>0&&t.actPanel.playing&&t.counterVal.time>=t.actPanel.act.maxTime&&t.actPanel.finishActivity(!1)},1e3,!1),this.delayedTimer&&this.delayedTimer.stop(),this.delayedTimer=new c.Timer(function(){t.delayedAction&&t.delayedAction.processEvent(t.delayedAction,null)},1e3,!1),this.delayedTimer.repeats=!1}},{key:"showReports",value:function(){this.skin&&this.skin.showReports(this.reporter)}},{key:"closeHelpWindow",value:function(){this.skin&&this.skin._closeDlg(!1)}},{key:"setSkin",value:function(t){!(t=t||(this.project&&this.project.skin?this.project.skin:this.defaultSkin))||null!==this.skin&&t.name===this.skin.name||(t.attach(this),this.skin=t,this.skin.doLayout())}},{key:"setProject",value:function(t){this.project&&(this.project!==t&&this.project.end(),this.removeActivity()),this.project=t||new p,this.project.realize(this)}},{key:"load",value:function(r,s,c){var u=this;this.forceFinishActivity(),this.setWaitCursor(!0);var l=null;if(r){if("string"==typeof r){var h=a.getPath(this.basePath,r);if(h.endsWith("project.json"))return a.log("info","Loading JSON info from: "+h),void t.getJSON(h).done(function(t){a.endsWith(t.mainFile,".jclic")?u.load(a.getPath(a.getBasePath(h),t.mainFile),s,c):a.log("error",'Invalid or null "mainFile" specified in '+h+' - "project.json".')}).fail(function(t,e,n){var i=e+" ("+n+") while loading "+r;a.log(i),alert("Error!\n"+i)}).always(function(){return u.setWaitCursor(!1)});if(h.endsWith(".zip"))return this.zip=null,a.log("info","Loading ZIP file: "+h),void n.getBinaryContent(h,function(t,n){if(t)return u.setWaitCursor(!1),void a.log("error","Error loading ZIP file: "+t.toString());(new e).loadAsync(n).then(function(t){u.zip=t,u.zip.fullZipPath=h,u.zip.zipBasePath=a.getBasePath(h);var e=null;u.zip.files["project.json"]?u.zip.files["project.json"].async("string").then(function(t){try{var e=JSON.parse(t);a.endsWith(e.mainFile,".jclic")?u.load(a.getPath(u.zip.zipBasePath,e.mainFile),s,c):a.log("error",'Invalid or null "mainFile" specified in '+h+' - "project.json".')}catch(t){a.log("error",'Error reading "project.json" in '+h+": "+(t?t.toString():"unknown error"))}}).catch(function(t){a.log("error","Error reading ZIP file: "+(t?t.toString():"unknown reason"))}):(e=Object.keys(u.zip.files).find(function(t){return t.endsWith(".jclic")})||null)?u.load(a.getPath(u.zip.zipBasePath,e),s,c):a.log("error","This ZIP file does not contain any JClic project!"),u.setWaitCursor(!1)}).catch(function(t){a.log("error","Error reading ZIP file: "+(t?t.toString():"unknown reason")),u.setWaitCursor(!1)})});if(this.localFS&&window.JClicObject&&!window.JClicObject.projectFiles[h])return i(h+".js",function(){return u.load(r,s,c)}),void this.setWaitCursor(!1);var f=function(e){t.get(e,null,null,"xml").done(function(e){if(null!==e&&"object"===(void 0===e?"undefined":o(e))){var n=new p;n.setProperties(t(e).find("JClicProject"),h,u.zip,u.options),a.log("info","Project file loaded and parsed: "+r);var i=n.mediaBag.buildAll(null,function(t){a.log("trace",'"'+t.name+'" ready.'),u.incProgress(1)},u);a.log("info","Media elements to be loaded: "+i),u.setProgress(0,i);var l=0;u.setWaitCursor(!0);var f=window.setInterval(function(){++l>u.options.maxWaitTime/500&&(window.clearInterval(f),u.setProgress(-1),u.setWaitCursor(!1),a.log("error","Error loading media")),-1===n.mediaBag.countWaitingElements()&&(window.clearInterval(f),u.setProgress(-1),u.setWaitCursor(!1),u.load(n,s,c))},500)}else a.log("error","Bad data. Project not loaded: "+r)}).fail(function(t,e,n){var i=e+" ("+n+") while loading "+r;a.log(i),alert("Error!\n"+i)}).always(function(){return u.setWaitCursor(!1)})};a.log("info","Loading project: "+r);var d=h;if(this.zip){var g=a.getRelativePath(d,this.zip.zipBasePath);if(this.zip.files[g])return void this.zip.file(g).async("string").then(function(t){f("data:text/xml;charset=UTF-8,"+t)}).catch(function(t){a.log("error",'Unable to extract "'+g+'" from ZIP file because of: '+(t?t.toString():"unknown reason")),u.setWaitCursor(!1)})}else if(this.localFS){if(!window.JClicObject||!window.JClicObject.projectFiles[h])return a.log("error","Unable to load: "+h+".js"),void this.setWaitCursor(!1);d="data:text/xml;charset=UTF-8,"+window.JClicObject.projectFiles[h]}return void f(d)}this.setProject(r),s||c||(s="0"),this.reporter&&this.reporter.newSession(r)}if(!a.isNullOrUndef(s)){a.log("info","Loading sequence: "+s),this.navButtonsDisabled=!1;var v=null;if("string"==typeof s&&(v=this.project.activitySequence.getElementByTag(s,!0)),null===v){var y=parseInt(s,10);"number"==typeof y&&(v=this.project.activitySequence.getElement(y,!0))}null!==v&&(this.reporter&&this.reporter.newSequence(v),c=v.activityName)}if(c){var m=this.project.getActivity(c);m?(a.log("info","Loading activity: "+c),m.prepareMedia(this),this.project.activitySequence.checkCurrentActivity(m.name),(l=m.getActivityPanel(this)).buildVisualComponents()):a.log("error","Missing activity: "+c)}if(null!==this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setCounterValue("time",0)),l){if(this.actPanel=l,this.options.fade>0&&this.actPanel.$div.css("display","none"),this.$div.prepend(this.actPanel.$div),this.skin&&this.skin.resetAllCounters(!1),this.actPanel.skin?this.setSkin(this.actPanel.skin):this.project.skin?(this.setSkin(this.project.skin),this.lastProjectSkin=this.project.skin):this.lastProjectSkin?this.setSkin(this.lastProjectSkin):this.setSkin(null),this.skin){var b=this.history.storedElementsCount()>0||this.options.returnAsExit,w=this.navButtonsAlways?"both":this.navButtonsDisabled?"none":this.project.activitySequence.getNavButtonsFlag();this.actions.next.setEnabled(("fwd"===w||"both"===w)&&this.project.activitySequence.hasNextAct(b)),this.actions.prev.setEnabled(("back"===w||"both"===w)&&this.project.activitySequence.hasPrevAct(b)),this.actions.return.setEnabled(b),this.actions.help.setEnabled(this.actPanel.act.helpWindowAllowed()),this.actions.reset.setEnabled(this.actPanel.act.canReinit()),this.actions.info.setEnabled(this.actPanel.act.hasInfo())}this.doLayout(),this.initActivity(),this.actPanel.$div.fadeIn(this.options.fade,function(){return u.activityReady()})}this.setWaitCursor(!1)}},{key:"forceFinishActivity",value:function(){this.timer.stop(),this.delayedTimer.stop(),this.actPanel&&(this.closeHelpWindow(),this.actPanel.forceFinishActivity(),this.stopMedia(),this.activeMediaBag.removeAll())}},{key:"removeActivity",value:function(){this.forceFinishActivity(),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setMsg(null),this.doLayout())}},{key:"initActivity",value:function(){this.setWaitCursor(!0),this.timer.stop(),this.delayedTimer.stop(),this.setCounterValue("time",0),this.stopMedia(),this.actPanel&&(this.actPanel.initActivity(),this.timer.start(),this.actPanel.act.mustPauseSequence()||this.startAutoPassTimer(),a.log("info",'Activity "'+this.actPanel.act.name+'" running')),this.setWaitCursor(!1)}},{key:"activityReady",value:function(){this.actPanel&&(this.actPanel.activityReady(),a.log("info","Activity ready"))}},{key:"startActivity",value:function(){this.setWaitCursor(!0),this.actPanel&&this.actPanel.startActivity(),this.setWaitCursor(!1)}},{key:"doLayout",value:function(){var t=this,e=this.dim.width=this.$div.width(),n=this.dim.height=this.$div.height(),i={"background-color":this.actPanel?this.actPanel.act.bgColor:"azure","background-image":""};if(this.actPanel){var r=this.actPanel.act;r.bgGradient&&(i["background-image"]=r.bgGradient.getCss()),r.bgImageFile&&r.bgImageFile.length>0&&this.project.mediaBag.getElement(r.bgImageFile,!0).getFullPathPromise().then(function(e){t.$div.css({"background-image":"url('"+e+"')","background-repeat":r.tiledBgImg?"repeat":"no-repeat","background-position":r.tiledBgImg?"":"center center"})});var o=a.settings.BoxBase.AC_MARGIN,s=new c.Rectangle(o,o,e-2*o,n-2*o);this.actPanel.bgImage&&!r.tiledBgImg&&r.absolutePositioned&&(this.bgImageOrigin.x=(e-this.actPanel.bgImage.width)/2,this.bgImageOrigin.y=(n-this.actPanel.bgImage.height)/2,s.pos.moveTo(this.bgImageOrigin),s.dim.width-=this.bgImageOrigin.x-o,s.dim.height-=this.bgImageOrigin.y-o,s.dim.width=Math.min(s.dim.width,e),s.dim.height=Math.min(s.dim.height,n)),this.actPanel.fitTo(s,this)}this.$div.css(i)}},{key:"playMedia",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null,o=t.mediaFileName,s=null;switch(t.mediaType){case"PLAY_AUDIO":case"PLAY_VIDEO":case"PLAY_MIDI":case"RECORD_AUDIO":case"PLAY_RECORDED_AUDIO":if(this.audioEnabled){var c=this.activeMediaBag.getActiveMediaPlayer(t,this.project.mediaBag,this);c&&(s=function(){return c.play(n)})}break;case"RUN_CLIC_PACKAGE":r=new d("JUMP",o),t.externalParam&&(r.projectPath=t.externalParam),s=function(){return e.history.processJump(r,!0)};break;case"RUN_CLIC_ACTIVITY":this.history.push(),s=function(){return e.load(null,null,o)};break;case"RETURN":if(this.history.storedElementsCount()>0||!this.options.returnAsExit){s=function(){return e.history.pop()};break}case"EXIT":r=new d("EXIT",o),s=function(){return e.history.processJump(r,!1)};break;case"RUN_EXTERNAL":s=function(){return e.runCmd(o)};break;case"URL":o&&(s=function(){return e.displayURL(o,t.level>1)});break;default:a.log("error","Unknown media type: "+t.mediaType)}i&&s?i.push(s):s&&s()}},{key:"stopMedia",value:function(t){"number"!=typeof t&&(t=-1),this.activeMediaBag.stopAll(t)}},{key:"runCmd",value:function(t){a.log("warn",'Unsupported call to external command: "'+t+'"')}},{key:"activityFinished",value:function(t){this.closeHelpWindow(),a.log("info","Activity finished"),this.timer.stop(),this.startAutoPassTimer()}},{key:"startAutoPassTimer",value:function(){var t=this.project.activitySequence.getCurrentAct();null!==t&&t.delay>0&&!this.delayedTimer.isRunning()&&!this.navButtonsDisabled&&(this.delayedAction=this.actions.next,this.delayedTimer.interval=1e3*t.delay,this.delayedTimer.start())}},{key:"getMsg",value:function(t){return t}},{key:"setMsg",value:function(t){var e=this.skin?this.skin.getMsgBox():null;e&&(e.clear(),this.skin.invalidate(e).update(),e.setContent(t||g.EMPTY_CONTENT),this.skin.invalidate(e).update(),e.playMedia(this))}},{key:"playMsg",value:function(){this.skin&&this.skin.getMsgBox()&&this.skin.getMsgBox().playMedia(this)}},{key:"setCounterValue",value:function(t,e){this.counterVal[t]=e,this.skin&&this.skin.counters[t]&&this.skin.counters[t].setValue(e)}},{key:"getCounterValue",value:function(t){return this.counterVal[t]}},{key:"setCounterEnabled",value:function(t,e){this.skin&&(this.skin.enableCounter(t,e),this.setCountDown(t,0))}},{key:"incCounterValue",value:function(t){this.counterVal[t]++;var e=this.actPanel,n=this.skin?this.skin.counters[t]:null;n&&n.setValue(this.counterVal[t]),"actions"===t&&null!==e&&e.act.maxActions>0&&e.playing&&this.counterVal.actions>=e.act.maxActions&&window.setTimeout(function(){e.finishActivity(e.solved)},0)}},{key:"setCountDown",value:function(t,e){this.skin&&this.skin.counters[t]&&this.skin.counters[t].setCountDown(e)}},{key:"setWaitCursor",value:function(t){this.skin&&this.skin.setWaitCursor(t)}},{key:"setProgress",value:function(t,e){this.skin&&this.skin.setProgress(t,e)}},{key:"incProgress",value:function(t){this.skin&&this.skin.incProgress(t)}},{key:"getActiveMediaPlayer",value:function(t){return this.activeMediaBag&&t?this.activeMediaBag.getActiveMediaPlayer(t,this.project.mediaBag,this):null}},{key:"reportNewActivity",value:function(t){var e=this.project.activitySequence.getCurrentAct();this.reporter&&(e.tag===this.reporter.getCurrentSequenceTag()&&this.reporter.newSequence(e),t.includeInReports&&this.reporter.newActivity(t)),this.setCounterValue("actions",0),this.setCounterValue("score",0)}},{key:"reportNewAction",value:function(t,e,n,i,r,o){this.reporter&&t.includeInReports&&t.reportActions&&this.reporter.newAction(e,n,i,r),o>=0&&(this.incCounterValue("actions"),this.setCounterValue("score",o))}},{key:"reportEndActivity",value:function(t,e){this.reporter&&t.includeInReports&&this.reporter.endActivity(this.counterVal.score,this.counterVal.actions,e)}},{key:"showHelp",value:function(t){return!!this.skin&&this.skin.showHelp(t)}},{key:"displayURL",value:function(t,e){t&&(e?window.open(t,this.options.infoUrlFrame):this.end().then(function(){window.location.href=t}))}},{key:"exit",value:function(t){this.displayURL(t||this.options.exitUrl,!1)}},{key:"setWindowTitle",value:function(t){a.log("info","running "+t)}}]),m}();return Object.assign(y.prototype,{JClicVersion:"0",options:{maxWaitTime:12e4,infoUrlFrame:"_blank",exitUrl:null,returnAsExit:!1,audioEnabled:!0,navButtonsAlways:!1,fade:300},id:"JC0000",$div:null,$topDiv:null,$mainContainer:null,fullScreenChecked:!1,project:null,basePath:"",zip:null,localFS:!1,actPanel:null,history:null,skin:null,defaultSkin:null,lastProjectSkin:null,activeMediaBag:null,reporter:null,actions:{},timer:null,delayedTimer:null,delayedAction:null,counterVal:{score:0,actions:0,time:0},bgImageOrigin:null,audioEnabled:!0,navButtonsDisabled:!1,navButtonsAlways:!1}),y}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i,r;var o={};i=[n(1),n(312),n(101),n(3),n(2),n(242)],void 0===(r=function(t,e,n,i,r){if(Object.assign(o,{JClicPlayer:e,JClicProject:n,AWT:i,Utils:r,$:t,options:"undefined"==typeof JClicDataOptions?{}:JClicDataOptions,projectFiles:{},currentPlayers:[],loadProject:function(n,i,s){s=r.init(t.extend(Object.create(o.options),s||{}));var a=null,c=!0,u=!1,l=void 0;try{for(var h,f=o.currentPlayers[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(p&&p.$topDiv&&p.$topDiv.get(-1)===n){r.log("debug","Existing JClicPlayer found in div. I will try to reuse it."),a=p;var d=!0,g=!1,v=void 0;try{for(var y,m=Object.getOwnPropertyNames(s)[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var b=y.value;if(!a.options.hasOwnProperty(b)||a.options[b]!==s[b]){r.log("debug","Existing JClicPlayer has diferent options! Creating a new one from scratch."),a=null;break}}}catch(t){g=!0,v=t}finally{try{!d&&m.return&&m.return()}finally{if(g)throw v}}break}}}catch(t){u=!0,l=t}finally{try{!c&&f.return&&f.return()}finally{if(u)throw l}}return a?a.reset():(r.log("debug","Creating a new instance of JClicPlayer"),a=new e(t(n).empty(),s)),i&&a.initReporter().then(function(){return a.load(i)}).catch(function(e){r.log("error","Unable to start reporting: "+e.toString()+".\n JClicPlayer will be removed.'"),t(n).empty().removeAttr("style").append(t("<h2/>").html(a.getMsg("ERROR"))).append(t("<p/>").html(e));var i=o.currentPlayers.indexOf(a);i>=0&&o.currentPlayers.splice(i,1),a=null}),a&&!1!==s.savePlayersRef&&-1===o.currentPlayers.indexOf(a)&&o.currentPlayers.push(a),a}}),"undefined"!=typeof window){window.JClicObject=o;var s=function(){return o.currentPlayers.forEach(function(t){t&&t.skin&&t.skin.fit()})};t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",s),t(window).resize(s)}return t(function(){var e="undefined"==typeof JClicDataOptions?{}:JClicDataOptions;if(o.options=e,!e.noInit){var n="string"==typeof JClicDataProject?JClicDataProject:"string"==typeof o.projectFile?o.projectFile:null;t(".JClic").each(function(i,r){var s=t(r),a=s.data("project");a&&(n=a);var c=s.data("options");c&&(e=t.extend(Object.create(e),c)),o.loadProject(r,n,e)})}}),o}.apply(e,i))||(t.exports=r),e=t.exports=o},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var i=n(0),r=n(314)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,n){n(315),t.exports=n(28).RegExp.escape},function(t,e,n){(function(e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=w;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(I([])));m&&m!==i&&r.call(m,s)&&(v=m);var b=C.prototype=x.prototype=Object.create(v);A.prototype=b.constructor=C,C.constructor=A,C[c]=A.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},S(_.prototype),_.prototype[a]=function(){return this},l.AsyncIterator=_,l.async=function(t,e,n,i){var r=new _(w(t,e,n,i));return l.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function w(t,e,n,i){var r=e&&e.prototype instanceof x?e:x,o=Object.create(r.prototype),s=new T(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return j()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=k(t,e,n);if("normal"===c.type){if(i=n.done?d:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=d,n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function k(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function A(){}function C(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){function n(e,i,o,s){var a=k(t[e],t,i);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,s)},function(t){n("throw",t,o,s)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},s)}s(a.arg)}var i;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function r(){return new Promise(function(i,r){n(t,e,i,r)})}return i=i?i.then(r,r):r()}}function E(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=k(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(57))},function(t,e,n){for(var i=n(116),r=n(54),o=n(17),s=n(5),a=n(18),c=n(63),u=n(8),l=u("iterator"),h=u("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var v,y=d[g],m=p[y],b=s[y],w=b&&b.prototype;if(w&&(w[l]||a(w,l,f),w[h]||a(w,h,y),c[y]=f,m))for(v in i)w[v]||o(w,v,i[v],!0)}},function(t,e,n){var i=n(0),r=n(115);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(5),r=n(0),o=n(88),s=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(28),s=n(114)(),a=n(8)("observable"),c=n(15),u=n(4),l=n(49),h=n(47),f=n(18),p=n(48),d=p.RETURN,g=function(t){return null==t?void 0:c(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},y=function(t){return void 0===t._o},m=function(t){y(t)||(t._o=void 0,v(t))},b=function(t,e){u(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:c(n),this._c=n)}catch(e){return void t.error(e)}y(this)&&v(this)};b.prototype=h({},{unsubscribe:function(){m(this)}});var w=function(t){this._s=t};w.prototype=h({},{next:function(t){var e=this._s;if(!y(e)){var n=e._o;try{var i=g(n.next);if(i)return i.call(n,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(y(e))throw t;var n=e._o;e._o=void 0;try{var i=g(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!y(e)){var n=e._o;e._o=void 0;try{var i=g(n.complete);t=i?i.call(n,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var k=function(t){l(this,k,"Observable","_f")._f=c(t)};h(k.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(n,i){c(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(k,{from:function(t){var e="function"==typeof this?this:k,n=g(u(t)[a]);if(n){var i=u(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:k)(function(t){var e=!1;return s(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),f(k.prototype,a,function(){return this}),i(i.G,{Observable:k}),n(50)("Observable")},function(t,e,n){var i=n(0),r=n(114)(),o=n(5).process,s="process"==n(26)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){var i=n(37),r=n(4),o=n(15),s=i.key,a=i.set;i.exp({metadata:function(t,e){return function(n,i){a(t,e,(void 0!==i?r:o)(n),s(i))}}})},function(t,e,n){var i=n(37),r=n(4),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(37),r=n(4),o=n(21),s=i.has,a=i.key,c=function(t,e,n){if(s(t,e,n))return!0;var i=o(e);return null!==i&&c(t,i,n)};i.exp({hasMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(37),r=n(4),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,e,n){var i=n(37),r=n(4),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(188),r=n(179),o=n(37),s=n(4),a=n(21),c=o.keys,u=o.key,l=function(t,e){var n=c(t,e),o=a(t);if(null===o)return n;var s=l(o,e);return s.length?n.length?r(new i(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return l(s(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var i=n(37),r=n(4),o=n(21),s=i.has,a=i.get,c=i.key,u=function(t,e,n){if(s(t,e,n))return a(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){var i=n(37),r=n(4),o=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=s(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var c=a.get(e);return c.delete(n),!!c.size||a.delete(e)}})},function(t,e,n){var i=n(37),r=n(4),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},function(t,e,n){"use strict";var i=n(0),r=n(113),o=n(192);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var i=n(0),r=n(28),o=n(5),s=n(89),a=n(191);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,c=(s*o>>>0)+(r*o>>>16);return s*a+(c>>>16)+((r*a>>>0)+(65535&c)>>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(178)})},function(t,e,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,c=(s*o>>>0)+(r*o>>>16);return s*a+(c>>16)+((r*a>>>0)+(65535&c)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){var i=n(0),r=n(178),o=n(198);i(i.S,"Math",{fscale:function(t,e,n,i,s){return o(r(t,e,n,i,s))}})},function(t,e,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0),r=n(26);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(5)})},function(t,e,n){var i=n(0);i(i.G,{global:n(5)})},function(t,e,n){n(83)("WeakSet")},function(t,e,n){n(83)("WeakMap")},function(t,e,n){n(83)("Set")},function(t,e,n){n(83)("Map")},function(t,e,n){n(84)("WeakSet")},function(t,e,n){n(84)("WeakMap")},function(t,e,n){n(84)("Set")},function(t,e,n){n(84)("Map")},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(180)("Set")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(180)("Map")})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(35),s=n(21),a=n(22).f;n(12)&&i(i.P+n(85),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(35),s=n(21),a=n(22).f;n(12)&&i(i.P+n(85),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(15),s=n(11);n(12)&&i(i.P+n(85),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(15),s=n(11);n(12)&&i(i.P+n(85),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(0),r=n(181)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(181)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(184),o=n(23),s=n(22),a=n(120);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),c=s.f,u=r(i),l={},h=0;u.length>h;)void 0!==(n=c(i,e=u[h++]))&&a(l,e,n);return l}})},function(t,e,n){n(136)("observable")},function(t,e,n){n(136)("asyncIterator")},function(t,e,n){"use strict";var i=n(0),r=n(34),o=n(10),s=n(93),a=n(91),c=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};n(124)(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in c?String(t.flags):a.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new u(i,e)}})},function(t,e,n){"use strict";n(64)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";n(64)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";var i=n(0),r=n(182),o=n(88);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(182),o=n(88);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(126)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(183),o=n(14),s=n(10),a=n(33),c=n(118);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),i=c(e,0);return r(i,e,e,n,0,void 0===t?1:a(t)),i}}),n(41)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(183),o=n(14),s=n(10),a=n(15),c=n(118);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=c(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(41)("flatMap")},function(t,e,n){"use strict";var i=n(0),r=n(96)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(41)("includes")},function(t,e,n){var i=n(0),r=n(132);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var i=n(11),r=n(22),o=n(21),s=n(24),a=n(0),c=n(56),u=n(4),l=n(7);a(a.S,"Reflect",{set:function t(e,n,a){var h,f,p=arguments.length<4?e:arguments[3],d=r.f(u(e),n);if(!d){if(l(f=o(e)))return t(f,n,a,p);d=c(0)}if(s(d,"value")){if(!1===d.writable||!l(p))return!1;if(h=r.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,i.f(p,n,h)}else i.f(p,n,c(0,a));return!0}return void 0!==d.set&&(d.set.call(p,a),!0)}})},function(t,e,n){var i=n(0),r=n(4),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(184)})},function(t,e,n){var i=n(0),r=n(4),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(21),o=n(4);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(22),r=n(0),o=n(4);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(22),r=n(21),o=n(24),s=n(0),a=n(7),c=n(4);s(s.S,"Reflect",{get:function t(e,n){var s,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(l):void 0:a(u=r(e))?t(u,n,l):void 0}})},function(t,e,n){"use strict";var i=n(0),r=n(4),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(124)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(0),r=n(22).f,o=n(4);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var i=n(11),r=n(0),o=n(4),s=n(35);r(r.S+r.F*n(6)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(52),o=n(15),s=n(4),a=n(7),c=n(6),u=n(205),l=(n(5).Reflect||{}).construct,h=c(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!c(function(){l(function(){})});i(i.S+i.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var c=n.prototype,p=r(a(c)?c:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},function(t,e,n){var i=n(0),r=n(15),o=n(4),s=(n(5).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(6)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),c=o(n);return s?s(i,e,c):a.call(i,e,c)}})},function(t,e,n){n(38)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(38)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(38)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(86).ABV,{DataView:n(112).DataView})},function(t,e,n){"use strict";var i=n(0),r=n(86),o=n(112),s=n(4),a=n(53),c=n(10),u=n(7),l=n(5).ArrayBuffer,h=n(89),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&l.isView,g=f.prototype.slice,v=r.VIEW;i(i.G+i.W+i.F*(l!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||u(t)&&v in t}}),i(i.P+i.U+i.F*n(6)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(h(this,f))(c(r-i)),u=new p(this),l=new p(o),d=0;i<r;)l.setUint8(d++,u.getUint8(i++));return o}}),n(50)("ArrayBuffer")},function(t,e,n){"use strict";var i=n(186),r=n(62);n(87)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i,r,o,s,a=n(42),c=n(5),u=n(27),l=n(72),h=n(0),f=n(7),p=n(15),d=n(49),g=n(48),v=n(89),y=n(115).set,m=n(114)(),b=n(113),w=n(192),k=n(88),x=n(191),A=c.TypeError,C=c.process,S=C&&C.versions,_=S&&S.v8||"",E=c.Promise,O="process"==l(C),P=function(){},T=r=b.f,I=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(8)("species")]=function(t){t(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==_.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},B=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(r||(2==t._h&&D(t),t._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),s=!0)),n===e.promise?u(A("Promise-chain cycle")):(o=j(n))?o.call(n,c,u):c(n)):u(i)}catch(t){l&&!s&&l.exit(),u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){y.call(c,function(){var e,n,i,r=t._v,o=R(t);if(o&&(e=w(function(){O?C.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=O||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){y.call(c,function(){var e;O?C.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),B(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw A("Promise can't be resolved itself");(e=j(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,u(L,i,1),u(N,i,1))}catch(t){N.call(i,t)}}):(n._v=t,n._s=1,B(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};I||(E=function(t){d(this,E,"Promise","_h"),p(t),i.call(this);try{t(u(L,this,1),u(N,this,1))}catch(t){N.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(47)(E.prototype,{then:function(t,e){var n=T(v(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&B(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(L,t,1),this.reject=u(N,t,1)},b.f=T=function(t){return t===E||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!I,{Promise:E}),n(65)(E,"Promise"),n(50)("Promise"),s=n(28).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!I),"Promise",{resolve:function(t){return x(a&&this===s?E:this,t)}}),h(h.S+h.F*!(I&&n(92)(function(t){E.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=T(e),i=n.resolve,r=n.reject,o=w(function(){var n=[],o=0,s=1;g(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=T(e),i=n.reject,r=w(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){n(90)("split",2,function(t,e,i){"use strict";var r=n(93),o=i,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,c,u,l,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(a||(i=new RegExp("^"+v.source+"$(?!\\s)",p));(c=v.exec(n))&&!((u=c.index+c[0].length)>d&&(f.push(n.slice(d,c.index)),!a&&c.length>1&&c[0].replace(i,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(c[h]=void 0)}),c.length>1&&c.index<n.length&&s.apply(f,c.slice(1)),l=c[0].length,d=u,f.length>=g));)v.lastIndex===c.index&&v.lastIndex++;return d===n.length?!l&&v.test("")||f.push(""):f.push(n.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,r){var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,n){n(90)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(90)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,n){n(90)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){"use strict";n(193);var i=n(4),r=n(91),o=n(12),s=/./.toString,a=function(t){n(17)(RegExp.prototype,"toString",t,!0)};n(6)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(t,e,n){var i=n(5),r=n(130),o=n(11).f,s=n(51).f,a=n(93),c=n(91),u=i.RegExp,l=u,h=u.prototype,f=/a/g,p=/a/g,d=new u(f)!==f;if(n(12)&&(!d||n(6)(function(){return p[n(8)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,i=a(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(d?new l(i&&!o?t.source:t,e):l((i=t instanceof u)?t.source:t,i&&o?c.call(t):e),n?this:h,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=s(l),y=0;v.length>y;)g(v[y++]);h.constructor=u,u.prototype=h,n(17)(i,"RegExp",u)}n(50)("RegExp")},function(t,e,n){n(50)("Array")},function(t,e,n){"use strict";var i=n(0),r=n(31)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(41)(o)},function(t,e,n){"use strict";var i=n(0),r=n(31)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(41)("find")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(117)}),n(41)("fill")},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(195)}),n(41)("copyWithin")},function(t,e,n){"use strict";var i=n(0),r=n(23),o=n(33),s=n(10),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!n(25)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){"use strict";var i=n(0),r=n(96)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(25)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(196);i(i.P+i.F*!n(25)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(196);i(i.P+i.F*!n(25)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(31)(4);i(i.P+i.F*!n(25)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(31)(3);i(i.P+i.F*!n(25)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(31)(2);i(i.P+i.F*!n(25)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(31)(1);i(i.P+i.F*!n(25)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(7),r=n(94),o=n(8)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(31)(0),o=n(25)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(14),s=n(6),a=[].sort,c=[1,2,3];i(i.P+i.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!n(25)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(133),o=n(26),s=n(53),a=n(10),c=[].slice;i(i.P+i.F*n(6)(function(){r&&c.call(r)}),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return c.call(this,t,e);for(var r=s(t,n),u=s(e,n),l=a(u-r),h=new Array(l),f=0;f<l;f++)h[f]="String"==i?this.charAt(r+f):this[r+f];return h}})},function(t,e,n){"use strict";var i=n(0),r=n(23),o=[].join;i(i.P+i.F*(n(74)!=Object||!n(25)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(120);i(i.S+i.F*n(6)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(27),r=n(0),o=n(14),s=n(197),a=n(121),c=n(10),u=n(120),l=n(119);r(r.S+r.F*!n(92)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,y=0,m=l(f);if(v&&(g=i(g,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&a(m))for(n=new p(e=c(f.length));e>y;y++)u(n,y,v?g(f[y],y):f[y]);else for(h=m.call(f),n=new p;!(r=h.next()).done;y++)u(n,y,v?s(h,g,[r.value,y],!0):r.value);return n.length=y,n}})},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(94)})},function(t,e,n){"use strict";var i=n(4),r=n(35);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(8)("toPrimitive"),r=Date.prototype;i in r||n(18)(r,i,n(431))},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(17)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){"use strict";var i=n(6),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var i=n(0),r=n(434);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(35);i(i.P+i.F*n(6)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";n(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(123),s="".startsWith;i(i.P+i.F*n(122)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(129)})},function(t,e,n){"use strict";var i=n(0),r=n(123);i(i.P+i.F*n(122)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(123),s="".endsWith;i(i.P+i.F*n(122)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),c=String(t);return s?s.call(e,c,a):e.slice(a-c.length,a)===c}})},function(t,e,n){"use strict";var i=n(0),r=n(126)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(126)(!0);n(125)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(64)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){var i=n(0),r=n(23),o=n(10);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){var i=n(0),r=n(53),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(127),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0),r=n(127),o=Math.exp;i(i.S+i.F*n(6)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(128)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(199)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(6)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,c=0;s<a;)c<(n=r(arguments[s++]))?(o=o*(i=c/n)*i+1,c=n):o+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(198)})},function(t,e,n){var i=n(0),r=n(127);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=n(128);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),r=n(199),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(0),r=n(203);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(202);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0),r=n(200),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(200)})},function(t,e,n){var i=n(0),r=n(5).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(201),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(33),o=n(201),s=n(129),a=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=c(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=c(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(6)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,i,a,c=o(this,l),u=r(t),g="",v="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*d(2,69,1))-69)<0?c*d(2,-e,1):c/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(d(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),h(1,1),f(2),v=p()}else h(0,n),h(1<<-e,0),v=p()+s.call("0",u);return v=u>0?g+((a=v.length)<=u?"0."+s.call("0",u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u)):g+v}})},function(t,e,n){"use strict";var i=n(5),r=n(24),o=n(26),s=n(130),a=n(35),c=n(6),u=n(51).f,l=n(22).f,h=n(11).f,f=n(64).trim,p=i.Number,d=p,g=p.prototype,v="Number"==o(n(52)(g)),y="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>r)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?c(function(){g.valueOf.call(n)}):"Number"!=o(n))?s(new d(m(e)),n,p):m(e)};for(var b,w=n(12)?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(d,b=w[k])&&!r(p,b)&&h(p,b,l(d,b));p.prototype=g,g.constructor=p,n(17)(i,"Number",p)}},function(t,e,n){var i=n(0),r=n(202);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var i=n(0),r=n(203);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){"use strict";var i=n(7),r=n(21),o=n(8)("hasInstance"),s=Function.prototype;o in s||n(11).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(11).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(12)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(205)})},function(t,e,n){"use strict";var i=n(72),r={};r[n(8)("toStringTag")]="z",r+""!="[object z]"&&n(17)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(132).set})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(496)})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(206)})},function(t,e,n){var i=n(7);n(32)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(7);n(32)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(7);n(32)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(7),r=n(43).onFreeze;n(32)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(7),r=n(43).onFreeze;n(32)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(7),r=n(43).onFreeze;n(32)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){n(32)("getOwnPropertyNames",function(){return n(207).f})},function(t,e,n){var i=n(14),r=n(54);n(32)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(14),r=n(21);n(32)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(23),r=n(22).f;n(32)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(12),"Object",{defineProperties:n(208)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(12),"Object",{defineProperty:n(11).f})},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(52)})},function(t,e,n){var i=n(54),r=n(95),o=n(73);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),c=o.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){"use strict";var i=n(5),r=n(24),o=n(12),s=n(0),a=n(17),c=n(43).KEY,u=n(6),l=n(97),h=n(65),f=n(55),p=n(8),d=n(210),g=n(136),v=n(512),y=n(94),m=n(4),b=n(7),w=n(23),k=n(35),x=n(56),A=n(52),C=n(207),S=n(22),_=n(11),E=n(54),O=S.f,P=_.f,T=C.f,I=i.Symbol,j=i.JSON,B=j&&j.stringify,M=p("_hidden"),R=p("toPrimitive"),D={}.propertyIsEnumerable,N=l("symbol-registry"),L=l("symbols"),V=l("op-symbols"),F=Object.prototype,q="function"==typeof I,z=i.QObject,U=!z||!z.prototype||!z.prototype.findChild,H=o&&u(function(){return 7!=A(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(F,e);i&&delete F[e],P(t,e,n),i&&t!==F&&P(F,e,i)}:P,G=function(t){var e=L[t]=A(I.prototype);return e._k=t,e},$=q&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},W=function(t,e,n){return t===F&&W(V,e,n),m(t),e=k(e,!0),m(n),r(L,e)?(n.enumerable?(r(t,M)&&t[M][e]&&(t[M][e]=!1),n=A(n,{enumerable:x(0,!1)})):(r(t,M)||P(t,M,x(1,{})),t[M][e]=!0),H(t,e,n)):P(t,e,n)},J=function(t,e){m(t);for(var n,i=v(e=w(e)),r=0,o=i.length;o>r;)W(t,n=i[r++],e[n]);return t},Y=function(t){var e=D.call(this,t=k(t,!0));return!(this===F&&r(L,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(L,t)||r(this,M)&&this[M][t])||e)},Z=function(t,e){if(t=w(t),e=k(e,!0),t!==F||!r(L,e)||r(V,e)){var n=O(t,e);return!n||!r(L,e)||r(t,M)&&t[M][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=T(w(t)),i=[],o=0;n.length>o;)r(L,e=n[o++])||e==M||e==c||i.push(e);return i},Q=function(t){for(var e,n=t===F,i=T(n?V:w(t)),o=[],s=0;i.length>s;)!r(L,e=i[s++])||n&&!r(F,e)||o.push(L[e]);return o};q||(a((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(V,n),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),H(this,t,x(1,n))};return o&&U&&H(F,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),S.f=Z,_.f=W,n(51).f=C.f=K,n(73).f=Y,n(95).f=Q,o&&!n(42)&&a(F,"propertyIsEnumerable",Y,!0),d.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!q,{Symbol:I});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)p(X[tt++]);for(var et=E(p.store),nt=0;et.length>nt;)g(et[nt++]);s(s.S+s.F*!q,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=I(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!q,"Object",{create:function(t,e){return void 0===e?A(t):J(A(t),e)},defineProperty:W,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),j&&s(s.S+s.F*(!q||u(function(){var t=I();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!$(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),i[1]=e,B.apply(j,i)}}),I.prototype[R]||n(18)(I.prototype,R,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){n(513),n(511),n(510),n(509),n(508),n(507),n(506),n(505),n(504),n(503),n(502),n(501),n(500),n(499),n(498),n(497),n(495),n(494),n(493),n(492),n(491),n(490),n(489),n(488),n(487),n(486),n(485),n(484),n(483),n(482),n(481),n(480),n(479),n(478),n(477),n(476),n(475),n(474),n(473),n(472),n(471),n(470),n(469),n(468),n(467),n(466),n(465),n(464),n(463),n(462),n(461),n(460),n(459),n(458),n(457),n(456),n(455),n(454),n(453),n(452),n(451),n(450),n(449),n(448),n(447),n(446),n(445),n(444),n(443),n(442),n(441),n(440),n(439),n(438),n(437),n(436),n(435),n(433),n(432),n(430),n(429),n(428),n(427),n(426),n(425),n(424),n(422),n(421),n(420),n(419),n(418),n(417),n(416),n(415),n(414),n(413),n(412),n(411),n(410),n(116),n(409),n(408),n(193),n(407),n(406),n(405),n(404),n(403),n(190),n(188),n(187),n(402),n(401),n(400),n(399),n(398),n(397),n(396),n(395),n(394),n(393),n(392),n(391),n(390),n(389),n(388),n(387),n(386),n(385),n(384),n(383),n(382),n(381),n(380),n(379),n(378),n(377),n(376),n(375),n(374),n(373),n(372),n(371),n(370),n(369),n(368),n(367),n(366),n(365),n(364),n(363),n(362),n(361),n(360),n(359),n(358),n(357),n(356),n(355),n(354),n(353),n(352),n(351),n(350),n(349),n(348),n(347),n(346),n(345),n(344),n(343),n(342),n(341),n(340),n(339),n(338),n(337),n(336),n(335),n(334),n(333),n(332),n(331),n(330),n(329),n(328),n(327),n(326),n(325),n(324),n(323),n(322),n(321),n(320),n(319),n(318),t.exports=n(28)},function(t,e,n){"use strict";(function(t){if(n(514),n(317),n(316),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function i(t,n,i){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:i})}i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&i(Array,t,Function.call.bind([][t]))})}).call(this,n(57))},function(t,e,n){n(515),t.exports=n(313)}]);
//# sourceMappingURL=jclic.min.js.map